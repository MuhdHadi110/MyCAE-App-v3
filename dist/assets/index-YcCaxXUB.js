var KO=r=>{throw TypeError(r)};var HN=(r,e,t)=>e.has(r)||KO("Cannot "+t);var Ea=(r,e,t)=>(HN(r,e,"read from private field"),t?t.call(r):e.get(r)),rd=(r,e,t)=>e.has(r)?KO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),el=(r,e,t,n)=>(HN(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),nd=(r,e,t)=>(HN(r,e,"access private method"),t);var $O=(r,e,t,n)=>({set _(a){el(r,e,a,t)},get _(){return Ea(r,e,n)}});function vY(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in r)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(r,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();var zIe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zN={exports:{}},vx={};var VO;function bY(){if(VO)return vx;VO=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,s){var i=null;if(s!==void 0&&(i=""+s),a.key!==void 0&&(i=""+a.key),"key"in a){s={};for(var l in a)l!=="key"&&(s[l]=a[l])}else s=a;return a=s.ref,{$$typeof:r,type:n,key:i,ref:a!==void 0?a:null,props:s}}return vx.Fragment=e,vx.jsx=t,vx.jsxs=t,vx}var qO;function wY(){return qO||(qO=1,zN.exports=bY()),zN.exports}var o=wY(),KN={exports:{}},Ir={};var GO;function CY(){if(GO)return Ir;GO=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),p=Symbol.iterator;function m(Z){return Z===null||typeof Z!="object"?null:(Z=p&&Z[p]||Z["@@iterator"],typeof Z=="function"?Z:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function b(Z,I,z){this.props=Z,this.context=I,this.refs=v,this.updater=z||y}b.prototype.isReactComponent={},b.prototype.setState=function(Z,I){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,I,"setState")},b.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function N(){}N.prototype=b.prototype;function C(Z,I,z){this.props=Z,this.context=I,this.refs=v,this.updater=z||y}var E=C.prototype=new N;E.constructor=C,g(E,b.prototype),E.isPureReactComponent=!0;var _=Array.isArray;function P(){}var O={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function k(Z,I,z){var V=z.ref;return{$$typeof:r,type:Z,key:I,ref:V!==void 0?V:null,props:z}}function H(Z,I){return k(Z.type,I,Z.props)}function L(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===r}function Q(Z){var I={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(z){return I[z]})}var R=/\/+/g;function K(Z,I){return typeof Z=="object"&&Z!==null&&Z.key!=null?Q(""+Z.key):I.toString(36)}function ee(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(P,P):(Z.status="pending",Z.then(function(I){Z.status==="pending"&&(Z.status="fulfilled",Z.value=I)},function(I){Z.status==="pending"&&(Z.status="rejected",Z.reason=I)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function X(Z,I,z,V,q){var ne=typeof Z;(ne==="undefined"||ne==="boolean")&&(Z=null);var ce=!1;if(Z===null)ce=!0;else switch(ne){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(Z.$$typeof){case r:case e:ce=!0;break;case A:return ce=Z._init,X(ce(Z._payload),I,z,V,q)}}if(ce)return q=q(Z),ce=V===""?"."+K(Z,0):V,_(q)?(z="",ce!=null&&(z=ce.replace(R,"$&/")+"/"),X(q,I,z,"",function(ye){return ye})):q!=null&&(L(q)&&(q=H(q,z+(q.key==null||Z&&Z.key===q.key?"":(""+q.key).replace(R,"$&/")+"/")+ce)),I.push(q)),1;ce=0;var Be=V===""?".":V+":";if(_(Z))for(var Ae=0;Ae<Z.length;Ae++)V=Z[Ae],ne=Be+K(V,Ae),ce+=X(V,I,z,ne,q);else if(Ae=m(Z),typeof Ae=="function")for(Z=Ae.call(Z),Ae=0;!(V=Z.next()).done;)V=V.value,ne=Be+K(V,Ae++),ce+=X(V,I,z,ne,q);else if(ne==="object"){if(typeof Z.then=="function")return X(ee(Z),I,z,V,q);throw I=String(Z),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return ce}function ae(Z,I,z){if(Z==null)return Z;var V=[],q=0;return X(Z,V,"","",function(ne){return I.call(z,ne,q++)}),V}function Y(Z){if(Z._status===-1){var I=Z._result;I=I(),I.then(function(z){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=z)},function(z){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=z)}),Z._status===-1&&(Z._status=0,Z._result=I)}if(Z._status===1)return Z._result.default;throw Z._result}var de=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},pe={map:ae,forEach:function(Z,I,z){ae(Z,function(){I.apply(this,arguments)},z)},count:function(Z){var I=0;return ae(Z,function(){I++}),I},toArray:function(Z){return ae(Z,function(I){return I})||[]},only:function(Z){if(!L(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return Ir.Activity=h,Ir.Children=pe,Ir.Component=b,Ir.Fragment=t,Ir.Profiler=a,Ir.PureComponent=C,Ir.StrictMode=n,Ir.Suspense=c,Ir.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ir.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return O.H.useMemoCache(Z)}},Ir.cache=function(Z){return function(){return Z.apply(null,arguments)}},Ir.cacheSignal=function(){return null},Ir.cloneElement=function(Z,I,z){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var V=g({},Z.props),q=Z.key;if(I!=null)for(ne in I.key!==void 0&&(q=""+I.key),I)!D.call(I,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&I.ref===void 0||(V[ne]=I[ne]);var ne=arguments.length-2;if(ne===1)V.children=z;else if(1<ne){for(var ce=Array(ne),Be=0;Be<ne;Be++)ce[Be]=arguments[Be+2];V.children=ce}return k(Z.type,q,V)},Ir.createContext=function(Z){return Z={$$typeof:i,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:s,_context:Z},Z},Ir.createElement=function(Z,I,z){var V,q={},ne=null;if(I!=null)for(V in I.key!==void 0&&(ne=""+I.key),I)D.call(I,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(q[V]=I[V]);var ce=arguments.length-2;if(ce===1)q.children=z;else if(1<ce){for(var Be=Array(ce),Ae=0;Ae<ce;Ae++)Be[Ae]=arguments[Ae+2];q.children=Be}if(Z&&Z.defaultProps)for(V in ce=Z.defaultProps,ce)q[V]===void 0&&(q[V]=ce[V]);return k(Z,ne,q)},Ir.createRef=function(){return{current:null}},Ir.forwardRef=function(Z){return{$$typeof:l,render:Z}},Ir.isValidElement=L,Ir.lazy=function(Z){return{$$typeof:A,_payload:{_status:-1,_result:Z},_init:Y}},Ir.memo=function(Z,I){return{$$typeof:u,type:Z,compare:I===void 0?null:I}},Ir.startTransition=function(Z){var I=O.T,z={};O.T=z;try{var V=Z(),q=O.S;q!==null&&q(z,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(P,de)}catch(ne){de(ne)}finally{I!==null&&z.types!==null&&(I.types=z.types),O.T=I}},Ir.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ir.use=function(Z){return O.H.use(Z)},Ir.useActionState=function(Z,I,z){return O.H.useActionState(Z,I,z)},Ir.useCallback=function(Z,I){return O.H.useCallback(Z,I)},Ir.useContext=function(Z){return O.H.useContext(Z)},Ir.useDebugValue=function(){},Ir.useDeferredValue=function(Z,I){return O.H.useDeferredValue(Z,I)},Ir.useEffect=function(Z,I){return O.H.useEffect(Z,I)},Ir.useEffectEvent=function(Z){return O.H.useEffectEvent(Z)},Ir.useId=function(){return O.H.useId()},Ir.useImperativeHandle=function(Z,I,z){return O.H.useImperativeHandle(Z,I,z)},Ir.useInsertionEffect=function(Z,I){return O.H.useInsertionEffect(Z,I)},Ir.useLayoutEffect=function(Z,I){return O.H.useLayoutEffect(Z,I)},Ir.useMemo=function(Z,I){return O.H.useMemo(Z,I)},Ir.useOptimistic=function(Z,I){return O.H.useOptimistic(Z,I)},Ir.useReducer=function(Z,I,z){return O.H.useReducer(Z,I,z)},Ir.useRef=function(Z){return O.H.useRef(Z)},Ir.useState=function(Z){return O.H.useState(Z)},Ir.useSyncExternalStore=function(Z,I,z){return O.H.useSyncExternalStore(Z,I,z)},Ir.useTransition=function(){return O.H.useTransition()},Ir.version="19.2.0",Ir}var WO;function dg(){return WO||(WO=1,KN.exports=CY()),KN.exports}var B=dg();const ws=Pc(B),NY=vY({__proto__:null,default:ws},[B]);var $N={exports:{}},bx={},VN={exports:{}},qN={};var YO;function SY(){return YO||(YO=1,(function(r){function e(X,ae){var Y=X.length;X.push(ae);e:for(;0<Y;){var de=Y-1>>>1,pe=X[de];if(0<a(pe,ae))X[de]=ae,X[Y]=pe,Y=de;else break e}}function t(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var ae=X[0],Y=X.pop();if(Y!==ae){X[0]=Y;e:for(var de=0,pe=X.length,Z=pe>>>1;de<Z;){var I=2*(de+1)-1,z=X[I],V=I+1,q=X[V];if(0>a(z,Y))V<pe&&0>a(q,z)?(X[de]=q,X[V]=Y,de=V):(X[de]=z,X[I]=Y,de=I);else if(V<pe&&0>a(q,Y))X[de]=q,X[V]=Y,de=V;else break e}}return ae}function a(X,ae){var Y=X.sortIndex-ae.sortIndex;return Y!==0?Y:X.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();r.unstable_now=function(){return i.now()-l}}var c=[],u=[],A=1,h=null,p=3,m=!1,y=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function E(X){for(var ae=t(u);ae!==null;){if(ae.callback===null)n(u);else if(ae.startTime<=X)n(u),ae.sortIndex=ae.expirationTime,e(c,ae);else break;ae=t(u)}}function _(X){if(g=!1,E(X),!y)if(t(c)!==null)y=!0,P||(P=!0,Q());else{var ae=t(u);ae!==null&&ee(_,ae.startTime-X)}}var P=!1,O=-1,D=5,k=-1;function H(){return v?!0:!(r.unstable_now()-k<D)}function L(){if(v=!1,P){var X=r.unstable_now();k=X;var ae=!0;try{e:{y=!1,g&&(g=!1,N(O),O=-1),m=!0;var Y=p;try{t:{for(E(X),h=t(c);h!==null&&!(h.expirationTime>X&&H());){var de=h.callback;if(typeof de=="function"){h.callback=null,p=h.priorityLevel;var pe=de(h.expirationTime<=X);if(X=r.unstable_now(),typeof pe=="function"){h.callback=pe,E(X),ae=!0;break t}h===t(c)&&n(c),E(X)}else n(c);h=t(c)}if(h!==null)ae=!0;else{var Z=t(u);Z!==null&&ee(_,Z.startTime-X),ae=!1}}break e}finally{h=null,p=Y,m=!1}ae=void 0}}finally{ae?Q():P=!1}}}var Q;if(typeof C=="function")Q=function(){C(L)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,K=R.port2;R.port1.onmessage=L,Q=function(){K.postMessage(null)}}else Q=function(){b(L,0)};function ee(X,ae){O=b(function(){X(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_next=function(X){switch(p){case 1:case 2:case 3:var ae=3;break;default:ae=p}var Y=p;p=ae;try{return X()}finally{p=Y}},r.unstable_requestPaint=function(){v=!0},r.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Y=p;p=X;try{return ae()}finally{p=Y}},r.unstable_scheduleCallback=function(X,ae,Y){var de=r.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?de+Y:de):Y=de,X){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Y+pe,X={id:A++,callback:ae,priorityLevel:X,startTime:Y,expirationTime:pe,sortIndex:-1},Y>de?(X.sortIndex=Y,e(u,X),t(c)===null&&X===t(u)&&(g?(N(O),O=-1):g=!0,ee(_,Y-de))):(X.sortIndex=pe,e(c,X),y||m||(y=!0,P||(P=!0,Q()))),X},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(X){var ae=p;return function(){var Y=p;p=ae;try{return X.apply(this,arguments)}finally{p=Y}}}})(qN)),qN}var XO;function BY(){return XO||(XO=1,VN.exports=SY()),VN.exports}var GN={exports:{}},Yi={};var JO;function EY(){if(JO)return Yi;JO=1;var r=dg();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)u+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(c,u,A){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:h==null?null:""+h,children:c,containerInfo:u,implementation:A}}var i=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Yi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Yi.createPortal=function(c,u){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(c,u,null,A)},Yi.flushSync=function(c){var u=i.T,A=n.p;try{if(i.T=null,n.p=2,c)return c()}finally{i.T=u,n.p=A,n.d.f()}},Yi.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(c,u))},Yi.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Yi.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var A=u.as,h=l(A,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;A==="style"?n.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:m}):A==="script"&&n.d.X(c,{crossOrigin:h,integrity:p,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Yi.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var A=l(u.as,u.crossOrigin);n.d.M(c,{crossOrigin:A,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(c)},Yi.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var A=u.as,h=l(A,u.crossOrigin);n.d.L(c,A,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Yi.preloadModule=function(c,u){if(typeof c=="string")if(u){var A=l(u.as,u.crossOrigin);n.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:A,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(c)},Yi.requestFormReset=function(c){n.d.r(c)},Yi.unstable_batchedUpdates=function(c,u){return c(u)},Yi.useFormState=function(c,u,A){return i.H.useFormState(c,u,A)},Yi.useFormStatus=function(){return i.H.useHostTransitionStatus()},Yi.version="19.2.0",Yi}var ZO;function _8(){if(ZO)return GN.exports;ZO=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),GN.exports=EY(),GN.exports}var e6;function jY(){if(e6)return bx;e6=1;var r=BY(),e=dg(),t=_8();function n(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)f+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function s(d){var f=d,x=d;if(d.alternate)for(;f.return;)f=f.return;else{d=f;do f=d,(f.flags&4098)!==0&&(x=f.return),d=f.return;while(d)}return f.tag===3?x:null}function i(d){if(d.tag===13){var f=d.memoizedState;if(f===null&&(d=d.alternate,d!==null&&(f=d.memoizedState)),f!==null)return f.dehydrated}return null}function l(d){if(d.tag===31){var f=d.memoizedState;if(f===null&&(d=d.alternate,d!==null&&(f=d.memoizedState)),f!==null)return f.dehydrated}return null}function c(d){if(s(d)!==d)throw Error(n(188))}function u(d){var f=d.alternate;if(!f){if(f=s(d),f===null)throw Error(n(188));return f!==d?null:d}for(var x=d,w=f;;){var j=x.return;if(j===null)break;var F=j.alternate;if(F===null){if(w=j.return,w!==null){x=w;continue}break}if(j.child===F.child){for(F=j.child;F;){if(F===x)return c(j),d;if(F===w)return c(j),f;F=F.sibling}throw Error(n(188))}if(x.return!==w.return)x=j,w=F;else{for(var W=!1,le=j.child;le;){if(le===x){W=!0,x=j,w=F;break}if(le===w){W=!0,w=j,x=F;break}le=le.sibling}if(!W){for(le=F.child;le;){if(le===x){W=!0,x=F,w=j;break}if(le===w){W=!0,w=F,x=j;break}le=le.sibling}if(!W)throw Error(n(189))}}if(x.alternate!==w)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?d:f}function A(d){var f=d.tag;if(f===5||f===26||f===27||f===6)return d;for(d=d.child;d!==null;){if(f=A(d),f!==null)return f;d=d.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function Q(d){return d===null||typeof d!="object"?null:(d=L&&d[L]||d["@@iterator"],typeof d=="function"?d:null)}var R=Symbol.for("react.client.reference");function K(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===R?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case g:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case _:return"Suspense";case P:return"SuspenseList";case k:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case y:return"Portal";case C:return d.displayName||"Context";case N:return(d._context.displayName||"Context")+".Consumer";case E:var f=d.render;return d=d.displayName,d||(d=f.displayName||f.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case O:return f=d.displayName||null,f!==null?f:K(d.type)||"Memo";case D:f=d._payload,d=d._init;try{return K(d(f))}catch{}}return null}var ee=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},de=[],pe=-1;function Z(d){return{current:d}}function I(d){0>pe||(d.current=de[pe],de[pe]=null,pe--)}function z(d,f){pe++,de[pe]=d.current,d.current=f}var V=Z(null),q=Z(null),ne=Z(null),ce=Z(null);function Be(d,f){switch(z(ne,f),z(q,d),z(V,null),f.nodeType){case 9:case 11:d=(d=f.documentElement)&&(d=d.namespaceURI)?hO(d):0;break;default:if(d=f.tagName,f=f.namespaceURI)f=hO(f),d=fO(f,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}I(V),z(V,d)}function Ae(){I(V),I(q),I(ne)}function ye(d){d.memoizedState!==null&&z(ce,d);var f=V.current,x=fO(f,d.type);f!==x&&(z(q,d),z(V,x))}function Pe(d){q.current===d&&(I(V),I(q)),ce.current===d&&(I(ce),px._currentValue=Y)}var je,Se;function Te(d){if(je===void 0)try{throw Error()}catch(x){var f=x.stack.trim().match(/\n( *(at )?)/);je=f&&f[1]||"",Se=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+d+Se}var J=!1;function Le(d,f){if(!d||J)return"";J=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(f){var xt=function(){throw Error()};if(Object.defineProperty(xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xt,[])}catch(nt){var Ze=nt}Reflect.construct(d,[],xt)}else{try{xt.call()}catch(nt){Ze=nt}d.call(xt.prototype)}}else{try{throw Error()}catch(nt){Ze=nt}(xt=d())&&typeof xt.catch=="function"&&xt.catch(function(){})}}catch(nt){if(nt&&Ze&&typeof nt.stack=="string")return[nt.stack,Ze.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=w.DetermineComponentFrameRoot(),W=F[0],le=F[1];if(W&&le){var _e=W.split(`
`),Xe=le.split(`
`);for(j=w=0;w<_e.length&&!_e[w].includes("DetermineComponentFrameRoot");)w++;for(;j<Xe.length&&!Xe[j].includes("DetermineComponentFrameRoot");)j++;if(w===_e.length||j===Xe.length)for(w=_e.length-1,j=Xe.length-1;1<=w&&0<=j&&_e[w]!==Xe[j];)j--;for(;1<=w&&0<=j;w--,j--)if(_e[w]!==Xe[j]){if(w!==1||j!==1)do if(w--,j--,0>j||_e[w]!==Xe[j]){var At=`
`+_e[w].replace(" at new "," at ");return d.displayName&&At.includes("<anonymous>")&&(At=At.replace("<anonymous>",d.displayName)),At}while(1<=w&&0<=j);break}}}finally{J=!1,Error.prepareStackTrace=x}return(x=d?d.displayName||d.name:"")?Te(x):""}function He(d,f){switch(d.tag){case 26:case 27:case 5:return Te(d.type);case 16:return Te("Lazy");case 13:return d.child!==f&&f!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return Le(d.type,!1);case 11:return Le(d.type.render,!1);case 1:return Le(d.type,!0);case 31:return Te("Activity");default:return""}}function Je(d){try{var f="",x=null;do f+=He(d,x),x=d,d=d.return;while(d);return f}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}var at=Object.prototype.hasOwnProperty,ze=r.unstable_scheduleCallback,mt=r.unstable_cancelCallback,Et=r.unstable_shouldYield,Me=r.unstable_requestPaint,vt=r.unstable_now,De=r.unstable_getCurrentPriorityLevel,it=r.unstable_ImmediatePriority,wt=r.unstable_UserBlockingPriority,Bt=r.unstable_NormalPriority,Ee=r.unstable_LowPriority,ot=r.unstable_IdlePriority,ct=r.log,Zt=r.unstable_setDisableYieldValue,It=null,Tt=null;function cr(d){if(typeof ct=="function"&&Zt(d),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(It,d)}catch{}}var Br=Math.clz32?Math.clz32:nr,zt=Math.log,Yr=Math.LN2;function nr(d){return d>>>=0,d===0?32:31-(zt(d)/Yr|0)|0}var pr=256,pt=262144,Nt=4194304;function Qt(d){var f=d&42;if(f!==0)return f;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Kt(d,f,x){var w=d.pendingLanes;if(w===0)return 0;var j=0,F=d.suspendedLanes,W=d.pingedLanes;d=d.warmLanes;var le=w&134217727;return le!==0?(w=le&~F,w!==0?j=Qt(w):(W&=le,W!==0?j=Qt(W):x||(x=le&~d,x!==0&&(j=Qt(x))))):(le=w&~F,le!==0?j=Qt(le):W!==0?j=Qt(W):x||(x=w&~d,x!==0&&(j=Qt(x)))),j===0?0:f!==0&&f!==j&&(f&F)===0&&(F=j&-j,x=f&-f,F>=x||F===32&&(x&4194048)!==0)?f:j}function jn(d,f){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&f)===0}function Or(d,f){switch(d){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rs(){var d=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),d}function Ga(d){for(var f=[],x=0;31>x;x++)f.push(d);return f}function hr(d,f){d.pendingLanes|=f,f!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function ba(d,f,x,w,j,F){var W=d.pendingLanes;d.pendingLanes=x,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=x,d.entangledLanes&=x,d.errorRecoveryDisabledLanes&=x,d.shellSuspendCounter=0;var le=d.entanglements,_e=d.expirationTimes,Xe=d.hiddenUpdates;for(x=W&~x;0<x;){var At=31-Br(x),xt=1<<At;le[At]=0,_e[At]=-1;var Ze=Xe[At];if(Ze!==null)for(Xe[At]=null,At=0;At<Ze.length;At++){var nt=Ze[At];nt!==null&&(nt.lane&=-536870913)}x&=~xt}w!==0&&Wa(d,w,0),F!==0&&j===0&&d.tag!==0&&(d.suspendedLanes|=F&~(W&~f))}function Wa(d,f,x){d.pendingLanes|=f,d.suspendedLanes&=~f;var w=31-Br(f);d.entangledLanes|=f,d.entanglements[w]=d.entanglements[w]|1073741824|x&261930}function ca(d,f){var x=d.entangledLanes|=f;for(d=d.entanglements;x;){var w=31-Br(x),j=1<<w;j&f|d[w]&f&&(d[w]|=f),x&=~j}}function Bs(d,f){var x=f&-f;return x=(x&42)!==0?1:_n(x),(x&(d.suspendedLanes|f))!==0?0:x}function _n(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function wa(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function se(){var d=ae.p;return d!==0?d:(d=window.event,d===void 0?32:LO(d.type))}function we(d,f){var x=ae.p;try{return ae.p=d,f()}finally{ae.p=x}}var he=Math.random().toString(36).slice(2),fe="__reactFiber$"+he,ge="__reactProps$"+he,Ne="__reactContainer$"+he,Ke="__reactEvents$"+he,st="__reactListeners$"+he,Ve="__reactHandles$"+he,qe="__reactResources$"+he,We="__reactMarker$"+he;function St(d){delete d[fe],delete d[ge],delete d[Ke],delete d[st],delete d[Ve]}function kt(d){var f=d[fe];if(f)return f;for(var x=d.parentNode;x;){if(f=x[Ne]||x[fe]){if(x=f.alternate,f.child!==null||x!==null&&x.child!==null)for(d=bO(d);d!==null;){if(x=d[fe])return x;d=bO(d)}return f}d=x,x=d.parentNode}return null}function Mt(d){if(d=d[fe]||d[Ne]){var f=d.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return d}return null}function _t(d){var f=d.tag;if(f===5||f===26||f===27||f===6)return d.stateNode;throw Error(n(33))}function Dt(d){var f=d[qe];return f||(f=d[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Gt(d){d[We]=!0}var Cn=new Set,qr={};function Tn(d,f){Si(d,f),Si(d+"Capture",f)}function Si(d,f){for(qr[d]=f,d=0;d<f.length;d++)Cn.add(f[d])}var pl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gl={},mo={};function Lu(d){return at.call(mo,d)?!0:at.call(gl,d)?!1:pl.test(d)?mo[d]=!0:(gl[d]=!0,!1)}function Aa(d,f,x){if(Lu(f))if(x===null)d.removeAttribute(f);else{switch(typeof x){case"undefined":case"function":case"symbol":d.removeAttribute(f);return;case"boolean":var w=f.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){d.removeAttribute(f);return}}d.setAttribute(f,""+x)}}function Uc(d,f,x){if(x===null)d.removeAttribute(f);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(f);return}d.setAttribute(f,""+x)}}function xl(d,f,x,w){if(w===null)d.removeAttribute(x);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(x);return}d.setAttributeNS(f,x,""+w)}}function hn(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function vf(d){var f=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function tc(d,f,x){var w=Object.getOwnPropertyDescriptor(d.constructor.prototype,f);if(!d.hasOwnProperty(f)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var j=w.get,F=w.set;return Object.defineProperty(d,f,{configurable:!0,get:function(){return j.call(this)},set:function(W){x=""+W,F.call(this,W)}}),Object.defineProperty(d,f,{enumerable:w.enumerable}),{getValue:function(){return x},setValue:function(W){x=""+W},stopTracking:function(){d._valueTracker=null,delete d[f]}}}}function Mu(d){if(!d._valueTracker){var f=vf(d)?"checked":"value";d._valueTracker=tc(d,f,""+d[f])}}function bf(d){if(!d)return!1;var f=d._valueTracker;if(!f)return!0;var x=f.getValue(),w="";return d&&(w=vf(d)?d.checked?"true":"false":d.value),d=w,d!==x?(f.setValue(d),!0):!1}function Bi(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var us=/[\n"\\]/g;function Ya(d){return d.replace(us,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function $A(d,f,x,w,j,F,W,le){d.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?d.type=W:d.removeAttribute("type"),f!=null?W==="number"?(f===0&&d.value===""||d.value!=f)&&(d.value=""+hn(f)):d.value!==""+hn(f)&&(d.value=""+hn(f)):W!=="submit"&&W!=="reset"||d.removeAttribute("value"),f!=null?wf(d,W,hn(f)):x!=null?wf(d,W,hn(x)):w!=null&&d.removeAttribute("value"),j==null&&F!=null&&(d.defaultChecked=!!F),j!=null&&(d.checked=j&&typeof j!="function"&&typeof j!="symbol"),le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?d.name=""+hn(le):d.removeAttribute("name")}function im(d,f,x,w,j,F,W,le){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(d.type=F),f!=null||x!=null){if(!(F!=="submit"&&F!=="reset"||f!=null)){Mu(d);return}x=x!=null?""+hn(x):"",f=f!=null?""+hn(f):x,le||f===d.value||(d.value=f),d.defaultValue=f}w=w??j,w=typeof w!="function"&&typeof w!="symbol"&&!!w,d.checked=le?d.checked:!!w,d.defaultChecked=!!w,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(d.name=W),Mu(d)}function wf(d,f,x){f==="number"&&Bi(d.ownerDocument)===d||d.defaultValue===""+x||(d.defaultValue=""+x)}function Ei(d,f,x,w){if(d=d.options,f){f={};for(var j=0;j<x.length;j++)f["$"+x[j]]=!0;for(x=0;x<d.length;x++)j=f.hasOwnProperty("$"+d[x].value),d[x].selected!==j&&(d[x].selected=j),j&&w&&(d[x].defaultSelected=!0)}else{for(x=""+hn(x),f=null,j=0;j<d.length;j++){if(d[j].value===x){d[j].selected=!0,w&&(d[j].defaultSelected=!0);return}f!==null||d[j].disabled||(f=d[j])}f!==null&&(f.selected=!0)}}function Cf(d,f,x){if(f!=null&&(f=""+hn(f),f!==d.value&&(d.value=f),x==null)){d.defaultValue!==f&&(d.defaultValue=f);return}d.defaultValue=x!=null?""+hn(x):""}function Nf(d,f,x,w){if(f==null){if(w!=null){if(x!=null)throw Error(n(92));if(ee(w)){if(1<w.length)throw Error(n(93));w=w[0]}x=w}x==null&&(x=""),f=x}x=hn(f),d.defaultValue=x,w=d.textContent,w===x&&w!==""&&w!==null&&(d.value=w),Mu(d)}function yl(d,f){if(f){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=f;return}}d.textContent=f}var _d=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function om(d,f,x){var w=f.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?w?d.setProperty(f,""):f==="float"?d.cssFloat="":d[f]="":w?d.setProperty(f,x):typeof x!="number"||x===0||_d.has(f)?f==="float"?d.cssFloat=x:d[f]=(""+x).trim():d[f]=x+"px"}function lm(d,f,x){if(f!=null&&typeof f!="object")throw Error(n(62));if(d=d.style,x!=null){for(var w in x)!x.hasOwnProperty(w)||f!=null&&f.hasOwnProperty(w)||(w.indexOf("--")===0?d.setProperty(w,""):w==="float"?d.cssFloat="":d[w]="");for(var j in f)w=f[j],f.hasOwnProperty(j)&&x[j]!==w&&om(d,j,w)}else for(var F in f)f.hasOwnProperty(F)&&om(d,F,f[F])}function Sf(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qi(d){return cm.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}function vl(){}var Qc=null;function Td(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Ru=null,Nr=null;function um(d){var f=Mt(d);if(f&&(d=f.stateNode)){var x=d[ge]||null;e:switch(d=f.stateNode,f.type){case"input":if($A(d,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),f=x.name,x.type==="radio"&&f!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Ya(""+f)+'"][type="radio"]'),f=0;f<x.length;f++){var w=x[f];if(w!==d&&w.form===d.form){var j=w[ge]||null;if(!j)throw Error(n(90));$A(w,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(f=0;f<x.length;f++)w=x[f],w.form===d.form&&bf(w)}break e;case"textarea":Cf(d,x.value,x.defaultValue);break e;case"select":f=x.value,f!=null&&Ei(d,!!x.multiple,f,!1)}}}var Ef=!1;function dm(d,f,x){if(Ef)return d(f,x);Ef=!0;try{var w=d(f);return w}finally{if(Ef=!1,(Ru!==null||Nr!==null)&&(x1(),Ru&&(f=Ru,d=Nr,Nr=Ru=null,um(f),d)))for(f=0;f<d.length;f++)um(d[f])}}function po(d,f){var x=d.stateNode;if(x===null)return null;var w=x[ge]||null;if(w===null)return null;x=w[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(d=d.type,w=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!w;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(n(231,f,typeof x));return x}var Us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jf=!1;if(Us)try{var kd={};Object.defineProperty(kd,"passive",{get:function(){jf=!0}}),window.addEventListener("test",kd,kd),window.removeEventListener("test",kd,kd)}catch{jf=!1}var go=null,Fd=null,rc=null;function Am(){if(rc)return rc;var d,f=Fd,x=f.length,w,j="value"in go?go.value:go.textContent,F=j.length;for(d=0;d<x&&f[d]===j[d];d++);var W=x-d;for(w=1;w<=W&&f[x-w]===j[F-w];w++);return rc=j.slice(d,1<w?1-w:void 0)}function Lo(d){var f=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&f===13&&(d=13)):d=f,d===10&&(d=13),32<=d||d===13?d:0}function VA(){return!0}function qA(){return!1}function Es(d){function f(x,w,j,F,W){this._reactName=x,this._targetInst=j,this.type=w,this.nativeEvent=F,this.target=W,this.currentTarget=null;for(var le in d)d.hasOwnProperty(le)&&(x=d[le],this[le]=x?x(F):F[le]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?VA:qA,this.isPropagationStopped=qA,this}return h(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=VA)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=VA)},persist:function(){},isPersistent:VA}),f}var nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=Es(nc),Hc=h({},nc,{view:0,detail:0}),GA=Es(Hc),Od,zc,Kc,Dd=h({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Kc&&(Kc&&d.type==="mousemove"?(Od=d.screenX-Kc.screenX,zc=d.screenY-Kc.screenY):zc=Od=0,Kc=d),Od)},movementY:function(d){return"movementY"in d?d.movementY:zc}}),_f=Es(Dd),$c=h({},Dd,{dataTransfer:0}),Vc=Es($c),hm=h({},Hc,{relatedTarget:0}),qc=Es(hm),fm=h({},nc,{animationName:0,elapsedTime:0,pseudoElement:0}),M=Es(fm),te=h({},nc,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Ce=Es(te),ke=h({},nc,{data:0}),Re=Es(ke),ht={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ur(d){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(d):(d=er[d])?!!f[d]:!1}function jr(){return ur}var Dr=h({},Hc,{key:function(d){if(d.key){var f=ht[d.key]||d.key;if(f!=="Unidentified")return f}return d.type==="keypress"?(d=Lo(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?bt[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(d){return d.type==="keypress"?Lo(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Lo(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),an=Es(Dr),ha=h({},Dd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ia=Es(ha),Vn=h({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),ds=Es(Vn),Xa=h({},nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qs=Es(Xa),Gc=h({},Dd,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),bl=Es(Gc),Wc=h({},nc,{newState:0,oldState:0}),Tf=Es(Wc),WA=[9,13,27,32],ac=Us&&"CompositionEvent"in window,wl=null;Us&&"documentMode"in document&&(wl=document.documentMode);var Pd=Us&&"TextEvent"in window&&!wl,Yc=Us&&(!ac||wl&&8<wl&&11>=wl),js=" ",Uu=!1;function Qu(d,f){switch(d){case"keyup":return WA.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YA(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var sc=!1;function ji(d,f){switch(d){case"compositionend":return YA(f);case"keypress":return f.which!==32?null:(Uu=!0,js);case"textInput":return d=f.data,d===js&&Uu?null:d;default:return null}}function Xc(d,f){if(sc)return d==="compositionend"||!ac&&Qu(d,f)?(d=Am(),rc=Fd=go=null,sc=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Yc&&f.locale!=="ko"?null:f.data;default:return null}}var XA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kf(d){var f=d&&d.nodeName&&d.nodeName.toLowerCase();return f==="input"?!!XA[d.type]:f==="textarea"}function xo(d,f,x,w){Ru?Nr?Nr.push(w):Nr=[w]:Ru=w,f=S1(f,"onChange"),0<f.length&&(x=new Mo("onChange","change",null,x,w),d.push({event:x,listeners:f}))}var Cl=null,Jc=null;function Ff(d){oO(d,0)}function Nl(d){var f=_t(d);if(bf(f))return d}function Hu(d,f){if(d==="change")return f}var Gi=!1;if(Us){var _i;if(Us){var ic="oninput"in document;if(!ic){var oc=document.createElement("div");oc.setAttribute("oninput","return;"),ic=typeof oc.oninput=="function"}_i=ic}else _i=!1;Gi=_i&&(!document.documentMode||9<document.documentMode)}function Zc(){Cl&&(Cl.detachEvent("onpropertychange",JA),Jc=Cl=null)}function JA(d){if(d.propertyName==="value"&&Nl(Jc)){var f=[];xo(f,Jc,d,Td(d)),dm(Ff,f)}}function ZA(d,f,x){d==="focusin"?(Zc(),Cl=f,Jc=x,Cl.attachEvent("onpropertychange",JA)):d==="focusout"&&Zc()}function La(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Nl(Jc)}function mm(d,f){if(d==="click")return Nl(f)}function lc(d,f){if(d==="input"||d==="change")return Nl(f)}function cc(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var Hs=typeof Object.is=="function"?Object.is:cc;function eu(d,f){if(Hs(d,f))return!0;if(typeof d!="object"||d===null||typeof f!="object"||f===null)return!1;var x=Object.keys(d),w=Object.keys(f);if(x.length!==w.length)return!1;for(w=0;w<x.length;w++){var j=x[w];if(!at.call(f,j)||!Hs(d[j],f[j]))return!1}return!0}function eh(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function th(d,f){var x=eh(d);d=0;for(var w;x;){if(x.nodeType===3){if(w=d+x.textContent.length,d<=f&&w>=f)return{node:x,offset:f-d};d=w}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=eh(x)}}function tu(d,f){return d&&f?d===f?!0:d&&d.nodeType===3?!1:f&&f.nodeType===3?tu(d,f.parentNode):"contains"in d?d.contains(f):d.compareDocumentPosition?!!(d.compareDocumentPosition(f)&16):!1:!1}function ru(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var f=Bi(d.document);f instanceof d.HTMLIFrameElement;){try{var x=typeof f.contentWindow.location.href=="string"}catch{x=!1}if(x)d=f.contentWindow;else break;f=Bi(d.document)}return f}function uc(d){var f=d&&d.nodeName&&d.nodeName.toLowerCase();return f&&(f==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||f==="textarea"||d.contentEditable==="true")}var Id=Us&&"documentMode"in document&&11>=document.documentMode,yo=null,nu=null,si=null,Ro=!1;function fn(d,f,x){var w=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Ro||yo==null||yo!==Bi(w)||(w=yo,"selectionStart"in w&&uc(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),si&&eu(si,w)||(si=w,w=S1(nu,"onSelect"),0<w.length&&(f=new Mo("onSelect","select",null,f,x),d.push({event:f,listeners:w}),f.target=yo)))}function sn(d,f){var x={};return x[d.toLowerCase()]=f.toLowerCase(),x["Webkit"+d]="webkit"+f,x["Moz"+d]="moz"+f,x}var qn={animationend:sn("Animation","AnimationEnd"),animationiteration:sn("Animation","AnimationIteration"),animationstart:sn("Animation","AnimationStart"),transitionrun:sn("Transition","TransitionRun"),transitionstart:sn("Transition","TransitionStart"),transitioncancel:sn("Transition","TransitionCancel"),transitionend:sn("Transition","TransitionEnd")},Ma={},dc={};Us&&(dc=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);function Sl(d){if(Ma[d])return Ma[d];if(!qn[d])return d;var f=qn[d],x;for(x in f)if(f.hasOwnProperty(x)&&x in dc)return Ma[d]=f[x];return d}var Ld=Sl("animationend"),Of=Sl("animationiteration"),Rg=Sl("animationstart"),Gv=Sl("transitionrun"),Wv=Sl("transitionstart"),Yv=Sl("transitioncancel"),Ug=Sl("transitionend"),Qg=new Map,Md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Md.push("scrollEnd");function Uo(d,f){Qg.set(d,f),Tn(f,[d])}var Df=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},vo=[],Rd=0,pm=0;function Pf(){for(var d=Rd,f=pm=Rd=0;f<d;){var x=vo[f];vo[f++]=null;var w=vo[f];vo[f++]=null;var j=vo[f];vo[f++]=null;var F=vo[f];if(vo[f++]=null,w!==null&&j!==null){var W=w.pending;W===null?j.next=j:(j.next=W.next,W.next=j),w.pending=j}F!==0&&Lf(x,j,F)}}function If(d,f,x,w){vo[Rd++]=d,vo[Rd++]=f,vo[Rd++]=x,vo[Rd++]=w,pm|=w,d.lanes|=w,d=d.alternate,d!==null&&(d.lanes|=w)}function gm(d,f,x,w){return If(d,f,x,w),ii(d)}function au(d,f){return If(d,null,null,f),ii(d)}function Lf(d,f,x){d.lanes|=x;var w=d.alternate;w!==null&&(w.lanes|=x);for(var j=!1,F=d.return;F!==null;)F.childLanes|=x,w=F.alternate,w!==null&&(w.childLanes|=x),F.tag===22&&(d=F.stateNode,d===null||d._visibility&1||(j=!0)),d=F,F=F.return;return d.tag===3?(F=d.stateNode,j&&f!==null&&(j=31-Br(x),d=F.hiddenUpdates,w=d[j],w===null?d[j]=[f]:w.push(f),f.lane=x|536870912),F):null}function ii(d){if(50<cx)throw cx=0,AN=null,Error(n(185));for(var f=d.return;f!==null;)d=f,f=d.return;return d.tag===3?d.stateNode:null}var zs={};function xm(d,f,x,w){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(d,f,x,w){return new xm(d,f,x,w)}function ym(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Qo(d,f){var x=d.alternate;return x===null?(x=oi(d.tag,f,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=f,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&65011712,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,f=d.dependencies,x.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x.refCleanup=d.refCleanup,x}function Mf(d,f){d.flags&=65011714;var x=d.alternate;return x===null?(d.childLanes=0,d.lanes=f,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,f=x.dependencies,d.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),d}function rh(d,f,x,w,j,F){var W=0;if(w=d,typeof d=="function")ym(d)&&(W=1);else if(typeof d=="string")W=lY(d,x,V.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case k:return d=oi(31,x,f,j),d.elementType=k,d.lanes=F,d;case g:return zu(x.children,j,F,f);case v:W=8,j|=24;break;case b:return d=oi(12,x,f,j|2),d.elementType=b,d.lanes=F,d;case _:return d=oi(13,x,f,j),d.elementType=_,d.lanes=F,d;case P:return d=oi(19,x,f,j),d.elementType=P,d.lanes=F,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case C:W=10;break e;case N:W=9;break e;case E:W=11;break e;case O:W=14;break e;case D:W=16,w=null;break e}W=29,x=Error(n(130,d===null?"null":typeof d,"")),w=null}return f=oi(W,x,f,j),f.elementType=d,f.type=w,f.lanes=F,f}function zu(d,f,x,w){return d=oi(7,d,w,f),d.lanes=x,d}function Rf(d,f,x){return d=oi(6,d,null,f),d.lanes=x,d}function vm(d){var f=oi(18,null,null,0);return f.stateNode=d,f}function nh(d,f,x){return f=oi(4,d.children!==null?d.children:[],d.key,f),f.lanes=x,f.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},f}var bm=new WeakMap;function Ho(d,f){if(typeof d=="object"&&d!==null){var x=bm.get(d);return x!==void 0?x:(f={value:d,source:f,stack:Je(f)},bm.set(d,f),f)}return{value:d,source:f,stack:Je(f)}}var ah=[],Ud=0,wm=null,Uf=0,zo=[],Ko=0,Ku=null,$o=1,Vo="";function bo(d,f){ah[Ud++]=Uf,ah[Ud++]=wm,wm=d,Uf=f}function Xv(d,f,x){zo[Ko++]=$o,zo[Ko++]=Vo,zo[Ko++]=Ku,Ku=d;var w=$o;d=Vo;var j=32-Br(w)-1;w&=~(1<<j),x+=1;var F=32-Br(f)+j;if(30<F){var W=j-j%5;F=(w&(1<<W)-1).toString(32),w>>=W,j-=W,$o=1<<32-Br(f)+j|x<<j|w,Vo=F+d}else $o=1<<F|x<<j|w,Vo=d}function Hg(d){d.return!==null&&(bo(d,1),Xv(d,1,0))}function Cm(d){for(;d===wm;)wm=ah[--Ud],ah[Ud]=null,Uf=ah[--Ud],ah[Ud]=null;for(;d===Ku;)Ku=zo[--Ko],zo[Ko]=null,Vo=zo[--Ko],zo[Ko]=null,$o=zo[--Ko],zo[Ko]=null}function Jv(d,f){zo[Ko++]=$o,zo[Ko++]=Vo,zo[Ko++]=Ku,$o=f.id,Vo=f.overflow,Ku=d}var Ks=null,na=null,Xr=!1,Ti=null,Ca=!1,Bl=Error(n(519));function $u(d){var f=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sh(Ho(f,d)),Bl}function zg(d){var f=d.stateNode,x=d.type,w=d.memoizedProps;switch(f[fe]=d,f[ge]=w,x){case"dialog":Zr("cancel",f),Zr("close",f);break;case"iframe":case"object":case"embed":Zr("load",f);break;case"video":case"audio":for(x=0;x<dx.length;x++)Zr(dx[x],f);break;case"source":Zr("error",f);break;case"img":case"image":case"link":Zr("error",f),Zr("load",f);break;case"details":Zr("toggle",f);break;case"input":Zr("invalid",f),im(f,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0);break;case"select":Zr("invalid",f);break;case"textarea":Zr("invalid",f),Nf(f,w.value,w.defaultValue,w.children)}x=w.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||f.textContent===""+x||w.suppressHydrationWarning===!0||dO(f.textContent,x)?(w.popover!=null&&(Zr("beforetoggle",f),Zr("toggle",f)),w.onScroll!=null&&Zr("scroll",f),w.onScrollEnd!=null&&Zr("scrollend",f),w.onClick!=null&&(f.onclick=vl),f=!0):f=!1,f||$u(d,!0)}function su(d){for(Ks=d.return;Ks;)switch(Ks.tag){case 5:case 31:case 13:Ca=!1;return;case 27:case 3:Ca=!0;return;default:Ks=Ks.return}}function $s(d){if(d!==Ks)return!1;if(!Xr)return su(d),Xr=!0,!1;var f=d.tag,x;if((x=f!==3&&f!==27)&&((x=f===5)&&(x=d.type,x=!(x!=="form"&&x!=="button")||EN(d.type,d.memoizedProps)),x=!x),x&&na&&$u(d),su(d),f===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));na=vO(d)}else if(f===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));na=vO(d)}else f===27?(f=na,yh(d.type)?(d=FN,FN=null,na=d):na=f):na=Ks?mc(d.stateNode.nextSibling):null;return!0}function Qd(){na=Ks=null,Xr=!1}function Kg(){var d=Ti;return d!==null&&(Jo===null?Jo=d:Jo.push.apply(Jo,d),Ti=null),d}function sh(d){Ti===null?Ti=[d]:Ti.push(d)}var Nm=Z(null),Vu=null,Ac=null;function qu(d,f,x){z(Nm,f._currentValue),f._currentValue=x}function qo(d){d._currentValue=Nm.current,I(Nm)}function ih(d,f,x){for(;d!==null;){var w=d.alternate;if((d.childLanes&f)!==f?(d.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),d===x)break;d=d.return}}function Hd(d,f,x,w){var j=d.child;for(j!==null&&(j.return=d);j!==null;){var F=j.dependencies;if(F!==null){var W=j.child;F=F.firstContext;e:for(;F!==null;){var le=F;F=j;for(var _e=0;_e<f.length;_e++)if(le.context===f[_e]){F.lanes|=x,le=F.alternate,le!==null&&(le.lanes|=x),ih(F.return,x,d),w||(W=null);break e}F=le.next}}else if(j.tag===18){if(W=j.return,W===null)throw Error(n(341));W.lanes|=x,F=W.alternate,F!==null&&(F.lanes|=x),ih(W,x,d),W=null}else W=j.child;if(W!==null)W.return=j;else for(W=j;W!==null;){if(W===d){W=null;break}if(j=W.sibling,j!==null){j.return=W.return,W=j;break}W=W.return}j=W}}function Gu(d,f,x,w){d=null;for(var j=f,F=!1;j!==null;){if(!F){if((j.flags&524288)!==0)F=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var W=j.alternate;if(W===null)throw Error(n(387));if(W=W.memoizedProps,W!==null){var le=j.type;Hs(j.pendingProps.value,W.value)||(d!==null?d.push(le):d=[le])}}else if(j===ce.current){if(W=j.alternate,W===null)throw Error(n(387));W.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(d!==null?d.push(px):d=[px])}j=j.return}d!==null&&Hd(f,d,x,w),f.flags|=262144}function Sm(d){for(d=d.firstContext;d!==null;){if(!Hs(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function Wu(d){Vu=d,Ac=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function Vs(d){return Zv(Vu,d)}function Bm(d,f){return Vu===null&&Wu(d),Zv(d,f)}function Zv(d,f){var x=f._currentValue;if(f={context:f,memoizedValue:x,next:null},Ac===null){if(d===null)throw Error(n(308));Ac=f,d.dependencies={lanes:0,firstContext:f},d.flags|=524288}else Ac=Ac.next=f;return x}var k5=typeof AbortController<"u"?AbortController:function(){var d=[],f=this.signal={aborted:!1,addEventListener:function(x,w){d.push(w)}};this.abort=function(){f.aborted=!0,d.forEach(function(x){return x()})}},F5=r.unstable_scheduleCallback,O5=r.unstable_NormalPriority,Ra={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new k5,data:new Map,refCount:0}}function Qf(d){d.refCount--,d.refCount===0&&F5(O5,function(){d.controller.abort()})}var Hf=null,Em=0,S=0,T=null;function U(d,f){if(Hf===null){var x=Hf=[];Em=0,S=xN(),T={status:"pending",value:void 0,then:function(w){x.push(w)}}}return Em++,f.then(G,G),f}function G(){if(--Em===0&&Hf!==null){T!==null&&(T.status="fulfilled");var d=Hf;Hf=null,S=0,T=null;for(var f=0;f<d.length;f++)(0,d[f])()}}function re(d,f){var x=[],w={status:"pending",value:null,reason:null,then:function(j){x.push(j)}};return d.then(function(){w.status="fulfilled",w.value=f;for(var j=0;j<x.length;j++)(0,x[j])(f)},function(j){for(w.status="rejected",w.reason=j,j=0;j<x.length;j++)(0,x[j])(void 0)}),w}var ie=X.S;X.S=function(d,f){PF=vt(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&U(d,f),ie!==null&&ie(d,f)};var oe=Z(null);function ue(){var d=oe.current;return d!==null?d:sa.pooledCache}function me(d,f){f===null?z(oe,oe.current):z(oe,f.pool)}function be(){var d=ue();return d===null?null:{parent:Ra._currentValue,pool:d}}var Fe=Error(n(460)),Ge=Error(n(474)),ve=Error(n(542)),Ie={then:function(){}};function Qe(d){return d=d.status,d==="fulfilled"||d==="rejected"}function ut(d,f,x){switch(x=d[x],x===void 0?d.push(f):x!==f&&(f.then(vl,vl),f=x),f.status){case"fulfilled":return f.value;case"rejected":throw d=f.reason,jt(d),d;default:if(typeof f.status=="string")f.then(vl,vl);else{if(d=sa,d!==null&&100<d.shellSuspendCounter)throw Error(n(482));d=f,d.status="pending",d.then(function(w){if(f.status==="pending"){var j=f;j.status="fulfilled",j.value=w}},function(w){if(f.status==="pending"){var j=f;j.status="rejected",j.reason=w}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw d=f.reason,jt(d),d}throw lt=f,Fe}}function $e(d){try{var f=d._init;return f(d._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(lt=x,Fe):x}}var lt=null;function ft(){if(lt===null)throw Error(n(459));var d=lt;return lt=null,d}function jt(d){if(d===Fe||d===ve)throw Error(n(483))}var yt=null,ar=0;function $t(d){var f=ar;return ar+=1,yt===null&&(yt=[]),ut(yt,d,f)}function Tr(d,f){f=f.props.ref,d.ref=f!==void 0?f:null}function Wt(d,f){throw f.$$typeof===p?Error(n(525)):(d=Object.prototype.toString.call(f),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":d)))}function Wr(d){function f(Ue,Oe){if(d){var Ye=Ue.deletions;Ye===null?(Ue.deletions=[Oe],Ue.flags|=16):Ye.push(Oe)}}function x(Ue,Oe){if(!d)return null;for(;Oe!==null;)f(Ue,Oe),Oe=Oe.sibling;return null}function w(Ue){for(var Oe=new Map;Ue!==null;)Ue.key!==null?Oe.set(Ue.key,Ue):Oe.set(Ue.index,Ue),Ue=Ue.sibling;return Oe}function j(Ue,Oe){return Ue=Qo(Ue,Oe),Ue.index=0,Ue.sibling=null,Ue}function F(Ue,Oe,Ye){return Ue.index=Ye,d?(Ye=Ue.alternate,Ye!==null?(Ye=Ye.index,Ye<Oe?(Ue.flags|=67108866,Oe):Ye):(Ue.flags|=67108866,Oe)):(Ue.flags|=1048576,Oe)}function W(Ue){return d&&Ue.alternate===null&&(Ue.flags|=67108866),Ue}function le(Ue,Oe,Ye,gt){return Oe===null||Oe.tag!==6?(Oe=Rf(Ye,Ue.mode,gt),Oe.return=Ue,Oe):(Oe=j(Oe,Ye),Oe.return=Ue,Oe)}function _e(Ue,Oe,Ye,gt){var vr=Ye.type;return vr===g?At(Ue,Oe,Ye.props.children,gt,Ye.key):Oe!==null&&(Oe.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===D&&$e(vr)===Oe.type)?(Oe=j(Oe,Ye.props),Tr(Oe,Ye),Oe.return=Ue,Oe):(Oe=rh(Ye.type,Ye.key,Ye.props,null,Ue.mode,gt),Tr(Oe,Ye),Oe.return=Ue,Oe)}function Xe(Ue,Oe,Ye,gt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==Ye.containerInfo||Oe.stateNode.implementation!==Ye.implementation?(Oe=nh(Ye,Ue.mode,gt),Oe.return=Ue,Oe):(Oe=j(Oe,Ye.children||[]),Oe.return=Ue,Oe)}function At(Ue,Oe,Ye,gt,vr){return Oe===null||Oe.tag!==7?(Oe=zu(Ye,Ue.mode,gt,vr),Oe.return=Ue,Oe):(Oe=j(Oe,Ye),Oe.return=Ue,Oe)}function xt(Ue,Oe,Ye){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=Rf(""+Oe,Ue.mode,Ye),Oe.return=Ue,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case m:return Ye=rh(Oe.type,Oe.key,Oe.props,null,Ue.mode,Ye),Tr(Ye,Oe),Ye.return=Ue,Ye;case y:return Oe=nh(Oe,Ue.mode,Ye),Oe.return=Ue,Oe;case D:return Oe=$e(Oe),xt(Ue,Oe,Ye)}if(ee(Oe)||Q(Oe))return Oe=zu(Oe,Ue.mode,Ye,null),Oe.return=Ue,Oe;if(typeof Oe.then=="function")return xt(Ue,$t(Oe),Ye);if(Oe.$$typeof===C)return xt(Ue,Bm(Ue,Oe),Ye);Wt(Ue,Oe)}return null}function Ze(Ue,Oe,Ye,gt){var vr=Oe!==null?Oe.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return vr!==null?null:le(Ue,Oe,""+Ye,gt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case m:return Ye.key===vr?_e(Ue,Oe,Ye,gt):null;case y:return Ye.key===vr?Xe(Ue,Oe,Ye,gt):null;case D:return Ye=$e(Ye),Ze(Ue,Oe,Ye,gt)}if(ee(Ye)||Q(Ye))return vr!==null?null:At(Ue,Oe,Ye,gt,null);if(typeof Ye.then=="function")return Ze(Ue,Oe,$t(Ye),gt);if(Ye.$$typeof===C)return Ze(Ue,Oe,Bm(Ue,Ye),gt);Wt(Ue,Ye)}return null}function nt(Ue,Oe,Ye,gt,vr){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return Ue=Ue.get(Ye)||null,le(Oe,Ue,""+gt,vr);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case m:return Ue=Ue.get(gt.key===null?Ye:gt.key)||null,_e(Oe,Ue,gt,vr);case y:return Ue=Ue.get(gt.key===null?Ye:gt.key)||null,Xe(Oe,Ue,gt,vr);case D:return gt=$e(gt),nt(Ue,Oe,Ye,gt,vr)}if(ee(gt)||Q(gt))return Ue=Ue.get(Ye)||null,At(Oe,Ue,gt,vr,null);if(typeof gt.then=="function")return nt(Ue,Oe,Ye,$t(gt),vr);if(gt.$$typeof===C)return nt(Ue,Oe,Ye,Bm(Oe,gt),vr);Wt(Oe,gt)}return null}function tr(Ue,Oe,Ye,gt){for(var vr=null,gn=null,dr=Oe,Hr=Oe=0,tn=null;dr!==null&&Hr<Ye.length;Hr++){dr.index>Hr?(tn=dr,dr=null):tn=dr.sibling;var xn=Ze(Ue,dr,Ye[Hr],gt);if(xn===null){dr===null&&(dr=tn);break}d&&dr&&xn.alternate===null&&f(Ue,dr),Oe=F(xn,Oe,Hr),gn===null?vr=xn:gn.sibling=xn,gn=xn,dr=tn}if(Hr===Ye.length)return x(Ue,dr),Xr&&bo(Ue,Hr),vr;if(dr===null){for(;Hr<Ye.length;Hr++)dr=xt(Ue,Ye[Hr],gt),dr!==null&&(Oe=F(dr,Oe,Hr),gn===null?vr=dr:gn.sibling=dr,gn=dr);return Xr&&bo(Ue,Hr),vr}for(dr=w(dr);Hr<Ye.length;Hr++)tn=nt(dr,Ue,Hr,Ye[Hr],gt),tn!==null&&(d&&tn.alternate!==null&&dr.delete(tn.key===null?Hr:tn.key),Oe=F(tn,Oe,Hr),gn===null?vr=tn:gn.sibling=tn,gn=tn);return d&&dr.forEach(function(Nh){return f(Ue,Nh)}),Xr&&bo(Ue,Hr),vr}function Er(Ue,Oe,Ye,gt){if(Ye==null)throw Error(n(151));for(var vr=null,gn=null,dr=Oe,Hr=Oe=0,tn=null,xn=Ye.next();dr!==null&&!xn.done;Hr++,xn=Ye.next()){dr.index>Hr?(tn=dr,dr=null):tn=dr.sibling;var Nh=Ze(Ue,dr,xn.value,gt);if(Nh===null){dr===null&&(dr=tn);break}d&&dr&&Nh.alternate===null&&f(Ue,dr),Oe=F(Nh,Oe,Hr),gn===null?vr=Nh:gn.sibling=Nh,gn=Nh,dr=tn}if(xn.done)return x(Ue,dr),Xr&&bo(Ue,Hr),vr;if(dr===null){for(;!xn.done;Hr++,xn=Ye.next())xn=xt(Ue,xn.value,gt),xn!==null&&(Oe=F(xn,Oe,Hr),gn===null?vr=xn:gn.sibling=xn,gn=xn);return Xr&&bo(Ue,Hr),vr}for(dr=w(dr);!xn.done;Hr++,xn=Ye.next())xn=nt(dr,Ue,Hr,xn.value,gt),xn!==null&&(d&&xn.alternate!==null&&dr.delete(xn.key===null?Hr:xn.key),Oe=F(xn,Oe,Hr),gn===null?vr=xn:gn.sibling=xn,gn=xn);return d&&dr.forEach(function(yY){return f(Ue,yY)}),Xr&&bo(Ue,Hr),vr}function Xn(Ue,Oe,Ye,gt){if(typeof Ye=="object"&&Ye!==null&&Ye.type===g&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case m:e:{for(var vr=Ye.key;Oe!==null;){if(Oe.key===vr){if(vr=Ye.type,vr===g){if(Oe.tag===7){x(Ue,Oe.sibling),gt=j(Oe,Ye.props.children),gt.return=Ue,Ue=gt;break e}}else if(Oe.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===D&&$e(vr)===Oe.type){x(Ue,Oe.sibling),gt=j(Oe,Ye.props),Tr(gt,Ye),gt.return=Ue,Ue=gt;break e}x(Ue,Oe);break}else f(Ue,Oe);Oe=Oe.sibling}Ye.type===g?(gt=zu(Ye.props.children,Ue.mode,gt,Ye.key),gt.return=Ue,Ue=gt):(gt=rh(Ye.type,Ye.key,Ye.props,null,Ue.mode,gt),Tr(gt,Ye),gt.return=Ue,Ue=gt)}return W(Ue);case y:e:{for(vr=Ye.key;Oe!==null;){if(Oe.key===vr)if(Oe.tag===4&&Oe.stateNode.containerInfo===Ye.containerInfo&&Oe.stateNode.implementation===Ye.implementation){x(Ue,Oe.sibling),gt=j(Oe,Ye.children||[]),gt.return=Ue,Ue=gt;break e}else{x(Ue,Oe);break}else f(Ue,Oe);Oe=Oe.sibling}gt=nh(Ye,Ue.mode,gt),gt.return=Ue,Ue=gt}return W(Ue);case D:return Ye=$e(Ye),Xn(Ue,Oe,Ye,gt)}if(ee(Ye))return tr(Ue,Oe,Ye,gt);if(Q(Ye)){if(vr=Q(Ye),typeof vr!="function")throw Error(n(150));return Ye=vr.call(Ye),Er(Ue,Oe,Ye,gt)}if(typeof Ye.then=="function")return Xn(Ue,Oe,$t(Ye),gt);if(Ye.$$typeof===C)return Xn(Ue,Oe,Bm(Ue,Ye),gt);Wt(Ue,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint"?(Ye=""+Ye,Oe!==null&&Oe.tag===6?(x(Ue,Oe.sibling),gt=j(Oe,Ye),gt.return=Ue,Ue=gt):(x(Ue,Oe),gt=Rf(Ye,Ue.mode,gt),gt.return=Ue,Ue=gt),W(Ue)):x(Ue,Oe)}return function(Ue,Oe,Ye,gt){try{ar=0;var vr=Xn(Ue,Oe,Ye,gt);return yt=null,vr}catch(dr){if(dr===Fe||dr===ve)throw dr;var gn=oi(29,dr,null,Ue.mode);return gn.lanes=gt,gn.return=Ue,gn}}}var aa=Wr(!0),Pr=Wr(!1),Vt=!1;function Lt(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fa(d,f){d=d.updateQueue,f.updateQueue===d&&(f.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function Sr(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function Ur(d,f,x){var w=d.updateQueue;if(w===null)return null;if(w=w.shared,(Bn&2)!==0){var j=w.pending;return j===null?f.next=f:(f.next=j.next,j.next=f),w.pending=f,f=ii(d),Lf(d,null,x),f}return If(d,w,f,x),ii(d)}function Nn(d,f,x){if(f=f.updateQueue,f!==null&&(f=f.shared,(x&4194048)!==0)){var w=f.lanes;w&=d.pendingLanes,x|=w,f.lanes=x,ca(d,x)}}function As(d,f){var x=d.updateQueue,w=d.alternate;if(w!==null&&(w=w.updateQueue,x===w)){var j=null,F=null;if(x=x.firstBaseUpdate,x!==null){do{var W={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};F===null?j=F=W:F=F.next=W,x=x.next}while(x!==null);F===null?j=F=f:F=F.next=f}else j=F=f;x={baseState:w.baseState,firstBaseUpdate:j,lastBaseUpdate:F,shared:w.shared,callbacks:w.callbacks},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=f:d.next=f,x.lastBaseUpdate=f}var qs=!1;function Gn(){if(qs){var d=T;if(d!==null)throw d}}function Ja(d,f,x,w){qs=!1;var j=d.updateQueue;Vt=!1;var F=j.firstBaseUpdate,W=j.lastBaseUpdate,le=j.shared.pending;if(le!==null){j.shared.pending=null;var _e=le,Xe=_e.next;_e.next=null,W===null?F=Xe:W.next=Xe,W=_e;var At=d.alternate;At!==null&&(At=At.updateQueue,le=At.lastBaseUpdate,le!==W&&(le===null?At.firstBaseUpdate=Xe:le.next=Xe,At.lastBaseUpdate=_e))}if(F!==null){var xt=j.baseState;W=0,At=Xe=_e=null,le=F;do{var Ze=le.lane&-536870913,nt=Ze!==le.lane;if(nt?(en&Ze)===Ze:(w&Ze)===Ze){Ze!==0&&Ze===S&&(qs=!0),At!==null&&(At=At.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var tr=d,Er=le;Ze=f;var Xn=x;switch(Er.tag){case 1:if(tr=Er.payload,typeof tr=="function"){xt=tr.call(Xn,xt,Ze);break e}xt=tr;break e;case 3:tr.flags=tr.flags&-65537|128;case 0:if(tr=Er.payload,Ze=typeof tr=="function"?tr.call(Xn,xt,Ze):tr,Ze==null)break e;xt=h({},xt,Ze);break e;case 2:Vt=!0}}Ze=le.callback,Ze!==null&&(d.flags|=64,nt&&(d.flags|=8192),nt=j.callbacks,nt===null?j.callbacks=[Ze]:nt.push(Ze))}else nt={lane:Ze,tag:le.tag,payload:le.payload,callback:le.callback,next:null},At===null?(Xe=At=nt,_e=xt):At=At.next=nt,W|=Ze;if(le=le.next,le===null){if(le=j.shared.pending,le===null)break;nt=le,le=nt.next,nt.next=null,j.lastBaseUpdate=nt,j.shared.pending=null}}while(!0);At===null&&(_e=xt),j.baseState=_e,j.firstBaseUpdate=Xe,j.lastBaseUpdate=At,F===null&&(j.shared.lanes=0),fh|=W,d.lanes=W,d.memoizedState=xt}}function li(d,f){if(typeof d!="function")throw Error(n(191,d));d.call(f)}function Za(d,f){var x=d.callbacks;if(x!==null)for(d.callbacks=null,d=0;d<x.length;d++)li(x[d],f)}var Kr=Z(null),cn=Z(0);function ma(d,f){d=Jd,z(cn,d),z(Kr,f),Jd=d|f.baseLanes}function mn(){z(cn,Jd),z(Kr,Kr.current)}function hs(){Jd=cn.current,I(Kr),I(cn)}var pa=Z(null),un=null;function Ua(d){var f=d.alternate;z(on,on.current&1),z(pa,d),un===null&&(f===null||Kr.current!==null||f.memoizedState!==null)&&(un=d)}function Sn(d){z(on,on.current),z(pa,d),un===null&&(un=d)}function es(d){d.tag===22?(z(on,on.current),z(pa,d),un===null&&(un=d)):ts()}function ts(){z(on,on.current),z(pa,pa.current)}function Dn(d){I(pa),un===d&&(un=null),I(on)}var on=Z(0);function ci(d){for(var f=d;f!==null;){if(f.tag===13){var x=f.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||TN(x)||kN(x)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Na=0,gr=null,yr=null,dn=null,Wi=!1,Go=!1,ki=!1,rs=0,Yu=0,Xu=null,jm=0;function Wn(){throw Error(n(321))}function $g(d,f){if(f===null)return!1;for(var x=0;x<f.length&&x<d.length;x++)if(!Hs(d[x],f[x]))return!1;return!0}function Vg(d,f,x,w,j,F){return Na=F,gr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,X.H=d===null||d.memoizedState===null?Vk:Q5,ki=!1,F=x(w,j),ki=!1,Go&&(F=iu(f,x,w,j)),_m(d),F}function _m(d){X.H=ex;var f=yr!==null&&yr.next!==null;if(Na=0,dn=yr=gr=null,Wi=!1,Yu=0,Xu=null,f)throw Error(n(300));d===null||Ts||(d=d.dependencies,d!==null&&Sm(d)&&(Ts=!0))}function iu(d,f,x,w){gr=d;var j=0;do{if(Go&&(Xu=null),Yu=0,Go=!1,25<=j)throw Error(n(301));if(j+=1,dn=yr=null,d.updateQueue!=null){var F=d.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}X.H=qk,F=f(x,w)}while(Go);return F}function D5(){var d=X.H,f=d.useState()[0];return f=typeof f.then=="function"?Ju(f):f,d=d.useState()[0],(yr!==null?yr.memoizedState:null)!==d&&(gr.flags|=1024),f}function qg(){var d=rs!==0;return rs=0,d}function Gg(d,f,x){f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~x}function Tm(d){if(Wi){for(d=d.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}Wi=!1}Na=0,dn=yr=gr=null,Go=!1,Yu=rs=0,Xu=null}function _s(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?gr.memoizedState=dn=d:dn=dn.next=d,dn}function Sa(){if(yr===null){var d=gr.alternate;d=d!==null?d.memoizedState:null}else d=yr.next;var f=dn===null?gr.memoizedState:dn.next;if(f!==null)dn=f,yr=d;else{if(d===null)throw gr.alternate===null?Error(n(467)):Error(n(310));yr=d,d={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},dn===null?gr.memoizedState=dn=d:dn=dn.next=d}return dn}function zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ju(d){var f=Yu;return Yu+=1,Xu===null&&(Xu=[]),d=ut(Xu,d,f),f=gr,(dn===null?f.memoizedState:dn.next)===null&&(f=f.alternate,X.H=f===null||f.memoizedState===null?Vk:Q5),d}function lh(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return Ju(d);if(d.$$typeof===C)return Vs(d)}throw Error(n(438,String(d)))}function zd(d){var f=null,x=gr.updateQueue;if(x!==null&&(f=x.memoCache),f==null){var w=gr.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(f={data:w.data.map(function(j){return j.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),x===null&&(x=zf(),gr.updateQueue=x),x.memoCache=f,x=f.data[f.index],x===void 0)for(x=f.data[f.index]=Array(d),w=0;w<d;w++)x[w]=H;return f.index++,x}function hc(d,f){return typeof f=="function"?f(d):f}function km(d){var f=Sa();return ch(f,yr,d)}function ch(d,f,x){var w=d.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=x;var j=d.baseQueue,F=w.pending;if(F!==null){if(j!==null){var W=j.next;j.next=F.next,F.next=W}f.baseQueue=j=F,w.pending=null}if(F=d.baseState,j===null)d.memoizedState=F;else{f=j.next;var le=W=null,_e=null,Xe=f,At=!1;do{var xt=Xe.lane&-536870913;if(xt!==Xe.lane?(en&xt)===xt:(Na&xt)===xt){var Ze=Xe.revertLane;if(Ze===0)_e!==null&&(_e=_e.next={lane:0,revertLane:0,gesture:null,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),xt===S&&(At=!0);else if((Na&Ze)===Ze){Xe=Xe.next,Ze===S&&(At=!0);continue}else xt={lane:0,revertLane:Xe.revertLane,gesture:null,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},_e===null?(le=_e=xt,W=F):_e=_e.next=xt,gr.lanes|=Ze,fh|=Ze;xt=Xe.action,ki&&x(F,xt),F=Xe.hasEagerState?Xe.eagerState:x(F,xt)}else Ze={lane:xt,revertLane:Xe.revertLane,gesture:Xe.gesture,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},_e===null?(le=_e=Ze,W=F):_e=_e.next=Ze,gr.lanes|=xt,fh|=xt;Xe=Xe.next}while(Xe!==null&&Xe!==f);if(_e===null?W=F:_e.next=le,!Hs(F,d.memoizedState)&&(Ts=!0,At&&(x=T,x!==null)))throw x;d.memoizedState=F,d.baseState=W,d.baseQueue=_e,w.lastRenderedState=F}return j===null&&(w.lanes=0),[d.memoizedState,w.dispatch]}function Fm(d){var f=Sa(),x=f.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=d;var w=x.dispatch,j=x.pending,F=f.memoizedState;if(j!==null){x.pending=null;var W=j=j.next;do F=d(F,W.action),W=W.next;while(W!==j);Hs(F,f.memoizedState)||(Ts=!0),f.memoizedState=F,f.baseQueue===null&&(f.baseState=F),x.lastRenderedState=F}return[F,w]}function Om(d,f,x){var w=gr,j=Sa(),F=Xr;if(F){if(x===void 0)throw Error(n(407));x=x()}else x=f();var W=!Hs((yr||j).memoizedState,x);if(W&&(j.memoizedState=x,Ts=!0),j=j.queue,P5(Yg.bind(null,w,j,d),[d]),j.getSnapshot!==f||W||dn!==null&&dn.memoizedState.tag&1){if(w.flags|=2048,$d(9,{destroy:void 0},Wg.bind(null,w,j,x,f),null),sa===null)throw Error(n(349));F||(Na&127)!==0||ou(w,f,x)}return x}function ou(d,f,x){d.flags|=16384,d={getSnapshot:f,value:x},f=gr.updateQueue,f===null?(f=zf(),gr.updateQueue=f,f.stores=[d]):(x=f.stores,x===null?f.stores=[d]:x.push(d))}function Wg(d,f,x,w){f.value=x,f.getSnapshot=w,e1(f)&&Xg(d)}function Yg(d,f,x){return x(function(){e1(f)&&Xg(d)})}function e1(d){var f=d.getSnapshot;d=d.value;try{var x=f();return!Hs(d,x)}catch{return!0}}function Xg(d){var f=au(d,2);f!==null&&Zo(f,d,2)}function Zu(d){var f=_s();if(typeof d=="function"){var x=d;if(d=x(),ki){cr(!0);try{x()}finally{cr(!1)}}}return f.memoizedState=f.baseState=d,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:d},f}function t1(d,f,x,w){return d.baseState=x,ch(d,yr,typeof w=="function"?w:hc)}function r1(d,f,x,w,j){if(i1(d))throw Error(n(485));if(d=f.action,d!==null){var F={payload:j,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){F.listeners.push(W)}};X.T!==null?x(!0):F.isTransition=!1,w(F),x=f.pending,x===null?(F.next=f.pending=F,n1(f,F)):(F.next=x.next,f.pending=x.next=F)}}function n1(d,f){var x=f.action,w=f.payload,j=d.state;if(f.isTransition){var F=X.T,W={};X.T=W;try{var le=x(j,w),_e=X.S;_e!==null&&_e(W,le),Jg(d,f,le)}catch(Xe){Kd(d,f,Xe)}finally{F!==null&&W.types!==null&&(F.types=W.types),X.T=F}}else try{F=x(j,w),Jg(d,f,F)}catch(Xe){Kd(d,f,Xe)}}function Jg(d,f,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(w){a1(d,f,w)},function(w){return Kd(d,f,w)}):a1(d,f,x)}function a1(d,f,x){f.status="fulfilled",f.value=x,Dm(f),d.state=x,f=d.pending,f!==null&&(x=f.next,x===f?d.pending=null:(x=x.next,f.next=x,n1(d,x)))}function Kd(d,f,x){var w=d.pending;if(d.pending=null,w!==null){w=w.next;do f.status="rejected",f.reason=x,Dm(f),f=f.next;while(f!==w)}d.action=null}function Dm(d){d=d.listeners;for(var f=0;f<d.length;f++)(0,d[f])()}function Kf(d,f){return f}function fc(d,f){if(Xr){var x=sa.formState;if(x!==null){e:{var w=gr;if(Xr){if(na){t:{for(var j=na,F=Ca;j.nodeType!==8;){if(!F){j=null;break t}if(j=mc(j.nextSibling),j===null){j=null;break t}}F=j.data,j=F==="F!"||F==="F"?j:null}if(j){na=mc(j.nextSibling),w=j.data==="F!";break e}}$u(w)}w=!1}w&&(f=x[0])}}return x=_s(),x.memoizedState=x.baseState=f,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kf,lastRenderedState:f},x.queue=w,x=zk.bind(null,gr,w),w.dispatch=x,w=Zu(!1),F=U5.bind(null,gr,!1,w.queue),w=_s(),j={state:f,dispatch:null,action:d,pending:null},w.queue=j,x=r1.bind(null,gr,j,F,x),j.dispatch=x,w.memoizedState=d,[f,x,!1]}function lu(d){var f=Sa();return cu(f,yr,d)}function cu(d,f,x){if(f=ch(d,f,Kf)[0],d=km(hc)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var w=Ju(f)}catch(W){throw W===Fe?ve:W}else w=f;f=Sa();var j=f.queue,F=j.dispatch;return x!==f.memoizedState&&(gr.flags|=2048,$d(9,{destroy:void 0},Pm.bind(null,j,x),null)),[w,F,d]}function Pm(d,f){d.action=f}function Im(d){var f=Sa(),x=yr;if(x!==null)return cu(f,x,d);Sa(),f=f.memoizedState,x=Sa();var w=x.queue.dispatch;return x.memoizedState=d,[f,w,!1]}function $d(d,f,x,w){return d={tag:d,create:x,deps:w,inst:f,next:null},f=gr.updateQueue,f===null&&(f=zf(),gr.updateQueue=f),x=f.lastEffect,x===null?f.lastEffect=d.next=d:(w=x.next,x.next=d,d.next=w,f.lastEffect=d),d}function s1(){return Sa().memoizedState}function uh(d,f,x,w){var j=_s();gr.flags|=d,j.memoizedState=$d(1|f,{destroy:void 0},x,w===void 0?null:w)}function dh(d,f,x,w){var j=Sa();w=w===void 0?null:w;var F=j.memoizedState.inst;yr!==null&&w!==null&&$g(w,yr.memoizedState.deps)?j.memoizedState=$d(f,F,x,w):(gr.flags|=d,j.memoizedState=$d(1|f,F,x,w))}function _k(d,f){uh(8390656,8,d,f)}function P5(d,f){dh(2048,8,d,f)}function hW(d){gr.flags|=4;var f=gr.updateQueue;if(f===null)f=zf(),gr.updateQueue=f,f.events=[d];else{var x=f.events;x===null?f.events=[d]:x.push(d)}}function Tk(d){var f=Sa().memoizedState;return hW({ref:f,nextImpl:d}),function(){if((Bn&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}function kk(d,f){return dh(4,2,d,f)}function Fk(d,f){return dh(4,4,d,f)}function Ok(d,f){if(typeof f=="function"){d=d();var x=f(d);return function(){typeof x=="function"?x():f(null)}}if(f!=null)return d=d(),f.current=d,function(){f.current=null}}function Dk(d,f,x){x=x!=null?x.concat([d]):null,dh(4,4,Ok.bind(null,f,d),x)}function I5(){}function Pk(d,f){var x=Sa();f=f===void 0?null:f;var w=x.memoizedState;return f!==null&&$g(f,w[1])?w[0]:(x.memoizedState=[d,f],d)}function Ik(d,f){var x=Sa();f=f===void 0?null:f;var w=x.memoizedState;if(f!==null&&$g(f,w[1]))return w[0];if(w=d(),ki){cr(!0);try{d()}finally{cr(!1)}}return x.memoizedState=[w,f],w}function L5(d,f,x){return x===void 0||(Na&1073741824)!==0&&(en&261930)===0?d.memoizedState=f:(d.memoizedState=x,d=LF(),gr.lanes|=d,fh|=d,x)}function Lk(d,f,x,w){return Hs(x,f)?x:Kr.current!==null?(d=L5(d,x,w),Hs(d,f)||(Ts=!0),d):(Na&42)===0||(Na&1073741824)!==0&&(en&261930)===0?(Ts=!0,d.memoizedState=x):(d=LF(),gr.lanes|=d,fh|=d,f)}function Mk(d,f,x,w,j){var F=ae.p;ae.p=F!==0&&8>F?F:8;var W=X.T,le={};X.T=le,U5(d,!1,f,x);try{var _e=j(),Xe=X.S;if(Xe!==null&&Xe(le,_e),_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var At=re(_e,w);Zg(d,f,At,_l(d))}else Zg(d,f,w,_l(d))}catch(xt){Zg(d,f,{then:function(){},status:"rejected",reason:xt},_l())}finally{ae.p=F,W!==null&&le.types!==null&&(W.types=le.types),X.T=W}}function fW(){}function M5(d,f,x,w){if(d.tag!==5)throw Error(n(476));var j=Rk(d).queue;Mk(d,j,f,Y,x===null?fW:function(){return Uk(d),x(w)})}function Rk(d){var f=d.memoizedState;if(f!==null)return f;f={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:Y},next:null};var x={};return f.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:x},next:null},d.memoizedState=f,d=d.alternate,d!==null&&(d.memoizedState=f),f}function Uk(d){var f=Rk(d);f.next===null&&(f=d.alternate.memoizedState),Zg(d,f.next.queue,{},_l())}function R5(){return Vs(px)}function Qk(){return Sa().memoizedState}function Hk(){return Sa().memoizedState}function mW(d){for(var f=d.return;f!==null;){switch(f.tag){case 24:case 3:var x=_l();d=Sr(x);var w=Ur(f,d,x);w!==null&&(Zo(w,f,x),Nn(w,f,x)),f={cache:oh()},d.payload=f;return}f=f.return}}function pW(d,f,x){var w=_l();x={lane:w,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},i1(d)?Kk(f,x):(x=gm(d,f,x,w),x!==null&&(Zo(x,d,w),$k(x,f,w)))}function zk(d,f,x){var w=_l();Zg(d,f,x,w)}function Zg(d,f,x,w){var j={lane:w,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(i1(d))Kk(f,j);else{var F=d.alternate;if(d.lanes===0&&(F===null||F.lanes===0)&&(F=f.lastRenderedReducer,F!==null))try{var W=f.lastRenderedState,le=F(W,x);if(j.hasEagerState=!0,j.eagerState=le,Hs(le,W))return If(d,f,j,0),sa===null&&Pf(),!1}catch{}if(x=gm(d,f,j,w),x!==null)return Zo(x,d,w),$k(x,f,w),!0}return!1}function U5(d,f,x,w){if(w={lane:2,revertLane:xN(),gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},i1(d)){if(f)throw Error(n(479))}else f=gm(d,x,w,2),f!==null&&Zo(f,d,2)}function i1(d){var f=d.alternate;return d===gr||f!==null&&f===gr}function Kk(d,f){Go=Wi=!0;var x=d.pending;x===null?f.next=f:(f.next=x.next,x.next=f),d.pending=f}function $k(d,f,x){if((x&4194048)!==0){var w=f.lanes;w&=d.pendingLanes,x|=w,f.lanes=x,ca(d,x)}}var ex={readContext:Vs,use:lh,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useLayoutEffect:Wn,useInsertionEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useSyncExternalStore:Wn,useId:Wn,useHostTransitionStatus:Wn,useFormState:Wn,useActionState:Wn,useOptimistic:Wn,useMemoCache:Wn,useCacheRefresh:Wn};ex.useEffectEvent=Wn;var Vk={readContext:Vs,use:lh,useCallback:function(d,f){return _s().memoizedState=[d,f===void 0?null:f],d},useContext:Vs,useEffect:_k,useImperativeHandle:function(d,f,x){x=x!=null?x.concat([d]):null,uh(4194308,4,Ok.bind(null,f,d),x)},useLayoutEffect:function(d,f){return uh(4194308,4,d,f)},useInsertionEffect:function(d,f){uh(4,2,d,f)},useMemo:function(d,f){var x=_s();f=f===void 0?null:f;var w=d();if(ki){cr(!0);try{d()}finally{cr(!1)}}return x.memoizedState=[w,f],w},useReducer:function(d,f,x){var w=_s();if(x!==void 0){var j=x(f);if(ki){cr(!0);try{x(f)}finally{cr(!1)}}}else j=f;return w.memoizedState=w.baseState=j,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:j},w.queue=d,d=d.dispatch=pW.bind(null,gr,d),[w.memoizedState,d]},useRef:function(d){var f=_s();return d={current:d},f.memoizedState=d},useState:function(d){d=Zu(d);var f=d.queue,x=zk.bind(null,gr,f);return f.dispatch=x,[d.memoizedState,x]},useDebugValue:I5,useDeferredValue:function(d,f){var x=_s();return L5(x,d,f)},useTransition:function(){var d=Zu(!1);return d=Mk.bind(null,gr,d.queue,!0,!1),_s().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,f,x){var w=gr,j=_s();if(Xr){if(x===void 0)throw Error(n(407));x=x()}else{if(x=f(),sa===null)throw Error(n(349));(en&127)!==0||ou(w,f,x)}j.memoizedState=x;var F={value:x,getSnapshot:f};return j.queue=F,_k(Yg.bind(null,w,F,d),[d]),w.flags|=2048,$d(9,{destroy:void 0},Wg.bind(null,w,F,x,f),null),x},useId:function(){var d=_s(),f=sa.identifierPrefix;if(Xr){var x=Vo,w=$o;x=(w&~(1<<32-Br(w)-1)).toString(32)+x,f="_"+f+"R_"+x,x=rs++,0<x&&(f+="H"+x.toString(32)),f+="_"}else x=jm++,f="_"+f+"r_"+x.toString(32)+"_";return d.memoizedState=f},useHostTransitionStatus:R5,useFormState:fc,useActionState:fc,useOptimistic:function(d){var f=_s();f.memoizedState=f.baseState=d;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=x,f=U5.bind(null,gr,!0,x),x.dispatch=f,[d,f]},useMemoCache:zd,useCacheRefresh:function(){return _s().memoizedState=mW.bind(null,gr)},useEffectEvent:function(d){var f=_s(),x={impl:d};return f.memoizedState=x,function(){if((Bn&2)!==0)throw Error(n(440));return x.impl.apply(void 0,arguments)}}},Q5={readContext:Vs,use:lh,useCallback:Pk,useContext:Vs,useEffect:P5,useImperativeHandle:Dk,useInsertionEffect:kk,useLayoutEffect:Fk,useMemo:Ik,useReducer:km,useRef:s1,useState:function(){return km(hc)},useDebugValue:I5,useDeferredValue:function(d,f){var x=Sa();return Lk(x,yr.memoizedState,d,f)},useTransition:function(){var d=km(hc)[0],f=Sa().memoizedState;return[typeof d=="boolean"?d:Ju(d),f]},useSyncExternalStore:Om,useId:Qk,useHostTransitionStatus:R5,useFormState:lu,useActionState:lu,useOptimistic:function(d,f){var x=Sa();return t1(x,yr,d,f)},useMemoCache:zd,useCacheRefresh:Hk};Q5.useEffectEvent=Tk;var qk={readContext:Vs,use:lh,useCallback:Pk,useContext:Vs,useEffect:P5,useImperativeHandle:Dk,useInsertionEffect:kk,useLayoutEffect:Fk,useMemo:Ik,useReducer:Fm,useRef:s1,useState:function(){return Fm(hc)},useDebugValue:I5,useDeferredValue:function(d,f){var x=Sa();return yr===null?L5(x,d,f):Lk(x,yr.memoizedState,d,f)},useTransition:function(){var d=Fm(hc)[0],f=Sa().memoizedState;return[typeof d=="boolean"?d:Ju(d),f]},useSyncExternalStore:Om,useId:Qk,useHostTransitionStatus:R5,useFormState:Im,useActionState:Im,useOptimistic:function(d,f){var x=Sa();return yr!==null?t1(x,yr,d,f):(x.baseState=d,[d,x.queue.dispatch])},useMemoCache:zd,useCacheRefresh:Hk};qk.useEffectEvent=Tk;function H5(d,f,x,w){f=d.memoizedState,x=x(w,f),x=x==null?f:h({},f,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var z5={enqueueSetState:function(d,f,x){d=d._reactInternals;var w=_l(),j=Sr(w);j.payload=f,x!=null&&(j.callback=x),f=Ur(d,j,w),f!==null&&(Zo(f,d,w),Nn(f,d,w))},enqueueReplaceState:function(d,f,x){d=d._reactInternals;var w=_l(),j=Sr(w);j.tag=1,j.payload=f,x!=null&&(j.callback=x),f=Ur(d,j,w),f!==null&&(Zo(f,d,w),Nn(f,d,w))},enqueueForceUpdate:function(d,f){d=d._reactInternals;var x=_l(),w=Sr(x);w.tag=2,f!=null&&(w.callback=f),f=Ur(d,w,x),f!==null&&(Zo(f,d,x),Nn(f,d,x))}};function Gk(d,f,x,w,j,F,W){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(w,F,W):f.prototype&&f.prototype.isPureReactComponent?!eu(x,w)||!eu(j,F):!0}function Wk(d,f,x,w){d=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(x,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(x,w),f.state!==d&&z5.enqueueReplaceState(f,f.state,null)}function $f(d,f){var x=f;if("ref"in f){x={};for(var w in f)w!=="ref"&&(x[w]=f[w])}if(d=d.defaultProps){x===f&&(x=h({},x));for(var j in d)x[j]===void 0&&(x[j]=d[j])}return x}function Yk(d){Df(d)}function Xk(d){console.error(d)}function Jk(d){Df(d)}function o1(d,f){try{var x=d.onUncaughtError;x(f.value,{componentStack:f.stack})}catch(w){setTimeout(function(){throw w})}}function Zk(d,f,x){try{var w=d.onCaughtError;w(x.value,{componentStack:x.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function K5(d,f,x){return x=Sr(x),x.tag=3,x.payload={element:null},x.callback=function(){o1(d,f)},x}function eF(d){return d=Sr(d),d.tag=3,d}function tF(d,f,x,w){var j=x.type.getDerivedStateFromError;if(typeof j=="function"){var F=w.value;d.payload=function(){return j(F)},d.callback=function(){Zk(f,x,w)}}var W=x.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(d.callback=function(){Zk(f,x,w),typeof j!="function"&&(mh===null?mh=new Set([this]):mh.add(this));var le=w.stack;this.componentDidCatch(w.value,{componentStack:le!==null?le:""})})}function gW(d,f,x,w,j){if(x.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(f=x.alternate,f!==null&&Gu(f,x,j,!0),x=pa.current,x!==null){switch(x.tag){case 31:case 13:return un===null?y1():x.alternate===null&&ns===0&&(ns=3),x.flags&=-257,x.flags|=65536,x.lanes=j,w===Ie?x.flags|=16384:(f=x.updateQueue,f===null?x.updateQueue=new Set([w]):f.add(w),mN(d,w,j)),!1;case 22:return x.flags|=65536,w===Ie?x.flags|=16384:(f=x.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([w])},x.updateQueue=f):(x=f.retryQueue,x===null?f.retryQueue=new Set([w]):x.add(w)),mN(d,w,j)),!1}throw Error(n(435,x.tag))}return mN(d,w,j),y1(),!1}if(Xr)return f=pa.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=j,w!==Bl&&(d=Error(n(422),{cause:w}),sh(Ho(d,x)))):(w!==Bl&&(f=Error(n(423),{cause:w}),sh(Ho(f,x))),d=d.current.alternate,d.flags|=65536,j&=-j,d.lanes|=j,w=Ho(w,x),j=K5(d.stateNode,w,j),As(d,j),ns!==4&&(ns=2)),!1;var F=Error(n(520),{cause:w});if(F=Ho(F,x),lx===null?lx=[F]:lx.push(F),ns!==4&&(ns=2),f===null)return!0;w=Ho(w,x),x=f;do{switch(x.tag){case 3:return x.flags|=65536,d=j&-j,x.lanes|=d,d=K5(x.stateNode,w,d),As(x,d),!1;case 1:if(f=x.type,F=x.stateNode,(x.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(mh===null||!mh.has(F))))return x.flags|=65536,j&=-j,x.lanes|=j,j=eF(j),tF(j,d,x,w),As(x,j),!1}x=x.return}while(x!==null);return!1}var $5=Error(n(461)),Ts=!1;function Fi(d,f,x,w){f.child=d===null?Pr(f,null,x,w):aa(f,d.child,x,w)}function rF(d,f,x,w,j){x=x.render;var F=f.ref;if("ref"in w){var W={};for(var le in w)le!=="ref"&&(W[le]=w[le])}else W=w;return Wu(f),w=Vg(d,f,x,W,F,j),le=qg(),d!==null&&!Ts?(Gg(d,f,j),Vd(d,f,j)):(Xr&&le&&Hg(f),f.flags|=1,Fi(d,f,w,j),f.child)}function nF(d,f,x,w,j){if(d===null){var F=x.type;return typeof F=="function"&&!ym(F)&&F.defaultProps===void 0&&x.compare===null?(f.tag=15,f.type=F,aF(d,f,F,w,j)):(d=rh(x.type,null,w,f,f.mode,j),d.ref=f.ref,d.return=f,f.child=d)}if(F=d.child,!Z5(d,j)){var W=F.memoizedProps;if(x=x.compare,x=x!==null?x:eu,x(W,w)&&d.ref===f.ref)return Vd(d,f,j)}return f.flags|=1,d=Qo(F,w),d.ref=f.ref,d.return=f,f.child=d}function aF(d,f,x,w,j){if(d!==null){var F=d.memoizedProps;if(eu(F,w)&&d.ref===f.ref)if(Ts=!1,f.pendingProps=w=F,Z5(d,j))(d.flags&131072)!==0&&(Ts=!0);else return f.lanes=d.lanes,Vd(d,f,j)}return V5(d,f,x,w,j)}function sF(d,f,x,w){var j=w.children,F=d!==null?d.memoizedState:null;if(d===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),w.mode==="hidden"){if((f.flags&128)!==0){if(F=F!==null?F.baseLanes|x:x,d!==null){for(w=f.child=d.child,j=0;w!==null;)j=j|w.lanes|w.childLanes,w=w.sibling;w=j&~F}else w=0,f.child=null;return iF(d,f,F,x,w)}if((x&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},d!==null&&me(f,F!==null?F.cachePool:null),F!==null?ma(f,F):mn(),es(f);else return w=f.lanes=536870912,iF(d,f,F!==null?F.baseLanes|x:x,x,w)}else F!==null?(me(f,F.cachePool),ma(f,F),ts(),f.memoizedState=null):(d!==null&&me(f,null),mn(),ts());return Fi(d,f,j,x),f.child}function tx(d,f){return d!==null&&d.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function iF(d,f,x,w,j){var F=ue();return F=F===null?null:{parent:Ra._currentValue,pool:F},f.memoizedState={baseLanes:x,cachePool:F},d!==null&&me(f,null),mn(),es(f),d!==null&&Gu(d,f,w,!0),f.childLanes=j,null}function l1(d,f){return f=u1({mode:f.mode,children:f.children},d.mode),f.ref=d.ref,d.child=f,f.return=d,f}function oF(d,f,x){return aa(f,d.child,null,x),d=l1(f,f.pendingProps),d.flags|=2,Dn(f),f.memoizedState=null,d}function xW(d,f,x){var w=f.pendingProps,j=(f.flags&128)!==0;if(f.flags&=-129,d===null){if(Xr){if(w.mode==="hidden")return d=l1(f,w),f.lanes=536870912,tx(null,d);if(Sn(f),(d=na)?(d=yO(d,Ca),d=d!==null&&d.data==="&"?d:null,d!==null&&(f.memoizedState={dehydrated:d,treeContext:Ku!==null?{id:$o,overflow:Vo}:null,retryLane:536870912,hydrationErrors:null},x=vm(d),x.return=f,f.child=x,Ks=f,na=null)):d=null,d===null)throw $u(f);return f.lanes=536870912,null}return l1(f,w)}var F=d.memoizedState;if(F!==null){var W=F.dehydrated;if(Sn(f),j)if(f.flags&256)f.flags&=-257,f=oF(d,f,x);else if(f.memoizedState!==null)f.child=d.child,f.flags|=128,f=null;else throw Error(n(558));else if(Ts||Gu(d,f,x,!1),j=(x&d.childLanes)!==0,Ts||j){if(w=sa,w!==null&&(W=Bs(w,x),W!==0&&W!==F.retryLane))throw F.retryLane=W,au(d,W),Zo(w,d,W),$5;y1(),f=oF(d,f,x)}else d=F.treeContext,na=mc(W.nextSibling),Ks=f,Xr=!0,Ti=null,Ca=!1,d!==null&&Jv(f,d),f=l1(f,w),f.flags|=4096;return f}return d=Qo(d.child,{mode:w.mode,children:w.children}),d.ref=f.ref,f.child=d,d.return=f,d}function c1(d,f){var x=f.ref;if(x===null)d!==null&&d.ref!==null&&(f.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(n(284));(d===null||d.ref!==x)&&(f.flags|=4194816)}}function V5(d,f,x,w,j){return Wu(f),x=Vg(d,f,x,w,void 0,j),w=qg(),d!==null&&!Ts?(Gg(d,f,j),Vd(d,f,j)):(Xr&&w&&Hg(f),f.flags|=1,Fi(d,f,x,j),f.child)}function lF(d,f,x,w,j,F){return Wu(f),f.updateQueue=null,x=iu(f,w,x,j),_m(d),w=qg(),d!==null&&!Ts?(Gg(d,f,F),Vd(d,f,F)):(Xr&&w&&Hg(f),f.flags|=1,Fi(d,f,x,F),f.child)}function cF(d,f,x,w,j){if(Wu(f),f.stateNode===null){var F=zs,W=x.contextType;typeof W=="object"&&W!==null&&(F=Vs(W)),F=new x(w,F),f.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=z5,f.stateNode=F,F._reactInternals=f,F=f.stateNode,F.props=w,F.state=f.memoizedState,F.refs={},Lt(f),W=x.contextType,F.context=typeof W=="object"&&W!==null?Vs(W):zs,F.state=f.memoizedState,W=x.getDerivedStateFromProps,typeof W=="function"&&(H5(f,x,W,w),F.state=f.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(W=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),W!==F.state&&z5.enqueueReplaceState(F,F.state,null),Ja(f,w,F,j),Gn(),F.state=f.memoizedState),typeof F.componentDidMount=="function"&&(f.flags|=4194308),w=!0}else if(d===null){F=f.stateNode;var le=f.memoizedProps,_e=$f(x,le);F.props=_e;var Xe=F.context,At=x.contextType;W=zs,typeof At=="object"&&At!==null&&(W=Vs(At));var xt=x.getDerivedStateFromProps;At=typeof xt=="function"||typeof F.getSnapshotBeforeUpdate=="function",le=f.pendingProps!==le,At||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(le||Xe!==W)&&Wk(f,F,w,W),Vt=!1;var Ze=f.memoizedState;F.state=Ze,Ja(f,w,F,j),Gn(),Xe=f.memoizedState,le||Ze!==Xe||Vt?(typeof xt=="function"&&(H5(f,x,xt,w),Xe=f.memoizedState),(_e=Vt||Gk(f,x,_e,w,Ze,Xe,W))?(At||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(f.flags|=4194308)):(typeof F.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=Xe),F.props=w,F.state=Xe,F.context=W,w=_e):(typeof F.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{F=f.stateNode,fa(d,f),W=f.memoizedProps,At=$f(x,W),F.props=At,xt=f.pendingProps,Ze=F.context,Xe=x.contextType,_e=zs,typeof Xe=="object"&&Xe!==null&&(_e=Vs(Xe)),le=x.getDerivedStateFromProps,(Xe=typeof le=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(W!==xt||Ze!==_e)&&Wk(f,F,w,_e),Vt=!1,Ze=f.memoizedState,F.state=Ze,Ja(f,w,F,j),Gn();var nt=f.memoizedState;W!==xt||Ze!==nt||Vt||d!==null&&d.dependencies!==null&&Sm(d.dependencies)?(typeof le=="function"&&(H5(f,x,le,w),nt=f.memoizedState),(At=Vt||Gk(f,x,At,w,Ze,nt,_e)||d!==null&&d.dependencies!==null&&Sm(d.dependencies))?(Xe||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(w,nt,_e),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(w,nt,_e)),typeof F.componentDidUpdate=="function"&&(f.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof F.componentDidUpdate!="function"||W===d.memoizedProps&&Ze===d.memoizedState||(f.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||W===d.memoizedProps&&Ze===d.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=nt),F.props=w,F.state=nt,F.context=_e,w=At):(typeof F.componentDidUpdate!="function"||W===d.memoizedProps&&Ze===d.memoizedState||(f.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||W===d.memoizedProps&&Ze===d.memoizedState||(f.flags|=1024),w=!1)}return F=w,c1(d,f),w=(f.flags&128)!==0,F||w?(F=f.stateNode,x=w&&typeof x.getDerivedStateFromError!="function"?null:F.render(),f.flags|=1,d!==null&&w?(f.child=aa(f,d.child,null,j),f.child=aa(f,null,x,j)):Fi(d,f,x,j),f.memoizedState=F.state,d=f.child):d=Vd(d,f,j),d}function uF(d,f,x,w){return Qd(),f.flags|=256,Fi(d,f,x,w),f.child}var q5={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function G5(d){return{baseLanes:d,cachePool:be()}}function W5(d,f,x){return d=d!==null?d.childLanes&~x:0,f&&(d|=jl),d}function dF(d,f,x){var w=f.pendingProps,j=!1,F=(f.flags&128)!==0,W;if((W=F)||(W=d!==null&&d.memoizedState===null?!1:(on.current&2)!==0),W&&(j=!0,f.flags&=-129),W=(f.flags&32)!==0,f.flags&=-33,d===null){if(Xr){if(j?Ua(f):ts(),(d=na)?(d=yO(d,Ca),d=d!==null&&d.data!=="&"?d:null,d!==null&&(f.memoizedState={dehydrated:d,treeContext:Ku!==null?{id:$o,overflow:Vo}:null,retryLane:536870912,hydrationErrors:null},x=vm(d),x.return=f,f.child=x,Ks=f,na=null)):d=null,d===null)throw $u(f);return kN(d)?f.lanes=32:f.lanes=536870912,null}var le=w.children;return w=w.fallback,j?(ts(),j=f.mode,le=u1({mode:"hidden",children:le},j),w=zu(w,j,x,null),le.return=f,w.return=f,le.sibling=w,f.child=le,w=f.child,w.memoizedState=G5(x),w.childLanes=W5(d,W,x),f.memoizedState=q5,tx(null,w)):(Ua(f),Y5(f,le))}var _e=d.memoizedState;if(_e!==null&&(le=_e.dehydrated,le!==null)){if(F)f.flags&256?(Ua(f),f.flags&=-257,f=X5(d,f,x)):f.memoizedState!==null?(ts(),f.child=d.child,f.flags|=128,f=null):(ts(),le=w.fallback,j=f.mode,w=u1({mode:"visible",children:w.children},j),le=zu(le,j,x,null),le.flags|=2,w.return=f,le.return=f,w.sibling=le,f.child=w,aa(f,d.child,null,x),w=f.child,w.memoizedState=G5(x),w.childLanes=W5(d,W,x),f.memoizedState=q5,f=tx(null,w));else if(Ua(f),kN(le)){if(W=le.nextSibling&&le.nextSibling.dataset,W)var Xe=W.dgst;W=Xe,w=Error(n(419)),w.stack="",w.digest=W,sh({value:w,source:null,stack:null}),f=X5(d,f,x)}else if(Ts||Gu(d,f,x,!1),W=(x&d.childLanes)!==0,Ts||W){if(W=sa,W!==null&&(w=Bs(W,x),w!==0&&w!==_e.retryLane))throw _e.retryLane=w,au(d,w),Zo(W,d,w),$5;TN(le)||y1(),f=X5(d,f,x)}else TN(le)?(f.flags|=192,f.child=d.child,f=null):(d=_e.treeContext,na=mc(le.nextSibling),Ks=f,Xr=!0,Ti=null,Ca=!1,d!==null&&Jv(f,d),f=Y5(f,w.children),f.flags|=4096);return f}return j?(ts(),le=w.fallback,j=f.mode,_e=d.child,Xe=_e.sibling,w=Qo(_e,{mode:"hidden",children:w.children}),w.subtreeFlags=_e.subtreeFlags&65011712,Xe!==null?le=Qo(Xe,le):(le=zu(le,j,x,null),le.flags|=2),le.return=f,w.return=f,w.sibling=le,f.child=w,tx(null,w),w=f.child,le=d.child.memoizedState,le===null?le=G5(x):(j=le.cachePool,j!==null?(_e=Ra._currentValue,j=j.parent!==_e?{parent:_e,pool:_e}:j):j=be(),le={baseLanes:le.baseLanes|x,cachePool:j}),w.memoizedState=le,w.childLanes=W5(d,W,x),f.memoizedState=q5,tx(d.child,w)):(Ua(f),x=d.child,d=x.sibling,x=Qo(x,{mode:"visible",children:w.children}),x.return=f,x.sibling=null,d!==null&&(W=f.deletions,W===null?(f.deletions=[d],f.flags|=16):W.push(d)),f.child=x,f.memoizedState=null,x)}function Y5(d,f){return f=u1({mode:"visible",children:f},d.mode),f.return=d,d.child=f}function u1(d,f){return d=oi(22,d,null,f),d.lanes=0,d}function X5(d,f,x){return aa(f,d.child,null,x),d=Y5(f,f.pendingProps.children),d.flags|=2,f.memoizedState=null,d}function AF(d,f,x){d.lanes|=f;var w=d.alternate;w!==null&&(w.lanes|=f),ih(d.return,f,x)}function J5(d,f,x,w,j,F){var W=d.memoizedState;W===null?d.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:x,tailMode:j,treeForkCount:F}:(W.isBackwards=f,W.rendering=null,W.renderingStartTime=0,W.last=w,W.tail=x,W.tailMode=j,W.treeForkCount=F)}function hF(d,f,x){var w=f.pendingProps,j=w.revealOrder,F=w.tail;w=w.children;var W=on.current,le=(W&2)!==0;if(le?(W=W&1|2,f.flags|=128):W&=1,z(on,W),Fi(d,f,w,x),w=Xr?Uf:0,!le&&d!==null&&(d.flags&128)!==0)e:for(d=f.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&AF(d,x,f);else if(d.tag===19)AF(d,x,f);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(j){case"forwards":for(x=f.child,j=null;x!==null;)d=x.alternate,d!==null&&ci(d)===null&&(j=x),x=x.sibling;x=j,x===null?(j=f.child,f.child=null):(j=x.sibling,x.sibling=null),J5(f,!1,j,x,F,w);break;case"backwards":case"unstable_legacy-backwards":for(x=null,j=f.child,f.child=null;j!==null;){if(d=j.alternate,d!==null&&ci(d)===null){f.child=j;break}d=j.sibling,j.sibling=x,x=j,j=d}J5(f,!0,x,null,F,w);break;case"together":J5(f,!1,null,null,void 0,w);break;default:f.memoizedState=null}return f.child}function Vd(d,f,x){if(d!==null&&(f.dependencies=d.dependencies),fh|=f.lanes,(x&f.childLanes)===0)if(d!==null){if(Gu(d,f,x,!1),(x&f.childLanes)===0)return null}else return null;if(d!==null&&f.child!==d.child)throw Error(n(153));if(f.child!==null){for(d=f.child,x=Qo(d,d.pendingProps),f.child=x,x.return=f;d.sibling!==null;)d=d.sibling,x=x.sibling=Qo(d,d.pendingProps),x.return=f;x.sibling=null}return f.child}function Z5(d,f){return(d.lanes&f)!==0?!0:(d=d.dependencies,!!(d!==null&&Sm(d)))}function yW(d,f,x){switch(f.tag){case 3:Be(f,f.stateNode.containerInfo),qu(f,Ra,d.memoizedState.cache),Qd();break;case 27:case 5:ye(f);break;case 4:Be(f,f.stateNode.containerInfo);break;case 10:qu(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Sn(f),null;break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(Ua(f),f.flags|=128,null):(x&f.child.childLanes)!==0?dF(d,f,x):(Ua(f),d=Vd(d,f,x),d!==null?d.sibling:null);Ua(f);break;case 19:var j=(d.flags&128)!==0;if(w=(x&f.childLanes)!==0,w||(Gu(d,f,x,!1),w=(x&f.childLanes)!==0),j){if(w)return hF(d,f,x);f.flags|=128}if(j=f.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),z(on,on.current),w)break;return null;case 22:return f.lanes=0,sF(d,f,x,f.pendingProps);case 24:qu(f,Ra,d.memoizedState.cache)}return Vd(d,f,x)}function fF(d,f,x){if(d!==null)if(d.memoizedProps!==f.pendingProps)Ts=!0;else{if(!Z5(d,x)&&(f.flags&128)===0)return Ts=!1,yW(d,f,x);Ts=(d.flags&131072)!==0}else Ts=!1,Xr&&(f.flags&1048576)!==0&&Xv(f,Uf,f.index);switch(f.lanes=0,f.tag){case 16:e:{var w=f.pendingProps;if(d=$e(f.elementType),f.type=d,typeof d=="function")ym(d)?(w=$f(d,w),f.tag=1,f=cF(null,f,d,w,x)):(f.tag=0,f=V5(null,f,d,w,x));else{if(d!=null){var j=d.$$typeof;if(j===E){f.tag=11,f=rF(null,f,d,w,x);break e}else if(j===O){f.tag=14,f=nF(null,f,d,w,x);break e}}throw f=K(d)||d,Error(n(306,f,""))}}return f;case 0:return V5(d,f,f.type,f.pendingProps,x);case 1:return w=f.type,j=$f(w,f.pendingProps),cF(d,f,w,j,x);case 3:e:{if(Be(f,f.stateNode.containerInfo),d===null)throw Error(n(387));w=f.pendingProps;var F=f.memoizedState;j=F.element,fa(d,f),Ja(f,w,null,x);var W=f.memoizedState;if(w=W.cache,qu(f,Ra,w),w!==F.cache&&Hd(f,[Ra],x,!0),Gn(),w=W.element,F.isDehydrated)if(F={element:w,isDehydrated:!1,cache:W.cache},f.updateQueue.baseState=F,f.memoizedState=F,f.flags&256){f=uF(d,f,w,x);break e}else if(w!==j){j=Ho(Error(n(424)),f),sh(j),f=uF(d,f,w,x);break e}else for(d=f.stateNode.containerInfo,d.nodeType===9?d=d.body:d=d.nodeName==="HTML"?d.ownerDocument.body:d,na=mc(d.firstChild),Ks=f,Xr=!0,Ti=null,Ca=!0,x=Pr(f,null,w,x),f.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Qd(),w===j){f=Vd(d,f,x);break e}Fi(d,f,w,x)}f=f.child}return f;case 26:return c1(d,f),d===null?(x=SO(f.type,null,f.pendingProps,null))?f.memoizedState=x:Xr||(x=f.type,d=f.pendingProps,w=B1(ne.current).createElement(x),w[fe]=f,w[ge]=d,Oi(w,x,d),Gt(w),f.stateNode=w):f.memoizedState=SO(f.type,d.memoizedProps,f.pendingProps,d.memoizedState),null;case 27:return ye(f),d===null&&Xr&&(w=f.stateNode=wO(f.type,f.pendingProps,ne.current),Ks=f,Ca=!0,j=na,yh(f.type)?(FN=j,na=mc(w.firstChild)):na=j),Fi(d,f,f.pendingProps.children,x),c1(d,f),d===null&&(f.flags|=4194304),f.child;case 5:return d===null&&Xr&&((j=w=na)&&(w=WW(w,f.type,f.pendingProps,Ca),w!==null?(f.stateNode=w,Ks=f,na=mc(w.firstChild),Ca=!1,j=!0):j=!1),j||$u(f)),ye(f),j=f.type,F=f.pendingProps,W=d!==null?d.memoizedProps:null,w=F.children,EN(j,F)?w=null:W!==null&&EN(j,W)&&(f.flags|=32),f.memoizedState!==null&&(j=Vg(d,f,D5,null,null,x),px._currentValue=j),c1(d,f),Fi(d,f,w,x),f.child;case 6:return d===null&&Xr&&((d=x=na)&&(x=YW(x,f.pendingProps,Ca),x!==null?(f.stateNode=x,Ks=f,na=null,d=!0):d=!1),d||$u(f)),null;case 13:return dF(d,f,x);case 4:return Be(f,f.stateNode.containerInfo),w=f.pendingProps,d===null?f.child=aa(f,null,w,x):Fi(d,f,w,x),f.child;case 11:return rF(d,f,f.type,f.pendingProps,x);case 7:return Fi(d,f,f.pendingProps,x),f.child;case 8:return Fi(d,f,f.pendingProps.children,x),f.child;case 12:return Fi(d,f,f.pendingProps.children,x),f.child;case 10:return w=f.pendingProps,qu(f,f.type,w.value),Fi(d,f,w.children,x),f.child;case 9:return j=f.type._context,w=f.pendingProps.children,Wu(f),j=Vs(j),w=w(j),f.flags|=1,Fi(d,f,w,x),f.child;case 14:return nF(d,f,f.type,f.pendingProps,x);case 15:return aF(d,f,f.type,f.pendingProps,x);case 19:return hF(d,f,x);case 31:return xW(d,f,x);case 22:return sF(d,f,x,f.pendingProps);case 24:return Wu(f),w=Vs(Ra),d===null?(j=ue(),j===null&&(j=sa,F=oh(),j.pooledCache=F,F.refCount++,F!==null&&(j.pooledCacheLanes|=x),j=F),f.memoizedState={parent:w,cache:j},Lt(f),qu(f,Ra,j)):((d.lanes&x)!==0&&(fa(d,f),Ja(f,null,null,x),Gn()),j=d.memoizedState,F=f.memoizedState,j.parent!==w?(j={parent:w,cache:w},f.memoizedState=j,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=j),qu(f,Ra,w)):(w=F.cache,qu(f,Ra,w),w!==j.cache&&Hd(f,[Ra],x,!0))),Fi(d,f,f.pendingProps.children,x),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function qd(d){d.flags|=4}function eN(d,f,x,w,j){if((f=(d.mode&32)!==0)&&(f=!1),f){if(d.flags|=16777216,(j&335544128)===j)if(d.stateNode.complete)d.flags|=8192;else if(QF())d.flags|=8192;else throw lt=Ie,Ge}else d.flags&=-16777217}function mF(d,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!TO(f))if(QF())d.flags|=8192;else throw lt=Ie,Ge}function d1(d,f){f!==null&&(d.flags|=4),d.flags&16384&&(f=d.tag!==22?Rs():536870912,d.lanes|=f,Um|=f)}function rx(d,f){if(!Xr)switch(d.tailMode){case"hidden":f=d.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var w=null;x!==null;)x.alternate!==null&&(w=x),x=x.sibling;w===null?f||d.tail===null?d.tail=null:d.tail.sibling=null:w.sibling=null}}function ga(d){var f=d.alternate!==null&&d.alternate.child===d.child,x=0,w=0;if(f)for(var j=d.child;j!==null;)x|=j.lanes|j.childLanes,w|=j.subtreeFlags&65011712,w|=j.flags&65011712,j.return=d,j=j.sibling;else for(j=d.child;j!==null;)x|=j.lanes|j.childLanes,w|=j.subtreeFlags,w|=j.flags,j.return=d,j=j.sibling;return d.subtreeFlags|=w,d.childLanes=x,f}function vW(d,f,x){var w=f.pendingProps;switch(Cm(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ga(f),null;case 1:return ga(f),null;case 3:return x=f.stateNode,w=null,d!==null&&(w=d.memoizedState.cache),f.memoizedState.cache!==w&&(f.flags|=2048),qo(Ra),Ae(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(d===null||d.child===null)&&($s(f)?qd(f):d===null||d.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Kg())),ga(f),null;case 26:var j=f.type,F=f.memoizedState;return d===null?(qd(f),F!==null?(ga(f),mF(f,F)):(ga(f),eN(f,j,null,w,x))):F?F!==d.memoizedState?(qd(f),ga(f),mF(f,F)):(ga(f),f.flags&=-16777217):(d=d.memoizedProps,d!==w&&qd(f),ga(f),eN(f,j,d,w,x)),null;case 27:if(Pe(f),x=ne.current,j=f.type,d!==null&&f.stateNode!=null)d.memoizedProps!==w&&qd(f);else{if(!w){if(f.stateNode===null)throw Error(n(166));return ga(f),null}d=V.current,$s(f)?zg(f):(d=wO(j,w,x),f.stateNode=d,qd(f))}return ga(f),null;case 5:if(Pe(f),j=f.type,d!==null&&f.stateNode!=null)d.memoizedProps!==w&&qd(f);else{if(!w){if(f.stateNode===null)throw Error(n(166));return ga(f),null}if(F=V.current,$s(f))zg(f);else{var W=B1(ne.current);switch(F){case 1:F=W.createElementNS("http://www.w3.org/2000/svg",j);break;case 2:F=W.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;default:switch(j){case"svg":F=W.createElementNS("http://www.w3.org/2000/svg",j);break;case"math":F=W.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;case"script":F=W.createElement("div"),F.innerHTML="<script><\/script>",F=F.removeChild(F.firstChild);break;case"select":F=typeof w.is=="string"?W.createElement("select",{is:w.is}):W.createElement("select"),w.multiple?F.multiple=!0:w.size&&(F.size=w.size);break;default:F=typeof w.is=="string"?W.createElement(j,{is:w.is}):W.createElement(j)}}F[fe]=f,F[ge]=w;e:for(W=f.child;W!==null;){if(W.tag===5||W.tag===6)F.appendChild(W.stateNode);else if(W.tag!==4&&W.tag!==27&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===f)break e;for(;W.sibling===null;){if(W.return===null||W.return===f)break e;W=W.return}W.sibling.return=W.return,W=W.sibling}f.stateNode=F;e:switch(Oi(F,j,w),j){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}w&&qd(f)}}return ga(f),eN(f,f.type,d===null?null:d.memoizedProps,f.pendingProps,x),null;case 6:if(d&&f.stateNode!=null)d.memoizedProps!==w&&qd(f);else{if(typeof w!="string"&&f.stateNode===null)throw Error(n(166));if(d=ne.current,$s(f)){if(d=f.stateNode,x=f.memoizedProps,w=null,j=Ks,j!==null)switch(j.tag){case 27:case 5:w=j.memoizedProps}d[fe]=f,d=!!(d.nodeValue===x||w!==null&&w.suppressHydrationWarning===!0||dO(d.nodeValue,x)),d||$u(f,!0)}else d=B1(d).createTextNode(w),d[fe]=f,f.stateNode=d}return ga(f),null;case 31:if(x=f.memoizedState,d===null||d.memoizedState!==null){if(w=$s(f),x!==null){if(d===null){if(!w)throw Error(n(318));if(d=f.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(557));d[fe]=f}else Qd(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ga(f),d=!1}else x=Kg(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=x),d=!0;if(!d)return f.flags&256?(Dn(f),f):(Dn(f),null);if((f.flags&128)!==0)throw Error(n(558))}return ga(f),null;case 13:if(w=f.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(j=$s(f),w!==null&&w.dehydrated!==null){if(d===null){if(!j)throw Error(n(318));if(j=f.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[fe]=f}else Qd(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ga(f),j=!1}else j=Kg(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=j),j=!0;if(!j)return f.flags&256?(Dn(f),f):(Dn(f),null)}return Dn(f),(f.flags&128)!==0?(f.lanes=x,f):(x=w!==null,d=d!==null&&d.memoizedState!==null,x&&(w=f.child,j=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(j=w.alternate.memoizedState.cachePool.pool),F=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(F=w.memoizedState.cachePool.pool),F!==j&&(w.flags|=2048)),x!==d&&x&&(f.child.flags|=8192),d1(f,f.updateQueue),ga(f),null);case 4:return Ae(),d===null&&wN(f.stateNode.containerInfo),ga(f),null;case 10:return qo(f.type),ga(f),null;case 19:if(I(on),w=f.memoizedState,w===null)return ga(f),null;if(j=(f.flags&128)!==0,F=w.rendering,F===null)if(j)rx(w,!1);else{if(ns!==0||d!==null&&(d.flags&128)!==0)for(d=f.child;d!==null;){if(F=ci(d),F!==null){for(f.flags|=128,rx(w,!1),d=F.updateQueue,f.updateQueue=d,d1(f,d),f.subtreeFlags=0,d=x,x=f.child;x!==null;)Mf(x,d),x=x.sibling;return z(on,on.current&1|2),Xr&&bo(f,w.treeForkCount),f.child}d=d.sibling}w.tail!==null&&vt()>p1&&(f.flags|=128,j=!0,rx(w,!1),f.lanes=4194304)}else{if(!j)if(d=ci(F),d!==null){if(f.flags|=128,j=!0,d=d.updateQueue,f.updateQueue=d,d1(f,d),rx(w,!0),w.tail===null&&w.tailMode==="hidden"&&!F.alternate&&!Xr)return ga(f),null}else 2*vt()-w.renderingStartTime>p1&&x!==536870912&&(f.flags|=128,j=!0,rx(w,!1),f.lanes=4194304);w.isBackwards?(F.sibling=f.child,f.child=F):(d=w.last,d!==null?d.sibling=F:f.child=F,w.last=F)}return w.tail!==null?(d=w.tail,w.rendering=d,w.tail=d.sibling,w.renderingStartTime=vt(),d.sibling=null,x=on.current,z(on,j?x&1|2:x&1),Xr&&bo(f,w.treeForkCount),d):(ga(f),null);case 22:case 23:return Dn(f),hs(),w=f.memoizedState!==null,d!==null?d.memoizedState!==null!==w&&(f.flags|=8192):w&&(f.flags|=8192),w?(x&536870912)!==0&&(f.flags&128)===0&&(ga(f),f.subtreeFlags&6&&(f.flags|=8192)):ga(f),x=f.updateQueue,x!==null&&d1(f,x.retryQueue),x=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),w=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==x&&(f.flags|=2048),d!==null&&I(oe),null;case 24:return x=null,d!==null&&(x=d.memoizedState.cache),f.memoizedState.cache!==x&&(f.flags|=2048),qo(Ra),ga(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function bW(d,f){switch(Cm(f),f.tag){case 1:return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 3:return qo(Ra),Ae(),d=f.flags,(d&65536)!==0&&(d&128)===0?(f.flags=d&-65537|128,f):null;case 26:case 27:case 5:return Pe(f),null;case 31:if(f.memoizedState!==null){if(Dn(f),f.alternate===null)throw Error(n(340));Qd()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 13:if(Dn(f),d=f.memoizedState,d!==null&&d.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Qd()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 19:return I(on),null;case 4:return Ae(),null;case 10:return qo(f.type),null;case 22:case 23:return Dn(f),hs(),d!==null&&I(oe),d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 24:return qo(Ra),null;case 25:return null;default:return null}}function pF(d,f){switch(Cm(f),f.tag){case 3:qo(Ra),Ae();break;case 26:case 27:case 5:Pe(f);break;case 4:Ae();break;case 31:f.memoizedState!==null&&Dn(f);break;case 13:Dn(f);break;case 19:I(on);break;case 10:qo(f.type);break;case 22:case 23:Dn(f),hs(),d!==null&&I(oe);break;case 24:qo(Ra)}}function nx(d,f){try{var x=f.updateQueue,w=x!==null?x.lastEffect:null;if(w!==null){var j=w.next;x=j;do{if((x.tag&d)===d){w=void 0;var F=x.create,W=x.inst;w=F(),W.destroy=w}x=x.next}while(x!==j)}}catch(le){In(f,f.return,le)}}function Ah(d,f,x){try{var w=f.updateQueue,j=w!==null?w.lastEffect:null;if(j!==null){var F=j.next;w=F;do{if((w.tag&d)===d){var W=w.inst,le=W.destroy;if(le!==void 0){W.destroy=void 0,j=f;var _e=x,Xe=le;try{Xe()}catch(At){In(j,_e,At)}}}w=w.next}while(w!==F)}}catch(At){In(f,f.return,At)}}function gF(d){var f=d.updateQueue;if(f!==null){var x=d.stateNode;try{Za(f,x)}catch(w){In(d,d.return,w)}}}function xF(d,f,x){x.props=$f(d.type,d.memoizedProps),x.state=d.memoizedState;try{x.componentWillUnmount()}catch(w){In(d,f,w)}}function ax(d,f){try{var x=d.ref;if(x!==null){switch(d.tag){case 26:case 27:case 5:var w=d.stateNode;break;case 30:w=d.stateNode;break;default:w=d.stateNode}typeof x=="function"?d.refCleanup=x(w):x.current=w}}catch(j){In(d,f,j)}}function ed(d,f){var x=d.ref,w=d.refCleanup;if(x!==null)if(typeof w=="function")try{w()}catch(j){In(d,f,j)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(j){In(d,f,j)}else x.current=null}function yF(d){var f=d.type,x=d.memoizedProps,w=d.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":x.autoFocus&&w.focus();break e;case"img":x.src?w.src=x.src:x.srcSet&&(w.srcset=x.srcSet)}}catch(j){In(d,d.return,j)}}function tN(d,f,x){try{var w=d.stateNode;zW(w,d.type,x,f),w[ge]=f}catch(j){In(d,d.return,j)}}function vF(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&yh(d.type)||d.tag===4}function rN(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||vF(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&yh(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function nN(d,f,x){var w=d.tag;if(w===5||w===6)d=d.stateNode,f?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(d,f):(f=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,f.appendChild(d),x=x._reactRootContainer,x!=null||f.onclick!==null||(f.onclick=vl));else if(w!==4&&(w===27&&yh(d.type)&&(x=d.stateNode,f=null),d=d.child,d!==null))for(nN(d,f,x),d=d.sibling;d!==null;)nN(d,f,x),d=d.sibling}function A1(d,f,x){var w=d.tag;if(w===5||w===6)d=d.stateNode,f?x.insertBefore(d,f):x.appendChild(d);else if(w!==4&&(w===27&&yh(d.type)&&(x=d.stateNode),d=d.child,d!==null))for(A1(d,f,x),d=d.sibling;d!==null;)A1(d,f,x),d=d.sibling}function bF(d){var f=d.stateNode,x=d.memoizedProps;try{for(var w=d.type,j=f.attributes;j.length;)f.removeAttributeNode(j[0]);Oi(f,w,x),f[fe]=d,f[ge]=x}catch(F){In(d,d.return,F)}}var Gd=!1,ks=!1,aN=!1,wF=typeof WeakSet=="function"?WeakSet:Set,ui=null;function wW(d,f){if(d=d.containerInfo,SN=O1,d=ru(d),uc(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var w=x.getSelection&&x.getSelection();if(w&&w.rangeCount!==0){x=w.anchorNode;var j=w.anchorOffset,F=w.focusNode;w=w.focusOffset;try{x.nodeType,F.nodeType}catch{x=null;break e}var W=0,le=-1,_e=-1,Xe=0,At=0,xt=d,Ze=null;t:for(;;){for(var nt;xt!==x||j!==0&&xt.nodeType!==3||(le=W+j),xt!==F||w!==0&&xt.nodeType!==3||(_e=W+w),xt.nodeType===3&&(W+=xt.nodeValue.length),(nt=xt.firstChild)!==null;)Ze=xt,xt=nt;for(;;){if(xt===d)break t;if(Ze===x&&++Xe===j&&(le=W),Ze===F&&++At===w&&(_e=W),(nt=xt.nextSibling)!==null)break;xt=Ze,Ze=xt.parentNode}xt=nt}x=le===-1||_e===-1?null:{start:le,end:_e}}else x=null}x=x||{start:0,end:0}}else x=null;for(BN={focusedElem:d,selectionRange:x},O1=!1,ui=f;ui!==null;)if(f=ui,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,ui=d;else for(;ui!==null;){switch(f=ui,F=f.alternate,d=f.flags,f.tag){case 0:if((d&4)!==0&&(d=f.updateQueue,d=d!==null?d.events:null,d!==null))for(x=0;x<d.length;x++)j=d[x],j.ref.impl=j.nextImpl;break;case 11:case 15:break;case 1:if((d&1024)!==0&&F!==null){d=void 0,x=f,j=F.memoizedProps,F=F.memoizedState,w=x.stateNode;try{var tr=$f(x.type,j);d=w.getSnapshotBeforeUpdate(tr,F),w.__reactInternalSnapshotBeforeUpdate=d}catch(Er){In(x,x.return,Er)}}break;case 3:if((d&1024)!==0){if(d=f.stateNode.containerInfo,x=d.nodeType,x===9)_N(d);else if(x===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":_N(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(n(163))}if(d=f.sibling,d!==null){d.return=f.return,ui=d;break}ui=f.return}}function CF(d,f,x){var w=x.flags;switch(x.tag){case 0:case 11:case 15:Yd(d,x),w&4&&nx(5,x);break;case 1:if(Yd(d,x),w&4)if(d=x.stateNode,f===null)try{d.componentDidMount()}catch(W){In(x,x.return,W)}else{var j=$f(x.type,f.memoizedProps);f=f.memoizedState;try{d.componentDidUpdate(j,f,d.__reactInternalSnapshotBeforeUpdate)}catch(W){In(x,x.return,W)}}w&64&&gF(x),w&512&&ax(x,x.return);break;case 3:if(Yd(d,x),w&64&&(d=x.updateQueue,d!==null)){if(f=null,x.child!==null)switch(x.child.tag){case 27:case 5:f=x.child.stateNode;break;case 1:f=x.child.stateNode}try{Za(d,f)}catch(W){In(x,x.return,W)}}break;case 27:f===null&&w&4&&bF(x);case 26:case 5:Yd(d,x),f===null&&w&4&&yF(x),w&512&&ax(x,x.return);break;case 12:Yd(d,x);break;case 31:Yd(d,x),w&4&&BF(d,x);break;case 13:Yd(d,x),w&4&&EF(d,x),w&64&&(d=x.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(x=kW.bind(null,x),XW(d,x))));break;case 22:if(w=x.memoizedState!==null||Gd,!w){f=f!==null&&f.memoizedState!==null||ks,j=Gd;var F=ks;Gd=w,(ks=f)&&!F?Xd(d,x,(x.subtreeFlags&8772)!==0):Yd(d,x),Gd=j,ks=F}break;case 30:break;default:Yd(d,x)}}function NF(d){var f=d.alternate;f!==null&&(d.alternate=null,NF(f)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(f=d.stateNode,f!==null&&St(f)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var Ba=null,Wo=!1;function Wd(d,f,x){for(x=x.child;x!==null;)SF(d,f,x),x=x.sibling}function SF(d,f,x){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(It,x)}catch{}switch(x.tag){case 26:ks||ed(x,f),Wd(d,f,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:ks||ed(x,f);var w=Ba,j=Wo;yh(x.type)&&(Ba=x.stateNode,Wo=!1),Wd(d,f,x),hx(x.stateNode),Ba=w,Wo=j;break;case 5:ks||ed(x,f);case 6:if(w=Ba,j=Wo,Ba=null,Wd(d,f,x),Ba=w,Wo=j,Ba!==null)if(Wo)try{(Ba.nodeType===9?Ba.body:Ba.nodeName==="HTML"?Ba.ownerDocument.body:Ba).removeChild(x.stateNode)}catch(F){In(x,f,F)}else try{Ba.removeChild(x.stateNode)}catch(F){In(x,f,F)}break;case 18:Ba!==null&&(Wo?(d=Ba,gO(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,x.stateNode),Gm(d)):gO(Ba,x.stateNode));break;case 4:w=Ba,j=Wo,Ba=x.stateNode.containerInfo,Wo=!0,Wd(d,f,x),Ba=w,Wo=j;break;case 0:case 11:case 14:case 15:Ah(2,x,f),ks||Ah(4,x,f),Wd(d,f,x);break;case 1:ks||(ed(x,f),w=x.stateNode,typeof w.componentWillUnmount=="function"&&xF(x,f,w)),Wd(d,f,x);break;case 21:Wd(d,f,x);break;case 22:ks=(w=ks)||x.memoizedState!==null,Wd(d,f,x),ks=w;break;default:Wd(d,f,x)}}function BF(d,f){if(f.memoizedState===null&&(d=f.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{Gm(d)}catch(x){In(f,f.return,x)}}}function EF(d,f){if(f.memoizedState===null&&(d=f.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{Gm(d)}catch(x){In(f,f.return,x)}}function CW(d){switch(d.tag){case 31:case 13:case 19:var f=d.stateNode;return f===null&&(f=d.stateNode=new wF),f;case 22:return d=d.stateNode,f=d._retryCache,f===null&&(f=d._retryCache=new wF),f;default:throw Error(n(435,d.tag))}}function h1(d,f){var x=CW(d);f.forEach(function(w){if(!x.has(w)){x.add(w);var j=FW.bind(null,d,w);w.then(j,j)}})}function Yo(d,f){var x=f.deletions;if(x!==null)for(var w=0;w<x.length;w++){var j=x[w],F=d,W=f,le=W;e:for(;le!==null;){switch(le.tag){case 27:if(yh(le.type)){Ba=le.stateNode,Wo=!1;break e}break;case 5:Ba=le.stateNode,Wo=!1;break e;case 3:case 4:Ba=le.stateNode.containerInfo,Wo=!0;break e}le=le.return}if(Ba===null)throw Error(n(160));SF(F,W,j),Ba=null,Wo=!1,F=j.alternate,F!==null&&(F.return=null),j.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)jF(f,d),f=f.sibling}var uu=null;function jF(d,f){var x=d.alternate,w=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:Yo(f,d),Xo(d),w&4&&(Ah(3,d,d.return),nx(3,d),Ah(5,d,d.return));break;case 1:Yo(f,d),Xo(d),w&512&&(ks||x===null||ed(x,x.return)),w&64&&Gd&&(d=d.updateQueue,d!==null&&(w=d.callbacks,w!==null&&(x=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=x===null?w:x.concat(w))));break;case 26:var j=uu;if(Yo(f,d),Xo(d),w&512&&(ks||x===null||ed(x,x.return)),w&4){var F=x!==null?x.memoizedState:null;if(w=d.memoizedState,x===null)if(w===null)if(d.stateNode===null){e:{w=d.type,x=d.memoizedProps,j=j.ownerDocument||j;t:switch(w){case"title":F=j.getElementsByTagName("title")[0],(!F||F[We]||F[fe]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=j.createElement(w),j.head.insertBefore(F,j.querySelector("head > title"))),Oi(F,w,x),F[fe]=d,Gt(F),w=F;break e;case"link":var W=jO("link","href",j).get(w+(x.href||""));if(W){for(var le=0;le<W.length;le++)if(F=W[le],F.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&F.getAttribute("rel")===(x.rel==null?null:x.rel)&&F.getAttribute("title")===(x.title==null?null:x.title)&&F.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){W.splice(le,1);break t}}F=j.createElement(w),Oi(F,w,x),j.head.appendChild(F);break;case"meta":if(W=jO("meta","content",j).get(w+(x.content||""))){for(le=0;le<W.length;le++)if(F=W[le],F.getAttribute("content")===(x.content==null?null:""+x.content)&&F.getAttribute("name")===(x.name==null?null:x.name)&&F.getAttribute("property")===(x.property==null?null:x.property)&&F.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&F.getAttribute("charset")===(x.charSet==null?null:x.charSet)){W.splice(le,1);break t}}F=j.createElement(w),Oi(F,w,x),j.head.appendChild(F);break;default:throw Error(n(468,w))}F[fe]=d,Gt(F),w=F}d.stateNode=w}else _O(j,d.type,d.stateNode);else d.stateNode=EO(j,w,d.memoizedProps);else F!==w?(F===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):F.count--,w===null?_O(j,d.type,d.stateNode):EO(j,w,d.memoizedProps)):w===null&&d.stateNode!==null&&tN(d,d.memoizedProps,x.memoizedProps)}break;case 27:Yo(f,d),Xo(d),w&512&&(ks||x===null||ed(x,x.return)),x!==null&&w&4&&tN(d,d.memoizedProps,x.memoizedProps);break;case 5:if(Yo(f,d),Xo(d),w&512&&(ks||x===null||ed(x,x.return)),d.flags&32){j=d.stateNode;try{yl(j,"")}catch(tr){In(d,d.return,tr)}}w&4&&d.stateNode!=null&&(j=d.memoizedProps,tN(d,j,x!==null?x.memoizedProps:j)),w&1024&&(aN=!0);break;case 6:if(Yo(f,d),Xo(d),w&4){if(d.stateNode===null)throw Error(n(162));w=d.memoizedProps,x=d.stateNode;try{x.nodeValue=w}catch(tr){In(d,d.return,tr)}}break;case 3:if(_1=null,j=uu,uu=E1(f.containerInfo),Yo(f,d),uu=j,Xo(d),w&4&&x!==null&&x.memoizedState.isDehydrated)try{Gm(f.containerInfo)}catch(tr){In(d,d.return,tr)}aN&&(aN=!1,_F(d));break;case 4:w=uu,uu=E1(d.stateNode.containerInfo),Yo(f,d),Xo(d),uu=w;break;case 12:Yo(f,d),Xo(d);break;case 31:Yo(f,d),Xo(d),w&4&&(w=d.updateQueue,w!==null&&(d.updateQueue=null,h1(d,w)));break;case 13:Yo(f,d),Xo(d),d.child.flags&8192&&d.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(m1=vt()),w&4&&(w=d.updateQueue,w!==null&&(d.updateQueue=null,h1(d,w)));break;case 22:j=d.memoizedState!==null;var _e=x!==null&&x.memoizedState!==null,Xe=Gd,At=ks;if(Gd=Xe||j,ks=At||_e,Yo(f,d),ks=At,Gd=Xe,Xo(d),w&8192)e:for(f=d.stateNode,f._visibility=j?f._visibility&-2:f._visibility|1,j&&(x===null||_e||Gd||ks||Vf(d)),x=null,f=d;;){if(f.tag===5||f.tag===26){if(x===null){_e=x=f;try{if(F=_e.stateNode,j)W=F.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{le=_e.stateNode;var xt=_e.memoizedProps.style,Ze=xt!=null&&xt.hasOwnProperty("display")?xt.display:null;le.style.display=Ze==null||typeof Ze=="boolean"?"":(""+Ze).trim()}}catch(tr){In(_e,_e.return,tr)}}}else if(f.tag===6){if(x===null){_e=f;try{_e.stateNode.nodeValue=j?"":_e.memoizedProps}catch(tr){In(_e,_e.return,tr)}}}else if(f.tag===18){if(x===null){_e=f;try{var nt=_e.stateNode;j?xO(nt,!0):xO(_e.stateNode,!1)}catch(tr){In(_e,_e.return,tr)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===d)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;x===f&&(x=null),f=f.return}x===f&&(x=null),f.sibling.return=f.return,f=f.sibling}w&4&&(w=d.updateQueue,w!==null&&(x=w.retryQueue,x!==null&&(w.retryQueue=null,h1(d,x))));break;case 19:Yo(f,d),Xo(d),w&4&&(w=d.updateQueue,w!==null&&(d.updateQueue=null,h1(d,w)));break;case 30:break;case 21:break;default:Yo(f,d),Xo(d)}}function Xo(d){var f=d.flags;if(f&2){try{for(var x,w=d.return;w!==null;){if(vF(w)){x=w;break}w=w.return}if(x==null)throw Error(n(160));switch(x.tag){case 27:var j=x.stateNode,F=rN(d);A1(d,F,j);break;case 5:var W=x.stateNode;x.flags&32&&(yl(W,""),x.flags&=-33);var le=rN(d);A1(d,le,W);break;case 3:case 4:var _e=x.stateNode.containerInfo,Xe=rN(d);nN(d,Xe,_e);break;default:throw Error(n(161))}}catch(At){In(d,d.return,At)}d.flags&=-3}f&4096&&(d.flags&=-4097)}function _F(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var f=d;_F(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),d=d.sibling}}function Yd(d,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)CF(d,f.alternate,f),f=f.sibling}function Vf(d){for(d=d.child;d!==null;){var f=d;switch(f.tag){case 0:case 11:case 14:case 15:Ah(4,f,f.return),Vf(f);break;case 1:ed(f,f.return);var x=f.stateNode;typeof x.componentWillUnmount=="function"&&xF(f,f.return,x),Vf(f);break;case 27:hx(f.stateNode);case 26:case 5:ed(f,f.return),Vf(f);break;case 22:f.memoizedState===null&&Vf(f);break;case 30:Vf(f);break;default:Vf(f)}d=d.sibling}}function Xd(d,f,x){for(x=x&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var w=f.alternate,j=d,F=f,W=F.flags;switch(F.tag){case 0:case 11:case 15:Xd(j,F,x),nx(4,F);break;case 1:if(Xd(j,F,x),w=F,j=w.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(Xe){In(w,w.return,Xe)}if(w=F,j=w.updateQueue,j!==null){var le=w.stateNode;try{var _e=j.shared.hiddenCallbacks;if(_e!==null)for(j.shared.hiddenCallbacks=null,j=0;j<_e.length;j++)li(_e[j],le)}catch(Xe){In(w,w.return,Xe)}}x&&W&64&&gF(F),ax(F,F.return);break;case 27:bF(F);case 26:case 5:Xd(j,F,x),x&&w===null&&W&4&&yF(F),ax(F,F.return);break;case 12:Xd(j,F,x);break;case 31:Xd(j,F,x),x&&W&4&&BF(j,F);break;case 13:Xd(j,F,x),x&&W&4&&EF(j,F);break;case 22:F.memoizedState===null&&Xd(j,F,x),ax(F,F.return);break;case 30:break;default:Xd(j,F,x)}f=f.sibling}}function sN(d,f){var x=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),d=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(d=f.memoizedState.cachePool.pool),d!==x&&(d!=null&&d.refCount++,x!=null&&Qf(x))}function iN(d,f){d=null,f.alternate!==null&&(d=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==d&&(f.refCount++,d!=null&&Qf(d))}function du(d,f,x,w){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)TF(d,f,x,w),f=f.sibling}function TF(d,f,x,w){var j=f.flags;switch(f.tag){case 0:case 11:case 15:du(d,f,x,w),j&2048&&nx(9,f);break;case 1:du(d,f,x,w);break;case 3:du(d,f,x,w),j&2048&&(d=null,f.alternate!==null&&(d=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==d&&(f.refCount++,d!=null&&Qf(d)));break;case 12:if(j&2048){du(d,f,x,w),d=f.stateNode;try{var F=f.memoizedProps,W=F.id,le=F.onPostCommit;typeof le=="function"&&le(W,f.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(_e){In(f,f.return,_e)}}else du(d,f,x,w);break;case 31:du(d,f,x,w);break;case 13:du(d,f,x,w);break;case 23:break;case 22:F=f.stateNode,W=f.alternate,f.memoizedState!==null?F._visibility&2?du(d,f,x,w):sx(d,f):F._visibility&2?du(d,f,x,w):(F._visibility|=2,Lm(d,f,x,w,(f.subtreeFlags&10256)!==0||!1)),j&2048&&sN(W,f);break;case 24:du(d,f,x,w),j&2048&&iN(f.alternate,f);break;default:du(d,f,x,w)}}function Lm(d,f,x,w,j){for(j=j&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var F=d,W=f,le=x,_e=w,Xe=W.flags;switch(W.tag){case 0:case 11:case 15:Lm(F,W,le,_e,j),nx(8,W);break;case 23:break;case 22:var At=W.stateNode;W.memoizedState!==null?At._visibility&2?Lm(F,W,le,_e,j):sx(F,W):(At._visibility|=2,Lm(F,W,le,_e,j)),j&&Xe&2048&&sN(W.alternate,W);break;case 24:Lm(F,W,le,_e,j),j&&Xe&2048&&iN(W.alternate,W);break;default:Lm(F,W,le,_e,j)}f=f.sibling}}function sx(d,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var x=d,w=f,j=w.flags;switch(w.tag){case 22:sx(x,w),j&2048&&sN(w.alternate,w);break;case 24:sx(x,w),j&2048&&iN(w.alternate,w);break;default:sx(x,w)}f=f.sibling}}var ix=8192;function Mm(d,f,x){if(d.subtreeFlags&ix)for(d=d.child;d!==null;)kF(d,f,x),d=d.sibling}function kF(d,f,x){switch(d.tag){case 26:Mm(d,f,x),d.flags&ix&&d.memoizedState!==null&&cY(x,uu,d.memoizedState,d.memoizedProps);break;case 5:Mm(d,f,x);break;case 3:case 4:var w=uu;uu=E1(d.stateNode.containerInfo),Mm(d,f,x),uu=w;break;case 22:d.memoizedState===null&&(w=d.alternate,w!==null&&w.memoizedState!==null?(w=ix,ix=16777216,Mm(d,f,x),ix=w):Mm(d,f,x));break;default:Mm(d,f,x)}}function FF(d){var f=d.alternate;if(f!==null&&(d=f.child,d!==null)){f.child=null;do f=d.sibling,d.sibling=null,d=f;while(d!==null)}}function ox(d){var f=d.deletions;if((d.flags&16)!==0){if(f!==null)for(var x=0;x<f.length;x++){var w=f[x];ui=w,DF(w,d)}FF(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)OF(d),d=d.sibling}function OF(d){switch(d.tag){case 0:case 11:case 15:ox(d),d.flags&2048&&Ah(9,d,d.return);break;case 3:ox(d);break;case 12:ox(d);break;case 22:var f=d.stateNode;d.memoizedState!==null&&f._visibility&2&&(d.return===null||d.return.tag!==13)?(f._visibility&=-3,f1(d)):ox(d);break;default:ox(d)}}function f1(d){var f=d.deletions;if((d.flags&16)!==0){if(f!==null)for(var x=0;x<f.length;x++){var w=f[x];ui=w,DF(w,d)}FF(d)}for(d=d.child;d!==null;){switch(f=d,f.tag){case 0:case 11:case 15:Ah(8,f,f.return),f1(f);break;case 22:x=f.stateNode,x._visibility&2&&(x._visibility&=-3,f1(f));break;default:f1(f)}d=d.sibling}}function DF(d,f){for(;ui!==null;){var x=ui;switch(x.tag){case 0:case 11:case 15:Ah(8,x,f);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var w=x.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Qf(x.memoizedState.cache)}if(w=x.child,w!==null)w.return=x,ui=w;else e:for(x=d;ui!==null;){w=ui;var j=w.sibling,F=w.return;if(NF(w),w===x){ui=null;break e}if(j!==null){j.return=F,ui=j;break e}ui=F}}}var NW={getCacheForType:function(d){var f=Vs(Ra),x=f.data.get(d);return x===void 0&&(x=d(),f.data.set(d,x)),x},cacheSignal:function(){return Vs(Ra).controller.signal}},SW=typeof WeakMap=="function"?WeakMap:Map,Bn=0,sa=null,Jr=null,en=0,Pn=0,El=null,hh=!1,Rm=!1,oN=!1,Jd=0,ns=0,fh=0,qf=0,lN=0,jl=0,Um=0,lx=null,Jo=null,cN=!1,m1=0,PF=0,p1=1/0,g1=null,mh=null,Gs=0,ph=null,Qm=null,Zd=0,uN=0,dN=null,IF=null,cx=0,AN=null;function _l(){return(Bn&2)!==0&&en!==0?en&-en:X.T!==null?xN():se()}function LF(){if(jl===0)if((en&536870912)===0||Xr){var d=pt;pt<<=1,(pt&3932160)===0&&(pt=262144),jl=d}else jl=536870912;return d=pa.current,d!==null&&(d.flags|=32),jl}function Zo(d,f,x){(d===sa&&(Pn===2||Pn===9)||d.cancelPendingCommit!==null)&&(Hm(d,0),gh(d,en,jl,!1)),hr(d,x),((Bn&2)===0||d!==sa)&&(d===sa&&((Bn&2)===0&&(qf|=x),ns===4&&gh(d,en,jl,!1)),td(d))}function MF(d,f,x){if((Bn&6)!==0)throw Error(n(327));var w=!x&&(f&127)===0&&(f&d.expiredLanes)===0||jn(d,f),j=w?jW(d,f):fN(d,f,!0),F=w;do{if(j===0){Rm&&!w&&gh(d,f,0,!1);break}else{if(x=d.current.alternate,F&&!BW(x)){j=fN(d,f,!1),F=!1;continue}if(j===2){if(F=f,d.errorRecoveryDisabledLanes&F)var W=0;else W=d.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){f=W;e:{var le=d;j=lx;var _e=le.current.memoizedState.isDehydrated;if(_e&&(Hm(le,W).flags|=256),W=fN(le,W,!1),W!==2){if(oN&&!_e){le.errorRecoveryDisabledLanes|=F,qf|=F,j=4;break e}F=Jo,Jo=j,F!==null&&(Jo===null?Jo=F:Jo.push.apply(Jo,F))}j=W}if(F=!1,j!==2)continue}}if(j===1){Hm(d,0),gh(d,f,0,!0);break}e:{switch(w=d,F=j,F){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:gh(w,f,jl,!hh);break e;case 2:Jo=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(j=m1+300-vt(),10<j)){if(gh(w,f,jl,!hh),Kt(w,0,!0)!==0)break e;Zd=f,w.timeoutHandle=mO(RF.bind(null,w,x,Jo,g1,cN,f,jl,qf,Um,hh,F,"Throttled",-0,0),j);break e}RF(w,x,Jo,g1,cN,f,jl,qf,Um,hh,F,null,-0,0)}}break}while(!0);td(d)}function RF(d,f,x,w,j,F,W,le,_e,Xe,At,xt,Ze,nt){if(d.timeoutHandle=-1,xt=f.subtreeFlags,xt&8192||(xt&16785408)===16785408){xt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vl},kF(f,F,xt);var tr=(F&62914560)===F?m1-vt():(F&4194048)===F?PF-vt():0;if(tr=uY(xt,tr),tr!==null){Zd=F,d.cancelPendingCommit=tr(qF.bind(null,d,f,F,x,w,j,W,le,_e,At,xt,null,Ze,nt)),gh(d,F,W,!Xe);return}}qF(d,f,F,x,w,j,W,le,_e)}function BW(d){for(var f=d;;){var x=f.tag;if((x===0||x===11||x===15)&&f.flags&16384&&(x=f.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var w=0;w<x.length;w++){var j=x[w],F=j.getSnapshot;j=j.value;try{if(!Hs(F(),j))return!1}catch{return!1}}if(x=f.child,f.subtreeFlags&16384&&x!==null)x.return=f,f=x;else{if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function gh(d,f,x,w){f&=~lN,f&=~qf,d.suspendedLanes|=f,d.pingedLanes&=~f,w&&(d.warmLanes|=f),w=d.expirationTimes;for(var j=f;0<j;){var F=31-Br(j),W=1<<F;w[F]=-1,j&=~W}x!==0&&Wa(d,x,f)}function x1(){return(Bn&6)===0?(ux(0),!1):!0}function hN(){if(Jr!==null){if(Pn===0)var d=Jr.return;else d=Jr,Ac=Vu=null,Tm(d),yt=null,ar=0,d=Jr;for(;d!==null;)pF(d.alternate,d),d=d.return;Jr=null}}function Hm(d,f){var x=d.timeoutHandle;x!==-1&&(d.timeoutHandle=-1,VW(x)),x=d.cancelPendingCommit,x!==null&&(d.cancelPendingCommit=null,x()),Zd=0,hN(),sa=d,Jr=x=Qo(d.current,null),en=f,Pn=0,El=null,hh=!1,Rm=jn(d,f),oN=!1,Um=jl=lN=qf=fh=ns=0,Jo=lx=null,cN=!1,(f&8)!==0&&(f|=f&32);var w=d.entangledLanes;if(w!==0)for(d=d.entanglements,w&=f;0<w;){var j=31-Br(w),F=1<<j;f|=d[j],w&=~F}return Jd=f,Pf(),x}function UF(d,f){gr=null,X.H=ex,f===Fe||f===ve?(f=ft(),Pn=3):f===Ge?(f=ft(),Pn=4):Pn=f===$5?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,El=f,Jr===null&&(ns=1,o1(d,Ho(f,d.current)))}function QF(){var d=pa.current;return d===null?!0:(en&4194048)===en?un===null:(en&62914560)===en||(en&536870912)!==0?d===un:!1}function HF(){var d=X.H;return X.H=ex,d===null?ex:d}function zF(){var d=X.A;return X.A=NW,d}function y1(){ns=4,hh||(en&4194048)!==en&&pa.current!==null||(Rm=!0),(fh&134217727)===0&&(qf&134217727)===0||sa===null||gh(sa,en,jl,!1)}function fN(d,f,x){var w=Bn;Bn|=2;var j=HF(),F=zF();(sa!==d||en!==f)&&(g1=null,Hm(d,f)),f=!1;var W=ns;e:do try{if(Pn!==0&&Jr!==null){var le=Jr,_e=El;switch(Pn){case 8:hN(),W=6;break e;case 3:case 2:case 9:case 6:pa.current===null&&(f=!0);var Xe=Pn;if(Pn=0,El=null,zm(d,le,_e,Xe),x&&Rm){W=0;break e}break;default:Xe=Pn,Pn=0,El=null,zm(d,le,_e,Xe)}}EW(),W=ns;break}catch(At){UF(d,At)}while(!0);return f&&d.shellSuspendCounter++,Ac=Vu=null,Bn=w,X.H=j,X.A=F,Jr===null&&(sa=null,en=0,Pf()),W}function EW(){for(;Jr!==null;)KF(Jr)}function jW(d,f){var x=Bn;Bn|=2;var w=HF(),j=zF();sa!==d||en!==f?(g1=null,p1=vt()+500,Hm(d,f)):Rm=jn(d,f);e:do try{if(Pn!==0&&Jr!==null){f=Jr;var F=El;t:switch(Pn){case 1:Pn=0,El=null,zm(d,f,F,1);break;case 2:case 9:if(Qe(F)){Pn=0,El=null,$F(f);break}f=function(){Pn!==2&&Pn!==9||sa!==d||(Pn=7),td(d)},F.then(f,f);break e;case 3:Pn=7;break e;case 4:Pn=5;break e;case 7:Qe(F)?(Pn=0,El=null,$F(f)):(Pn=0,El=null,zm(d,f,F,7));break;case 5:var W=null;switch(Jr.tag){case 26:W=Jr.memoizedState;case 5:case 27:var le=Jr;if(W?TO(W):le.stateNode.complete){Pn=0,El=null;var _e=le.sibling;if(_e!==null)Jr=_e;else{var Xe=le.return;Xe!==null?(Jr=Xe,v1(Xe)):Jr=null}break t}}Pn=0,El=null,zm(d,f,F,5);break;case 6:Pn=0,El=null,zm(d,f,F,6);break;case 8:hN(),ns=6;break e;default:throw Error(n(462))}}_W();break}catch(At){UF(d,At)}while(!0);return Ac=Vu=null,X.H=w,X.A=j,Bn=x,Jr!==null?0:(sa=null,en=0,Pf(),ns)}function _W(){for(;Jr!==null&&!Et();)KF(Jr)}function KF(d){var f=fF(d.alternate,d,Jd);d.memoizedProps=d.pendingProps,f===null?v1(d):Jr=f}function $F(d){var f=d,x=f.alternate;switch(f.tag){case 15:case 0:f=lF(x,f,f.pendingProps,f.type,void 0,en);break;case 11:f=lF(x,f,f.pendingProps,f.type.render,f.ref,en);break;case 5:Tm(f);default:pF(x,f),f=Jr=Mf(f,Jd),f=fF(x,f,Jd)}d.memoizedProps=d.pendingProps,f===null?v1(d):Jr=f}function zm(d,f,x,w){Ac=Vu=null,Tm(f),yt=null,ar=0;var j=f.return;try{if(gW(d,j,f,x,en)){ns=1,o1(d,Ho(x,d.current)),Jr=null;return}}catch(F){if(j!==null)throw Jr=j,F;ns=1,o1(d,Ho(x,d.current)),Jr=null;return}f.flags&32768?(Xr||w===1?d=!0:Rm||(en&536870912)!==0?d=!1:(hh=d=!0,(w===2||w===9||w===3||w===6)&&(w=pa.current,w!==null&&w.tag===13&&(w.flags|=16384))),VF(f,d)):v1(f)}function v1(d){var f=d;do{if((f.flags&32768)!==0){VF(f,hh);return}d=f.return;var x=vW(f.alternate,f,Jd);if(x!==null){Jr=x;return}if(f=f.sibling,f!==null){Jr=f;return}Jr=f=d}while(f!==null);ns===0&&(ns=5)}function VF(d,f){do{var x=bW(d.alternate,d);if(x!==null){x.flags&=32767,Jr=x;return}if(x=d.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!f&&(d=d.sibling,d!==null)){Jr=d;return}Jr=d=x}while(d!==null);ns=6,Jr=null}function qF(d,f,x,w,j,F,W,le,_e){d.cancelPendingCommit=null;do b1();while(Gs!==0);if((Bn&6)!==0)throw Error(n(327));if(f!==null){if(f===d.current)throw Error(n(177));if(F=f.lanes|f.childLanes,F|=pm,ba(d,x,F,W,le,_e),d===sa&&(Jr=sa=null,en=0),Qm=f,ph=d,Zd=x,uN=F,dN=j,IF=w,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,OW(Bt,function(){return JF(),null})):(d.callbackNode=null,d.callbackPriority=0),w=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||w){w=X.T,X.T=null,j=ae.p,ae.p=2,W=Bn,Bn|=4;try{wW(d,f,x)}finally{Bn=W,ae.p=j,X.T=w}}Gs=1,GF(),WF(),YF()}}function GF(){if(Gs===1){Gs=0;var d=ph,f=Qm,x=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||x){x=X.T,X.T=null;var w=ae.p;ae.p=2;var j=Bn;Bn|=4;try{jF(f,d);var F=BN,W=ru(d.containerInfo),le=F.focusedElem,_e=F.selectionRange;if(W!==le&&le&&le.ownerDocument&&tu(le.ownerDocument.documentElement,le)){if(_e!==null&&uc(le)){var Xe=_e.start,At=_e.end;if(At===void 0&&(At=Xe),"selectionStart"in le)le.selectionStart=Xe,le.selectionEnd=Math.min(At,le.value.length);else{var xt=le.ownerDocument||document,Ze=xt&&xt.defaultView||window;if(Ze.getSelection){var nt=Ze.getSelection(),tr=le.textContent.length,Er=Math.min(_e.start,tr),Xn=_e.end===void 0?Er:Math.min(_e.end,tr);!nt.extend&&Er>Xn&&(W=Xn,Xn=Er,Er=W);var Ue=th(le,Er),Oe=th(le,Xn);if(Ue&&Oe&&(nt.rangeCount!==1||nt.anchorNode!==Ue.node||nt.anchorOffset!==Ue.offset||nt.focusNode!==Oe.node||nt.focusOffset!==Oe.offset)){var Ye=xt.createRange();Ye.setStart(Ue.node,Ue.offset),nt.removeAllRanges(),Er>Xn?(nt.addRange(Ye),nt.extend(Oe.node,Oe.offset)):(Ye.setEnd(Oe.node,Oe.offset),nt.addRange(Ye))}}}}for(xt=[],nt=le;nt=nt.parentNode;)nt.nodeType===1&&xt.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof le.focus=="function"&&le.focus(),le=0;le<xt.length;le++){var gt=xt[le];gt.element.scrollLeft=gt.left,gt.element.scrollTop=gt.top}}O1=!!SN,BN=SN=null}finally{Bn=j,ae.p=w,X.T=x}}d.current=f,Gs=2}}function WF(){if(Gs===2){Gs=0;var d=ph,f=Qm,x=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||x){x=X.T,X.T=null;var w=ae.p;ae.p=2;var j=Bn;Bn|=4;try{CF(d,f.alternate,f)}finally{Bn=j,ae.p=w,X.T=x}}Gs=3}}function YF(){if(Gs===4||Gs===3){Gs=0,Me();var d=ph,f=Qm,x=Zd,w=IF;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Gs=5:(Gs=0,Qm=ph=null,XF(d,d.pendingLanes));var j=d.pendingLanes;if(j===0&&(mh=null),wa(x),f=f.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(It,f,void 0,(f.current.flags&128)===128)}catch{}if(w!==null){f=X.T,j=ae.p,ae.p=2,X.T=null;try{for(var F=d.onRecoverableError,W=0;W<w.length;W++){var le=w[W];F(le.value,{componentStack:le.stack})}}finally{X.T=f,ae.p=j}}(Zd&3)!==0&&b1(),td(d),j=d.pendingLanes,(x&261930)!==0&&(j&42)!==0?d===AN?cx++:(cx=0,AN=d):cx=0,ux(0)}}function XF(d,f){(d.pooledCacheLanes&=f)===0&&(f=d.pooledCache,f!=null&&(d.pooledCache=null,Qf(f)))}function b1(){return GF(),WF(),YF(),JF()}function JF(){if(Gs!==5)return!1;var d=ph,f=uN;uN=0;var x=wa(Zd),w=X.T,j=ae.p;try{ae.p=32>x?32:x,X.T=null,x=dN,dN=null;var F=ph,W=Zd;if(Gs=0,Qm=ph=null,Zd=0,(Bn&6)!==0)throw Error(n(331));var le=Bn;if(Bn|=4,OF(F.current),TF(F,F.current,W,x),Bn=le,ux(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(It,F)}catch{}return!0}finally{ae.p=j,X.T=w,XF(d,f)}}function ZF(d,f,x){f=Ho(x,f),f=K5(d.stateNode,f,2),d=Ur(d,f,2),d!==null&&(hr(d,2),td(d))}function In(d,f,x){if(d.tag===3)ZF(d,d,x);else for(;f!==null;){if(f.tag===3){ZF(f,d,x);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(mh===null||!mh.has(w))){d=Ho(x,d),x=eF(2),w=Ur(f,x,2),w!==null&&(tF(x,w,f,d),hr(w,2),td(w));break}}f=f.return}}function mN(d,f,x){var w=d.pingCache;if(w===null){w=d.pingCache=new SW;var j=new Set;w.set(f,j)}else j=w.get(f),j===void 0&&(j=new Set,w.set(f,j));j.has(x)||(oN=!0,j.add(x),d=TW.bind(null,d,f,x),f.then(d,d))}function TW(d,f,x){var w=d.pingCache;w!==null&&w.delete(f),d.pingedLanes|=d.suspendedLanes&x,d.warmLanes&=~x,sa===d&&(en&x)===x&&(ns===4||ns===3&&(en&62914560)===en&&300>vt()-m1?(Bn&2)===0&&Hm(d,0):lN|=x,Um===en&&(Um=0)),td(d)}function eO(d,f){f===0&&(f=Rs()),d=au(d,f),d!==null&&(hr(d,f),td(d))}function kW(d){var f=d.memoizedState,x=0;f!==null&&(x=f.retryLane),eO(d,x)}function FW(d,f){var x=0;switch(d.tag){case 31:case 13:var w=d.stateNode,j=d.memoizedState;j!==null&&(x=j.retryLane);break;case 19:w=d.stateNode;break;case 22:w=d.stateNode._retryCache;break;default:throw Error(n(314))}w!==null&&w.delete(f),eO(d,x)}function OW(d,f){return ze(d,f)}var w1=null,Km=null,pN=!1,C1=!1,gN=!1,xh=0;function td(d){d!==Km&&d.next===null&&(Km===null?w1=Km=d:Km=Km.next=d),C1=!0,pN||(pN=!0,PW())}function ux(d,f){if(!gN&&C1){gN=!0;do for(var x=!1,w=w1;w!==null;){if(d!==0){var j=w.pendingLanes;if(j===0)var F=0;else{var W=w.suspendedLanes,le=w.pingedLanes;F=(1<<31-Br(42|d)+1)-1,F&=j&~(W&~le),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(x=!0,aO(w,F))}else F=en,F=Kt(w,w===sa?F:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(F&3)===0||jn(w,F)||(x=!0,aO(w,F));w=w.next}while(x);gN=!1}}function DW(){tO()}function tO(){C1=pN=!1;var d=0;xh!==0&&$W()&&(d=xh);for(var f=vt(),x=null,w=w1;w!==null;){var j=w.next,F=rO(w,f);F===0?(w.next=null,x===null?w1=j:x.next=j,j===null&&(Km=x)):(x=w,(d!==0||(F&3)!==0)&&(C1=!0)),w=j}Gs!==0&&Gs!==5||ux(d),xh!==0&&(xh=0)}function rO(d,f){for(var x=d.suspendedLanes,w=d.pingedLanes,j=d.expirationTimes,F=d.pendingLanes&-62914561;0<F;){var W=31-Br(F),le=1<<W,_e=j[W];_e===-1?((le&x)===0||(le&w)!==0)&&(j[W]=Or(le,f)):_e<=f&&(d.expiredLanes|=le),F&=~le}if(f=sa,x=en,x=Kt(d,d===f?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),w=d.callbackNode,x===0||d===f&&(Pn===2||Pn===9)||d.cancelPendingCommit!==null)return w!==null&&w!==null&&mt(w),d.callbackNode=null,d.callbackPriority=0;if((x&3)===0||jn(d,x)){if(f=x&-x,f===d.callbackPriority)return f;switch(w!==null&&mt(w),wa(x)){case 2:case 8:x=wt;break;case 32:x=Bt;break;case 268435456:x=ot;break;default:x=Bt}return w=nO.bind(null,d),x=ze(x,w),d.callbackPriority=f,d.callbackNode=x,f}return w!==null&&w!==null&&mt(w),d.callbackPriority=2,d.callbackNode=null,2}function nO(d,f){if(Gs!==0&&Gs!==5)return d.callbackNode=null,d.callbackPriority=0,null;var x=d.callbackNode;if(b1()&&d.callbackNode!==x)return null;var w=en;return w=Kt(d,d===sa?w:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),w===0?null:(MF(d,w,f),rO(d,vt()),d.callbackNode!=null&&d.callbackNode===x?nO.bind(null,d):null)}function aO(d,f){if(b1())return null;MF(d,f,!0)}function PW(){qW(function(){(Bn&6)!==0?ze(it,DW):tO()})}function xN(){if(xh===0){var d=S;d===0&&(d=pr,pr<<=1,(pr&261888)===0&&(pr=256)),xh=d}return xh}function sO(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:qi(""+d)}function iO(d,f){var x=f.ownerDocument.createElement("input");return x.name=f.name,x.value=f.value,d.id&&x.setAttribute("form",d.id),f.parentNode.insertBefore(x,f),d=new FormData(d),x.parentNode.removeChild(x),d}function IW(d,f,x,w,j){if(f==="submit"&&x&&x.stateNode===j){var F=sO((j[ge]||null).action),W=w.submitter;W&&(f=(f=W[ge]||null)?sO(f.formAction):W.getAttribute("formAction"),f!==null&&(F=f,W=null));var le=new Mo("action","action",null,w,j);d.push({event:le,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(xh!==0){var _e=W?iO(j,W):new FormData(j);M5(x,{pending:!0,data:_e,method:j.method,action:F},null,_e)}}else typeof F=="function"&&(le.preventDefault(),_e=W?iO(j,W):new FormData(j),M5(x,{pending:!0,data:_e,method:j.method,action:F},F,_e))},currentTarget:j}]})}}for(var yN=0;yN<Md.length;yN++){var vN=Md[yN],LW=vN.toLowerCase(),MW=vN[0].toUpperCase()+vN.slice(1);Uo(LW,"on"+MW)}Uo(Ld,"onAnimationEnd"),Uo(Of,"onAnimationIteration"),Uo(Rg,"onAnimationStart"),Uo("dblclick","onDoubleClick"),Uo("focusin","onFocus"),Uo("focusout","onBlur"),Uo(Gv,"onTransitionRun"),Uo(Wv,"onTransitionStart"),Uo(Yv,"onTransitionCancel"),Uo(Ug,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dx));function oO(d,f){f=(f&4)!==0;for(var x=0;x<d.length;x++){var w=d[x],j=w.event;w=w.listeners;e:{var F=void 0;if(f)for(var W=w.length-1;0<=W;W--){var le=w[W],_e=le.instance,Xe=le.currentTarget;if(le=le.listener,_e!==F&&j.isPropagationStopped())break e;F=le,j.currentTarget=Xe;try{F(j)}catch(At){Df(At)}j.currentTarget=null,F=_e}else for(W=0;W<w.length;W++){if(le=w[W],_e=le.instance,Xe=le.currentTarget,le=le.listener,_e!==F&&j.isPropagationStopped())break e;F=le,j.currentTarget=Xe;try{F(j)}catch(At){Df(At)}j.currentTarget=null,F=_e}}}}function Zr(d,f){var x=f[Ke];x===void 0&&(x=f[Ke]=new Set);var w=d+"__bubble";x.has(w)||(lO(f,d,2,!1),x.add(w))}function bN(d,f,x){var w=0;f&&(w|=4),lO(x,d,w,f)}var N1="_reactListening"+Math.random().toString(36).slice(2);function wN(d){if(!d[N1]){d[N1]=!0,Cn.forEach(function(x){x!=="selectionchange"&&(RW.has(x)||bN(x,!1,d),bN(x,!0,d))});var f=d.nodeType===9?d:d.ownerDocument;f===null||f[N1]||(f[N1]=!0,bN("selectionchange",!1,f))}}function lO(d,f,x,w){switch(LO(f)){case 2:var j=hY;break;case 8:j=fY;break;default:j=LN}x=j.bind(null,f,x,d),j=void 0,!jf||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(j=!0),w?j!==void 0?d.addEventListener(f,x,{capture:!0,passive:j}):d.addEventListener(f,x,!0):j!==void 0?d.addEventListener(f,x,{passive:j}):d.addEventListener(f,x,!1)}function CN(d,f,x,w,j){var F=w;if((f&1)===0&&(f&2)===0&&w!==null)e:for(;;){if(w===null)return;var W=w.tag;if(W===3||W===4){var le=w.stateNode.containerInfo;if(le===j)break;if(W===4)for(W=w.return;W!==null;){var _e=W.tag;if((_e===3||_e===4)&&W.stateNode.containerInfo===j)return;W=W.return}for(;le!==null;){if(W=kt(le),W===null)return;if(_e=W.tag,_e===5||_e===6||_e===26||_e===27){w=F=W;continue e}le=le.parentNode}}w=w.return}dm(function(){var Xe=F,At=Td(x),xt=[];e:{var Ze=Qg.get(d);if(Ze!==void 0){var nt=Mo,tr=d;switch(d){case"keypress":if(Lo(x)===0)break e;case"keydown":case"keyup":nt=an;break;case"focusin":tr="focus",nt=qc;break;case"focusout":tr="blur",nt=qc;break;case"beforeblur":case"afterblur":nt=qc;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=_f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=ds;break;case Ld:case Of:case Rg:nt=M;break;case Ug:nt=Qs;break;case"scroll":case"scrollend":nt=GA;break;case"wheel":nt=bl;break;case"copy":case"cut":case"paste":nt=Ce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Ia;break;case"toggle":case"beforetoggle":nt=Tf}var Er=(f&4)!==0,Xn=!Er&&(d==="scroll"||d==="scrollend"),Ue=Er?Ze!==null?Ze+"Capture":null:Ze;Er=[];for(var Oe=Xe,Ye;Oe!==null;){var gt=Oe;if(Ye=gt.stateNode,gt=gt.tag,gt!==5&&gt!==26&&gt!==27||Ye===null||Ue===null||(gt=po(Oe,Ue),gt!=null&&Er.push(Ax(Oe,gt,Ye))),Xn)break;Oe=Oe.return}0<Er.length&&(Ze=new nt(Ze,tr,null,x,At),xt.push({event:Ze,listeners:Er}))}}if((f&7)===0){e:{if(Ze=d==="mouseover"||d==="pointerover",nt=d==="mouseout"||d==="pointerout",Ze&&x!==Qc&&(tr=x.relatedTarget||x.fromElement)&&(kt(tr)||tr[Ne]))break e;if((nt||Ze)&&(Ze=At.window===At?At:(Ze=At.ownerDocument)?Ze.defaultView||Ze.parentWindow:window,nt?(tr=x.relatedTarget||x.toElement,nt=Xe,tr=tr?kt(tr):null,tr!==null&&(Xn=s(tr),Er=tr.tag,tr!==Xn||Er!==5&&Er!==27&&Er!==6)&&(tr=null)):(nt=null,tr=Xe),nt!==tr)){if(Er=_f,gt="onMouseLeave",Ue="onMouseEnter",Oe="mouse",(d==="pointerout"||d==="pointerover")&&(Er=Ia,gt="onPointerLeave",Ue="onPointerEnter",Oe="pointer"),Xn=nt==null?Ze:_t(nt),Ye=tr==null?Ze:_t(tr),Ze=new Er(gt,Oe+"leave",nt,x,At),Ze.target=Xn,Ze.relatedTarget=Ye,gt=null,kt(At)===Xe&&(Er=new Er(Ue,Oe+"enter",tr,x,At),Er.target=Ye,Er.relatedTarget=Xn,gt=Er),Xn=gt,nt&&tr)t:{for(Er=UW,Ue=nt,Oe=tr,Ye=0,gt=Ue;gt;gt=Er(gt))Ye++;gt=0;for(var vr=Oe;vr;vr=Er(vr))gt++;for(;0<Ye-gt;)Ue=Er(Ue),Ye--;for(;0<gt-Ye;)Oe=Er(Oe),gt--;for(;Ye--;){if(Ue===Oe||Oe!==null&&Ue===Oe.alternate){Er=Ue;break t}Ue=Er(Ue),Oe=Er(Oe)}Er=null}else Er=null;nt!==null&&cO(xt,Ze,nt,Er,!1),tr!==null&&Xn!==null&&cO(xt,Xn,tr,Er,!0)}}e:{if(Ze=Xe?_t(Xe):window,nt=Ze.nodeName&&Ze.nodeName.toLowerCase(),nt==="select"||nt==="input"&&Ze.type==="file")var gn=Hu;else if(kf(Ze))if(Gi)gn=lc;else{gn=La;var dr=ZA}else nt=Ze.nodeName,!nt||nt.toLowerCase()!=="input"||Ze.type!=="checkbox"&&Ze.type!=="radio"?Xe&&Sf(Xe.elementType)&&(gn=Hu):gn=mm;if(gn&&(gn=gn(d,Xe))){xo(xt,gn,x,At);break e}dr&&dr(d,Ze,Xe),d==="focusout"&&Xe&&Ze.type==="number"&&Xe.memoizedProps.value!=null&&wf(Ze,"number",Ze.value)}switch(dr=Xe?_t(Xe):window,d){case"focusin":(kf(dr)||dr.contentEditable==="true")&&(yo=dr,nu=Xe,si=null);break;case"focusout":si=nu=yo=null;break;case"mousedown":Ro=!0;break;case"contextmenu":case"mouseup":case"dragend":Ro=!1,fn(xt,x,At);break;case"selectionchange":if(Id)break;case"keydown":case"keyup":fn(xt,x,At)}var Hr;if(ac)e:{switch(d){case"compositionstart":var tn="onCompositionStart";break e;case"compositionend":tn="onCompositionEnd";break e;case"compositionupdate":tn="onCompositionUpdate";break e}tn=void 0}else sc?Qu(d,x)&&(tn="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(tn="onCompositionStart");tn&&(Yc&&x.locale!=="ko"&&(sc||tn!=="onCompositionStart"?tn==="onCompositionEnd"&&sc&&(Hr=Am()):(go=At,Fd="value"in go?go.value:go.textContent,sc=!0)),dr=S1(Xe,tn),0<dr.length&&(tn=new Re(tn,d,null,x,At),xt.push({event:tn,listeners:dr}),Hr?tn.data=Hr:(Hr=YA(x),Hr!==null&&(tn.data=Hr)))),(Hr=Pd?ji(d,x):Xc(d,x))&&(tn=S1(Xe,"onBeforeInput"),0<tn.length&&(dr=new Re("onBeforeInput","beforeinput",null,x,At),xt.push({event:dr,listeners:tn}),dr.data=Hr)),IW(xt,d,Xe,x,At)}oO(xt,f)})}function Ax(d,f,x){return{instance:d,listener:f,currentTarget:x}}function S1(d,f){for(var x=f+"Capture",w=[];d!==null;){var j=d,F=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||F===null||(j=po(d,x),j!=null&&w.unshift(Ax(d,j,F)),j=po(d,f),j!=null&&w.push(Ax(d,j,F))),d.tag===3)return w;d=d.return}return[]}function UW(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function cO(d,f,x,w,j){for(var F=f._reactName,W=[];x!==null&&x!==w;){var le=x,_e=le.alternate,Xe=le.stateNode;if(le=le.tag,_e!==null&&_e===w)break;le!==5&&le!==26&&le!==27||Xe===null||(_e=Xe,j?(Xe=po(x,F),Xe!=null&&W.unshift(Ax(x,Xe,_e))):j||(Xe=po(x,F),Xe!=null&&W.push(Ax(x,Xe,_e)))),x=x.return}W.length!==0&&d.push({event:f,listeners:W})}var QW=/\r\n?/g,HW=/\u0000|\uFFFD/g;function uO(d){return(typeof d=="string"?d:""+d).replace(QW,`
`).replace(HW,"")}function dO(d,f){return f=uO(f),uO(d)===f}function Yn(d,f,x,w,j,F){switch(x){case"children":typeof w=="string"?f==="body"||f==="textarea"&&w===""||yl(d,w):(typeof w=="number"||typeof w=="bigint")&&f!=="body"&&yl(d,""+w);break;case"className":Uc(d,"class",w);break;case"tabIndex":Uc(d,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":Uc(d,x,w);break;case"style":lm(d,w,F);break;case"data":if(f!=="object"){Uc(d,"data",w);break}case"src":case"href":if(w===""&&(f!=="a"||x!=="href")){d.removeAttribute(x);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){d.removeAttribute(x);break}w=qi(""+w),d.setAttribute(x,w);break;case"action":case"formAction":if(typeof w=="function"){d.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(x==="formAction"?(f!=="input"&&Yn(d,f,"name",j.name,j,null),Yn(d,f,"formEncType",j.formEncType,j,null),Yn(d,f,"formMethod",j.formMethod,j,null),Yn(d,f,"formTarget",j.formTarget,j,null)):(Yn(d,f,"encType",j.encType,j,null),Yn(d,f,"method",j.method,j,null),Yn(d,f,"target",j.target,j,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){d.removeAttribute(x);break}w=qi(""+w),d.setAttribute(x,w);break;case"onClick":w!=null&&(d.onclick=vl);break;case"onScroll":w!=null&&Zr("scroll",d);break;case"onScrollEnd":w!=null&&Zr("scrollend",d);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(x=w.__html,x!=null){if(j.children!=null)throw Error(n(60));d.innerHTML=x}}break;case"multiple":d.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":d.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){d.removeAttribute("xlink:href");break}x=qi(""+w),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?d.setAttribute(x,""+w):d.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?d.setAttribute(x,""):d.removeAttribute(x);break;case"capture":case"download":w===!0?d.setAttribute(x,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?d.setAttribute(x,w):d.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?d.setAttribute(x,w):d.removeAttribute(x);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?d.removeAttribute(x):d.setAttribute(x,w);break;case"popover":Zr("beforetoggle",d),Zr("toggle",d),Aa(d,"popover",w);break;case"xlinkActuate":xl(d,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":xl(d,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":xl(d,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":xl(d,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":xl(d,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":xl(d,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":xl(d,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":xl(d,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":xl(d,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Aa(d,"is",w);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=Bf.get(x)||x,Aa(d,x,w))}}function NN(d,f,x,w,j,F){switch(x){case"style":lm(d,w,F);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(x=w.__html,x!=null){if(j.children!=null)throw Error(n(60));d.innerHTML=x}}break;case"children":typeof w=="string"?yl(d,w):(typeof w=="number"||typeof w=="bigint")&&yl(d,""+w);break;case"onScroll":w!=null&&Zr("scroll",d);break;case"onScrollEnd":w!=null&&Zr("scrollend",d);break;case"onClick":w!=null&&(d.onclick=vl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qr.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(j=x.endsWith("Capture"),f=x.slice(2,j?x.length-7:void 0),F=d[ge]||null,F=F!=null?F[x]:null,typeof F=="function"&&d.removeEventListener(f,F,j),typeof w=="function")){typeof F!="function"&&F!==null&&(x in d?d[x]=null:d.hasAttribute(x)&&d.removeAttribute(x)),d.addEventListener(f,w,j);break e}x in d?d[x]=w:w===!0?d.setAttribute(x,""):Aa(d,x,w)}}}function Oi(d,f,x){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zr("error",d),Zr("load",d);var w=!1,j=!1,F;for(F in x)if(x.hasOwnProperty(F)){var W=x[F];if(W!=null)switch(F){case"src":w=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Yn(d,f,F,W,x,null)}}j&&Yn(d,f,"srcSet",x.srcSet,x,null),w&&Yn(d,f,"src",x.src,x,null);return;case"input":Zr("invalid",d);var le=F=W=j=null,_e=null,Xe=null;for(w in x)if(x.hasOwnProperty(w)){var At=x[w];if(At!=null)switch(w){case"name":j=At;break;case"type":W=At;break;case"checked":_e=At;break;case"defaultChecked":Xe=At;break;case"value":F=At;break;case"defaultValue":le=At;break;case"children":case"dangerouslySetInnerHTML":if(At!=null)throw Error(n(137,f));break;default:Yn(d,f,w,At,x,null)}}im(d,F,le,_e,Xe,W,j,!1);return;case"select":Zr("invalid",d),w=W=F=null;for(j in x)if(x.hasOwnProperty(j)&&(le=x[j],le!=null))switch(j){case"value":F=le;break;case"defaultValue":W=le;break;case"multiple":w=le;default:Yn(d,f,j,le,x,null)}f=F,x=W,d.multiple=!!w,f!=null?Ei(d,!!w,f,!1):x!=null&&Ei(d,!!w,x,!0);return;case"textarea":Zr("invalid",d),F=j=w=null;for(W in x)if(x.hasOwnProperty(W)&&(le=x[W],le!=null))switch(W){case"value":w=le;break;case"defaultValue":j=le;break;case"children":F=le;break;case"dangerouslySetInnerHTML":if(le!=null)throw Error(n(91));break;default:Yn(d,f,W,le,x,null)}Nf(d,w,j,F);return;case"option":for(_e in x)x.hasOwnProperty(_e)&&(w=x[_e],w!=null)&&(_e==="selected"?d.selected=w&&typeof w!="function"&&typeof w!="symbol":Yn(d,f,_e,w,x,null));return;case"dialog":Zr("beforetoggle",d),Zr("toggle",d),Zr("cancel",d),Zr("close",d);break;case"iframe":case"object":Zr("load",d);break;case"video":case"audio":for(w=0;w<dx.length;w++)Zr(dx[w],d);break;case"image":Zr("error",d),Zr("load",d);break;case"details":Zr("toggle",d);break;case"embed":case"source":case"link":Zr("error",d),Zr("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in x)if(x.hasOwnProperty(Xe)&&(w=x[Xe],w!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Yn(d,f,Xe,w,x,null)}return;default:if(Sf(f)){for(At in x)x.hasOwnProperty(At)&&(w=x[At],w!==void 0&&NN(d,f,At,w,x,void 0));return}}for(le in x)x.hasOwnProperty(le)&&(w=x[le],w!=null&&Yn(d,f,le,w,x,null))}function zW(d,f,x,w){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,F=null,W=null,le=null,_e=null,Xe=null,At=null;for(nt in x){var xt=x[nt];if(x.hasOwnProperty(nt)&&xt!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":_e=xt;default:w.hasOwnProperty(nt)||Yn(d,f,nt,null,w,xt)}}for(var Ze in w){var nt=w[Ze];if(xt=x[Ze],w.hasOwnProperty(Ze)&&(nt!=null||xt!=null))switch(Ze){case"type":F=nt;break;case"name":j=nt;break;case"checked":Xe=nt;break;case"defaultChecked":At=nt;break;case"value":W=nt;break;case"defaultValue":le=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(n(137,f));break;default:nt!==xt&&Yn(d,f,Ze,nt,w,xt)}}$A(d,W,le,_e,Xe,At,F,j);return;case"select":nt=W=le=Ze=null;for(F in x)if(_e=x[F],x.hasOwnProperty(F)&&_e!=null)switch(F){case"value":break;case"multiple":nt=_e;default:w.hasOwnProperty(F)||Yn(d,f,F,null,w,_e)}for(j in w)if(F=w[j],_e=x[j],w.hasOwnProperty(j)&&(F!=null||_e!=null))switch(j){case"value":Ze=F;break;case"defaultValue":le=F;break;case"multiple":W=F;default:F!==_e&&Yn(d,f,j,F,w,_e)}f=le,x=W,w=nt,Ze!=null?Ei(d,!!x,Ze,!1):!!w!=!!x&&(f!=null?Ei(d,!!x,f,!0):Ei(d,!!x,x?[]:"",!1));return;case"textarea":nt=Ze=null;for(le in x)if(j=x[le],x.hasOwnProperty(le)&&j!=null&&!w.hasOwnProperty(le))switch(le){case"value":break;case"children":break;default:Yn(d,f,le,null,w,j)}for(W in w)if(j=w[W],F=x[W],w.hasOwnProperty(W)&&(j!=null||F!=null))switch(W){case"value":Ze=j;break;case"defaultValue":nt=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(n(91));break;default:j!==F&&Yn(d,f,W,j,w,F)}Cf(d,Ze,nt);return;case"option":for(var tr in x)Ze=x[tr],x.hasOwnProperty(tr)&&Ze!=null&&!w.hasOwnProperty(tr)&&(tr==="selected"?d.selected=!1:Yn(d,f,tr,null,w,Ze));for(_e in w)Ze=w[_e],nt=x[_e],w.hasOwnProperty(_e)&&Ze!==nt&&(Ze!=null||nt!=null)&&(_e==="selected"?d.selected=Ze&&typeof Ze!="function"&&typeof Ze!="symbol":Yn(d,f,_e,Ze,w,nt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Er in x)Ze=x[Er],x.hasOwnProperty(Er)&&Ze!=null&&!w.hasOwnProperty(Er)&&Yn(d,f,Er,null,w,Ze);for(Xe in w)if(Ze=w[Xe],nt=x[Xe],w.hasOwnProperty(Xe)&&Ze!==nt&&(Ze!=null||nt!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(Ze!=null)throw Error(n(137,f));break;default:Yn(d,f,Xe,Ze,w,nt)}return;default:if(Sf(f)){for(var Xn in x)Ze=x[Xn],x.hasOwnProperty(Xn)&&Ze!==void 0&&!w.hasOwnProperty(Xn)&&NN(d,f,Xn,void 0,w,Ze);for(At in w)Ze=w[At],nt=x[At],!w.hasOwnProperty(At)||Ze===nt||Ze===void 0&&nt===void 0||NN(d,f,At,Ze,w,nt);return}}for(var Ue in x)Ze=x[Ue],x.hasOwnProperty(Ue)&&Ze!=null&&!w.hasOwnProperty(Ue)&&Yn(d,f,Ue,null,w,Ze);for(xt in w)Ze=w[xt],nt=x[xt],!w.hasOwnProperty(xt)||Ze===nt||Ze==null&&nt==null||Yn(d,f,xt,Ze,w,nt)}function AO(d){switch(d){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KW(){if(typeof performance.getEntriesByType=="function"){for(var d=0,f=0,x=performance.getEntriesByType("resource"),w=0;w<x.length;w++){var j=x[w],F=j.transferSize,W=j.initiatorType,le=j.duration;if(F&&le&&AO(W)){for(W=0,le=j.responseEnd,w+=1;w<x.length;w++){var _e=x[w],Xe=_e.startTime;if(Xe>le)break;var At=_e.transferSize,xt=_e.initiatorType;At&&AO(xt)&&(_e=_e.responseEnd,W+=At*(_e<le?1:(le-Xe)/(_e-Xe)))}if(--w,f+=8*(F+W)/(j.duration/1e3),d++,10<d)break}}if(0<d)return f/d/1e6}return navigator.connection&&(d=navigator.connection.downlink,typeof d=="number")?d:5}var SN=null,BN=null;function B1(d){return d.nodeType===9?d:d.ownerDocument}function hO(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fO(d,f){if(d===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&f==="foreignObject"?0:d}function EN(d,f){return d==="textarea"||d==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var jN=null;function $W(){var d=window.event;return d&&d.type==="popstate"?d===jN?!1:(jN=d,!0):(jN=null,!1)}var mO=typeof setTimeout=="function"?setTimeout:void 0,VW=typeof clearTimeout=="function"?clearTimeout:void 0,pO=typeof Promise=="function"?Promise:void 0,qW=typeof queueMicrotask=="function"?queueMicrotask:typeof pO<"u"?function(d){return pO.resolve(null).then(d).catch(GW)}:mO;function GW(d){setTimeout(function(){throw d})}function yh(d){return d==="head"}function gO(d,f){var x=f,w=0;do{var j=x.nextSibling;if(d.removeChild(x),j&&j.nodeType===8)if(x=j.data,x==="/$"||x==="/&"){if(w===0){d.removeChild(j),Gm(f);return}w--}else if(x==="$"||x==="$?"||x==="$~"||x==="$!"||x==="&")w++;else if(x==="html")hx(d.ownerDocument.documentElement);else if(x==="head"){x=d.ownerDocument.head,hx(x);for(var F=x.firstChild;F;){var W=F.nextSibling,le=F.nodeName;F[We]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&F.rel.toLowerCase()==="stylesheet"||x.removeChild(F),F=W}}else x==="body"&&hx(d.ownerDocument.body);x=j}while(x);Gm(f)}function xO(d,f){var x=d;d=0;do{var w=x.nextSibling;if(x.nodeType===1?f?(x._stashedDisplay=x.style.display,x.style.display="none"):(x.style.display=x._stashedDisplay||"",x.getAttribute("style")===""&&x.removeAttribute("style")):x.nodeType===3&&(f?(x._stashedText=x.nodeValue,x.nodeValue=""):x.nodeValue=x._stashedText||""),w&&w.nodeType===8)if(x=w.data,x==="/$"){if(d===0)break;d--}else x!=="$"&&x!=="$?"&&x!=="$~"&&x!=="$!"||d++;x=w}while(x)}function _N(d){var f=d.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var x=f;switch(f=f.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":_N(x),St(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}d.removeChild(x)}}function WW(d,f,x,w){for(;d.nodeType===1;){var j=x;if(d.nodeName.toLowerCase()!==f.toLowerCase()){if(!w&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(w){if(!d[We])switch(f){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(F=d.getAttribute("rel"),F==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(F!==j.rel||d.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||d.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||d.getAttribute("title")!==(j.title==null?null:j.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(F=d.getAttribute("src"),(F!==(j.src==null?null:j.src)||d.getAttribute("type")!==(j.type==null?null:j.type)||d.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&F&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(f==="input"&&d.type==="hidden"){var F=j.name==null?null:""+j.name;if(j.type==="hidden"&&d.getAttribute("name")===F)return d}else return d;if(d=mc(d.nextSibling),d===null)break}return null}function YW(d,f,x){if(f==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!x||(d=mc(d.nextSibling),d===null))return null;return d}function yO(d,f){for(;d.nodeType!==8;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!f||(d=mc(d.nextSibling),d===null))return null;return d}function TN(d){return d.data==="$?"||d.data==="$~"}function kN(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState!=="loading"}function XW(d,f){var x=d.ownerDocument;if(d.data==="$~")d._reactRetry=f;else if(d.data!=="$?"||x.readyState!=="loading")f();else{var w=function(){f(),x.removeEventListener("DOMContentLoaded",w)};x.addEventListener("DOMContentLoaded",w),d._reactRetry=w}}function mc(d){for(;d!=null;d=d.nextSibling){var f=d.nodeType;if(f===1||f===3)break;if(f===8){if(f=d.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return d}var FN=null;function vO(d){d=d.nextSibling;for(var f=0;d;){if(d.nodeType===8){var x=d.data;if(x==="/$"||x==="/&"){if(f===0)return mc(d.nextSibling);f--}else x!=="$"&&x!=="$!"&&x!=="$?"&&x!=="$~"&&x!=="&"||f++}d=d.nextSibling}return null}function bO(d){d=d.previousSibling;for(var f=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"){if(f===0)return d;f--}else x!=="/$"&&x!=="/&"||f++}d=d.previousSibling}return null}function wO(d,f,x){switch(f=B1(x),d){case"html":if(d=f.documentElement,!d)throw Error(n(452));return d;case"head":if(d=f.head,!d)throw Error(n(453));return d;case"body":if(d=f.body,!d)throw Error(n(454));return d;default:throw Error(n(451))}}function hx(d){for(var f=d.attributes;f.length;)d.removeAttributeNode(f[0]);St(d)}var pc=new Map,CO=new Set;function E1(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var eA=ae.d;ae.d={f:JW,r:ZW,D:eY,C:tY,L:rY,m:nY,X:sY,S:aY,M:iY};function JW(){var d=eA.f(),f=x1();return d||f}function ZW(d){var f=Mt(d);f!==null&&f.tag===5&&f.type==="form"?Uk(f):eA.r(d)}var $m=typeof document>"u"?null:document;function NO(d,f,x){var w=$m;if(w&&typeof f=="string"&&f){var j=Ya(f);j='link[rel="'+d+'"][href="'+j+'"]',typeof x=="string"&&(j+='[crossorigin="'+x+'"]'),CO.has(j)||(CO.add(j),d={rel:d,crossOrigin:x,href:f},w.querySelector(j)===null&&(f=w.createElement("link"),Oi(f,"link",d),Gt(f),w.head.appendChild(f)))}}function eY(d){eA.D(d),NO("dns-prefetch",d,null)}function tY(d,f){eA.C(d,f),NO("preconnect",d,f)}function rY(d,f,x){eA.L(d,f,x);var w=$m;if(w&&d&&f){var j='link[rel="preload"][as="'+Ya(f)+'"]';f==="image"&&x&&x.imageSrcSet?(j+='[imagesrcset="'+Ya(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(j+='[imagesizes="'+Ya(x.imageSizes)+'"]')):j+='[href="'+Ya(d)+'"]';var F=j;switch(f){case"style":F=Vm(d);break;case"script":F=qm(d)}pc.has(F)||(d=h({rel:"preload",href:f==="image"&&x&&x.imageSrcSet?void 0:d,as:f},x),pc.set(F,d),w.querySelector(j)!==null||f==="style"&&w.querySelector(fx(F))||f==="script"&&w.querySelector(mx(F))||(f=w.createElement("link"),Oi(f,"link",d),Gt(f),w.head.appendChild(f)))}}function nY(d,f){eA.m(d,f);var x=$m;if(x&&d){var w=f&&typeof f.as=="string"?f.as:"script",j='link[rel="modulepreload"][as="'+Ya(w)+'"][href="'+Ya(d)+'"]',F=j;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=qm(d)}if(!pc.has(F)&&(d=h({rel:"modulepreload",href:d},f),pc.set(F,d),x.querySelector(j)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(mx(F)))return}w=x.createElement("link"),Oi(w,"link",d),Gt(w),x.head.appendChild(w)}}}function aY(d,f,x){eA.S(d,f,x);var w=$m;if(w&&d){var j=Dt(w).hoistableStyles,F=Vm(d);f=f||"default";var W=j.get(F);if(!W){var le={loading:0,preload:null};if(W=w.querySelector(fx(F)))le.loading=5;else{d=h({rel:"stylesheet",href:d,"data-precedence":f},x),(x=pc.get(F))&&ON(d,x);var _e=W=w.createElement("link");Gt(_e),Oi(_e,"link",d),_e._p=new Promise(function(Xe,At){_e.onload=Xe,_e.onerror=At}),_e.addEventListener("load",function(){le.loading|=1}),_e.addEventListener("error",function(){le.loading|=2}),le.loading|=4,j1(W,f,w)}W={type:"stylesheet",instance:W,count:1,state:le},j.set(F,W)}}}function sY(d,f){eA.X(d,f);var x=$m;if(x&&d){var w=Dt(x).hoistableScripts,j=qm(d),F=w.get(j);F||(F=x.querySelector(mx(j)),F||(d=h({src:d,async:!0},f),(f=pc.get(j))&&DN(d,f),F=x.createElement("script"),Gt(F),Oi(F,"link",d),x.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},w.set(j,F))}}function iY(d,f){eA.M(d,f);var x=$m;if(x&&d){var w=Dt(x).hoistableScripts,j=qm(d),F=w.get(j);F||(F=x.querySelector(mx(j)),F||(d=h({src:d,async:!0,type:"module"},f),(f=pc.get(j))&&DN(d,f),F=x.createElement("script"),Gt(F),Oi(F,"link",d),x.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},w.set(j,F))}}function SO(d,f,x,w){var j=(j=ne.current)?E1(j):null;if(!j)throw Error(n(446));switch(d){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(f=Vm(x.href),x=Dt(j).hoistableStyles,w=x.get(f),w||(w={type:"style",instance:null,count:0,state:null},x.set(f,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){d=Vm(x.href);var F=Dt(j).hoistableStyles,W=F.get(d);if(W||(j=j.ownerDocument||j,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(d,W),(F=j.querySelector(fx(d)))&&!F._p&&(W.instance=F,W.state.loading=5),pc.has(d)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},pc.set(d,x),F||oY(j,d,x,W.state))),f&&w===null)throw Error(n(528,""));return W}if(f&&w!==null)throw Error(n(529,""));return null;case"script":return f=x.async,x=x.src,typeof x=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=qm(x),x=Dt(j).hoistableScripts,w=x.get(f),w||(w={type:"script",instance:null,count:0,state:null},x.set(f,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,d))}}function Vm(d){return'href="'+Ya(d)+'"'}function fx(d){return'link[rel="stylesheet"]['+d+"]"}function BO(d){return h({},d,{"data-precedence":d.precedence,precedence:null})}function oY(d,f,x,w){d.querySelector('link[rel="preload"][as="style"]['+f+"]")?w.loading=1:(f=d.createElement("link"),w.preload=f,f.addEventListener("load",function(){return w.loading|=1}),f.addEventListener("error",function(){return w.loading|=2}),Oi(f,"link",x),Gt(f),d.head.appendChild(f))}function qm(d){return'[src="'+Ya(d)+'"]'}function mx(d){return"script[async]"+d}function EO(d,f,x){if(f.count++,f.instance===null)switch(f.type){case"style":var w=d.querySelector('style[data-href~="'+Ya(x.href)+'"]');if(w)return f.instance=w,Gt(w),w;var j=h({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return w=(d.ownerDocument||d).createElement("style"),Gt(w),Oi(w,"style",j),j1(w,x.precedence,d),f.instance=w;case"stylesheet":j=Vm(x.href);var F=d.querySelector(fx(j));if(F)return f.state.loading|=4,f.instance=F,Gt(F),F;w=BO(x),(j=pc.get(j))&&ON(w,j),F=(d.ownerDocument||d).createElement("link"),Gt(F);var W=F;return W._p=new Promise(function(le,_e){W.onload=le,W.onerror=_e}),Oi(F,"link",w),f.state.loading|=4,j1(F,x.precedence,d),f.instance=F;case"script":return F=qm(x.src),(j=d.querySelector(mx(F)))?(f.instance=j,Gt(j),j):(w=x,(j=pc.get(F))&&(w=h({},x),DN(w,j)),d=d.ownerDocument||d,j=d.createElement("script"),Gt(j),Oi(j,"link",w),d.head.appendChild(j),f.instance=j);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(w=f.instance,f.state.loading|=4,j1(w,x.precedence,d));return f.instance}function j1(d,f,x){for(var w=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=w.length?w[w.length-1]:null,F=j,W=0;W<w.length;W++){var le=w[W];if(le.dataset.precedence===f)F=le;else if(F!==j)break}F?F.parentNode.insertBefore(d,F.nextSibling):(f=x.nodeType===9?x.head:x,f.insertBefore(d,f.firstChild))}function ON(d,f){d.crossOrigin==null&&(d.crossOrigin=f.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=f.referrerPolicy),d.title==null&&(d.title=f.title)}function DN(d,f){d.crossOrigin==null&&(d.crossOrigin=f.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=f.referrerPolicy),d.integrity==null&&(d.integrity=f.integrity)}var _1=null;function jO(d,f,x){if(_1===null){var w=new Map,j=_1=new Map;j.set(x,w)}else j=_1,w=j.get(x),w||(w=new Map,j.set(x,w));if(w.has(d))return w;for(w.set(d,null),x=x.getElementsByTagName(d),j=0;j<x.length;j++){var F=x[j];if(!(F[We]||F[fe]||d==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var W=F.getAttribute(f)||"";W=d+W;var le=w.get(W);le?le.push(F):w.set(W,[F])}}return w}function _O(d,f,x){d=d.ownerDocument||d,d.head.insertBefore(x,f==="title"?d.querySelector("head > title"):null)}function lY(d,f,x){if(x===1||f.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;return f.rel==="stylesheet"?(d=f.disabled,typeof f.precedence=="string"&&d==null):!0;case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function TO(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}function cY(d,f,x,w){if(x.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var j=Vm(w.href),F=f.querySelector(fx(j));if(F){f=F._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(d.count++,d=T1.bind(d),f.then(d,d)),x.state.loading|=4,x.instance=F,Gt(F);return}F=f.ownerDocument||f,w=BO(w),(j=pc.get(j))&&ON(w,j),F=F.createElement("link"),Gt(F);var W=F;W._p=new Promise(function(le,_e){W.onload=le,W.onerror=_e}),Oi(F,"link",w),x.instance=F}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(x,f),(f=x.state.preload)&&(x.state.loading&3)===0&&(d.count++,x=T1.bind(d),f.addEventListener("load",x),f.addEventListener("error",x))}}var PN=0;function uY(d,f){return d.stylesheets&&d.count===0&&F1(d,d.stylesheets),0<d.count||0<d.imgCount?function(x){var w=setTimeout(function(){if(d.stylesheets&&F1(d,d.stylesheets),d.unsuspend){var F=d.unsuspend;d.unsuspend=null,F()}},6e4+f);0<d.imgBytes&&PN===0&&(PN=62500*KW());var j=setTimeout(function(){if(d.waitingForImages=!1,d.count===0&&(d.stylesheets&&F1(d,d.stylesheets),d.unsuspend)){var F=d.unsuspend;d.unsuspend=null,F()}},(d.imgBytes>PN?50:800)+f);return d.unsuspend=x,function(){d.unsuspend=null,clearTimeout(w),clearTimeout(j)}}:null}function T1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)F1(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var k1=null;function F1(d,f){d.stylesheets=null,d.unsuspend!==null&&(d.count++,k1=new Map,f.forEach(dY,d),k1=null,T1.call(d))}function dY(d,f){if(!(f.state.loading&4)){var x=k1.get(d);if(x)var w=x.get(null);else{x=new Map,k1.set(d,x);for(var j=d.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<j.length;F++){var W=j[F];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(x.set(W.dataset.precedence,W),w=W)}w&&x.set(null,w)}j=f.instance,W=j.getAttribute("data-precedence"),F=x.get(W)||w,F===w&&x.set(null,j),x.set(W,j),this.count++,w=T1.bind(this),j.addEventListener("load",w),j.addEventListener("error",w),F?F.parentNode.insertBefore(j,F.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(j,d.firstChild)),f.state.loading|=4}}var px={$$typeof:C,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function AY(d,f,x,w,j,F,W,le,_e){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.hiddenUpdates=Ga(null),this.identifierPrefix=w,this.onUncaughtError=j,this.onCaughtError=F,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_e,this.incompleteTransitions=new Map}function kO(d,f,x,w,j,F,W,le,_e,Xe,At,xt){return d=new AY(d,f,x,W,_e,Xe,At,xt,le),f=1,F===!0&&(f|=24),F=oi(3,null,null,f),d.current=F,F.stateNode=d,f=oh(),f.refCount++,d.pooledCache=f,f.refCount++,F.memoizedState={element:w,isDehydrated:x,cache:f},Lt(F),d}function FO(d){return d?(d=zs,d):zs}function OO(d,f,x,w,j,F){j=FO(j),w.context===null?w.context=j:w.pendingContext=j,w=Sr(f),w.payload={element:x},F=F===void 0?null:F,F!==null&&(w.callback=F),x=Ur(d,w,f),x!==null&&(Zo(x,d,f),Nn(x,d,f))}function DO(d,f){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<f?x:f}}function IN(d,f){DO(d,f),(d=d.alternate)&&DO(d,f)}function PO(d){if(d.tag===13||d.tag===31){var f=au(d,67108864);f!==null&&Zo(f,d,67108864),IN(d,67108864)}}function IO(d){if(d.tag===13||d.tag===31){var f=_l();f=_n(f);var x=au(d,f);x!==null&&Zo(x,d,f),IN(d,f)}}var O1=!0;function hY(d,f,x,w){var j=X.T;X.T=null;var F=ae.p;try{ae.p=2,LN(d,f,x,w)}finally{ae.p=F,X.T=j}}function fY(d,f,x,w){var j=X.T;X.T=null;var F=ae.p;try{ae.p=8,LN(d,f,x,w)}finally{ae.p=F,X.T=j}}function LN(d,f,x,w){if(O1){var j=MN(w);if(j===null)CN(d,f,w,D1,x),MO(d,w);else if(pY(j,d,f,x,w))w.stopPropagation();else if(MO(d,w),f&4&&-1<mY.indexOf(d)){for(;j!==null;){var F=Mt(j);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var W=Qt(F.pendingLanes);if(W!==0){var le=F;for(le.pendingLanes|=2,le.entangledLanes|=2;W;){var _e=1<<31-Br(W);le.entanglements[1]|=_e,W&=~_e}td(F),(Bn&6)===0&&(p1=vt()+500,ux(0))}}break;case 31:case 13:le=au(F,2),le!==null&&Zo(le,F,2),x1(),IN(F,2)}if(F=MN(w),F===null&&CN(d,f,w,D1,x),F===j)break;j=F}j!==null&&w.stopPropagation()}else CN(d,f,w,null,x)}}function MN(d){return d=Td(d),RN(d)}var D1=null;function RN(d){if(D1=null,d=kt(d),d!==null){var f=s(d);if(f===null)d=null;else{var x=f.tag;if(x===13){if(d=i(f),d!==null)return d;d=null}else if(x===31){if(d=l(f),d!==null)return d;d=null}else if(x===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;d=null}else f!==d&&(d=null)}}return D1=d,null}function LO(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(De()){case it:return 2;case wt:return 8;case Bt:case Ee:return 32;case ot:return 268435456;default:return 32}default:return 32}}var UN=!1,vh=null,bh=null,wh=null,gx=new Map,xx=new Map,Ch=[],mY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function MO(d,f){switch(d){case"focusin":case"focusout":vh=null;break;case"dragenter":case"dragleave":bh=null;break;case"mouseover":case"mouseout":wh=null;break;case"pointerover":case"pointerout":gx.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":xx.delete(f.pointerId)}}function yx(d,f,x,w,j,F){return d===null||d.nativeEvent!==F?(d={blockedOn:f,domEventName:x,eventSystemFlags:w,nativeEvent:F,targetContainers:[j]},f!==null&&(f=Mt(f),f!==null&&PO(f)),d):(d.eventSystemFlags|=w,f=d.targetContainers,j!==null&&f.indexOf(j)===-1&&f.push(j),d)}function pY(d,f,x,w,j){switch(f){case"focusin":return vh=yx(vh,d,f,x,w,j),!0;case"dragenter":return bh=yx(bh,d,f,x,w,j),!0;case"mouseover":return wh=yx(wh,d,f,x,w,j),!0;case"pointerover":var F=j.pointerId;return gx.set(F,yx(gx.get(F)||null,d,f,x,w,j)),!0;case"gotpointercapture":return F=j.pointerId,xx.set(F,yx(xx.get(F)||null,d,f,x,w,j)),!0}return!1}function RO(d){var f=kt(d.target);if(f!==null){var x=s(f);if(x!==null){if(f=x.tag,f===13){if(f=i(x),f!==null){d.blockedOn=f,we(d.priority,function(){IO(x)});return}}else if(f===31){if(f=l(x),f!==null){d.blockedOn=f,we(d.priority,function(){IO(x)});return}}else if(f===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function P1(d){if(d.blockedOn!==null)return!1;for(var f=d.targetContainers;0<f.length;){var x=MN(d.nativeEvent);if(x===null){x=d.nativeEvent;var w=new x.constructor(x.type,x);Qc=w,x.target.dispatchEvent(w),Qc=null}else return f=Mt(x),f!==null&&PO(f),d.blockedOn=x,!1;f.shift()}return!0}function UO(d,f,x){P1(d)&&x.delete(f)}function gY(){UN=!1,vh!==null&&P1(vh)&&(vh=null),bh!==null&&P1(bh)&&(bh=null),wh!==null&&P1(wh)&&(wh=null),gx.forEach(UO),xx.forEach(UO)}function I1(d,f){d.blockedOn===f&&(d.blockedOn=null,UN||(UN=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gY)))}var L1=null;function QO(d){L1!==d&&(L1=d,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){L1===d&&(L1=null);for(var f=0;f<d.length;f+=3){var x=d[f],w=d[f+1],j=d[f+2];if(typeof w!="function"){if(RN(w||x)===null)continue;break}var F=Mt(x);F!==null&&(d.splice(f,3),f-=3,M5(F,{pending:!0,data:j,method:x.method,action:w},w,j))}}))}function Gm(d){function f(_e){return I1(_e,d)}vh!==null&&I1(vh,d),bh!==null&&I1(bh,d),wh!==null&&I1(wh,d),gx.forEach(f),xx.forEach(f);for(var x=0;x<Ch.length;x++){var w=Ch[x];w.blockedOn===d&&(w.blockedOn=null)}for(;0<Ch.length&&(x=Ch[0],x.blockedOn===null);)RO(x),x.blockedOn===null&&Ch.shift();if(x=(d.ownerDocument||d).$$reactFormReplay,x!=null)for(w=0;w<x.length;w+=3){var j=x[w],F=x[w+1],W=j[ge]||null;if(typeof F=="function")W||QO(x);else if(W){var le=null;if(F&&F.hasAttribute("formAction")){if(j=F,W=F[ge]||null)le=W.formAction;else if(RN(j)!==null)continue}else le=W.action;typeof le=="function"?x[w+1]=le:(x.splice(w,3),w-=3),QO(x)}}}function HO(){function d(F){F.canIntercept&&F.info==="react-transition"&&F.intercept({handler:function(){return new Promise(function(W){return j=W})},focusReset:"manual",scroll:"manual"})}function f(){j!==null&&(j(),j=null),w||setTimeout(x,20)}function x(){if(!w&&!navigation.transition){var F=navigation.currentEntry;F&&F.url!=null&&navigation.navigate(F.url,{state:F.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var w=!1,j=null;return navigation.addEventListener("navigate",d),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(x,100),function(){w=!0,navigation.removeEventListener("navigate",d),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),j!==null&&(j(),j=null)}}}function QN(d){this._internalRoot=d}M1.prototype.render=QN.prototype.render=function(d){var f=this._internalRoot;if(f===null)throw Error(n(409));var x=f.current,w=_l();OO(x,w,d,f,null,null)},M1.prototype.unmount=QN.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var f=d.containerInfo;OO(d.current,2,null,d,null,null),x1(),f[Ne]=null}};function M1(d){this._internalRoot=d}M1.prototype.unstable_scheduleHydration=function(d){if(d){var f=se();d={blockedOn:null,target:d,priority:f};for(var x=0;x<Ch.length&&f!==0&&f<Ch[x].priority;x++);Ch.splice(x,0,d),x===0&&RO(d)}};var zO=e.version;if(zO!=="19.2.0")throw Error(n(527,zO,"19.2.0"));ae.findDOMNode=function(d){var f=d._reactInternals;if(f===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=u(f),d=d!==null?A(d):null,d=d===null?null:d.stateNode,d};var xY={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var R1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!R1.isDisabled&&R1.supportsFiber)try{It=R1.inject(xY),Tt=R1}catch{}}return bx.createRoot=function(d,f){if(!a(d))throw Error(n(299));var x=!1,w="",j=Yk,F=Xk,W=Jk;return f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(j=f.onUncaughtError),f.onCaughtError!==void 0&&(F=f.onCaughtError),f.onRecoverableError!==void 0&&(W=f.onRecoverableError)),f=kO(d,1,!1,null,null,x,w,null,j,F,W,HO),d[Ne]=f.current,wN(d),new QN(f)},bx.hydrateRoot=function(d,f,x){if(!a(d))throw Error(n(299));var w=!1,j="",F=Yk,W=Xk,le=Jk,_e=null;return x!=null&&(x.unstable_strictMode===!0&&(w=!0),x.identifierPrefix!==void 0&&(j=x.identifierPrefix),x.onUncaughtError!==void 0&&(F=x.onUncaughtError),x.onCaughtError!==void 0&&(W=x.onCaughtError),x.onRecoverableError!==void 0&&(le=x.onRecoverableError),x.formState!==void 0&&(_e=x.formState)),f=kO(d,1,!0,f,x??null,w,j,_e,F,W,le,HO),f.context=FO(null),x=f.current,w=_l(),w=_n(w),j=Sr(w),j.callback=null,Ur(x,j,w),x=w,f.current.lanes=x,hr(f,x),td(f),d[Ne]=f.current,wN(d),new M1(f)},bx.version="19.2.0",bx}var t6;function _Y(){if(t6)return $N.exports;t6=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$N.exports=jY(),$N.exports}var TY=_Y();var r6="popstate";function kY(r={}){function e(n,a){let{pathname:s,search:i,hash:l}=n.location;return VE("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){return typeof a=="string"?a:Cy(a)}return OY(e,t,null,r)}function Da(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ql(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FY(){return Math.random().toString(36).substring(2,10)}function n6(r,e){return{usr:r.state,key:r.key,idx:e}}function VE(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ag(e):e,state:t,key:e&&e.key||n||FY()}}function Cy({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ag(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function OY(r,e,t,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l="POP",c=null,u=A();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function A(){return(i.state||{idx:null}).idx}function h(){l="POP";let v=A(),b=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:b})}function p(v,b){l="PUSH";let N=VE(g.location,v,b);u=A()+1;let C=n6(N,u),E=g.createHref(N);try{i.pushState(C,"",E)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(E)}s&&c&&c({action:l,location:g.location,delta:1})}function m(v,b){l="REPLACE";let N=VE(g.location,v,b);u=A();let C=n6(N,u),E=g.createHref(N);i.replaceState(C,"",E),s&&c&&c({action:l,location:g.location,delta:0})}function y(v){return DY(v)}let g={get action(){return l},get location(){return r(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(r6,h),c=v,()=>{a.removeEventListener(r6,h),c=null}},createHref(v){return e(a,v)},createURL:y,encodeLocation(v){let b=y(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:m,go(v){return i.go(v)}};return g}function DY(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Da(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Cy(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function T8(r,e,t="/"){return PY(r,e,t,!1)}function PY(r,e,t,n){let a=typeof e=="string"?Ag(e):e,s=SA(a.pathname||"/",t);if(s==null)return null;let i=k8(r);IY(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=qY(s);l=$Y(i[c],u,n)}return l}function k8(r,e=[],t=[],n="",a=!1){let s=(i,l,c=a,u)=>{let A={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(n)&&c)return;Da(A.relativePath.startsWith(n),`Absolute route path "${A.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(n.length)}let h=pA([n,A.relativePath]),p=t.concat(A);i.children&&i.children.length>0&&(Da(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),k8(i.children,e,p,h,c)),!(i.path==null&&!i.index)&&e.push({path:h,score:zY(h,i.index),routesMeta:p})};return r.forEach((i,l)=>{if(i.path===""||!i.path?.includes("?"))s(i,l);else for(let c of F8(i.path))s(i,l,!0,c)}),e}function F8(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=F8(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>r.startsWith("/")&&c===""?"/":c)}function IY(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:KY(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var LY=/^:[\w-]+$/,MY=3,RY=2,UY=1,QY=10,HY=-2,a6=r=>r==="*";function zY(r,e){let t=r.split("/"),n=t.length;return t.some(a6)&&(n+=HY),e&&(n+=RY),t.filter(a=>!a6(a)).reduce((a,s)=>a+(LY.test(s)?MY:s===""?UY:QY),n)}function KY(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function $Y(r,e,t=!1){let{routesMeta:n}=r,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,A=s==="/"?e:e.slice(s.length)||"/",h=Ow({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},A),p=c.route;if(!h&&u&&t&&!n[n.length-1].route.index&&(h=Ow({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},A)),!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:pA([s,h.pathname]),pathnameBase:XY(pA([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=pA([s,h.pathnameBase]))}return i}function Ow(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=VY(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:A,isOptional:h},p)=>{if(A==="*"){let y=l[p]||"";i=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=l[p];return h&&!m?u[A]=void 0:u[A]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:r}}function VY(r,e=!1,t=!0){ql(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function qY(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ql(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function SA(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}var O8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GY=r=>O8.test(r);function WY(r,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof r=="string"?Ag(r):r,s;if(t)if(GY(t))s=t;else{if(t.includes("//")){let i=t;t=t.replace(/\/\/+/g,"/"),ql(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${t}`)}t.startsWith("/")?s=s6(t.substring(1),"/"):s=s6(t,e)}else s=e;return{pathname:s,search:JY(n),hash:ZY(a)}}function s6(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function WN(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YY(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function o_(r){let e=YY(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function l_(r,e,t,n=!1){let a;typeof r=="string"?a=Ag(r):(a={...r},Da(!a.pathname||!a.pathname.includes("?"),WN("?","pathname","search",a)),Da(!a.pathname||!a.pathname.includes("#"),WN("#","pathname","hash",a)),Da(!a.search||!a.search.includes("#"),WN("#","search","hash",a)));let s=r===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=t;else{let h=e.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),h-=1;a.pathname=p.join("/")}l=h>=0?e[h]:"/"}let c=WY(a,l),u=i&&i!=="/"&&i.endsWith("/"),A=(s||i===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||A)&&(c.pathname+="/"),c}var pA=r=>r.join("/").replace(/\/\/+/g,"/"),XY=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),JY=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ZY=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,eX=class{constructor(r,e,t,n=!1){this.status=r,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function tX(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function rX(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var D8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function P8(r,e){let t=r;if(typeof t!="string"||!O8.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let n=t,a=!1;if(D8)try{let s=new URL(window.location.href),i=t.startsWith("//")?new URL(s.protocol+t):new URL(t),l=SA(i.pathname,e);i.origin===s.origin&&l!=null?t=l+i.search+i.hash:a=!0}catch{ql(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var I8=["POST","PUT","PATCH","DELETE"];new Set(I8);var nX=["GET",...I8];new Set(nX);var hg=B.createContext(null);hg.displayName="DataRouter";var sC=B.createContext(null);sC.displayName="DataRouterState";var aX=B.createContext(!1),L8=B.createContext({isTransitioning:!1});L8.displayName="ViewTransition";var sX=B.createContext(new Map);sX.displayName="Fetchers";var iX=B.createContext(null);iX.displayName="Await";var Zl=B.createContext(null);Zl.displayName="Navigation";var nv=B.createContext(null);nv.displayName="Location";var _u=B.createContext({outlet:null,matches:[],isDataRoute:!1});_u.displayName="Route";var c_=B.createContext(null);c_.displayName="RouteError";var M8="REACT_ROUTER_ERROR",oX="REDIRECT",lX="ROUTE_ERROR_RESPONSE";function cX(r){if(r.startsWith(`${M8}:${oX}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function uX(r){if(r.startsWith(`${M8}:${lX}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new eX(e.status,e.statusText,e.data)}catch{}}function dX(r,{relative:e}={}){Da(fg(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=B.useContext(Zl),{hash:a,pathname:s,search:i}=av(r,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:pA([t,s])),n.createHref({pathname:l,search:i,hash:a})}function fg(){return B.useContext(nv)!=null}function IA(){return Da(fg(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(nv).location}var R8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U8(r){B.useContext(Zl).static||B.useLayoutEffect(r)}function mg(){let{isDataRoute:r}=B.useContext(_u);return r?BX():AX()}function AX(){Da(fg(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(hg),{basename:e,navigator:t}=B.useContext(Zl),{matches:n}=B.useContext(_u),{pathname:a}=IA(),s=JSON.stringify(o_(n)),i=B.useRef(!1);return U8(()=>{i.current=!0}),B.useCallback((c,u={})=>{if(ql(i.current,R8),!i.current)return;if(typeof c=="number"){t.go(c);return}let A=l_(c,JSON.parse(s),a,u.relative==="path");r==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:pA([e,A.pathname])),(u.replace?t.replace:t.push)(A,u.state,u)},[e,t,s,a,r])}var hX=B.createContext(null);function fX(r){let e=B.useContext(_u).outlet;return B.useMemo(()=>e&&B.createElement(hX.Provider,{value:r},e),[e,r])}function av(r,{relative:e}={}){let{matches:t}=B.useContext(_u),{pathname:n}=IA(),a=JSON.stringify(o_(t));return B.useMemo(()=>l_(r,JSON.parse(a),n,e==="path"),[r,a,n,e])}function mX(r,e){return Q8(r,e)}function Q8(r,e,t,n,a){Da(fg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=B.useContext(Zl),{matches:i}=B.useContext(_u),l=i[i.length-1],c=l?l.params:{},u=l?l.pathname:"/",A=l?l.pathnameBase:"/",h=l&&l.route;{let N=h&&h.path||"";z8(u,!h||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let p=IA(),m;if(e){let N=typeof e=="string"?Ag(e):e;Da(A==="/"||N.pathname?.startsWith(A),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${N.pathname}" was given in the \`location\` prop.`),m=N}else m=p;let y=m.pathname||"/",g=y;if(A!=="/"){let N=A.replace(/^\//,"").split("/");g="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let v=T8(r,{pathname:g});ql(h||v!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),ql(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=vX(v&&v.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:pA([A,s.encodeLocation?s.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?A:pA([A,s.encodeLocation?s.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),i,t,n,a);return e&&b?B.createElement(nv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},b):b}function pX(){let r=SX(),e=tX(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",r),i=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:s},"ErrorBoundary")," or"," ",B.createElement("code",{style:s},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:a},t):null,i)}var gX=B.createElement(pX,null),H8=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=uX(r.digest);t&&(r=t)}let e=r!==void 0?B.createElement(_u.Provider,{value:this.props.routeContext},B.createElement(c_.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?B.createElement(xX,{error:r},e):e}};H8.contextType=aX;var YN=new WeakMap;function xX({children:r,error:e}){let{basename:t}=B.useContext(Zl);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=cX(e.digest);if(n){let a=YN.get(e);if(a)throw a;let s=P8(n.location,t);if(D8&&!YN.get(e))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const i=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw YN.set(e,i),i}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return r}function yX({routeContext:r,match:e,children:t}){let n=B.useContext(hg);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(_u.Provider,{value:r},t)}function vX(r,e=[],t=null,n=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,i=t?.errors;if(i!=null){let A=s.findIndex(h=>h.route.id&&i?.[h.route.id]!==void 0);Da(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,A+1))}let l=!1,c=-1;if(t)for(let A=0;A<s.length;A++){let h=s[A];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=A),h.route.id){let{loaderData:p,errors:m}=t,y=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let u=t&&n?(A,h)=>{n(A,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:rX(t.matches),errorInfo:h})}:void 0;return s.reduceRight((A,h,p)=>{let m,y=!1,g=null,v=null;t&&(m=i&&h.route.id?i[h.route.id]:void 0,g=h.route.errorElement||gX,l&&(c<0&&p===0?(z8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,v=null):c===p&&(y=!0,v=h.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,p+1)),N=()=>{let C;return m?C=g:y?C=v:h.route.Component?C=B.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=A,B.createElement(yX,{match:h,routeContext:{outlet:A,matches:b,isDataRoute:t!=null},children:C})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?B.createElement(H8,{location:t.location,revalidation:t.revalidation,component:g,error:m,children:N(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:u}):N()},null)}function u_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bX(r){let e=B.useContext(hg);return Da(e,u_(r)),e}function wX(r){let e=B.useContext(sC);return Da(e,u_(r)),e}function CX(r){let e=B.useContext(_u);return Da(e,u_(r)),e}function d_(r){let e=CX(r),t=e.matches[e.matches.length-1];return Da(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function NX(){return d_("useRouteId")}function SX(){let r=B.useContext(c_),e=wX("useRouteError"),t=d_("useRouteError");return r!==void 0?r:e.errors?.[t]}function BX(){let{router:r}=bX("useNavigate"),e=d_("useNavigate"),t=B.useRef(!1);return U8(()=>{t.current=!0}),B.useCallback(async(a,s={})=>{ql(t.current,R8),t.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:e,...s}))},[r,e])}var i6={};function z8(r,e,t){!e&&!i6[r]&&(i6[r]=!0,ql(!1,t))}B.memo(EX);function EX({routes:r,future:e,state:t,onError:n}){return Q8(r,void 0,t,n,e)}function qE({to:r,replace:e,state:t,relative:n}){Da(fg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=B.useContext(Zl);ql(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=B.useContext(_u),{pathname:i}=IA(),l=mg(),c=l_(r,o_(s),i,n==="path"),u=JSON.stringify(c);return B.useEffect(()=>{l(JSON.parse(u),{replace:e,state:t,relative:n})},[l,u,n,e,t]),null}function K8(r){return fX(r.context)}function Ta(r){Da(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jX({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:i}){Da(!fg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:l,navigator:a,static:s,unstable_useTransitions:i,future:{}}),[l,a,s,i]);typeof t=="string"&&(t=Ag(t));let{pathname:u="/",search:A="",hash:h="",state:p=null,key:m="default"}=t,y=B.useMemo(()=>{let g=SA(u,l);return g==null?null:{location:{pathname:g,search:A,hash:h,state:p,key:m},navigationType:n}},[l,u,A,h,p,m,n]);return ql(y!=null,`<Router basename="${l}"> is not able to match the URL "${u}${A}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:B.createElement(Zl.Provider,{value:c},B.createElement(nv.Provider,{children:e,value:y}))}function _X({children:r,location:e}){return mX(GE(r),e)}function GE(r,e=[]){let t=[];return B.Children.forEach(r,(n,a)=>{if(!B.isValidElement(n))return;let s=[...e,a];if(n.type===B.Fragment){t.push.apply(t,GE(n.props.children,s));return}Da(n.type===Ta,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Da(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=GE(n.props.children,s)),t.push(i)}),t}var dw="get",Aw="application/x-www-form-urlencoded";function iC(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function TX(r){return iC(r)&&r.tagName.toLowerCase()==="button"}function kX(r){return iC(r)&&r.tagName.toLowerCase()==="form"}function FX(r){return iC(r)&&r.tagName.toLowerCase()==="input"}function OX(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function DX(r,e){return r.button===0&&(!e||e==="_self")&&!OX(r)}function WE(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let n=r[t];return e.concat(Array.isArray(n)?n.map(a=>[t,a]):[[t,n]])},[]))}function PX(r,e){let t=WE(r);return e&&e.forEach((n,a)=>{t.has(a)||e.getAll(a).forEach(s=>{t.append(a,s)})}),t}var U1=null;function IX(){if(U1===null)try{new FormData(document.createElement("form"),0),U1=!1}catch{U1=!0}return U1}var LX=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function XN(r){return r!=null&&!LX.has(r)?(ql(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Aw}"`),null):r}function MX(r,e){let t,n,a,s,i;if(kX(r)){let l=r.getAttribute("action");n=l?SA(l,e):null,t=r.getAttribute("method")||dw,a=XN(r.getAttribute("enctype"))||Aw,s=new FormData(r)}else if(TX(r)||FX(r)&&(r.type==="submit"||r.type==="image")){let l=r.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=r.getAttribute("formaction")||l.getAttribute("action");if(n=c?SA(c,e):null,t=r.getAttribute("formmethod")||l.getAttribute("method")||dw,a=XN(r.getAttribute("formenctype"))||XN(l.getAttribute("enctype"))||Aw,s=new FormData(l,r),!IX()){let{name:u,type:A,value:h}=r;if(A==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,h)}}else{if(iC(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=dw,n=null,a=Aw,i=r}return s&&a==="text/plain"&&(i=s,s=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function A_(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function RX(r,e,t,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:e&&SA(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function UX(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QX(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function HX(r,e,t){let n=await Promise.all(r.map(async a=>{let s=e.routes[a.route.id];if(s){let i=await UX(s,t);return i.links?i.links():[]}return[]}));return VX(n.flat(1).filter(QX).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function o6(r,e,t,n,a,s){let i=(c,u)=>t[u]?c.route.id!==t[u].route.id:!0,l=(c,u)=>t[u].pathname!==c.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==c.params["*"];return s==="assets"?e.filter((c,u)=>i(c,u)||l(c,u)):s==="data"?e.filter((c,u)=>{let A=n.routes[c.route.id];if(!A||!A.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function zX(r,e,{includeHydrateFallback:t}={}){return KX(r.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function KX(r){return[...new Set(r)]}function $X(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function VX(r,e){let t=new Set;return new Set(e),r.reduce((n,a)=>{let s=JSON.stringify($X(a));return t.has(s)||(t.add(s),n.push({key:s,link:a})),n},[])}function $8(){let r=B.useContext(hg);return A_(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function qX(){let r=B.useContext(sC);return A_(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var h_=B.createContext(void 0);h_.displayName="FrameworkContext";function V8(){let r=B.useContext(h_);return A_(r,"You must render this element inside a <HydratedRouter> element"),r}function GX(r,e){let t=B.useContext(h_),[n,a]=B.useState(!1),[s,i]=B.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:A,onTouchStart:h}=e,p=B.useRef(null);B.useEffect(()=>{if(r==="render"&&i(!0),r==="viewport"){let g=b=>{b.forEach(N=>{i(N.isIntersecting)})},v=new IntersectionObserver(g,{threshold:.5});return p.current&&v.observe(p.current),()=>{v.disconnect()}}},[r]),B.useEffect(()=>{if(n){let g=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(g)}}},[n]);let m=()=>{a(!0)},y=()=>{a(!1),i(!1)};return t?r!=="intent"?[s,p,{}]:[s,p,{onFocus:wx(l,m),onBlur:wx(c,y),onMouseEnter:wx(u,m),onMouseLeave:wx(A,y),onTouchStart:wx(h,m)}]:[!1,p,{}]}function wx(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function WX({page:r,...e}){let{router:t}=$8(),n=B.useMemo(()=>T8(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?B.createElement(XX,{page:r,matches:n,...e}):null}function YX(r){let{manifest:e,routeModules:t}=V8(),[n,a]=B.useState([]);return B.useEffect(()=>{let s=!1;return HX(r,e,t).then(i=>{s||a(i)}),()=>{s=!0}},[r,e,t]),n}function XX({page:r,matches:e,...t}){let n=IA(),{future:a,manifest:s,routeModules:i}=V8(),{basename:l}=$8(),{loaderData:c,matches:u}=qX(),A=B.useMemo(()=>o6(r,e,u,s,n,"data"),[r,e,u,s,n]),h=B.useMemo(()=>o6(r,e,u,s,n,"assets"),[r,e,u,s,n]),p=B.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let g=new Set,v=!1;if(e.forEach(N=>{let C=s.routes[N.route.id];!C||!C.hasLoader||(!A.some(E=>E.route.id===N.route.id)&&N.route.id in c&&i[N.route.id]?.shouldRevalidate||C.hasClientLoader?v=!0:g.add(N.route.id))}),g.size===0)return[];let b=RX(r,l,a.unstable_trailingSlashAwareDataRequests,"data");return v&&g.size>0&&b.searchParams.set("_routes",e.filter(N=>g.has(N.route.id)).map(N=>N.route.id).join(",")),[b.pathname+b.search]},[l,a.unstable_trailingSlashAwareDataRequests,c,n,s,A,e,r,i]),m=B.useMemo(()=>zX(h,s),[h,s]),y=YX(h);return B.createElement(B.Fragment,null,p.map(g=>B.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...t})),m.map(g=>B.createElement("link",{key:g,rel:"modulepreload",href:g,...t})),y.map(({key:g,link:v})=>B.createElement("link",{key:g,nonce:t.nonce,...v})))}function JX(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ZX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZX&&(window.__reactRouterVersion="7.12.0")}catch{}function eJ({basename:r,children:e,unstable_useTransitions:t,window:n}){let a=B.useRef();a.current==null&&(a.current=kY({window:n,v5Compat:!0}));let s=a.current,[i,l]=B.useState({action:s.action,location:s.location}),c=B.useCallback(u=>{t===!1?l(u):B.startTransition(()=>l(u))},[t]);return B.useLayoutEffect(()=>s.listen(c),[s,c]),B.createElement(jX,{basename:r,children:e,location:i.location,navigationType:i.action,navigator:s,unstable_useTransitions:t})}var q8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f_=B.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:A,viewTransition:h,unstable_defaultShouldRevalidate:p,...m},y){let{basename:g,unstable_useTransitions:v}=B.useContext(Zl),b=typeof u=="string"&&q8.test(u),N=P8(u,g);u=N.to;let C=dX(u,{relative:a}),[E,_,P]=GX(n,m),O=nJ(u,{replace:i,state:l,target:c,preventScrollReset:A,relative:a,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:v});function D(H){e&&e(H),H.defaultPrevented||O(H)}let k=B.createElement("a",{...m,...P,href:N.absoluteURL||C,onClick:N.isExternal||s?e:D,ref:JX(y,_),target:c,"data-discover":!b&&t==="render"?"true":void 0});return E&&!b?B.createElement(B.Fragment,null,k,B.createElement(WX,{page:C})):k});f_.displayName="Link";var Oh=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:s,to:i,viewTransition:l,children:c,...u},A){let h=av(i,{relative:u.relative}),p=IA(),m=B.useContext(sC),{navigator:y,basename:g}=B.useContext(Zl),v=m!=null&&cJ(h)&&l===!0,b=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,N=p.pathname,C=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(N=N.toLowerCase(),C=C?C.toLowerCase():null,b=b.toLowerCase()),C&&g&&(C=SA(C,g)||C);const E=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let _=N===b||!a&&N.startsWith(b)&&N.charAt(E)==="/",P=C!=null&&(C===b||!a&&C.startsWith(b)&&C.charAt(b.length)==="/"),O={isActive:_,isPending:P,isTransitioning:v},D=_?e:void 0,k;typeof n=="function"?k=n(O):k=[n,_?"active":null,P?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let H=typeof s=="function"?s(O):s;return B.createElement(f_,{...u,"aria-current":D,className:k,ref:A,style:H,to:i,viewTransition:l},typeof c=="function"?c(O):c)});Oh.displayName="NavLink";var tJ=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:s,method:i=dw,action:l,onSubmit:c,relative:u,preventScrollReset:A,viewTransition:h,unstable_defaultShouldRevalidate:p,...m},y)=>{let{unstable_useTransitions:g}=B.useContext(Zl),v=oJ(),b=lJ(l,{relative:u}),N=i.toLowerCase()==="get"?"get":"post",C=typeof l=="string"&&q8.test(l),E=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let P=_.nativeEvent.submitter,O=P?.getAttribute("formmethod")||i,D=()=>v(P||_.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:a,state:s,relative:u,preventScrollReset:A,viewTransition:h,unstable_defaultShouldRevalidate:p});g&&t!==!1?B.startTransition(()=>D()):D()};return B.createElement("form",{ref:y,method:N,action:b,onSubmit:n?c:E,...m,"data-discover":!C&&r==="render"?"true":void 0})});tJ.displayName="Form";function rJ(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G8(r){let e=B.useContext(hg);return Da(e,rJ(r)),e}function nJ(r,{target:e,replace:t,state:n,preventScrollReset:a,relative:s,viewTransition:i,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let u=mg(),A=IA(),h=av(r,{relative:s});return B.useCallback(p=>{if(DX(p,e)){p.preventDefault();let m=t!==void 0?t:Cy(A)===Cy(h),y=()=>u(r,{replace:m,state:n,preventScrollReset:a,relative:s,viewTransition:i,unstable_defaultShouldRevalidate:l});c?B.startTransition(()=>y()):y()}},[A,u,h,t,n,e,r,a,s,i,l,c])}function aJ(r){ql(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=B.useRef(WE(r)),t=B.useRef(!1),n=IA(),a=B.useMemo(()=>PX(n.search,t.current?null:e.current),[n.search]),s=mg(),i=B.useCallback((l,c)=>{const u=WE(typeof l=="function"?l(new URLSearchParams(a)):l);t.current=!0,s("?"+u,c)},[s,a]);return[a,i]}var sJ=0,iJ=()=>`__${String(++sJ)}__`;function oJ(){let{router:r}=G8("useSubmit"),{basename:e}=B.useContext(Zl),t=NX(),n=r.fetch,a=r.navigate;return B.useCallback(async(s,i={})=>{let{action:l,method:c,encType:u,formData:A,body:h}=MX(s,e);if(i.navigate===!1){let p=i.fetcherKey||iJ();await n(p,t,i.action||l,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:A,body:h,formMethod:i.method||c,formEncType:i.encType||u,flushSync:i.flushSync})}else await a(i.action||l,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:A,body:h,formMethod:i.method||c,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,a,e,t])}function lJ(r,{relative:e}={}){let{basename:t}=B.useContext(Zl),n=B.useContext(_u);Da(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...av(r||".",{relative:e})},i=IA();if(r==null){s.search=i.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(A=>A==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let A=l.toString();s.search=A?`?${A}`:""}}return(!r||r===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:pA([t,s.pathname])),Cy(s)}function cJ(r,{relative:e}={}){let t=B.useContext(L8);Da(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=G8("useViewTransitionState"),a=av(r,{relative:e});if(!t.isTransitioning)return!1;let s=SA(t.currentLocation.pathname,n)||t.currentLocation.pathname,i=SA(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Ow(a.pathname,i)!=null||Ow(a.pathname,s)!=null}var W8=_8();let uJ={data:""},dJ=r=>{if(typeof window=="object"){let e=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(r||document.head).appendChild(e),e.firstChild}return r||uJ},AJ=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,hJ=/\/\*[^]*?\*\/|  +/g,l6=/\n+/g,Lh=(r,e)=>{let t="",n="",a="";for(let s in r){let i=r[s];s[0]=="@"?s[1]=="i"?t=s+" "+i+";":n+=s[1]=="f"?Lh(i,s):s+"{"+Lh(i,s[1]=="k"?"":e)+"}":typeof i=="object"?n+=Lh(i,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Lh.p?Lh.p(s,i):s+":"+i+";")}return t+(e&&a?e+"{"+a+"}":a)+n},tA={},Y8=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+Y8(r[t]);return e}return r},fJ=(r,e,t,n,a)=>{let s=Y8(r),i=tA[s]||(tA[s]=(c=>{let u=0,A=11;for(;u<c.length;)A=101*A+c.charCodeAt(u++)>>>0;return"go"+A})(s));if(!tA[i]){let c=s!==r?r:(u=>{let A,h,p=[{}];for(;A=AJ.exec(u.replace(hJ,""));)A[4]?p.shift():A[3]?(h=A[3].replace(l6," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][A[1]]=A[2].replace(l6," ").trim();return p[0]})(r);tA[i]=Lh(a?{["@keyframes "+i]:c}:c,t?"":"."+i)}let l=t&&tA.g?tA.g:null;return t&&(tA.g=tA[i]),((c,u,A,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=A?c+u.data:u.data+c)})(tA[i],e,n,l),i},mJ=(r,e,t)=>r.reduce((n,a,s)=>{let i=e[s];if(i&&i.call){let l=i(t),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":Lh(l,""):l===!1?"":l}return n+a+(i??"")},"");function oC(r){let e=this||{},t=r.call?r(e.p):r;return fJ(t.unshift?t.raw?mJ(t,[].slice.call(arguments,1),e.p):t.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):t,dJ(e.target),e.g,e.o,e.k)}let X8,YE,XE;oC.bind({g:1});let BA=oC.bind({k:1});function pJ(r,e,t,n){Lh.p=e,X8=r,YE=t,XE=n}function Af(r,e){let t=this||{};return function(){let n=arguments;function a(s,i){let l=Object.assign({},s),c=l.className||a.className;t.p=Object.assign({theme:YE&&YE()},l),t.o=/ *go\d+/.test(c),l.className=oC.apply(t,n)+(c?" "+c:"");let u=r;return r[0]&&(u=l.as||r,delete l.as),XE&&u[0]&&XE(l),X8(u,l)}return a}}var gJ=r=>typeof r=="function",Dw=(r,e)=>gJ(r)?r(e):r,xJ=(()=>{let r=0;return()=>(++r).toString()})(),J8=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),yJ=20,m_="default",Z8=(r,e)=>{let{toastLimit:t}=r.settings;switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,t)};case 1:return{...r,toasts:r.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return Z8(r,{type:r.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=e;return{...r,toasts:r.toasts.map(i=>i.id===a||a===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let s=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},hw=[],e7={toasts:[],pausedAt:void 0,settings:{toastLimit:yJ}},xd={},t7=(r,e=m_)=>{xd[e]=Z8(xd[e]||e7,r),hw.forEach(([t,n])=>{t===e&&n(xd[e])})},r7=r=>Object.keys(xd).forEach(e=>t7(r,e)),vJ=r=>Object.keys(xd).find(e=>xd[e].toasts.some(t=>t.id===r)),lC=(r=m_)=>e=>{t7(e,r)},bJ={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wJ=(r={},e=m_)=>{let[t,n]=B.useState(xd[e]||e7),a=B.useRef(xd[e]);B.useEffect(()=>(a.current!==xd[e]&&n(xd[e]),hw.push([e,n]),()=>{let i=hw.findIndex(([l])=>l===e);i>-1&&hw.splice(i,1)}),[e]);let s=t.toasts.map(i=>{var l,c,u;return{...r,...r[i.type],...i,removeDelay:i.removeDelay||((l=r[i.type])==null?void 0:l.removeDelay)||r?.removeDelay,duration:i.duration||((c=r[i.type])==null?void 0:c.duration)||r?.duration||bJ[i.type],style:{...r.style,...(u=r[i.type])==null?void 0:u.style,...i.style}}});return{...t,toasts:s}},CJ=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:t?.id||xJ()}),sv=r=>(e,t)=>{let n=CJ(e,r,t);return lC(n.toasterId||vJ(n.id))({type:2,toast:n}),n.id},xe=(r,e)=>sv("blank")(r,e);xe.error=sv("error");xe.success=sv("success");xe.loading=sv("loading");xe.custom=sv("custom");xe.dismiss=(r,e)=>{let t={type:3,toastId:r};e?lC(e)(t):r7(t)};xe.dismissAll=r=>xe.dismiss(void 0,r);xe.remove=(r,e)=>{let t={type:4,toastId:r};e?lC(e)(t):r7(t)};xe.removeAll=r=>xe.remove(void 0,r);xe.promise=(r,e,t)=>{let n=xe.loading(e.loading,{...t,...t?.loading});return typeof r=="function"&&(r=r()),r.then(a=>{let s=e.success?Dw(e.success,a):void 0;return s?xe.success(s,{id:n,...t,...t?.success}):xe.dismiss(n),a}).catch(a=>{let s=e.error?Dw(e.error,a):void 0;s?xe.error(s,{id:n,...t,...t?.error}):xe.dismiss(n)}),r};var NJ=1e3,SJ=(r,e="default")=>{let{toasts:t,pausedAt:n}=wJ(r,e),a=B.useRef(new Map).current,s=B.useCallback((h,p=NJ)=>{if(a.has(h))return;let m=setTimeout(()=>{a.delete(h),i({type:4,toastId:h})},p);a.set(h,m)},[]);B.useEffect(()=>{if(n)return;let h=Date.now(),p=t.map(m=>{if(m.duration===1/0)return;let y=(m.duration||0)+m.pauseDuration-(h-m.createdAt);if(y<0){m.visible&&xe.dismiss(m.id);return}return setTimeout(()=>xe.dismiss(m.id,e),y)});return()=>{p.forEach(m=>m&&clearTimeout(m))}},[t,n,e]);let i=B.useCallback(lC(e),[e]),l=B.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=B.useCallback((h,p)=>{i({type:1,toast:{id:h,height:p}})},[i]),u=B.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),A=B.useCallback((h,p)=>{let{reverseOrder:m=!1,gutter:y=8,defaultPosition:g}=p||{},v=t.filter(C=>(C.position||g)===(h.position||g)&&C.height),b=v.findIndex(C=>C.id===h.id),N=v.filter((C,E)=>E<b&&C.visible).length;return v.filter(C=>C.visible).slice(...m?[N+1]:[0,N]).reduce((C,E)=>C+(E.height||0)+y,0)},[t]);return B.useEffect(()=>{t.forEach(h=>{if(h.dismissed)s(h.id,h.removeDelay);else{let p=a.get(h.id);p&&(clearTimeout(p),a.delete(h.id))}})},[t,s]),{toasts:t,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:A}}},BJ=BA`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,EJ=BA`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jJ=BA`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_J=Af("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BJ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${EJ} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${jJ} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,TJ=BA`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,kJ=Af("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${TJ} 1s linear infinite;
`,FJ=BA`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,OJ=BA`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,DJ=Af("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${FJ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${OJ} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,PJ=Af("div")`
  position: absolute;
`,IJ=Af("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,LJ=BA`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,MJ=Af("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${LJ} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,RJ=({toast:r})=>{let{icon:e,type:t,iconTheme:n}=r;return e!==void 0?typeof e=="string"?B.createElement(MJ,null,e):e:t==="blank"?null:B.createElement(IJ,null,B.createElement(kJ,{...n}),t!=="loading"&&B.createElement(PJ,null,t==="error"?B.createElement(_J,{...n}):B.createElement(DJ,{...n})))},UJ=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,QJ=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,HJ="0%{opacity:0;} 100%{opacity:1;}",zJ="0%{opacity:1;} 100%{opacity:0;}",KJ=Af("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,$J=Af("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,VJ=(r,e)=>{let t=r.includes("top")?1:-1,[n,a]=J8()?[HJ,zJ]:[UJ(t),QJ(t)];return{animation:e?`${BA(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${BA(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},qJ=B.memo(({toast:r,position:e,style:t,children:n})=>{let a=r.height?VJ(r.position||e||"top-center",r.visible):{opacity:0},s=B.createElement(RJ,{toast:r}),i=B.createElement($J,{...r.ariaProps},Dw(r.message,r));return B.createElement(KJ,{className:r.className,style:{...a,...t,...r.style}},typeof n=="function"?n({icon:s,message:i}):B.createElement(B.Fragment,null,s,i))});pJ(B.createElement);var GJ=({id:r,className:e,style:t,onHeightUpdate:n,children:a})=>{let s=B.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(r,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[r,n]);return B.createElement("div",{ref:s,className:e,style:t},a)},WJ=(r,e)=>{let t=r.includes("top"),n=t?{top:0}:{bottom:0},a=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:J8()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...a}},YJ=oC`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Q1=16,XJ=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:n,children:a,toasterId:s,containerStyle:i,containerClassName:l})=>{let{toasts:c,handlers:u}=SJ(t,s);return B.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:Q1,left:Q1,right:Q1,bottom:Q1,pointerEvents:"none",...i},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(A=>{let h=A.position||e,p=u.calculateOffset(A,{reverseOrder:r,gutter:n,defaultPosition:e}),m=WJ(h,p);return B.createElement(GJ,{id:A.id,key:A.id,onHeightUpdate:u.updateHeight,className:A.visible?YJ:"",style:m},A.type==="custom"?Dw(A.message,A):a?a(A):B.createElement(qJ,{toast:A,position:h}))}))},rr=xe;const JJ=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZJ=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),c6=r=>{const e=ZJ(r);return e.charAt(0).toUpperCase()+e.slice(1)},n7=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),eZ=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var tZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rZ=B.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>B.createElement("svg",{ref:c,...tZ,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:n7("lucide",a),...!s&&!eZ(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,A])=>B.createElement(u,A)),...Array.isArray(s)?s:[s]]));const Ft=(r,e)=>{const t=B.forwardRef(({className:n,...a},s)=>B.createElement(rZ,{ref:s,iconNode:e,className:n7(`lucide-${JJ(c6(r))}`,`lucide-${r}`,n),...a}));return t.displayName=c6(r),t};const nZ=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],aZ=Ft("arrow-left-right",nZ);const sZ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],iZ=Ft("arrow-left",sZ);const oZ=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],lZ=Ft("award",oZ);const cZ=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],uZ=Ft("barcode",cZ);const dZ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],JE=Ft("bell",dZ);const AZ=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],hZ=Ft("box",AZ);const fZ=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Cu=Ft("briefcase",fZ);const mZ=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Xh=Ft("building-2",mZ);const pZ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],so=Ft("calendar",pZ);const gZ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],cC=Ft("chart-column",gZ);const xZ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Pw=Ft("check",xZ);const yZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Kl=Ft("chevron-down",yZ);const vZ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],a7=Ft("chevron-left",vZ);const bZ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gA=Ft("chevron-right",bZ);const wZ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],_0=Ft("chevron-up",wZ);const CZ=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Vp=Ft("chevrons-up-down",CZ);const NZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ls=Ft("circle-alert",NZ);const SZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],p_=Ft("circle-check",SZ);const BZ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],za=Ft("circle-check-big",BZ);const EZ=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jZ=Ft("circle-play",EZ);const _Z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],TZ=Ft("circle-plus",_Z);const kZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yp=Ft("circle-x",kZ);const FZ=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],OZ=Ft("clipboard-list",FZ);const DZ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ho=Ft("clock",DZ);const PZ=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],s7=Ft("crown",PZ);const IZ=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],g_=Ft("dollar-sign",IZ);const LZ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],LA=Ft("download",LZ);const MZ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xA=Ft("eye-off",MZ);const RZ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vi=Ft("eye",RZ);const UZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],QZ=Ft("file-check",UZ);const HZ=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],zZ=Ft("file-input",HZ);const KZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],$Z=Ft("file-json",KZ);const VZ=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],qZ=Ft("file-question-mark",VZ);const GZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],WZ=Ft("file-spreadsheet",GZ);const YZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$a=Ft("file-text",YZ);const XZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],JZ=Ft("file",XZ);const ZZ=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],T0=Ft("flask-conical",ZZ);const eee=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],tee=Ft("folder-kanban",eee);const ree=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Nu=Ft("folder-open",ree);const nee=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],aee=Ft("folder-plus",nee);const see=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],iee=Ft("folder-tree",see);const oee=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pg=Ft("funnel",oee);const lee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],cee=Ft("globe",lee);const uee=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],dee=Ft("hash",uee);const Aee=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],x_=Ft("house",Aee);const hee=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Iw=Ft("image",hee);const fee=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],mee=Ft("inbox",fee);const pee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],y_=Ft("info",pee);const gee=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],xee=Ft("layout-grid",gee);const yee=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],u6=Ft("link-2",yee);const vee=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],bee=Ft("list",vee);const wee=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],i7=Ft("loader-circle",wee);const Cee=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Nee=Ft("log-out",Cee);const See=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Uh=Ft("lock",See);const Bee=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],gg=Ft("mail",Bee);const Eee=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],c0=Ft("map-pin",Eee);const jee=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],_ee=Ft("menu",jee);const Tee=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],v_=Ft("monitor",Tee);const kee=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Fee=Ft("moon",kee);const Oee=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Eo=Ft("package",Oee);const Dee=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Pee=Ft("palette",Dee);const Iee=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Oo=Ft("pen",Iee);const Lee=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],uC=Ft("phone",Lee);const Mee=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ei=Ft("plus",Mee);const Ree=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],o7=Ft("printer",Ree);const Uee=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],l7=Ft("receipt",Uee);const Qee=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],dC=Ft("refresh-cw",Qee);const Hee=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],zee=Ft("rotate-ccw",Hee);const Kee=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],c7=Ft("save",Kee);const $ee=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Do=Ft("search",$ee);const Vee=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],u7=Ft("settings",Vee);const qee=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"9",y2:"21",key:"1ib60c"}],["line",{x1:"15",x2:"15",y1:"9",y2:"21",key:"1n26ft"}]],Gee=Ft("sheet",qee);const Wee=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],d7=Ft("shopping-cart",Wee);const Yee=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xee=Ft("square-check-big",Yee);const Jee=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ZE=Ft("square-pen",Jee);const Zee=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],ete=Ft("square",Zee);const tte=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],rte=Ft("sun",tte);const nte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ate=Ft("target",nte);const ste=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ite=Ft("toggle-left",ste);const ote=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],lte=Ft("toggle-right",ote);const cte=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Cs=Ft("trash-2",cte);const ute=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],A7=Ft("trending-up",ute);const dte=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Jh=Ft("triangle-alert",dte);const Ate=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Po=Ft("upload",Ate);const hte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ny=Ft("user-plus",hte);const fte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],mte=Ft("user-x",fte);const pte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Su=Ft("users",pte);const gte=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$l=Ft("user",gte);const xte=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],qp=Ft("wrench",xte);const yte=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fr=Ft("x",yte);const vte=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],bte=Ft("zoom-in",vte);const wte=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Cte=Ft("zoom-out",wte);function h7(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=h7(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function An(){for(var r,e,t=0,n="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=h7(r))&&(n&&(n+=" "),n+=e);return n}const b_="-",Nte=r=>{const e=Bte(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:i=>{const l=i.split(b_);return l[0]===""&&l.length!==1&&l.shift(),f7(l,e)||Ste(i)},getConflictingClassGroupIds:(i,l)=>{const c=t[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},f7=(r,e)=>{if(r.length===0)return e.classGroupId;const t=r[0],n=e.nextPart.get(t),a=n?f7(r.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const s=r.join(b_);return e.validators.find(({validator:i})=>i(s))?.classGroupId},d6=/^\[(.+)\]$/,Ste=r=>{if(d6.test(r)){const e=d6.exec(r)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Bte=r=>{const{theme:e,classGroups:t}=r,n={nextPart:new Map,validators:[]};for(const a in t)ej(t[a],n,a,e);return n},ej=(r,e,t,n)=>{r.forEach(a=>{if(typeof a=="string"){const s=a===""?e:A6(e,a);s.classGroupId=t;return}if(typeof a=="function"){if(Ete(a)){ej(a(n),e,t,n);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([s,i])=>{ej(i,A6(e,s),t,n)})})},A6=(r,e)=>{let t=r;return e.split(b_).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},Ete=r=>r.isThemeGetter,jte=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const a=(s,i)=>{t.set(s,i),e++,e>r&&(e=0,n=t,t=new Map)};return{get(s){let i=t.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return a(s,i),i},set(s,i){t.has(s)?t.set(s,i):a(s,i)}}},tj="!",rj=":",_te=rj.length,Tte=r=>{const{prefix:e,experimentalParseClassName:t}=r;let n=a=>{const s=[];let i=0,l=0,c=0,u;for(let y=0;y<a.length;y++){let g=a[y];if(i===0&&l===0){if(g===rj){s.push(a.slice(c,y)),c=y+_te;continue}if(g==="/"){u=y;continue}}g==="["?i++:g==="]"?i--:g==="("?l++:g===")"&&l--}const A=s.length===0?a:a.substring(c),h=kte(A),p=h!==A,m=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:m}};if(e){const a=e+rj,s=n;n=i=>i.startsWith(a)?s(i.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(t){const a=n;n=s=>t({className:s,parseClassName:a})}return n},kte=r=>r.endsWith(tj)?r.substring(0,r.length-1):r.startsWith(tj)?r.substring(1):r,Fte=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(a.push(...s.sort(),i),s=[]):s.push(i)}),a.push(...s.sort()),a}},Ote=r=>({cache:jte(r.cacheSize),parseClassName:Tte(r),sortModifiers:Fte(r),...Nte(r)}),Dte=/\s+/,Pte=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:s}=e,i=[],l=r.trim().split(Dte);let c="";for(let u=l.length-1;u>=0;u-=1){const A=l[u],{isExternal:h,modifiers:p,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}=t(A);if(h){c=A+(c.length>0?" "+c:c);continue}let v=!!g,b=n(v?y.substring(0,g):y);if(!b){if(!v){c=A+(c.length>0?" "+c:c);continue}if(b=n(y),!b){c=A+(c.length>0?" "+c:c);continue}v=!1}const N=s(p).join(":"),C=m?N+tj:N,E=C+b;if(i.includes(E))continue;i.push(E);const _=a(b,v);for(let P=0;P<_.length;++P){const O=_[P];i.push(C+O)}c=A+(c.length>0?" "+c:c)}return c};function Ite(){let r=0,e,t,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=m7(e))&&(n&&(n+=" "),n+=t);return n}const m7=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=m7(r[n]))&&(t&&(t+=" "),t+=e);return t};function Lte(r,...e){let t,n,a,s=i;function i(c){const u=e.reduce((A,h)=>h(A),r());return t=Ote(u),n=t.cache.get,a=t.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const A=Pte(c,t);return a(c,A),A}return function(){return s(Ite.apply(null,arguments))}}const Ws=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},p7=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,g7=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Mte=/^\d+\/\d+$/,Rte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ute=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Hte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wm=r=>Mte.test(r),Gr=r=>!!r&&!Number.isNaN(Number(r)),Sh=r=>!!r&&Number.isInteger(Number(r)),JN=r=>r.endsWith("%")&&Gr(r.slice(0,-1)),rA=r=>Rte.test(r),Kte=()=>!0,$te=r=>Ute.test(r)&&!Qte.test(r),x7=()=>!1,Vte=r=>Hte.test(r),qte=r=>zte.test(r),Gte=r=>!sr(r)&&!ir(r),Wte=r=>xg(r,b7,x7),sr=r=>p7.test(r),Gf=r=>xg(r,w7,$te),ZN=r=>xg(r,ere,Gr),h6=r=>xg(r,y7,x7),Yte=r=>xg(r,v7,qte),H1=r=>xg(r,C7,Vte),ir=r=>g7.test(r),Cx=r=>yg(r,w7),Xte=r=>yg(r,tre),f6=r=>yg(r,y7),Jte=r=>yg(r,b7),Zte=r=>yg(r,v7),z1=r=>yg(r,C7,!0),xg=(r,e,t)=>{const n=p7.exec(r);return n?n[1]?e(n[1]):t(n[2]):!1},yg=(r,e,t=!1)=>{const n=g7.exec(r);return n?n[1]?e(n[1]):t:!1},y7=r=>r==="position"||r==="percentage",v7=r=>r==="image"||r==="url",b7=r=>r==="length"||r==="size"||r==="bg-size",w7=r=>r==="length",ere=r=>r==="number",tre=r=>r==="family-name",C7=r=>r==="shadow",rre=()=>{const r=Ws("color"),e=Ws("font"),t=Ws("text"),n=Ws("font-weight"),a=Ws("tracking"),s=Ws("leading"),i=Ws("breakpoint"),l=Ws("container"),c=Ws("spacing"),u=Ws("radius"),A=Ws("shadow"),h=Ws("inset-shadow"),p=Ws("text-shadow"),m=Ws("drop-shadow"),y=Ws("blur"),g=Ws("perspective"),v=Ws("aspect"),b=Ws("ease"),N=Ws("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...E(),ir,sr],P=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],D=()=>[ir,sr,c],k=()=>[Wm,"full","auto",...D()],H=()=>[Sh,"none","subgrid",ir,sr],L=()=>["auto",{span:["full",Sh,ir,sr]},Sh,ir,sr],Q=()=>[Sh,"auto",ir,sr],R=()=>["auto","min","max","fr",ir,sr],K=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...D()],ae=()=>[Wm,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],Y=()=>[r,ir,sr],de=()=>[...E(),f6,h6,{position:[ir,sr]}],pe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Z=()=>["auto","cover","contain",Jte,Wte,{size:[ir,sr]}],I=()=>[JN,Cx,Gf],z=()=>["","none","full",u,ir,sr],V=()=>["",Gr,Cx,Gf],q=()=>["solid","dashed","dotted","double"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[Gr,JN,f6,h6],Be=()=>["","none",y,ir,sr],Ae=()=>["none",Gr,ir,sr],ye=()=>["none",Gr,ir,sr],Pe=()=>[Gr,ir,sr],je=()=>[Wm,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[rA],breakpoint:[rA],color:[Kte],container:[rA],"drop-shadow":[rA],ease:["in","out","in-out"],font:[Gte],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[rA],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[rA],shadow:[rA],spacing:["px",Gr],text:[rA],"text-shadow":[rA],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Wm,sr,ir,v]}],container:["container"],columns:[{columns:[Gr,sr,ir,l]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Sh,"auto",ir,sr]}],basis:[{basis:[Wm,"full","auto",l,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Gr,Wm,"auto","initial","none",sr]}],grow:[{grow:["",Gr,ir,sr]}],shrink:[{shrink:["",Gr,ir,sr]}],order:[{order:[Sh,"first","last","none",ir,sr]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[l,"screen",...ae()]}],"min-w":[{"min-w":[l,"screen","none",...ae()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",t,Cx,Gf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ir,ZN]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",JN,sr]}],"font-family":[{font:[Xte,sr,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ir,sr]}],"line-clamp":[{"line-clamp":[Gr,"none",ir,ZN]}],leading:[{leading:[s,...D()]}],"list-image":[{"list-image":["none",ir,sr]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ir,sr]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[Gr,"from-font","auto",ir,Gf]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[Gr,"auto",ir,sr]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ir,sr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ir,sr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:pe()}],"bg-size":[{bg:Z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Sh,ir,sr],radial:["",ir,sr],conic:[Sh,ir,sr]},Zte,Yte]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:I()}],"gradient-via-pos":[{via:I()}],"gradient-to-pos":[{to:I()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Gr,ir,sr]}],"outline-w":[{outline:["",Gr,Cx,Gf]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",A,z1,H1]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",h,z1,H1]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[Gr,Gf]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",p,z1,H1]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[Gr,ir,sr]}],"mix-blend":[{"mix-blend":[...ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Gr]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[ir,sr]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[Gr]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:pe()}],"mask-size":[{mask:Z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ir,sr]}],filter:[{filter:["","none",ir,sr]}],blur:[{blur:Be()}],brightness:[{brightness:[Gr,ir,sr]}],contrast:[{contrast:[Gr,ir,sr]}],"drop-shadow":[{"drop-shadow":["","none",m,z1,H1]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",Gr,ir,sr]}],"hue-rotate":[{"hue-rotate":[Gr,ir,sr]}],invert:[{invert:["",Gr,ir,sr]}],saturate:[{saturate:[Gr,ir,sr]}],sepia:[{sepia:["",Gr,ir,sr]}],"backdrop-filter":[{"backdrop-filter":["","none",ir,sr]}],"backdrop-blur":[{"backdrop-blur":Be()}],"backdrop-brightness":[{"backdrop-brightness":[Gr,ir,sr]}],"backdrop-contrast":[{"backdrop-contrast":[Gr,ir,sr]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Gr,ir,sr]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Gr,ir,sr]}],"backdrop-invert":[{"backdrop-invert":["",Gr,ir,sr]}],"backdrop-opacity":[{"backdrop-opacity":[Gr,ir,sr]}],"backdrop-saturate":[{"backdrop-saturate":[Gr,ir,sr]}],"backdrop-sepia":[{"backdrop-sepia":["",Gr,ir,sr]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ir,sr]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Gr,"initial",ir,sr]}],ease:[{ease:["linear","initial",b,ir,sr]}],delay:[{delay:[Gr,ir,sr]}],animate:[{animate:["none",N,ir,sr]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,ir,sr]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:Ae()}],"rotate-x":[{"rotate-x":Ae()}],"rotate-y":[{"rotate-y":Ae()}],"rotate-z":[{"rotate-z":Ae()}],scale:[{scale:ye()}],"scale-x":[{"scale-x":ye()}],"scale-y":[{"scale-y":ye()}],"scale-z":[{"scale-z":ye()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[ir,sr,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:je()}],"translate-x":[{"translate-x":je()}],"translate-y":[{"translate-y":je()}],"translate-z":[{"translate-z":je()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ir,sr]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ir,sr]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[Gr,Cx,Gf,ZN]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},nre=Lte(rre);function Cr(...r){return nre(An(r))}function a0(r){if(!r)return"-";const e=new Date(r);return isNaN(e.getTime())?"-":new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(e)}const pn={engineer:1,"senior-engineer":2,"principal-engineer":3,manager:3,"managing-director":4,admin:5},m6=r=>{const e=pn[r]||0;return r==="admin"?{canAddProject:!0,canAddResearch:!0,canAddBusinessContact:!0,canAddTimesheet:!0,canExportTimesheet:!0,canAddTeamMember:!0,canEditTeamMember:!0,canDeleteTeamMember:!0,canAddOrRemoveInventory:!0,canAddMaintenanceDates:!0,canAddOrRemovePC:!0,canCheckoutEquipment:!0,canAssignPC:!0,canAccessFinance:!0,canUploadPO:!0,canDeletePO:!0,canApproveInvoices:!0,canEditInvoices:!0,canDeleteInvoices:!0,canViewBaseCost:!0,canViewAnalytics:!0,canManageProjectRates:!0}:{canAddProject:e>=pn.engineer,canAddResearch:e>=pn.engineer,canAddBusinessContact:e>=pn.engineer,canAddTimesheet:e>=pn.engineer,canExportTimesheet:e>=pn["senior-engineer"],canAddTeamMember:e>=pn["principal-engineer"],canEditTeamMember:e>=pn["principal-engineer"],canDeleteTeamMember:e>=pn["principal-engineer"],canAddOrRemoveInventory:e>=pn.engineer,canAddMaintenanceDates:e>=pn.engineer,canAddOrRemovePC:e>=pn.engineer,canCheckoutEquipment:e>=pn.engineer,canAssignPC:e>=pn.engineer,canAccessFinance:e>=pn["senior-engineer"],canUploadPO:e>=pn["senior-engineer"],canDeletePO:e>=pn["senior-engineer"],canApproveInvoices:e>=pn["managing-director"],canEditInvoices:e>=pn["senior-engineer"],canDeleteInvoices:e>=pn["senior-engineer"],canViewBaseCost:e>=pn["senior-engineer"],canViewAnalytics:e>=pn["senior-engineer"],canManageProjectRates:e>=pn["senior-engineer"]}},are=r=>{if(r.length===0)return"engineer";if(r.includes("admin"))return"admin";let e=r[0],t=pn[e]||0;for(const n of r){const a=pn[n]||0;a>t&&(t=a,e=n)}return e},AC=r=>{const e=Array.isArray(r)?r:[r];if(e.length===0)return m6("engineer");const t=are(e);return m6(t)},w_=r=>({engineer:{label:"Engineer",color:"bg-blue-100 text-blue-800 border-blue-200",icon:"",level:pn.engineer},"senior-engineer":{label:"Senior Engineer",color:"bg-purple-100 text-purple-800 border-purple-200",icon:"",level:pn["senior-engineer"]},"principal-engineer":{label:"Principal Engineer",color:"bg-indigo-100 text-indigo-800 border-indigo-200",icon:"",level:pn["principal-engineer"]},manager:{label:"Manager",color:"bg-green-100 text-green-800 border-green-200",icon:"",level:pn.manager},"managing-director":{label:"Managing Director",color:"bg-red-100 text-red-800 border-red-200",icon:"",level:pn["managing-director"]},admin:{label:"Admin",color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:"",level:pn.admin}})[r],bd=(r,e)=>`This action requires ${w_(e).label} level or higher. Please contact your manager if you need access.`,ol=(r,e)=>AC(r)[e];function N7(r,e){return function(){return r.apply(e,arguments)}}const{toString:sre}=Object.prototype,{getPrototypeOf:C_}=Object,{iterator:hC,toStringTag:S7}=Symbol,fC=(r=>e=>{const t=sre.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Tu=r=>(r=r.toLowerCase(),e=>fC(e)===r),mC=r=>e=>typeof e===r,{isArray:vg}=Array,Gp=mC("undefined");function iv(r){return r!==null&&!Gp(r)&&r.constructor!==null&&!Gp(r.constructor)&&cl(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const B7=Tu("ArrayBuffer");function ire(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&B7(r.buffer),e}const ore=mC("string"),cl=mC("function"),E7=mC("number"),ov=r=>r!==null&&typeof r=="object",lre=r=>r===!0||r===!1,fw=r=>{if(fC(r)!=="object")return!1;const e=C_(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(S7 in r)&&!(hC in r)},cre=r=>{if(!ov(r)||iv(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},ure=Tu("Date"),dre=Tu("File"),Are=Tu("Blob"),hre=Tu("FileList"),fre=r=>ov(r)&&cl(r.pipe),mre=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||cl(r.append)&&((e=fC(r))==="formdata"||e==="object"&&cl(r.toString)&&r.toString()==="[object FormData]"))},pre=Tu("URLSearchParams"),[gre,xre,yre,vre]=["ReadableStream","Request","Response","Headers"].map(Tu),bre=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lv(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,a;if(typeof r!="object"&&(r=[r]),vg(r))for(n=0,a=r.length;n<a;n++)e.call(null,r[n],n,r);else{if(iv(r))return;const s=t?Object.getOwnPropertyNames(r):Object.keys(r),i=s.length;let l;for(n=0;n<i;n++)l=s[n],e.call(null,r[l],l,r)}}function j7(r,e){if(iv(r))return null;e=e.toLowerCase();const t=Object.keys(r);let n=t.length,a;for(;n-- >0;)if(a=t[n],e===a.toLowerCase())return a;return null}const u0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_7=r=>!Gp(r)&&r!==u0;function nj(){const{caseless:r,skipUndefined:e}=_7(this)&&this||{},t={},n=(a,s)=>{const i=r&&j7(t,s)||s;fw(t[i])&&fw(a)?t[i]=nj(t[i],a):fw(a)?t[i]=nj({},a):vg(a)?t[i]=a.slice():(!e||!Gp(a))&&(t[i]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&lv(arguments[a],n);return t}const wre=(r,e,t,{allOwnKeys:n}={})=>(lv(e,(a,s)=>{t&&cl(a)?r[s]=N7(a,t):r[s]=a},{allOwnKeys:n}),r),Cre=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Nre=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},Sre=(r,e,t,n)=>{let a,s,i;const l={};if(e=e||{},r==null)return e;do{for(a=Object.getOwnPropertyNames(r),s=a.length;s-- >0;)i=a[s],(!n||n(i,r,e))&&!l[i]&&(e[i]=r[i],l[i]=!0);r=t!==!1&&C_(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Bre=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},Ere=r=>{if(!r)return null;if(vg(r))return r;let e=r.length;if(!E7(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},jre=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&C_(Uint8Array)),_re=(r,e)=>{const n=(r&&r[hC]).call(r);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(r,s[0],s[1])}},Tre=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},kre=Tu("HTMLFormElement"),Fre=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,a){return n.toUpperCase()+a}),p6=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),Ore=Tu("RegExp"),T7=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};lv(t,(a,s)=>{let i;(i=e(a,s,r))!==!1&&(n[s]=i||a)}),Object.defineProperties(r,n)},Dre=r=>{T7(r,(e,t)=>{if(cl(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(cl(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Pre=(r,e)=>{const t={},n=a=>{a.forEach(s=>{t[s]=!0})};return vg(r)?n(r):n(String(r).split(e)),t},Ire=()=>{},Lre=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function Mre(r){return!!(r&&cl(r.append)&&r[S7]==="FormData"&&r[hC])}const Rre=r=>{const e=new Array(10),t=(n,a)=>{if(ov(n)){if(e.indexOf(n)>=0)return;if(iv(n))return n;if(!("toJSON"in n)){e[a]=n;const s=vg(n)?[]:{};return lv(n,(i,l)=>{const c=t(i,a+1);!Gp(c)&&(s[l]=c)}),e[a]=void 0,s}}return n};return t(r,0)},Ure=Tu("AsyncFunction"),Qre=r=>r&&(ov(r)||cl(r))&&cl(r.then)&&cl(r.catch),k7=((r,e)=>r?setImmediate:e?((t,n)=>(u0.addEventListener("message",({source:a,data:s})=>{a===u0&&s===t&&n.length&&n.shift()()},!1),a=>{n.push(a),u0.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",cl(u0.postMessage)),Hre=typeof queueMicrotask<"u"?queueMicrotask.bind(u0):typeof process<"u"&&process.nextTick||k7,zre=r=>r!=null&&cl(r[hC]),rt={isArray:vg,isArrayBuffer:B7,isBuffer:iv,isFormData:mre,isArrayBufferView:ire,isString:ore,isNumber:E7,isBoolean:lre,isObject:ov,isPlainObject:fw,isEmptyObject:cre,isReadableStream:gre,isRequest:xre,isResponse:yre,isHeaders:vre,isUndefined:Gp,isDate:ure,isFile:dre,isBlob:Are,isRegExp:Ore,isFunction:cl,isStream:fre,isURLSearchParams:pre,isTypedArray:jre,isFileList:hre,forEach:lv,merge:nj,extend:wre,trim:bre,stripBOM:Cre,inherits:Nre,toFlatObject:Sre,kindOf:fC,kindOfTest:Tu,endsWith:Bre,toArray:Ere,forEachEntry:_re,matchAll:Tre,isHTMLForm:kre,hasOwnProperty:p6,hasOwnProp:p6,reduceDescriptors:T7,freezeMethods:Dre,toObjectSet:Pre,toCamelCase:Fre,noop:Ire,toFiniteNumber:Lre,findKey:j7,global:u0,isContextDefined:_7,isSpecCompliantForm:Mre,toJSONObject:Rre,isAsyncFn:Ure,isThenable:Qre,setImmediate:k7,asap:Hre,isIterable:zre};function Qr(r,e,t,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}rt.inherits(Qr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rt.toJSONObject(this.config),code:this.code,status:this.status}}});const F7=Qr.prototype,O7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{O7[r]={value:r}});Object.defineProperties(Qr,O7);Object.defineProperty(F7,"isAxiosError",{value:!0});Qr.from=(r,e,t,n,a,s)=>{const i=Object.create(F7);rt.toFlatObject(r,i,function(A){return A!==Error.prototype},u=>u!=="isAxiosError");const l=r&&r.message?r.message:"Error",c=e==null&&r?r.code:e;return Qr.call(i,l,c,t,n,a),r&&i.cause==null&&Object.defineProperty(i,"cause",{value:r,configurable:!0}),i.name=r&&r.name||"Error",s&&Object.assign(i,s),i};const Kre=null;function aj(r){return rt.isPlainObject(r)||rt.isArray(r)}function D7(r){return rt.endsWith(r,"[]")?r.slice(0,-2):r}function g6(r,e,t){return r?r.concat(e).map(function(a,s){return a=D7(a),!t&&s?"["+a+"]":a}).join(t?".":""):e}function $re(r){return rt.isArray(r)&&!r.some(aj)}const Vre=rt.toFlatObject(rt,{},null,function(e){return/^is[A-Z]/.test(e)});function pC(r,e,t){if(!rt.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=rt.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!rt.isUndefined(v[g])});const n=t.metaTokens,a=t.visitor||A,s=t.dots,i=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&rt.isSpecCompliantForm(e);if(!rt.isFunction(a))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(rt.isDate(y))return y.toISOString();if(rt.isBoolean(y))return y.toString();if(!c&&rt.isBlob(y))throw new Qr("Blob is not supported. Use a Buffer instead.");return rt.isArrayBuffer(y)||rt.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function A(y,g,v){let b=y;if(y&&!v&&typeof y=="object"){if(rt.endsWith(g,"{}"))g=n?g:g.slice(0,-2),y=JSON.stringify(y);else if(rt.isArray(y)&&$re(y)||(rt.isFileList(y)||rt.endsWith(g,"[]"))&&(b=rt.toArray(y)))return g=D7(g),b.forEach(function(C,E){!(rt.isUndefined(C)||C===null)&&e.append(i===!0?g6([g],E,s):i===null?g:g+"[]",u(C))}),!1}return aj(y)?!0:(e.append(g6(v,g,s),u(y)),!1)}const h=[],p=Object.assign(Vre,{defaultVisitor:A,convertValue:u,isVisitable:aj});function m(y,g){if(!rt.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(y),rt.forEach(y,function(b,N){(!(rt.isUndefined(b)||b===null)&&a.call(e,b,rt.isString(N)?N.trim():N,g,p))===!0&&m(b,g?g.concat(N):[N])}),h.pop()}}if(!rt.isObject(r))throw new TypeError("data must be an object");return m(r),e}function x6(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function N_(r,e){this._pairs=[],r&&pC(r,this,e)}const P7=N_.prototype;P7.append=function(e,t){this._pairs.push([e,t])};P7.toString=function(e){const t=e?function(n){return e.call(this,n,x6)}:x6;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function qre(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function I7(r,e,t){if(!e)return r;const n=t&&t.encode||qre;rt.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let s;if(a?s=a(e,t):s=rt.isURLSearchParams(e)?e.toString():new N_(e,t).toString(n),s){const i=r.indexOf("#");i!==-1&&(r=r.slice(0,i)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}class y6{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){rt.forEach(this.handlers,function(n){n!==null&&e(n)})}}const L7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gre=typeof URLSearchParams<"u"?URLSearchParams:N_,Wre=typeof FormData<"u"?FormData:null,Yre=typeof Blob<"u"?Blob:null,Xre={isBrowser:!0,classes:{URLSearchParams:Gre,FormData:Wre,Blob:Yre},protocols:["http","https","file","blob","url","data"]},S_=typeof window<"u"&&typeof document<"u",sj=typeof navigator=="object"&&navigator||void 0,Jre=S_&&(!sj||["ReactNative","NativeScript","NS"].indexOf(sj.product)<0),Zre=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ene=S_&&window.location.href||"http://localhost",tne=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:S_,hasStandardBrowserEnv:Jre,hasStandardBrowserWebWorkerEnv:Zre,navigator:sj,origin:ene},Symbol.toStringTag,{value:"Module"})),oo={...tne,...Xre};function rne(r,e){return pC(r,new oo.classes.URLSearchParams,{visitor:function(t,n,a,s){return oo.isNode&&rt.isBuffer(t)?(this.append(n,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function nne(r){return rt.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ane(r){const e={},t=Object.keys(r);let n;const a=t.length;let s;for(n=0;n<a;n++)s=t[n],e[s]=r[s];return e}function M7(r){function e(t,n,a,s){let i=t[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=t.length;return i=!i&&rt.isArray(a)?a.length:i,c?(rt.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!rt.isObject(a[i]))&&(a[i]=[]),e(t,n,a[i],s)&&rt.isArray(a[i])&&(a[i]=ane(a[i])),!l)}if(rt.isFormData(r)&&rt.isFunction(r.entries)){const t={};return rt.forEachEntry(r,(n,a)=>{e(nne(n),a,t,0)}),t}return null}function sne(r,e,t){if(rt.isString(r))try{return(e||JSON.parse)(r),rt.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const cv={transitional:L7,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,s=rt.isObject(e);if(s&&rt.isHTMLForm(e)&&(e=new FormData(e)),rt.isFormData(e))return a?JSON.stringify(M7(e)):e;if(rt.isArrayBuffer(e)||rt.isBuffer(e)||rt.isStream(e)||rt.isFile(e)||rt.isBlob(e)||rt.isReadableStream(e))return e;if(rt.isArrayBufferView(e))return e.buffer;if(rt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return rne(e,this.formSerializer).toString();if((l=rt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return pC(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||a?(t.setContentType("application/json",!1),sne(e)):e}],transformResponse:[function(e){const t=this.transitional||cv.transitional,n=t&&t.forcedJSONParsing,a=this.responseType==="json";if(rt.isResponse(e)||rt.isReadableStream(e))return e;if(e&&rt.isString(e)&&(n&&!this.responseType||a)){const i=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Qr.from(l,Qr.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oo.classes.FormData,Blob:oo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};rt.forEach(["delete","get","head","post","put","patch"],r=>{cv.headers[r]={}});const ine=rt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),one=r=>{const e={};let t,n,a;return r&&r.split(`
`).forEach(function(i){a=i.indexOf(":"),t=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!t||e[t]&&ine[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},v6=Symbol("internals");function Nx(r){return r&&String(r).trim().toLowerCase()}function mw(r){return r===!1||r==null?r:rt.isArray(r)?r.map(mw):String(r)}function lne(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const cne=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function eS(r,e,t,n,a){if(rt.isFunction(n))return n.call(this,e,t);if(a&&(e=t),!!rt.isString(e)){if(rt.isString(n))return e.indexOf(n)!==-1;if(rt.isRegExp(n))return n.test(e)}}function une(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function dne(r,e){const t=rt.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(a,s,i){return this[n].call(this,e,a,s,i)},configurable:!0})})}let ul=class{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function s(l,c,u){const A=Nx(c);if(!A)throw new Error("header name must be a non-empty string");const h=rt.findKey(a,A);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||c]=mw(l))}const i=(l,c)=>rt.forEach(l,(u,A)=>s(u,A,c));if(rt.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(rt.isString(e)&&(e=e.trim())&&!cne(e))i(one(e),t);else if(rt.isObject(e)&&rt.isIterable(e)){let l={},c,u;for(const A of e){if(!rt.isArray(A))throw TypeError("Object iterator must return a key-value pair");l[u=A[0]]=(c=l[u])?rt.isArray(c)?[...c,A[1]]:[c,A[1]]:A[1]}i(l,t)}else e!=null&&s(t,e,n);return this}get(e,t){if(e=Nx(e),e){const n=rt.findKey(this,e);if(n){const a=this[n];if(!t)return a;if(t===!0)return lne(a);if(rt.isFunction(t))return t.call(this,a,n);if(rt.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Nx(e),e){const n=rt.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||eS(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let a=!1;function s(i){if(i=Nx(i),i){const l=rt.findKey(n,i);l&&(!t||eS(n,n[l],l,t))&&(delete n[l],a=!0)}}return rt.isArray(e)?e.forEach(s):s(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const s=t[n];(!e||eS(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const t=this,n={};return rt.forEach(this,(a,s)=>{const i=rt.findKey(n,s);if(i){t[i]=mw(a),delete t[s];return}const l=e?une(s):String(s).trim();l!==s&&delete t[s],t[l]=mw(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return rt.forEach(this,(n,a)=>{n!=null&&n!==!1&&(t[a]=e&&rt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[v6]=this[v6]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=Nx(i);n[l]||(dne(a,i),n[l]=!0)}return rt.isArray(e)?e.forEach(s):s(e),this}};ul.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);rt.reduceDescriptors(ul.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});rt.freezeMethods(ul);function tS(r,e){const t=this||cv,n=e||t,a=ul.from(n.headers);let s=n.data;return rt.forEach(r,function(l){s=l.call(t,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function R7(r){return!!(r&&r.__CANCEL__)}function bg(r,e,t){Qr.call(this,r??"canceled",Qr.ERR_CANCELED,e,t),this.name="CanceledError"}rt.inherits(bg,Qr,{__CANCEL__:!0});function U7(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new Qr("Request failed with status code "+t.status,[Qr.ERR_BAD_REQUEST,Qr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Ane(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function hne(r,e){r=r||10;const t=new Array(r),n=new Array(r);let a=0,s=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),A=n[s];i||(i=u),t[a]=c,n[a]=u;let h=s,p=0;for(;h!==a;)p+=t[h++],h=h%r;if(a=(a+1)%r,a===s&&(s=(s+1)%r),u-i<e)return;const m=A&&u-A;return m?Math.round(p*1e3/m):void 0}}function fne(r,e){let t=0,n=1e3/e,a,s;const i=(u,A=Date.now())=>{t=A,a=null,s&&(clearTimeout(s),s=null),r(...u)};return[(...u)=>{const A=Date.now(),h=A-t;h>=n?i(u,A):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-h)))},()=>a&&i(a)]}const Lw=(r,e,t=3)=>{let n=0;const a=hne(50,250);return fne(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),A=i<=l;n=i;const h={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&A?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};r(h)},t)},b6=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},w6=r=>(...e)=>rt.asap(()=>r(...e)),mne=oo.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,oo.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(oo.origin),oo.navigator&&/(msie|trident)/i.test(oo.navigator.userAgent)):()=>!0,pne=oo.hasStandardBrowserEnv?{write(r,e,t,n,a,s){const i=[r+"="+encodeURIComponent(e)];rt.isNumber(t)&&i.push("expires="+new Date(t).toGMTString()),rt.isString(n)&&i.push("path="+n),rt.isString(a)&&i.push("domain="+a),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gne(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function xne(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function Q7(r,e,t){let n=!gne(e);return r&&(n||t==!1)?xne(r,e):e}const C6=r=>r instanceof ul?{...r}:r;function k0(r,e){e=e||{};const t={};function n(u,A,h,p){return rt.isPlainObject(u)&&rt.isPlainObject(A)?rt.merge.call({caseless:p},u,A):rt.isPlainObject(A)?rt.merge({},A):rt.isArray(A)?A.slice():A}function a(u,A,h,p){if(rt.isUndefined(A)){if(!rt.isUndefined(u))return n(void 0,u,h,p)}else return n(u,A,h,p)}function s(u,A){if(!rt.isUndefined(A))return n(void 0,A)}function i(u,A){if(rt.isUndefined(A)){if(!rt.isUndefined(u))return n(void 0,u)}else return n(void 0,A)}function l(u,A,h){if(h in e)return n(u,A);if(h in r)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,A,h)=>a(C6(u),C6(A),h,!0)};return rt.forEach(Object.keys({...r,...e}),function(A){const h=c[A]||a,p=h(r[A],e[A],A);rt.isUndefined(p)&&h!==l||(t[A]=p)}),t}const H7=r=>{const e=k0({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=e;if(e.headers=i=ul.from(i),e.url=I7(Q7(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),rt.isFormData(t)){if(oo.hasStandardBrowserEnv||oo.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(rt.isFunction(t.getHeaders)){const c=t.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([A,h])=>{u.includes(A.toLowerCase())&&i.set(A,h)})}}if(oo.hasStandardBrowserEnv&&(n&&rt.isFunction(n)&&(n=n(e)),n||n!==!1&&mne(e.url))){const c=a&&s&&pne.read(s);c&&i.set(a,c)}return e},yne=typeof XMLHttpRequest<"u",vne=yne&&function(r){return new Promise(function(t,n){const a=H7(r);let s=a.data;const i=ul.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,A,h,p,m,y;function g(){m&&m(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(A),a.signal&&a.signal.removeEventListener("abort",A)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function b(){if(!v)return;const C=ul.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:C,config:r,request:v};U7(function(O){t(O),g()},function(O){n(O),g()},_),v=null}"onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){v&&(n(new Qr("Request aborted",Qr.ECONNABORTED,r,v)),v=null)},v.onerror=function(E){const _=E&&E.message?E.message:"Network Error",P=new Qr(_,Qr.ERR_NETWORK,r,v);P.event=E||null,n(P),v=null},v.ontimeout=function(){let E=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const _=a.transitional||L7;a.timeoutErrorMessage&&(E=a.timeoutErrorMessage),n(new Qr(E,_.clarifyTimeoutError?Qr.ETIMEDOUT:Qr.ECONNABORTED,r,v)),v=null},s===void 0&&i.setContentType(null),"setRequestHeader"in v&&rt.forEach(i.toJSON(),function(E,_){v.setRequestHeader(_,E)}),rt.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([p,y]=Lw(u,!0),v.addEventListener("progress",p)),c&&v.upload&&([h,m]=Lw(c),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(A=C=>{v&&(n(!C||C.type?new bg(null,r,v):C),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(A),a.signal&&(a.signal.aborted?A():a.signal.addEventListener("abort",A)));const N=Ane(a.url);if(N&&oo.protocols.indexOf(N)===-1){n(new Qr("Unsupported protocol "+N+":",Qr.ERR_BAD_REQUEST,r));return}v.send(s||null)})},bne=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const A=u instanceof Error?u:this.reason;n.abort(A instanceof Qr?A:new bg(A instanceof Error?A.message:A))}};let i=e&&setTimeout(()=>{i=null,s(new Qr(`timeout ${e} of ms exceeded`,Qr.ETIMEDOUT))},e);const l=()=>{r&&(i&&clearTimeout(i),i=null,r.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),r=null)};r.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>rt.asap(l),c}},wne=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,a;for(;n<t;)a=n+e,yield r.slice(n,a),n=a},Cne=async function*(r,e){for await(const t of Nne(r))yield*wne(t,e)},Nne=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},N6=(r,e,t,n)=>{const a=Cne(r,e);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:A}=await a.next();if(u){l(),c.close();return}let h=A.byteLength;if(t){let p=s+=h;t(p)}c.enqueue(new Uint8Array(A))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},S6=64*1024,{isFunction:K1}=rt,Sne=(({Request:r,Response:e})=>({Request:r,Response:e}))(rt.global),{ReadableStream:B6,TextEncoder:E6}=rt.global,j6=(r,...e)=>{try{return!!r(...e)}catch{return!1}},Bne=r=>{r=rt.merge.call({skipUndefined:!0},Sne,r);const{fetch:e,Request:t,Response:n}=r,a=e?K1(e):typeof fetch=="function",s=K1(t),i=K1(n);if(!a)return!1;const l=a&&K1(B6),c=a&&(typeof E6=="function"?(y=>g=>y.encode(g))(new E6):async y=>new Uint8Array(await new t(y).arrayBuffer())),u=s&&l&&j6(()=>{let y=!1;const g=new t(oo.origin,{body:new B6,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!g}),A=i&&l&&j6(()=>rt.isReadableStream(new n("").body)),h={stream:A&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!h[y]&&(h[y]=(g,v)=>{let b=g&&g[y];if(b)return b.call(g);throw new Qr(`Response type '${y}' is not supported`,Qr.ERR_NOT_SUPPORT,v)})});const p=async y=>{if(y==null)return 0;if(rt.isBlob(y))return y.size;if(rt.isSpecCompliantForm(y))return(await new t(oo.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(rt.isArrayBufferView(y)||rt.isArrayBuffer(y))return y.byteLength;if(rt.isURLSearchParams(y)&&(y=y+""),rt.isString(y))return(await c(y)).byteLength},m=async(y,g)=>{const v=rt.toFiniteNumber(y.getContentLength());return v??p(g)};return async y=>{let{url:g,method:v,data:b,signal:N,cancelToken:C,timeout:E,onDownloadProgress:_,onUploadProgress:P,responseType:O,headers:D,withCredentials:k="same-origin",fetchOptions:H}=H7(y),L=e||fetch;O=O?(O+"").toLowerCase():"text";let Q=bne([N,C&&C.toAbortSignal()],E),R=null;const K=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let ee;try{if(P&&u&&v!=="get"&&v!=="head"&&(ee=await m(D,b))!==0){let Z=new t(g,{method:"POST",body:b,duplex:"half"}),I;if(rt.isFormData(b)&&(I=Z.headers.get("content-type"))&&D.setContentType(I),Z.body){const[z,V]=b6(ee,Lw(w6(P)));b=N6(Z.body,S6,z,V)}}rt.isString(k)||(k=k?"include":"omit");const X=s&&"credentials"in t.prototype,ae={...H,signal:Q,method:v.toUpperCase(),headers:D.normalize().toJSON(),body:b,duplex:"half",credentials:X?k:void 0};R=s&&new t(g,ae);let Y=await(s?L(R,H):L(g,ae));const de=A&&(O==="stream"||O==="response");if(A&&(_||de&&K)){const Z={};["status","statusText","headers"].forEach(q=>{Z[q]=Y[q]});const I=rt.toFiniteNumber(Y.headers.get("content-length")),[z,V]=_&&b6(I,Lw(w6(_),!0))||[];Y=new n(N6(Y.body,S6,z,()=>{V&&V(),K&&K()}),Z)}O=O||"text";let pe=await h[rt.findKey(h,O)||"text"](Y,y);return!de&&K&&K(),await new Promise((Z,I)=>{U7(Z,I,{data:pe,headers:ul.from(Y.headers),status:Y.status,statusText:Y.statusText,config:y,request:R})})}catch(X){throw K&&K(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new Qr("Network Error",Qr.ERR_NETWORK,y,R),{cause:X.cause||X}):Qr.from(X,X&&X.code,y,R)}}},Ene=new Map,z7=r=>{let e=r?r.env:{};const{fetch:t,Request:n,Response:a}=e,s=[n,a,t];let i=s.length,l=i,c,u,A=Ene;for(;l--;)c=s[l],u=A.get(c),u===void 0&&A.set(c,u=l?new Map:Bne(e)),A=u;return u};z7();const ij={http:Kre,xhr:vne,fetch:{get:z7}};rt.forEach(ij,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const _6=r=>`- ${r}`,jne=r=>rt.isFunction(r)||r===null||r===!1,K7={getAdapter:(r,e)=>{r=rt.isArray(r)?r:[r];const{length:t}=r;let n,a;const s={};for(let i=0;i<t;i++){n=r[i];let l;if(a=n,!jne(n)&&(a=ij[(l=String(n)).toLowerCase()],a===void 0))throw new Qr(`Unknown adapter '${l}'`);if(a&&(rt.isFunction(a)||(a=a.get(e))))break;s[l||"#"+i]=a}if(!a){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=t?i.length>1?`since :
`+i.map(_6).join(`
`):" "+_6(i[0]):"as no adapter specified";throw new Qr("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:ij};function rS(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new bg(null,r)}function T6(r){return rS(r),r.headers=ul.from(r.headers),r.data=tS.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),K7.getAdapter(r.adapter||cv.adapter,r)(r).then(function(n){return rS(r),n.data=tS.call(r,r.transformResponse,n),n.headers=ul.from(n.headers),n},function(n){return R7(n)||(rS(r),n&&n.response&&(n.response.data=tS.call(r,r.transformResponse,n.response),n.response.headers=ul.from(n.response.headers))),Promise.reject(n)})}const $7="1.12.2",gC={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{gC[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const k6={};gC.transitional=function(e,t,n){function a(s,i){return"[Axios v"+$7+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(e===!1)throw new Qr(a(i," has been removed"+(t?" in "+t:"")),Qr.ERR_DEPRECATED);return t&&!k6[i]&&(k6[i]=!0,console.warn(a(i," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,i,l):!0}};gC.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function _ne(r,e,t){if(typeof r!="object")throw new Qr("options must be an object",Qr.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let a=n.length;for(;a-- >0;){const s=n[a],i=e[s];if(i){const l=r[s],c=l===void 0||i(l,s,r);if(c!==!0)throw new Qr("option "+s+" must be "+c,Qr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Qr("Unknown option "+s,Qr.ERR_BAD_OPTION)}}const pw={assertOptions:_ne,validators:gC},ad=pw.validators;let v0=class{constructor(e){this.defaults=e||{},this.interceptors={request:new y6,response:new y6}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=k0(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:s}=t;n!==void 0&&pw.assertOptions(n,{silentJSONParsing:ad.transitional(ad.boolean),forcedJSONParsing:ad.transitional(ad.boolean),clarifyTimeoutError:ad.transitional(ad.boolean)},!1),a!=null&&(rt.isFunction(a)?t.paramsSerializer={serialize:a}:pw.assertOptions(a,{encode:ad.function,serialize:ad.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),pw.assertOptions(t,{baseUrl:ad.spelling("baseURL"),withXsrfToken:ad.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&rt.merge(s.common,s[t.method]);s&&rt.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),t.headers=ul.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let A,h=0,p;if(!c){const y=[T6.bind(this),void 0];for(y.unshift(...l),y.push(...u),p=y.length,A=Promise.resolve(t);h<p;)A=A.then(y[h++],y[h++]);return A}p=l.length;let m=t;for(;h<p;){const y=l[h++],g=l[h++];try{m=y(m)}catch(v){g.call(this,v);break}}try{A=T6.call(this,m)}catch(y){return Promise.reject(y)}for(h=0,p=u.length;h<p;)A=A.then(u[h++],u[h++]);return A}getUri(e){e=k0(this.defaults,e);const t=Q7(e.baseURL,e.url,e.allowAbsoluteUrls);return I7(t,e.params,e.paramsSerializer)}};rt.forEach(["delete","get","head","options"],function(e){v0.prototype[e]=function(t,n){return this.request(k0(n||{},{method:e,url:t,data:(n||{}).data}))}});rt.forEach(["post","put","patch"],function(e){function t(n){return function(s,i,l){return this.request(k0(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}v0.prototype[e]=t(),v0.prototype[e+"Form"]=t(!0)});let Tne=class V7{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,l){n.reason||(n.reason=new bg(s,i,l),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new V7(function(a){e=a}),cancel:e}}};function kne(r){return function(t){return r.apply(null,t)}}function Fne(r){return rt.isObject(r)&&r.isAxiosError===!0}const oj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oj).forEach(([r,e])=>{oj[e]=r});function q7(r){const e=new v0(r),t=N7(v0.prototype.request,e);return rt.extend(t,v0.prototype,e,{allOwnKeys:!0}),rt.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return q7(k0(r,a))},t}const Ns=q7(cv);Ns.Axios=v0;Ns.CanceledError=bg;Ns.CancelToken=Tne;Ns.isCancel=R7;Ns.VERSION=$7;Ns.toFormData=pC;Ns.AxiosError=Qr;Ns.Cancel=Ns.CanceledError;Ns.all=function(e){return Promise.all(e)};Ns.spread=kne;Ns.isAxiosError=Fne;Ns.mergeConfig=k0;Ns.AxiosHeaders=ul;Ns.formToJSON=r=>M7(rt.isHTMLForm(r)?new FormData(r):r);Ns.getAdapter=K7.getAdapter;Ns.HttpStatusCode=oj;Ns.default=Ns;const{Axios:VIe,AxiosError:qIe,CanceledError:GIe,isCancel:WIe,CancelToken:YIe,VERSION:XIe,all:JIe,Cancel:ZIe,isAxiosError:eLe,spread:tLe,toFormData:rLe,AxiosHeaders:nLe,HttpStatusCode:aLe,formToJSON:sLe,getAdapter:iLe,mergeConfig:oLe}=Ns,F6=(r,e)=>[`[${new Date().toISOString()}] [${r.toUpperCase()}]`,...e],Rt={debug:(...r)=>{},info:(...r)=>{},warn:(...r)=>{console.warn(...F6("warn",r))},error:(...r)=>{console.error(...F6("error",r))},axiosError:(r,e)=>{}},One=r=>r.replace(/_([a-z])/g,e=>e[1].toUpperCase()),Ar=r=>{try{return Array.isArray(r)?r.map(e=>Ar(e)):r!==null&&typeof r=="object"&&!(r instanceof Date)?Object.keys(r).reduce((e,t)=>{const n=One(t),a=r[t];return e[n]=a!==null&&typeof a=="object"&&!(a instanceof Date)?Ar(a):a,e},{}):r}catch(e){return console.error("Error in transformKeysToCAmelCase:",e),r}};class Dne{api;token=null;constructor(){const e="/api";this.api=Ns.create({baseURL:e,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.token=localStorage.getItem("auth_token"),this.token&&this.setAuthToken(this.token),this.api.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(t.config?.url?.includes("/auth/login")||(this.clearAuth(),window.location.href="/login")),Promise.reject(t)))}setAuthToken(e){this.token=e,this.api.defaults.headers.common.Authorization=`Bearer ${e}`,localStorage.setItem("auth_token",e)}clearAuth(){this.token=null,delete this.api.defaults.headers.common.Authorization,localStorage.removeItem("auth_token")}getToken(){return this.token}isAuthenticated(){return!!this.token}isProduction(){return!0}getEnvironmentInfo(){return{isProduction:this.isProduction(),url:this.api.defaults.baseURL||"Unknown"}}}const vn=new Dne,tt=vn.api,Pne=Object.freeze(Object.defineProperty({__proto__:null,api:tt,httpClient:vn,transformKeysToCAmelCase:Ar},Symbol.toStringTag,{value:"Module"}));class Ine{async register(e){const t=await tt.post("/auth/register",e);return t.data.token&&vn.setAuthToken(t.data.token),t.data}async login(e,t,n){try{const a=await tt.post("/auth/login",{email:e,password:t,captchaToken:n});if(Rt.debug("AuthService: Login response received",{status:a.status}),!a?.data)throw new Error("Invalid response from server: expected object");if(!a.data.token)throw Rt.warn("AuthService: No token in response"),new Error("Server did not return authentication token");if(!a.data.user)throw Rt.warn("AuthService: No user data in response"),new Error("Server did not return user data");return Rt.debug("AuthService: Token found, setting auth token"),vn.setAuthToken(a.data.token),a.data}catch(a){throw a}}async logout(){vn.clearAuth()}async changePassword(e,t,n){return(await tt.post("/auth/change-password",{email:e,currentPassword:t,newPassword:n})).data}async updateUserAvatar(e){return(await tt.patch("/users/avatar",{avatarId:e})).data}async getCurrentUserProfile(){return(await tt.get("/users/profile")).data}isAuthenticated(){return vn.isAuthenticated()}getToken(){return vn.getToken()}}const Jf=new Ine,G7=B.createContext(void 0),Lne=({children:r})=>{const[e,t]=B.useState(()=>{const i=localStorage.getItem("currentUser");if(!i||i==="undefined"||i==="null")return null;try{return JSON.parse(i)}catch{return localStorage.removeItem("currentUser"),null}}),n=async(i,l,c)=>{try{const u=await Jf.login(i,l,c);if(!u?.user||!u?.token)throw new Error("Invalid response from server: user or token missing");const{user:A,token:h,isFirstTimeLogin:p}=u,m={...A,isFirstTimeLogin:p};return t(A),localStorage.setItem("currentUser",JSON.stringify(A)),localStorage.setItem("auth_token",h),m}catch(u){throw new Error(u.response?.data?.message||"Invalid credentials")}},a=()=>{t(null),localStorage.removeItem("currentUser"),localStorage.removeItem("auth_token")},s=i=>e?ol(e.roles||[e.role],i):!1;return o.jsx(G7.Provider,{value:{user:e,login:n,logout:a,isAuthenticated:!!e,hasPermission:s},children:r})},hf=()=>{const r=B.useContext(G7);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},W7=B.createContext(void 0),O6="mycae-theme";function D6(){return typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const Mne=({children:r})=>{const[e,t]=B.useState(()=>{if(typeof window>"u")return"system";const c=localStorage.getItem("theme"),u=localStorage.getItem(O6);return u||c||"system"}),[n,a]=B.useState(()=>e==="system"?D6():e),s=B.useCallback(c=>{const u=document.documentElement;c==="dark"?u.classList.add("dark"):u.classList.remove("dark"),u.style.colorScheme=c},[]);B.useEffect(()=>{const c=e==="system"?D6():e;a(c),s(c),localStorage.setItem(O6,e),localStorage.removeItem("theme")},[e,s]),B.useEffect(()=>{if(e!=="system")return;const c=window.matchMedia("(prefers-color-scheme: dark)"),u=A=>{const h=A.matches?"dark":"light";a(h),s(h)};return c.addEventListener("change",u),()=>c.removeEventListener("change",u)},[e,s]);const i=B.useCallback(c=>{t(c)},[]),l=B.useCallback(()=>{i(n==="light"?"dark":"light")},[n,i]);return o.jsx(W7.Provider,{value:{theme:e,resolvedTheme:n,setTheme:i,toggleTheme:l},children:r})},Y7=()=>{const r=B.useContext(W7);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r},Rne=({isDark:r,onToggle:e,size:t="sm",className:n})=>{const a={sm:{container:"w-12 h-6",circle:"w-5 h-5",icon:"w-3 h-3",translate:"translate-x-6"},md:{container:"w-16 h-8",circle:"w-7 h-7",icon:"w-4 h-4",translate:"translate-x-8"}};return o.jsxs("button",{onClick:e,role:"switch","aria-checked":r,"aria-label":"Toggle dark mode",className:Cr("relative rounded-full transition-colors duration-250 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 dark:focus-visible:ring-offset-gray-800",a[t].container,r?"bg-gray-700":"bg-gray-200",n),children:[o.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-1",children:[o.jsx(rte,{className:Cr(a[t].icon,"text-amber-500 transition-opacity duration-200",r?"opacity-30":"opacity-100")}),o.jsx(Fee,{className:Cr(a[t].icon,"text-indigo-400 transition-opacity duration-200",r?"opacity-100":"opacity-30")})]}),o.jsx("div",{className:Cr("absolute top-0.5 left-0.5 bg-white rounded-full shadow-sm transition-transform duration-250 ease-in-out",a[t].circle,r?a[t].translate:"translate-x-0")})]})},Une=[{to:"/",icon:x_,label:"Dashboard",section:"main"},{to:"/my-dashboard",icon:cC,label:"My Dashboard",section:"main"},{to:"/projects",icon:Nu,label:"Projects",section:"projects"},{to:"/research",icon:T0,label:"Research",section:"projects"},{to:"/timesheets",icon:ho,label:"Timesheets",section:"projects"},{to:"/team-workload",icon:Su,label:"Team Workload",section:"projects"},{to:"/pcs",icon:v_,label:"PC Assignment",section:"projects"},{to:"/team",icon:Su,label:"Team Members",section:"people"},{to:"/companies",icon:Xh,label:"Business Contacts",section:"people"},{to:"/finance",icon:g_,label:"Finance Overview",section:"finance",requiresPermission:"canAccessFinance"},{to:"/finance/documents",icon:$a,label:"Finance Documents",section:"finance",requiresPermission:"canAccessFinance"},{to:"/finance/exchange-rates",icon:aZ,label:"Exchange Rates",section:"finance",requiresPermission:"canAccessFinance"},{to:"/inventory",icon:Eo,label:"Inventory",section:"equipment"},{to:"/equipment",icon:OZ,label:"Equipment Management",section:"equipment"},{to:"/maintenance",icon:qp,label:"Maintenance",section:"equipment"},{to:"/settings",icon:u7,label:"Settings",section:"system"}],Qne=({isOpen:r=!0,onClose:e})=>{const{user:t}=hf(),{resolvedTheme:n,toggleTheme:a}=Y7();if(!t)return null;const s=t.roles||[t.role],i=AC(s),l=s.length>0?s.reduce((A,h)=>{const p=pn[h]||0,m=pn[A]||0;return p>m?h:A},s[0]):t.role,c=w_(l),u=A=>Une.filter(h=>h.section===A).filter(h=>h.requiresPermission?i[h.requiresPermission]:!0);return o.jsxs(o.Fragment,{children:[r&&e&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:e}),o.jsx("aside",{className:Cr("fixed md:sticky top-0 left-0 z-50 h-screen w-64 bg-white dark:bg-gray-900 shadow-lg border-r border-slate-200 dark:border-gray-700","transition-transform duration-300 ease-in-out","md:translate-x-0",r?"translate-x-0":"-translate-x-full"),children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"relative flex items-center justify-center px-5 py-6 border-b border-slate-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("span",{className:"text-3xl font-extrabold tracking-tight",children:[o.jsx("span",{className:"text-slate-800 dark:text-gray-100",children:"My"}),o.jsx("span",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 bg-clip-text text-transparent",children:"CAE"})]}),o.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-gray-400 tracking-[0.2em] uppercase mt-0.5",children:"Technologies"})]}),e&&o.jsx("button",{onClick:e,className:"absolute right-3 md:hidden p-2 hover:bg-slate-100 dark:hover:bg-gray-700 text-slate-600 dark:text-gray-300 hover:text-slate-900 dark:hover:text-gray-100 rounded-lg transition-colors","aria-label":"Close menu",children:o.jsx(Fr,{className:"w-5 h-5"})})]}),o.jsx("nav",{className:"flex-1 px-3 py-4 overflow-y-auto",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{children:o.jsx("ul",{className:"space-y-1",children:u("main").map(A=>o.jsx("li",{children:o.jsxs(Oh,{to:A.to,end:!0,onClick:e,className:({isActive:h})=>Cr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",h?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(A.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:A.label})]})},A.to))})}),o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-600 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Projects"}),o.jsx("ul",{className:"space-y-1",children:u("projects").map(A=>o.jsx("li",{children:o.jsxs(Oh,{to:A.to,onClick:e,className:({isActive:h})=>Cr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",h?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(A.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:A.label})]})},A.to))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-600 dark:text-gray-400 uppercase tracking-wider mb-2",children:"People & Contacts"}),o.jsx("ul",{className:"space-y-1",children:u("people").map(A=>o.jsx("li",{children:o.jsxs(Oh,{to:A.to,onClick:e,className:({isActive:h})=>Cr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",h?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(A.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:A.label})]})},A.to))})]}),u("finance").length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-600 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Finance"}),o.jsx("ul",{className:"space-y-1",children:u("finance").map(A=>o.jsx("li",{children:o.jsxs(Oh,{to:A.to,end:A.to==="/finance",onClick:e,className:({isActive:h})=>Cr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",h?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(A.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:A.label})]})},A.to))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-600 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Equipment"}),o.jsx("ul",{className:"space-y-1",children:u("equipment").map(A=>o.jsx("li",{children:o.jsxs(Oh,{to:A.to,onClick:e,className:({isActive:h})=>Cr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",h?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(A.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:A.label})]})},A.to))})]}),o.jsx("div",{children:o.jsx("ul",{className:"space-y-1",children:u("system").map(A=>o.jsx("li",{children:o.jsxs(Oh,{to:A.to,onClick:e,className:({isActive:h})=>Cr("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target group",h?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium shadow-md":"text-slate-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-700 dark:hover:text-blue-300"),children:[o.jsx(A.icon,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:A.label})]})},A.to))})})]})}),o.jsxs("div",{className:"px-4 py-4 border-t border-slate-200 dark:border-gray-700 bg-gradient-to-r from-blue-50/50 to-indigo-50/50 dark:from-gray-800 dark:to-gray-800 space-y-3",children:[o.jsx("div",{className:"px-3 py-2.5 rounded-lg border border-blue-200 dark:border-blue-700 bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900/30 dark:to-indigo-900/30",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-base",children:c.icon}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold truncate text-slate-900 dark:text-gray-100",children:c.label}),o.jsxs("p",{className:"text-[10px] text-slate-600 dark:text-gray-400",children:["Level ",c.level," Access"]})]})]})}),o.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[o.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-gray-400",children:"Dark Mode"}),o.jsx(Rne,{isDark:n==="dark",onToggle:a,size:"sm"})]}),o.jsxs("div",{className:"text-xs text-slate-500 dark:text-gray-500",children:[o.jsx("p",{className:"font-medium",children:"v1.0.0"}),o.jsx("p",{className:"mt-1",children:" 2025 MyCAE"})]})]})]})})]})},Hne=[{to:"/",icon:x_,label:"Home"},{to:"/projects",icon:Nu,label:"Projects"},{to:"/clients",icon:Xh,label:"Clients"},{to:"/team",icon:Su,label:"Team"},{to:"/inventory",icon:Eo,label:"Equipment"}],zne=()=>o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-white border-t border-gray-200 md:hidden",children:o.jsx("ul",{className:"flex items-center justify-around",children:Hne.map(r=>o.jsx("li",{className:"flex-1",children:o.jsx(Oh,{to:r.to,className:({isActive:e})=>Cr("flex flex-col items-center gap-1 py-2 px-2 transition-colors touch-target","hover:bg-gray-50",e?"text-primary-600":"text-gray-600"),children:({isActive:e})=>o.jsxs(o.Fragment,{children:[o.jsx(r.icon,{className:Cr("w-6 h-6",e&&"fill-current")}),o.jsx("span",{className:"text-xs font-medium",children:r.label})]})})},r.to))})});function xC(){const[r,e]=B.useState("desktop"),[t,n]=B.useState(!1),[a,s]=B.useState(!1),[i,l]=B.useState(!0);return B.useEffect(()=>{const c=()=>{const u=window.innerWidth;u<768?(e("mobile"),n(!0),s(!1),l(!1)):u>=768&&u<1024?(e("tablet"),n(!1),s(!0),l(!1)):(e("desktop"),n(!1),s(!1),l(!0))};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),{breakpoint:r,isMobile:t,isTablet:a,isDesktop:i}}const P6=r=>{let e;const t=new Set,n=(u,A)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const p=e;e=A??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},a=()=>e,l={setState:n,getState:a,getInitialState:()=>c,subscribe:u=>(t.add(u),()=>t.delete(u))},c=e=r(n,a,l);return l},Kne=(r=>r?P6(r):P6),$ne=r=>r;function Vne(r,e=$ne){const t=ws.useSyncExternalStore(r.subscribe,ws.useCallback(()=>e(r.getState()),[r,e]),ws.useCallback(()=>e(r.getInitialState()),[r,e]));return ws.useDebugValue(t),t}const I6=r=>{const e=Kne(r),t=n=>Vne(e,n);return Object.assign(t,e),t},Ic=(r=>r?I6(r):I6),B_=Ic((r,e)=>({notifications:[],unreadCount:0,addNotification:t=>{const n={...t,id:`notif-${Date.now()}`,timestamp:new Date,read:!1};r(a=>({notifications:[n,...a.notifications],unreadCount:a.unreadCount+1}))},markAsRead:t=>{r(n=>{const a=n.notifications.map(i=>i.id===t?{...i,read:!0}:i),s=a.filter(i=>!i.read).length;return{notifications:a,unreadCount:s}})},markAllAsRead:()=>{r(t=>({notifications:t.notifications.map(n=>({...n,read:!0})),unreadCount:0}))},deleteNotification:t=>{r(n=>{const s=n.notifications.find(i=>i.id===t)?.read?n.unreadCount:n.unreadCount-1;return{notifications:n.notifications.filter(i=>i.id!==t),unreadCount:Math.max(0,s)}})},clearAll:()=>{r(()=>({notifications:[],unreadCount:0}))}})),qne=()=>{const[r,e]=B.useState(!1),[t,n]=B.useState(!1),[a,s]=B.useState(!1),{isDesktop:i}=xC(),{logout:l,user:c}=hf(),{notifications:u,unreadCount:A,markAsRead:h,deleteNotification:p}=B_(),m=()=>{l(),xe.success("Logged out successfully")},y=v=>{switch(v){case"alert":return"bg-red-500";case"warning":return"bg-yellow-500";case"success":return"bg-green-500";case"info":return"bg-blue-500";default:return"bg-gray-500"}},g=v=>{const N=new Date().getTime()-new Date(v).getTime(),C=Math.floor(N/6e4),E=Math.floor(N/36e5),_=Math.floor(N/864e5);return C<1?"Just now":C<60?`${C}m ago`:E<24?`${E}h ago`:`${_}d ago`};return o.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-100 dark:bg-gray-900",children:[o.jsx("a",{href:"#main-content",className:"skip-to-content",children:"Skip to main content"}),o.jsx(Qne,{isOpen:i||r,onClose:()=>e(!1)}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[o.jsxs("div",{className:"sticky top-0 z-30 px-4 py-3 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm border-b border-gray-100 dark:border-gray-700 flex items-center justify-between shadow-sm",children:[o.jsx("div",{className:"flex items-center",children:!i&&o.jsx("button",{onClick:()=>e(!0),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 mr-2","aria-label":"Open menu",children:o.jsx(_ee,{className:"w-5 h-5 text-gray-700 dark:text-gray-200"})})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>n(!t),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors relative","aria-label":`Notifications ${A>0?`(${A} unread)`:""}`,"aria-haspopup":"menu","aria-expanded":t,"aria-controls":"notifications-menu",children:[o.jsx(JE,{className:"w-5 h-5 text-gray-700 dark:text-gray-200","aria-hidden":"true"}),A>0&&o.jsx("span",{className:"absolute top-1 right-1 min-w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-xs font-bold text-white","aria-label":`${A} unread notifications`,children:A>9?"9+":A})]}),t&&o.jsxs("div",{id:"notifications-menu",role:"menu","aria-label":"Notifications menu",className:"absolute right-0 mt-2 w-96 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:[o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 flex items-center justify-between",children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Notifications"}),A>0&&o.jsxs("span",{className:"text-xs font-medium text-primary-600","aria-live":"polite",children:[A," unread"]})]}),o.jsx("div",{className:"max-h-96 overflow-y-auto",role:"group",children:u.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(JE,{className:"w-8 h-8 text-gray-300 dark:text-gray-600 mx-auto mb-2","aria-hidden":"true"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No notifications yet"})]}):u.map(v=>o.jsx("div",{role:"menuitem",className:`p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${v.read?"":"bg-blue-50 dark:bg-blue-900/30"}`,"aria-current":v.read?"false":"true",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:`w-2 h-2 ${y(v.type)} rounded-full mt-1.5 flex-shrink-0`,"aria-hidden":"true"}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:v.title}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5 line-clamp-2",children:v.message}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:g(v.timestamp)})]}),o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[!v.read&&o.jsx("button",{onClick:b=>{b.stopPropagation(),h(v.id)},className:"p-1 hover:bg-blue-100 rounded text-blue-600 transition-colors",title:"Mark as read","aria-label":`Mark notification as read: ${v.title}`,children:o.jsx(Pw,{className:"w-3 h-3","aria-hidden":"true"})}),o.jsx("button",{onClick:b=>{b.stopPropagation(),p(v.id)},className:"p-1 hover:bg-red-100 rounded text-gray-400 hover:text-red-600 transition-colors",title:"Delete notification","aria-label":`Delete notification: ${v.title}`,children:o.jsx(Cs,{className:"w-3 h-3","aria-hidden":"true"})})]})]})})]})},v.id))}),o.jsx("div",{className:"p-2 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:o.jsx("button",{className:"w-full text-center text-sm text-primary-600 hover:text-primary-700 font-medium py-1 transition-colors","aria-label":"View all notifications",children:"View All Notifications"})})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>{s(!a),n(!1)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors relative","aria-label":`User menu for ${c?.name||"User"}`,"aria-haspopup":"menu","aria-expanded":a,"aria-controls":"user-menu",children:o.jsx($l,{className:"w-5 h-5 text-gray-700 dark:text-gray-200","aria-hidden":"true"})}),a&&o.jsxs("div",{id:"user-menu",role:"menu",className:"absolute right-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:[o.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-cyan-100 dark:bg-cyan-900 rounded-full flex items-center justify-center",children:o.jsx($l,{className:"w-5 h-5 text-cyan-600 dark:text-cyan-400","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:c?.name||"User"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c?.email||"user@mycae.com"})]})]})}),o.jsx("div",{className:"py-2",children:o.jsxs("button",{onClick:()=>{m(),s(!1)},role:"menuitem",className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 flex items-center gap-3 transition-colors","aria-label":"Logout",children:[o.jsx(Nee,{className:"w-4 h-4","aria-hidden":"true"}),"Logout"]})})]})]})]})]}),o.jsx("main",{id:"main-content",className:"flex-1 overflow-y-auto pb-16 md:pb-0 bg-slate-50 dark:bg-gray-900",tabIndex:-1,children:o.jsx("div",{className:"h-full",children:o.jsx(K8,{})})}),o.jsx(zne,{})]}),(t||a)&&o.jsx("div",{className:"fixed inset-0 z-20",onClick:()=>{n(!1),s(!1)}})]})},Gne=()=>{const{isAuthenticated:r}=hf();return r?o.jsx(K8,{}):o.jsx(qE,{to:"/login"})};class Wne extends ws.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:o.jsxs("div",{className:"max-w-md w-full mx-4 p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Jh,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Something went wrong"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"We're sorry, but something unexpected happened. This error has been logged and our team will look into it."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:this.handleReset,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(dC,{className:"w-4 h-4"}),"Try Again"]}),o.jsx("button",{onClick:()=>window.location.href="/",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Go to Dashboard"})]}),!1]})}):this.props.children}}class Yne{async getInventoryItems(e){const t=await tt.get("/inventory",{params:e});return Array.isArray(t.data)?t.data:t.data?.data||[]}async getInventoryById(e){return(await tt.get(`/inventory/${e}`)).data}async createInventoryItem(e){return(await tt.post("/inventory",e)).data}async updateInventoryItem(e,t){return(await tt.put(`/inventory/${e}`,t)).data}async deleteInventoryItem(e){await tt.delete(`/inventory/${e}`)}async bulkCreateInventoryItems(e){return(await tt.post("/inventory/bulk/create",{items:e})).data}async createSingleCheckout(e){return(await tt.post("/checkouts/single",e)).data}async createBulkCheckout(e){return(await tt.post("/checkouts/bulk",e)).data}async checkInSingle(e){return(await tt.post("/checkouts/checkin/single",e)).data}async checkInBulk(e){return(await tt.post("/checkouts/checkin/bulk",e)).data}async getAllCheckouts(){return(await tt.get("/checkouts")).data}async getCheckoutByMasterBarcode(e){return(await tt.get(`/checkouts/${e}`)).data}async getAllMaintenanceTickets(){return(await tt.get("/maintenance")).data}async createMaintenanceTicket(e){return(await tt.post("/maintenance",e)).data}async updateMaintenanceTicket(e,t){return(await tt.put(`/maintenance/${e}`,t)).data}async deleteMaintenanceTicket(e){await tt.delete(`/maintenance/${e}`)}async getMaintenanceTicketById(e){return(await tt.get(`/maintenance/${e}`)).data}}const On=new Yne;class Xne{async getProjects(e){const t=await tt.get("/projects",{params:e});try{const n=Ar(t.data);return(Array.isArray(n)?n:[n]).map(i=>({...i,engineerId:i.leadEngineerId||i.engineerId,engineerName:i.leadEngineer?.name||i.engineerName,managerName:i.manager?.name||i.managerName}))}catch(n){return console.error("Error transforming projects data:",n),t.data}}async getProjectById(e){const t=await tt.get(`/projects/${e}`);return Ar(t.data)}async getNextProjectCode(){const e=await tt.get("/projects/next-code");return Ar(e.data)}async createProject(e){const t=await tt.post("/projects",e);return Ar(t.data)}async updateProject(e,t){const n=await tt.put(`/projects/${e}`,t);return Ar(n.data)}async deleteProject(e){await tt.delete(`/projects/${e}`)}async updateProjectStatus(e,t,n){const a=await tt.patch(`/projects/${e}/status`,{status:t,dateField:n});return Ar(a.data)}async uploadProjectPO(e,t){const n=new FormData;return n.append("poFile",t),(await tt.post(`/projects/${e}/upload-po`,n,{headers:{"Content-Type":"multipart/form-data"}})).data}async deleteProjectPO(e){return(await tt.delete(`/projects/${e}/po-file`)).data}async downloadProjectPO(e){return(await tt.get(e,{responseType:"blob"})).data}async getProjectHourlyRates(e){return(await tt.get(`/project-hourly-rates/${e}`)).data?.data||[]}async saveProjectHourlyRates(e,t){return(await tt.put(`/project-hourly-rates/${e}`,{rates:t})).data}async deleteProjectHourlyRate(e,t){await tt.delete(`/project-hourly-rates/${e}/${t}`)}async uploadMigrationFile(e){const t=new FormData;return t.append("file",e),(await tt.post("/migration/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data}async executeMigration(e){return(await tt.post("/migration/execute",{projects:e})).data}async getMigrationTemplate(){return(await tt.get("/migration/template")).data}async getVariationOrders(e){return(await tt.get(`/projects/${e}/variation-orders`)).data||[]}async getProjectWithVOs(e){return(await tt.get(`/projects/${e}/with-vos`)).data}async createVariationOrder(e,t){return(await tt.post(`/projects/${e}/create-vo`,t)).data}async createStructure(e,t){const n=await tt.post(`/projects/${e}/create-structure`,t);return Ar(n.data)}async convertToContainer(e){const t=await tt.post(`/projects/${e}/convert-to-container`);return Ar(t.data)}async getStructureStats(e){const t=await tt.get(`/projects/${e}/structure-stats`);return Ar(t.data)}async getStructures(e){const t=await tt.get(`/projects/${e}/structures`);return Ar(t.data)}}const as=new Xne;class Jne{async getTimesheets(e){const t=await tt.get("/timesheets",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return Ar(n)}async createTimesheet(e){const t=await tt.post("/timesheets",e);return Ar(t.data)}async updateTimesheet(e,t){const n=await tt.put(`/timesheets/${e}`,t);return Ar(n.data)}async deleteTimesheet(e){await tt.delete(`/timesheets/${e}`)}async getAllClients(e){const t=await tt.get("/clients",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return Ar(n)}async getClientById(e){const t=await tt.get(`/clients/${e}`);return Ar(t.data)}async createClient(e){const t=await tt.post("/clients",e);return Ar(t.data)}async updateClient(e,t){const n=await tt.put(`/clients/${e}`,t);return Ar(n.data)}async deleteClient(e){await tt.delete(`/clients/${e}`)}}const nA=new Jne;class Zne{async getAllTeamMembers(e){const t=await tt.get("/team",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return Ar(n)}async getTeamMemberById(e){const t=await tt.get(`/team/${e}`);return Ar(t.data)}async createTeamMember(e){const t=await tt.post("/team",e);return Ar(t.data)}async updateTeamMember(e,t){const n=await tt.put(`/team/${e}`,t);return Ar(n.data)}async deleteTeamMember(e){await tt.delete(`/team/${e}`)}async reactivateTeamMember(e){return(await tt.post(`/team/${e}/reactivate`)).data}async updateTeamMemberAvatar(e,t){const n=await tt.patch(`/team/${e}/avatar`,{avatarId:t});return Ar(n.data)}async getTeamByDepartment(e,t){return(await tt.get(`/team/department/${e}`,{params:t})).data}}const Bh=new Zne;class eae{async getAllComputers(e){const t=await tt.get("/computers",{params:e});return Array.isArray(t.data)?t.data:t.data?.data||[]}async getComputerById(e){return(await tt.get(`/computers/${e}`)).data}async createComputer(e){return(await tt.post("/computers",e)).data}async updateComputer(e,t){return(await tt.put(`/computers/${e}`,t)).data}async deleteComputer(e){await tt.delete(`/computers/${e}`)}async getComputersAssignedTo(e,t){const n=await tt.get(`/computers/assigned/${e}`,{params:t});return Array.isArray(n.data)?n.data:n.data?.data||[]}async assignComputerToUser(e,t,n,a){return(await tt.post(`/computers/${e}/assign`,{userId:t,installedSoftware:n,notes:a})).data}async unassignComputer(e){return(await tt.post(`/computers/${e}/unassign`,{})).data}async setMaintenanceStatus(e,t){return(await tt.post(`/computers/${e}/maintenance`,{inMaintenance:t})).data}}const aA=new eae;class tae{async getAllResearchProjects(e){const n=(await tt.get("/research/projects",{params:e})).data,a=Array.isArray(n)?n:n?.data||[];return Ar(a)}async getResearchProjectById(e){const t=await tt.get(`/research/projects/${e}`);return Ar(t.data)}async createResearchProject(e){const t=await tt.post("/research/projects",e);return Ar(t.data)}async updateResearchProject(e,t){const n=await tt.put(`/research/projects/${e}`,t);return Ar(n.data)}async deleteResearchProject(e){await tt.delete(`/research/projects/${e}`)}async getResearchProjectsByStatus(e,t){const n=await tt.get(`/research/projects/status/${e}`,{params:t});return Ar(n.data)}async logResearchTimesheet(e){const t=await tt.post("/research/timesheets",e);return Ar(t.data)}async approveResearchTimesheet(e,t){const n=await tt.put(`/research/timesheets/${e}/approve`,{approvedBy:t});return Ar(n.data)}async deleteResearchTimesheet(e){await tt.delete(`/research/timesheets/${e}`)}async getResearchTimesheets(e){const t=await tt.get("/research/timesheets",{params:e});return Ar(t.data)}}const sd=new tae;class rae{async getAllInvoices(e){const t=await tt.get("/invoices",{params:e});return(Array.isArray(t.data)?t.data:t.data.data||[]).map(a=>Ar(a))}async getInvoiceById(e){const t=await tt.get(`/invoices/${e}`);return Ar(t.data)}async getNextInvoiceNumber(){return(await tt.get("/invoices/next-number")).data.nextNumber}async getInvoiceProjectContext(e){const t=await tt.get(`/invoices/project/${e}/context`);return Ar(t.data)}async createInvoice(e){const t=await tt.post("/invoices",e);return Ar(t.data)}async updateInvoice(e,t){const n=await tt.put(`/invoices/${e}`,t);return Ar(n.data)}async deleteInvoice(e){await tt.delete(`/invoices/${e}`)}async downloadInvoicePDF(e){return(await tt.get(`/invoices/${e}/pdf`,{responseType:"blob"})).data}async submitInvoiceForApproval(e){const t=await tt.post(`/invoices/${e}/submit-for-approval`);return Ar(t.data)}async approveInvoice(e){const t=await tt.post(`/invoices/${e}/approve`);return Ar(t.data)}async withdrawInvoice(e){const t=await tt.post(`/invoices/${e}/withdraw`);return Ar(t.data)}async markInvoiceAsSent(e){const t=await tt.post(`/invoices/${e}/mark-as-sent`);return Ar(t.data)}async markInvoiceAsPaid(e){const t=await tt.post(`/invoices/${e}/mark-as-paid`);return Ar(t.data)}async getAllIssuedPOs(e){const t=await tt.get("/issued-pos",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return Ar(n)}async getIssuedPOById(e){const t=await tt.get(`/issued-pos/${e}`);return Ar(t.data)}async getNextIssuedPONumber(){return(await tt.get("/issued-pos/next-number")).data.nextNumber}async createIssuedPO(e){const t=await tt.post("/issued-pos",e);return Ar(t.data)}async updateIssuedPO(e,t){const n=await tt.put(`/issued-pos/${e}`,t);return Ar(n.data)}async deleteIssuedPO(e){await tt.delete(`/issued-pos/${e}`)}async downloadIssuedPOPDF(e){return(await tt.get(`/issued-pos/${e}/pdf`,{responseType:"blob"})).data}async getAllReceivedInvoices(e){const t=await tt.get("/received-invoices",{params:e}),n=Array.isArray(t.data)?t.data:t.data.data||[];return Ar(n)}async getReceivedInvoiceById(e){const t=await tt.get(`/received-invoices/${e}`);return Ar(t.data)}async createReceivedInvoice(e){const t=await tt.post("/received-invoices",e);return Ar(t.data)}async updateReceivedInvoice(e,t){const n=await tt.put(`/received-invoices/${e}`,t);return Ar(n.data)}async deleteReceivedInvoice(e){await tt.delete(`/received-invoices/${e}`)}async verifyReceivedInvoice(e){const t=await tt.post(`/received-invoices/${e}/verify`);return Ar(t.data)}async markReceivedInvoiceAsPaid(e){const t=await tt.post(`/received-invoices/${e}/mark-as-paid`);return Ar(t.data)}async getAllPurchaseOrders(e){const t=await tt.get("/purchase-orders",{params:e});return(Array.isArray(t.data)?t.data:t.data.data||[]).map(a=>Ar(a))}async getPurchaseOrderById(e){const t=await tt.get(`/purchase-orders/${e}`);return Ar(t.data)}async createPurchaseOrder(e){const t=await tt.post("/purchase-orders",e);return Ar(t.data)}async updatePurchaseOrder(e,t){const n=await tt.put(`/purchase-orders/${e}`,t);return Ar(n.data)}async deletePurchaseOrder(e){const t=await tt.delete(`/purchase-orders/${e}`);return Ar(t.data)}async uploadPurchaseOrderFile(e){return(await tt.post("/purchase-orders/upload",e,{headers:{"Content-Type":"multipart/form-data"}})).data}async downloadPurchaseOrderFile(e){return(await tt.get(`/purchase-orders/download/${e}`,{responseType:"blob"})).data}async getPurchaseOrders(e){return this.getAllPurchaseOrders(e)}async getPORevisions(e){const t=await tt.get(`/purchase-orders/${e}/revisions`);return(Array.isArray(t.data)?t.data:t.data.data||[]).map(a=>Ar(a))}async createPORevision(e,t){const n=await tt.post(`/purchase-orders/${e}/revisions`,t);return Ar(n.data)}async adjustPOMYRAmount(e,t,n){const a=await tt.patch(`/purchase-orders/${e}/adjust-myr`,{adjustedAmount:t,reason:n});return Ar(a.data)}async getExchangeRates(){return(await tt.get("/exchange-rates")).data||[]}async createExchangeRate(e){return(await tt.post("/exchange-rates",e)).data}async importExchangeRates(){return(await tt.post("/exchange-rates/import")).data}async convertCurrency(e,t){return(await tt.get("/exchange-rates/convert",{params:{amount:e,fromCurrency:t}})).data}async getExchangeRate(e,t){return(await tt.get("/exchange-rates/single",{params:{fromCurrency:e,date:t?.toISOString().split("T")[0]}})).data}async getAllCategories(){return(await tt.get("/categories")).data||[]}async getCategoryById(e){return(await tt.get(`/categories/${e}`)).data}async createCategory(e){return(await tt.post("/categories",e)).data}async updateCategory(e,t){return(await tt.put(`/categories/${e}`,t)).data}async deleteCategory(e){await tt.delete(`/categories/${e}`)}}const lr=new rae;class nae{async createActivityLog(e){return(await tt.post("/activity",e)).data}async getRecentActivity(e=10){return(await tt.get("/activity",{params:{limit:e}})).data}async getAllActivity(e){return(await tt.get("/activity",{params:e})).data}async getActivityById(e){return(await tt.get(`/activity/${e}`)).data}async getActivityByUser(e,t){return(await tt.get(`/activity/user/${e}`,{params:t})).data}async getActivityByModule(e,t){return(await tt.get(`/activity/module/${e}`,{params:t})).data}}const Ym=new nae;class X7{setAuthToken(e){vn.setAuthToken(e)}clearAuth(){vn.clearAuth()}isProduction(){return vn.isProduction()}getEnvironmentInfo(){return vn.getEnvironmentInfo()}async register(e){return Jf.register(e)}async login(e,t,n){return Jf.login(e,t,n)}async logout(){return Jf.logout()}async changePassword(e,t,n){return Jf.changePassword(e,t,n)}async updateUserAvatar(e){return Jf.updateUserAvatar(e)}async getCurrentUserProfile(){return Jf.getCurrentUserProfile()}async getInventoryItems(e){return On.getInventoryItems(e)}async getInventoryById(e){return On.getInventoryById(e)}async createInventoryItem(e){return On.createInventoryItem(e)}async updateInventoryItem(e,t){return On.updateInventoryItem(e,t)}async deleteInventoryItem(e){return On.deleteInventoryItem(e)}async bulkCreateInventoryItems(e){return On.bulkCreateInventoryItems(e)}async createSingleCheckout(e){return On.createSingleCheckout(e)}async createBulkCheckout(e){return On.createBulkCheckout(e)}async checkInSingle(e){return On.checkInSingle(e)}async checkInBulk(e){return On.checkInBulk(e)}async getAllCheckouts(){return On.getAllCheckouts()}async getCheckoutByMasterBarcode(e){return On.getCheckoutByMasterBarcode(e)}async getAllMaintenanceTickets(){return On.getAllMaintenanceTickets()}async createMaintenanceTicket(e){return On.createMaintenanceTicket(e)}async updateMaintenanceTicket(e,t){return On.updateMaintenanceTicket(e,t)}async deleteMaintenanceTicket(e){return On.deleteMaintenanceTicket(e)}async getMaintenanceTicketById(e){return On.getMaintenanceTicketById(e)}async createActivityLog(e){return Ym.createActivityLog(e)}async getRecentActivity(e=10){return Ym.getRecentActivity(e)}async getAllActivity(e){return Ym.getAllActivity(e)}async getActivityById(e){return Ym.getActivityById(e)}async getActivityByUser(e,t){return Ym.getActivityByUser(e,t)}async getActivityByModule(e,t){return Ym.getActivityByModule(e,t)}async getProjects(e){return as.getProjects(e)}async getProjectById(e){return as.getProjectById(e)}async createProject(e){return as.createProject(e)}async updateProject(e,t){return as.updateProject(e,t)}async deleteProject(e){return as.deleteProject(e)}async updateProjectStatus(e,t,n){return as.updateProjectStatus(e,t,n)}async uploadProjectPO(e,t){return as.uploadProjectPO(e,t)}async deleteProjectPO(e){return as.deleteProjectPO(e)}async downloadProjectPO(e){return as.downloadProjectPO(e)}async getProjectHourlyRates(e){return as.getProjectHourlyRates(e)}async saveProjectHourlyRates(e,t){return as.saveProjectHourlyRates(e,t)}async deleteProjectHourlyRate(e,t){return as.deleteProjectHourlyRate(e,t)}async uploadMigrationFile(e){return as.uploadMigrationFile(e)}async executeMigration(e){return as.executeMigration(e)}async getMigrationTemplate(){return as.getMigrationTemplate()}async getTimesheets(e){return nA.getTimesheets(e)}async createTimesheet(e){return nA.createTimesheet(e)}async updateTimesheet(e,t){return nA.updateTimesheet(e,t)}async deleteTimesheet(e){return nA.deleteTimesheet(e)}async getAllClients(e){return nA.getAllClients(e)}async getClientById(e){return nA.getClientById(e)}async createClient(e){return nA.createClient(e)}async updateClient(e,t){return nA.updateClient(e,t)}async deleteClient(e){return nA.deleteClient(e)}async getAllTeamMembers(e){return Bh.getAllTeamMembers(e)}async getTeamMemberById(e){return Bh.getTeamMemberById(e)}async createTeamMember(e){return Bh.createTeamMember(e)}async updateTeamMember(e,t){return Bh.updateTeamMember(e,t)}async deleteTeamMember(e){return Bh.deleteTeamMember(e)}async reactivateTeamMember(e){return Bh.reactivateTeamMember(e)}async updateTeamMemberAvatar(e,t){return Bh.updateTeamMemberAvatar(e,t)}async getTeamByDepartment(e,t){return Bh.getTeamByDepartment(e,t)}async getAllComputers(e){return aA.getAllComputers(e)}async getComputerById(e){return aA.getComputerById(e)}async createComputer(e){return aA.createComputer(e)}async updateComputer(e,t){return aA.updateComputer(e,t)}async deleteComputer(e){return aA.deleteComputer(e)}async getComputersAssignedTo(e,t){return aA.getComputersAssignedTo(e,t)}async assignComputerToUser(e,t,n,a){return aA.assignComputerToUser(e,t,n,a)}async unassignComputer(e){return aA.unassignComputer(e)}async setMaintenanceStatus(e,t){return aA.setMaintenanceStatus(e,t)}async getAllResearchProjects(e){return sd.getAllResearchProjects(e)}async getResearchProjectById(e){return sd.getResearchProjectById(e)}async createResearchProject(e){return sd.createResearchProject(e)}async updateResearchProject(e,t){return sd.updateResearchProject(e,t)}async deleteResearchProject(e){return sd.deleteResearchProject(e)}async getResearchProjectsByStatus(e,t){return sd.getResearchProjectsByStatus(e,t)}async logResearchTimesheet(e){return sd.logResearchTimesheet(e)}async approveResearchTimesheet(e,t){return sd.approveResearchTimesheet(e,t)}async deleteResearchTimesheet(e){return sd.deleteResearchTimesheet(e)}async getResearchTimesheets(e){return sd.getResearchTimesheets(e)}async getAllPurchaseOrders(e){return lr.getAllPurchaseOrders(e)}async getPurchaseOrderById(e){return lr.getPurchaseOrderById(e)}async createPurchaseOrder(e){return lr.createPurchaseOrder(e)}async updatePurchaseOrder(e,t){return lr.updatePurchaseOrder(e,t)}async deletePurchaseOrder(e){return lr.deletePurchaseOrder(e)}async uploadPurchaseOrderFile(e){return lr.uploadPurchaseOrderFile(e)}async downloadPurchaseOrderFile(e){return lr.downloadPurchaseOrderFile(e)}async getPurchaseOrders(e){return lr.getPurchaseOrders(e)}async getPORevisions(e){return lr.getPORevisions(e)}async createPORevision(e,t){return lr.createPORevision(e,t)}async adjustPOMYRAmount(e,t,n){return lr.adjustPOMYRAmount(e,t,n)}async getAllInvoices(e){return lr.getAllInvoices(e)}async getInvoiceById(e){return lr.getInvoiceById(e)}async getNextInvoiceNumber(){return lr.getNextInvoiceNumber()}async getInvoiceProjectContext(e){return lr.getInvoiceProjectContext(e)}async createInvoice(e){return lr.createInvoice(e)}async updateInvoice(e,t){return lr.updateInvoice(e,t)}async deleteInvoice(e){return lr.deleteInvoice(e)}async downloadInvoicePDF(e){return lr.downloadInvoicePDF(e)}async getAllIssuedPOs(e){return lr.getAllIssuedPOs(e)}async getIssuedPOById(e){return lr.getIssuedPOById(e)}async getNextIssuedPONumber(){return lr.getNextIssuedPONumber()}async createIssuedPO(e){return lr.createIssuedPO(e)}async updateIssuedPO(e,t){return lr.updateIssuedPO(e,t)}async deleteIssuedPO(e){return lr.deleteIssuedPO(e)}async downloadIssuedPOPDF(e){return lr.downloadIssuedPOPDF(e)}async getAllCategories(){return lr.getAllCategories()}async getCategoryById(e){return lr.getCategoryById(e)}async createCategory(e){return lr.createCategory(e)}async updateCategory(e,t){return lr.updateCategory(e,t)}async deleteCategory(e){return lr.deleteCategory(e)}async getExchangeRates(){return lr.getExchangeRates()}async createExchangeRate(e){return lr.createExchangeRate(e)}async importExchangeRates(){return lr.importExchangeRates()}async convertCurrency(e,t){return lr.convertCurrency(e,t)}}const wr=new X7,aae=new X7,{login:lLe,logout:cLe,changePassword:uLe,getInventoryItems:dLe,getInventoryById:ALe,createInventoryItem:hLe,updateInventoryItem:fLe,deleteInventoryItem:mLe,bulkCreateInventoryItems:pLe,createSingleCheckout:gLe,createBulkCheckout:xLe,checkInSingle:yLe,checkInBulk:vLe,getAllCheckouts:bLe,getCheckoutByMasterBarcode:wLe,getAllMaintenanceTickets:CLe,createMaintenanceTicket:NLe,updateMaintenanceTicket:SLe,deleteMaintenanceTicket:BLe,getMaintenanceTicketById:ELe,createActivityLog:jLe,getRecentActivity:_Le,getAllActivity:TLe,getActivityById:kLe,getActivityByUser:FLe,getActivityByModule:OLe,getProjects:DLe,getProjectById:PLe,createProject:ILe,updateProject:LLe,deleteProject:MLe,updateProjectStatus:RLe,uploadProjectPO:ULe,deleteProjectPO:QLe,downloadProjectPO:HLe,getTimesheets:zLe,createTimesheet:KLe,getAllClients:$Le,getClientById:VLe,createClient:qLe,updateClient:GLe,deleteClient:WLe,getAllTeamMembers:YLe,getTeamMemberById:XLe,createTeamMember:JLe,updateTeamMember:ZLe,deleteTeamMember:eMe,getTeamByDepartment:tMe,getAllComputers:rMe,getComputerById:nMe,createComputer:aMe,updateComputer:sMe,deleteComputer:iMe,getComputersAssignedTo:oMe,assignComputerToUser:lMe,unassignComputer:cMe,getAllResearchProjects:uMe,getResearchProjectById:dMe,createResearchProject:AMe,updateResearchProject:hMe,deleteResearchProject:fMe,getResearchProjectsByStatus:mMe,uploadMigrationFile:pMe,executeMigration:gMe,getMigrationTemplate:xMe,getAllPurchaseOrders:yMe,getPurchaseOrderById:vMe,createPurchaseOrder:bMe,updatePurchaseOrder:wMe,deletePurchaseOrder:CMe,getAllInvoices:NMe,getInvoiceById:SMe,getNextInvoiceNumber:BMe,getInvoiceProjectContext:EMe,createInvoice:jMe,updateInvoice:_Me,deleteInvoice:TMe,downloadInvoicePDF:kMe,getAllIssuedPOs:FMe,getIssuedPOById:OMe,getNextIssuedPONumber:DMe,createIssuedPO:PMe,updateIssuedPO:IMe,deleteIssuedPO:LMe,downloadIssuedPOPDF:MMe,getAllCategories:RMe,getCategoryById:UMe,createCategory:QMe,updateCategory:HMe,deleteCategory:zMe,getExchangeRates:KMe,createExchangeRate:$Me,importExchangeRates:VMe,convertCurrency:qMe}=aae,sae=({isOpen:r,onClose:e,onSuccess:t,isFirstTimeLogin:n=!1,userEmail:a=""})=>{const[s,i]=B.useState(""),[l,c]=B.useState(""),[u,A]=B.useState(""),[h,p]=B.useState(!1),[m,y]=B.useState(!1),[g,v]=B.useState(!1),[b,N]=B.useState(!1),[C,E]=B.useState("weak"),_=k=>{if(k.length<8){E("weak");return}/[a-z]/.test(k)&&/[A-Z]/.test(k)&&/[0-9]/.test(k)&&/[^a-zA-Z0-9]/.test(k)?E("strong"):/[a-z]/.test(k)&&/[A-Z]/.test(k)&&/[0-9]/.test(k)?E("medium"):E("weak")},P=k=>{c(k),_(k)},O=async k=>{if(k.preventDefault(),!n&&!s){xe.error("Current password is required");return}if(!l||!u){xe.error("Please fill in all password fields");return}if(l.length<8){xe.error("Password must be at least 8 characters long");return}if(C==="weak"){xe.error("Password must contain uppercase, lowercase, numbers, and special characters");return}if(l!==u){xe.error("Passwords do not match");return}if(!n&&l===s){xe.error("New password must be different from current password");return}N(!0);try{await wr.changePassword(a,n?"":s,l),xe.success("Password changed successfully"),i(""),c(""),A(""),E("weak"),t&&t(),e()}catch(H){const L=H.response?.data?.message||"Failed to change password";xe.error(L)}finally{N(!1)}};if(!r)return null;const D=C==="strong"?"bg-green-500":C==="medium"?"bg-yellow-500":"bg-red-500";return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:n?void 0:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Uh,{className:"w-6 h-6 text-primary-600"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Set Your Password":"Change Password"})]}),!n&&o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),n&&o.jsx("div",{className:"bg-blue-50 border-b border-blue-200 p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(ls,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900",children:"First-Time Login: Set Your Password"}),o.jsx("p",{className:"text-sm text-blue-800 mt-1",children:"For security reasons, you must set a new password to continue. This step cannot be skipped."})]})]})}),o.jsxs("form",{onSubmit:O,className:"p-6 space-y-4",children:[!n&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:h?"text":"password",value:s,onChange:k=>i(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",placeholder:"Enter current password",required:!n}),o.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:h?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:m?"text":"password",value:l,onChange:k=>P(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",placeholder:"Enter new password",required:!0}),o.jsx("button",{type:"button",onClick:()=>y(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:m?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})})]}),l&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Strength:"}),o.jsx("span",{className:"text-xs font-medium capitalize text-gray-600",children:C})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:o.jsx("div",{className:`${D} h-1.5 rounded-full transition-all`,style:{width:C==="weak"?"33%":C==="medium"?"66%":"100%"}})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"At least 8 characters with uppercase, lowercase, numbers, and special characters"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:g?"text":"password",value:u,onChange:k=>A(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",placeholder:"Confirm new password",required:!0}),o.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:g?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})}),l&&u&&l===u&&o.jsx("div",{className:"absolute right-10 top-1/2 -translate-y-1/2",children:o.jsx(za,{className:"w-5 h-5 text-green-500"})}),l&&u&&l!==u&&o.jsx("div",{className:"absolute right-10 top-1/2 -translate-y-1/2",children:o.jsx(ls,{className:"w-5 h-5 text-red-500"})})]}),l&&u&&l===u&&o.jsxs("div",{className:"flex items-center gap-1 mt-2 text-green-600",children:[o.jsx(za,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:"Passwords match"})]}),l&&u&&l!==u&&o.jsxs("div",{className:"flex items-center gap-1 mt-2 text-red-600",children:[o.jsx(ls,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:"Passwords do not match"})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[!n&&o.jsx("button",{type:"button",onClick:e,disabled:b,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:b||!l||!u,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium transition-colors disabled:opacity-50",children:b?"Changing...":n?"Set Password":"Change Password"})]})]})]})})]})},iae=({isOpen:r,onClose:e})=>{const[t,n]=B.useState(""),[a,s]=B.useState(!1),[i,l]=B.useState(!1);if(!r)return null;const c=async A=>{if(A.preventDefault(),!t){xe.error("Please enter your email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){xe.error("Please enter a valid email address");return}s(!0);try{await vn.api.post("/auth/forgot-password",{email:t}),xe.success("Password reset link sent! Please check your email."),l(!0)}catch(h){console.error("Forgot password error:",h),xe.error(h.response?.data?.error||"Failed to send reset link")}finally{s(!1)}},u=()=>{n(""),l(!1),e()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:i?o.jsx(za,{className:"w-5 h-5 text-blue-600"}):o.jsx(gg,{className:"w-5 h-5 text-blue-600"})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i?"Check Your Email":"Forgot Password"})]}),o.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Fr,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-6",children:i?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(za,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-800",children:"Email sent successfully!"}),o.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["We've sent a password reset link to ",o.jsx("span",{className:"font-medium",children:t})]})]})]})}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(ls,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-yellow-800",children:[o.jsx("p",{className:"font-medium",children:"Important:"}),o.jsxs("ul",{className:"mt-1 list-disc list-inside space-y-1",children:[o.jsx("li",{children:"The reset link will expire in 1 hour"}),o.jsx("li",{children:"Check your spam folder if you don't see it"}),o.jsx("li",{children:"Never share the reset link with anyone"})]})]})]})}),o.jsx("button",{onClick:u,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-medium py-3 px-6 rounded-xl transition-all duration-200",children:"Close"})]}):o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(ls,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-blue-800",children:"Enter your email address and we'll send you a link to reset your password."})]})}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email Address"}),o.jsx("input",{id:"reset-email",type:"email",value:t,onChange:A=>n(A.target.value),placeholder:"you@example.com",disabled:a,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50",autoFocus:!0})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-medium py-3 px-6 rounded-xl transition-all duration-200 disabled:bg-gray-300 disabled:cursor-not-allowed",children:a?"Sending...":"Send Reset Link"})]})})]})})};var nS={exports:{}},aS,L6;function oae(){if(L6)return aS;L6=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return aS=r,aS}var sS,M6;function lae(){if(M6)return sS;M6=1;var r=oae();function e(){}function t(){}return t.resetWarningCache=e,sS=function(){function n(i,l,c,u,A,h){if(h!==r){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},sS}var R6;function cae(){return R6||(R6=1,nS.exports=lae()()),nS.exports}var uae=cae();const tl=Pc(uae);var dae=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function lj(){return lj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},lj.apply(this,arguments)}function Aae(r,e){if(r==null)return{};var t={},n=Object.keys(r),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function $1(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function hae(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,cj(r,e)}function cj(r,e){return cj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cj(r,e)}var yC=(function(r){hae(e,r);function e(){var n;return n=r.call(this)||this,n.handleExpired=n.handleExpired.bind($1(n)),n.handleErrored=n.handleErrored.bind($1(n)),n.handleChange=n.handleChange.bind($1(n)),n.handleRecaptchaRef=n.handleRecaptchaRef.bind($1(n)),n}var t=e.prototype;return t.getCaptchaFunction=function(a){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[a]:this.props.grecaptcha[a]:null},t.getValue=function(){var a=this.getCaptchaFunction("getResponse");return a&&this._widgetId!==void 0?a(this._widgetId):null},t.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},t.execute=function(){var a=this.getCaptchaFunction("execute");if(a&&this._widgetId!==void 0)return a(this._widgetId);this._executeRequested=!0},t.executeAsync=function(){var a=this;return new Promise(function(s,i){a.executionResolve=s,a.executionReject=i,a.execute()})},t.reset=function(){var a=this.getCaptchaFunction("reset");a&&this._widgetId!==void 0&&a(this._widgetId)},t.forceReset=function(){var a=this.getCaptchaFunction("reset");a&&a()},t.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},t.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},t.handleChange=function(a){this.props.onChange&&this.props.onChange(a),this.executionResolve&&(this.executionResolve(a),delete this.executionReject,delete this.executionResolve)},t.explicitRender=function(){var a=this.getCaptchaFunction("render");if(a&&this._widgetId===void 0){var s=document.createElement("div");this._widgetId=a(s,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(s)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},t.componentDidMount=function(){this.explicitRender()},t.componentDidUpdate=function(){this.explicitRender()},t.handleRecaptchaRef=function(a){this.captcha=a},t.render=function(){var a=this.props;a.sitekey,a.onChange,a.theme,a.type,a.tabindex,a.onExpired,a.onErrored,a.size,a.stoken,a.grecaptcha,a.badge,a.hl,a.isolated;var s=Aae(a,dae);return B.createElement("div",lj({},s,{ref:this.handleRecaptchaRef}))},e})(B.Component);yC.displayName="ReCAPTCHA";yC.propTypes={sitekey:tl.string.isRequired,onChange:tl.func,grecaptcha:tl.object,theme:tl.oneOf(["dark","light"]),type:tl.oneOf(["image","audio"]),tabindex:tl.number,onExpired:tl.func,onErrored:tl.func,size:tl.oneOf(["compact","normal","invisible"]),stoken:tl.string,hl:tl.string,badge:tl.oneOf(["bottomright","bottomleft","inline"]),isolated:tl.bool};yC.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var iS={exports:{}},kn={};var U6;function fae(){if(U6)return kn;U6=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,n=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,i=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,A=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,N=r?Symbol.for("react.scope"):60119;function C(_){if(typeof _=="object"&&_!==null){var P=_.$$typeof;switch(P){case e:switch(_=_.type,_){case c:case u:case n:case s:case a:case h:return _;default:switch(_=_&&_.$$typeof,_){case l:case A:case y:case m:case i:return _;default:return P}}case t:return P}}}function E(_){return C(_)===u}return kn.AsyncMode=c,kn.ConcurrentMode=u,kn.ContextConsumer=l,kn.ContextProvider=i,kn.Element=e,kn.ForwardRef=A,kn.Fragment=n,kn.Lazy=y,kn.Memo=m,kn.Portal=t,kn.Profiler=s,kn.StrictMode=a,kn.Suspense=h,kn.isAsyncMode=function(_){return E(_)||C(_)===c},kn.isConcurrentMode=E,kn.isContextConsumer=function(_){return C(_)===l},kn.isContextProvider=function(_){return C(_)===i},kn.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},kn.isForwardRef=function(_){return C(_)===A},kn.isFragment=function(_){return C(_)===n},kn.isLazy=function(_){return C(_)===y},kn.isMemo=function(_){return C(_)===m},kn.isPortal=function(_){return C(_)===t},kn.isProfiler=function(_){return C(_)===s},kn.isStrictMode=function(_){return C(_)===a},kn.isSuspense=function(_){return C(_)===h},kn.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===u||_===s||_===a||_===h||_===p||typeof _=="object"&&_!==null&&(_.$$typeof===y||_.$$typeof===m||_.$$typeof===i||_.$$typeof===l||_.$$typeof===A||_.$$typeof===v||_.$$typeof===b||_.$$typeof===N||_.$$typeof===g)},kn.typeOf=C,kn}var Q6;function mae(){return Q6||(Q6=1,iS.exports=fae()),iS.exports}var oS,H6;function pae(){if(H6)return oS;H6=1;var r=mae(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[r.ForwardRef]=n,s[r.Memo]=a;function i(y){return r.isMemo(y)?a:s[y.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,A=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;function m(y,g,v){if(typeof g!="string"){if(p){var b=h(g);b&&b!==p&&m(y,b,v)}var N=c(g);u&&(N=N.concat(u(g)));for(var C=i(y),E=i(g),_=0;_<N.length;++_){var P=N[_];if(!t[P]&&!(v&&v[P])&&!(E&&E[P])&&!(C&&C[P])){var O=A(g,P);try{l(y,P,O)}catch{}}}}return y}return oS=m,oS}var gae=pae();const xae=Pc(gae);function uj(){return uj=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},uj.apply(this,arguments)}function yae(r,e){if(r==null)return{};var t={},n=Object.keys(r),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function vae(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var Au={},bae=0;function wae(r,e){return e=e||{},function(n){var a=n.displayName||n.name||"Component",s=(function(l){vae(c,l);function c(A,h){var p;return p=l.call(this,A,h)||this,p.state={},p.__scriptURL="",p}var u=c.prototype;return u.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+bae++),this.__scriptLoaderID},u.setupScriptURL=function(){return this.__scriptURL=typeof r=="function"?r():r,this.__scriptURL},u.asyncScriptLoaderHandleLoad=function(h){var p=this;this.setState(h,function(){return p.props.asyncScriptOnLoad&&p.props.asyncScriptOnLoad(p.state)})},u.asyncScriptLoaderTriggerOnScriptLoaded=function(){var h=Au[this.__scriptURL];if(!h||!h.loaded)throw new Error("Script is not loaded.");for(var p in h.observers)h.observers[p](h);delete window[e.callbackName]},u.componentDidMount=function(){var h=this,p=this.setupScriptURL(),m=this.asyncScriptLoaderGetScriptLoaderID(),y=e,g=y.globalName,v=y.callbackName,b=y.scriptId;if(g&&typeof window[g]<"u"&&(Au[p]={loaded:!0,observers:{}}),Au[p]){var N=Au[p];if(N&&(N.loaded||N.errored)){this.asyncScriptLoaderHandleLoad(N);return}N.observers[m]=function(O){return h.asyncScriptLoaderHandleLoad(O)};return}var C={};C[m]=function(O){return h.asyncScriptLoaderHandleLoad(O)},Au[p]={loaded:!1,observers:C};var E=document.createElement("script");E.src=p,E.async=!0;for(var _ in e.attributes)E.setAttribute(_,e.attributes[_]);b&&(E.id=b);var P=function(D){if(Au[p]){var k=Au[p],H=k.observers;for(var L in H)D(H[L])&&delete H[L]}};v&&typeof window<"u"&&(window[v]=function(){return h.asyncScriptLoaderTriggerOnScriptLoaded()}),E.onload=function(){var O=Au[p];O&&(O.loaded=!0,P(function(D){return v?!1:(D(O),!0)}))},E.onerror=function(){var O=Au[p];O&&(O.errored=!0,P(function(D){return D(O),!0}))},document.body.appendChild(E)},u.componentWillUnmount=function(){var h=this.__scriptURL;if(e.removeOnUnmount===!0)for(var p=document.getElementsByTagName("script"),m=0;m<p.length;m+=1)p[m].src.indexOf(h)>-1&&p[m].parentNode&&p[m].parentNode.removeChild(p[m]);var y=Au[h];y&&(delete y.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete Au[h])},u.render=function(){var h=e.globalName,p=this.props;p.asyncScriptOnLoad;var m=p.forwardedRef,y=yae(p,["asyncScriptOnLoad","forwardedRef"]);return h&&typeof window<"u"&&(y[h]=typeof window[h]<"u"?window[h]:void 0),y.ref=m,B.createElement(n,y)},c})(B.Component),i=B.forwardRef(function(l,c){return B.createElement(s,uj({},l,{forwardedRef:c}))});return i.displayName="AsyncScriptLoader("+a+")",i.propTypes={asyncScriptOnLoad:tl.func},xae(i,n)}}var dj="onloadcallback",Cae="grecaptcha";function Aj(){return typeof window<"u"&&window.recaptchaOptions||{}}function Nae(){var r=Aj(),e=r.useRecaptchaNet?"recaptcha.net":"www.google.com";return r.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+dj+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+dj+"&render=explicit"}const Sae=wae(Nae,{callbackName:dj,globalName:Cae,attributes:Aj().nonce?{nonce:Aj().nonce}:{}})(yC),Bae=()=>{const[r,e]=B.useState(""),[t,n]=B.useState(""),[a,s]=B.useState(!1),[i,l]=B.useState(!1),[c,u]=B.useState(!1),[A,h]=B.useState(""),[p,m]=B.useState(!1),[y,g]=B.useState(!1),[v,b]=B.useState(""),[N,C]=B.useState(""),[E,_]=B.useState(null),P=B.useRef(null),O=B.useRef(null),{login:D}=hf(),k=mg(),H="6LdhWEwsAAAAAK_Y7FQk1sOpEGiMF9OL6W9fZVhy",L=()=>{let ee=!0;return b(""),C(""),r?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||(b("Please enter a valid email address"),ee=!1):(b("Email is required"),ee=!1),t?t.length<6&&(C("Password must be at least 6 characters"),ee=!1):(C("Password is required"),ee=!1),E||(xe.error("Please complete the CAPTCHA verification"),ee=!1),ee},Q=ee=>{_(ee)},R=async ee=>{if(ee.preventDefault(),!L()){P.current?.focus();return}g(!0);try{(await D(r,t,E||void 0))?.isFirstTimeLogin??!1?(h(r),m(!0),l(!0),xe.success("Logged in successfully. Please set a new password.")):(xe.success("Logged in successfully"),k("/")),O.current?.reset(),_(null)}catch(X){const ae=X?.response?.data?.error||X?.message||"Invalid credentials. Please try again.";xe.error(ae),Rt.error("Login error:",X),O.current?.reset(),_(null)}finally{g(!1)}},K=()=>{l(!1),m(!1),h(""),xe.success("Password updated. Redirecting to dashboard..."),setTimeout(()=>{k("/")},1e3)};return o.jsxs("div",{className:"relative flex items-center justify-center min-h-screen overflow-hidden bg-gradient-to-br from-slate-900 via-blue-950 to-slate-900",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[o.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-20",xmlns:"http://www.w3.org/2000/svg",children:[o.jsxs("defs",{children:[o.jsx("pattern",{id:"mesh-grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:o.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"rgba(59, 130, 246, 0.5)",strokeWidth:"0.5"})}),o.jsxs("pattern",{id:"mesh-dots",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:[o.jsx("circle",{cx:"0",cy:"0",r:"1",fill:"rgba(96, 165, 250, 0.6)"}),o.jsx("circle",{cx:"40",cy:"0",r:"1",fill:"rgba(96, 165, 250, 0.6)"}),o.jsx("circle",{cx:"0",cy:"40",r:"1",fill:"rgba(96, 165, 250, 0.6)"}),o.jsx("circle",{cx:"40",cy:"40",r:"1",fill:"rgba(96, 165, 250, 0.6)"})]})]}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#mesh-grid)"}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#mesh-dots)"})]}),o.jsxs("svg",{className:"absolute inset-0 w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"flow-gradient-1",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[o.jsx("stop",{offset:"0%",stopColor:"rgba(239, 68, 68, 0)"}),o.jsx("stop",{offset:"30%",stopColor:"rgba(239, 68, 68, 0.6)"}),o.jsx("stop",{offset:"50%",stopColor:"rgba(251, 191, 36, 0.8)"}),o.jsx("stop",{offset:"70%",stopColor:"rgba(34, 197, 94, 0.6)"}),o.jsx("stop",{offset:"100%",stopColor:"rgba(59, 130, 246, 0)"})]}),o.jsxs("linearGradient",{id:"flow-gradient-2",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[o.jsx("stop",{offset:"0%",stopColor:"rgba(59, 130, 246, 0)"}),o.jsx("stop",{offset:"20%",stopColor:"rgba(59, 130, 246, 0.5)"}),o.jsx("stop",{offset:"50%",stopColor:"rgba(147, 51, 234, 0.7)"}),o.jsx("stop",{offset:"80%",stopColor:"rgba(236, 72, 153, 0.5)"}),o.jsx("stop",{offset:"100%",stopColor:"rgba(236, 72, 153, 0)"})]})]}),o.jsx("path",{className:"flow-line-1",d:"M-100,150 Q200,100 400,180 T800,120 T1200,200 T1600,140",fill:"none",stroke:"url(#flow-gradient-1)",strokeWidth:"3",opacity:"0.7"}),o.jsx("path",{className:"flow-line-2",d:"M-100,250 Q150,300 350,220 T700,280 T1100,200 T1500,260",fill:"none",stroke:"url(#flow-gradient-2)",strokeWidth:"2",opacity:"0.5"}),o.jsx("path",{className:"flow-line-3",d:"M-100,450 Q250,400 450,480 T850,420 T1250,500 T1650,440",fill:"none",stroke:"url(#flow-gradient-1)",strokeWidth:"2.5",opacity:"0.6"}),o.jsx("path",{className:"flow-line-4",d:"M-100,600 Q200,550 400,620 T800,560 T1200,640 T1600,580",fill:"none",stroke:"url(#flow-gradient-2)",strokeWidth:"2",opacity:"0.4"})]}),o.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 rounded-full bg-gradient-radial from-red-500/20 via-orange-500/10 to-transparent blur-3xl animate-pulse-slow"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px] rounded-full bg-gradient-radial from-blue-500/25 via-cyan-500/10 to-transparent blur-3xl animate-pulse-slow-delayed"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full bg-gradient-radial from-purple-500/15 via-indigo-500/5 to-transparent blur-3xl"}),o.jsx("div",{className:"absolute top-20 left-20 opacity-40",children:o.jsxs("svg",{width:"60",height:"20",viewBox:"0 0 60 20",children:[o.jsx("defs",{children:o.jsx("marker",{id:"arrowhead1",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:o.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"rgba(34, 197, 94, 0.8)"})})}),o.jsx("line",{x1:"0",y1:"10",x2:"50",y2:"10",stroke:"rgba(34, 197, 94, 0.8)",strokeWidth:"2",markerEnd:"url(#arrowhead1)"})]})}),o.jsx("div",{className:"absolute top-32 left-32 opacity-50",children:o.jsx("svg",{width:"80",height:"20",viewBox:"0 0 80 20",children:o.jsx("line",{x1:"0",y1:"10",x2:"70",y2:"10",stroke:"rgba(251, 191, 36, 0.8)",strokeWidth:"2.5",markerEnd:"url(#arrowhead1)"})})}),o.jsx("div",{className:"absolute bottom-40 right-40 opacity-40 rotate-[-15deg]",children:o.jsx("svg",{width:"70",height:"20",viewBox:"0 0 70 20",children:o.jsx("line",{x1:"0",y1:"10",x2:"60",y2:"10",stroke:"rgba(239, 68, 68, 0.7)",strokeWidth:"2",markerEnd:"url(#arrowhead1)"})})}),o.jsx("div",{className:"absolute bottom-60 right-60 opacity-50 rotate-[-10deg]",children:o.jsx("svg",{width:"90",height:"20",viewBox:"0 0 90 20",children:o.jsx("line",{x1:"0",y1:"10",x2:"80",y2:"10",stroke:"rgba(251, 191, 36, 0.8)",strokeWidth:"2",markerEnd:"url(#arrowhead1)"})})}),o.jsx("div",{className:"absolute top-1/4 right-1/4 w-8 h-8 rounded-full bg-red-500/50 blur-sm animate-ping-slow"}),o.jsx("div",{className:"absolute bottom-1/3 left-1/5 w-6 h-6 rounded-full bg-orange-500/40 blur-sm animate-ping-slow-delayed"}),o.jsx("div",{className:"absolute top-2/3 right-1/3 w-10 h-10 rounded-full bg-yellow-500/30 blur-md animate-pulse-slow"}),o.jsxs("svg",{className:"absolute bottom-0 left-0 w-full h-48 opacity-30",viewBox:"0 0 1200 200",preserveAspectRatio:"none",children:[o.jsx("path",{d:"M0,100 Q150,60 300,100 T600,80 T900,120 T1200,90",fill:"none",stroke:"rgba(96, 165, 250, 0.6)",strokeWidth:"1"}),o.jsx("path",{d:"M0,120 Q150,80 300,120 T600,100 T900,140 T1200,110",fill:"none",stroke:"rgba(96, 165, 250, 0.5)",strokeWidth:"1"}),o.jsx("path",{d:"M0,140 Q150,100 300,140 T600,120 T900,160 T1200,130",fill:"none",stroke:"rgba(96, 165, 250, 0.4)",strokeWidth:"1"}),o.jsx("path",{d:"M0,160 Q150,120 300,160 T600,140 T900,180 T1200,150",fill:"none",stroke:"rgba(96, 165, 250, 0.3)",strokeWidth:"1"})]}),o.jsxs("div",{className:"absolute bottom-8 left-8 flex flex-col gap-0.5 opacity-60",children:[o.jsx("div",{className:"w-4 h-3 bg-red-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-orange-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-yellow-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-green-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-cyan-500 rounded-sm"}),o.jsx("div",{className:"w-4 h-3 bg-blue-500 rounded-sm"}),o.jsx("span",{className:"text-[8px] text-blue-300 mt-1",children:"Velocity"})]})]}),o.jsxs("div",{className:"relative z-10 w-full max-w-md mx-4",children:[o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[o.jsxs("div",{className:"px-8 pt-8 pb-6 text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:o.jsx(Uh,{className:"w-6 h-6 text-blue-600"})})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Login"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Welcome back to MyCAE Technologies App"})]}),o.jsxs("form",{className:"px-8 pb-8 space-y-5",onSubmit:R,children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email"}),o.jsx("input",{ref:P,id:"email",type:"email",value:r,onChange:ee=>e(ee.target.value),placeholder:"you@example.com",disabled:y,className:`w-full px-4 py-3 border ${v?"border-red-300":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50 disabled:cursor-not-allowed`}),v&&o.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:v})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"password",type:a?"text":"password",value:t,onChange:ee=>n(ee.target.value),placeholder:"",disabled:y,className:`w-full px-4 py-3 pr-10 border ${N?"border-red-300":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-50 disabled:cursor-not-allowed`}),o.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:a?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})})]}),N&&o.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:N})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(Sae,{ref:O,sitekey:H,onChange:Q,theme:"light"})}),o.jsx("button",{type:"submit",disabled:y,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-medium py-3.5 px-6 rounded-xl transition-all duration-200 disabled:bg-gray-300 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:y?"Logging in...":"Login"}),o.jsx("div",{className:"text-center mt-4",children:o.jsx("button",{type:"button",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",onClick:()=>u(!0),children:"Forgot Password?"})})]})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsx("p",{className:"text-white text-sm opacity-80",children:"Powered by MyCAE Technologies"})})]}),o.jsx(sae,{isOpen:i,onClose:()=>l(!1),onSuccess:K,isFirstTimeLogin:p,userEmail:A}),o.jsx(iae,{isOpen:c,onClose:()=>u(!1)}),o.jsx("style",{children:`
        @keyframes flow-animate {
          0% {
            stroke-dashoffset: 1000;
          }
          100% {
            stroke-dashoffset: 0;
          }
        }

        @keyframes pulse-slow {
          0%, 100% {
            opacity: 0.3;
            transform: scale(1);
          }
          50% {
            opacity: 0.6;
            transform: scale(1.05);
          }
        }

        @keyframes pulse-slow-delayed {
          0%, 100% {
            opacity: 0.2;
            transform: scale(1);
          }
          50% {
            opacity: 0.5;
            transform: scale(1.08);
          }
        }

        @keyframes ping-slow {
          0% {
            transform: scale(1);
            opacity: 0.5;
          }
          50% {
            transform: scale(1.5);
            opacity: 0.2;
          }
          100% {
            transform: scale(1);
            opacity: 0.5;
          }
        }

        @keyframes ping-slow-delayed {
          0% {
            transform: scale(1);
            opacity: 0.4;
          }
          60% {
            transform: scale(1.3);
            opacity: 0.15;
          }
          100% {
            transform: scale(1);
            opacity: 0.4;
          }
        }

        .flow-line-1, .flow-line-2, .flow-line-3, .flow-line-4 {
          stroke-dasharray: 20 10;
          animation: flow-animate 8s linear infinite;
        }

        .flow-line-2 {
          animation-delay: -2s;
          animation-duration: 10s;
        }

        .flow-line-3 {
          animation-delay: -4s;
          animation-duration: 12s;
        }

        .flow-line-4 {
          animation-delay: -6s;
          animation-duration: 9s;
        }

        .animate-pulse-slow {
          animation: pulse-slow 6s ease-in-out infinite;
        }

        .animate-pulse-slow-delayed {
          animation: pulse-slow-delayed 8s ease-in-out infinite;
          animation-delay: -3s;
        }

        .animate-ping-slow {
          animation: ping-slow 4s ease-in-out infinite;
        }

        .animate-ping-slow-delayed {
          animation: ping-slow-delayed 5s ease-in-out infinite;
          animation-delay: -2s;
        }

        .bg-gradient-radial {
          background: radial-gradient(circle, var(--tw-gradient-stops));
        }
      `})]})},Ut=ws.forwardRef(({className:r,variant:e="primary",size:t="md",fullWidth:n,icon:a,iconPosition:s="left",loading:i=!1,loadingText:l,children:c,disabled:u,...A},h)=>{const p=u||i;return o.jsx("button",{ref:h,disabled:p,className:Cr("inline-flex items-center justify-center gap-2 rounded-lg font-medium transition-all","min-h-[44px]","disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",!p&&"hover:scale-[1.02] active:scale-[0.98]","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","dark:focus-visible:ring-offset-gray-900",e==="primary"&&"bg-primary-600 text-white shadow-sm focus-visible:ring-primary-500",e==="primary"&&!p&&"hover:bg-primary-700 hover:shadow-md",e==="secondary"&&"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus-visible:ring-gray-500",e==="secondary"&&!p&&"hover:bg-gray-200 dark:hover:bg-gray-600",e==="outline"&&"border-2 border-primary-600 dark:border-primary-400 text-primary-600 dark:text-primary-400 bg-transparent focus-visible:ring-primary-500",e==="outline"&&!p&&"hover:bg-primary-50 dark:hover:bg-primary-900/20",e==="ghost"&&"text-gray-700 dark:text-gray-300 bg-transparent focus-visible:ring-gray-500",e==="ghost"&&!p&&"hover:bg-gray-100 dark:hover:bg-gray-800",e==="danger"&&"bg-red-600 text-white shadow-sm focus-visible:ring-red-500",e==="danger"&&!p&&"hover:bg-red-700 hover:shadow-md",e==="success"&&"bg-green-600 text-white shadow-sm focus-visible:ring-green-500",e==="success"&&!p&&"hover:bg-green-700 hover:shadow-md",t==="xs"&&"px-2 py-2 text-xs",t==="sm"&&"px-3 py-2 text-sm",t==="md"&&"px-4 py-2.5 text-base",t==="lg"&&"px-6 py-3 text-lg min-h-[52px]",t==="xl"&&"px-8 py-4 text-xl min-h-[60px]",n&&"w-full",r),...A,children:i?o.jsxs(o.Fragment,{children:[o.jsx(i7,{className:"w-4 h-4 animate-spin","aria-hidden":"true"}),o.jsx("span",{children:l||"Loading..."})]}):o.jsxs(o.Fragment,{children:[a&&s==="left"&&o.jsx("span",{className:"shrink-0","aria-hidden":"true",children:a}),c,a&&s==="right"&&o.jsx("span",{className:"shrink-0","aria-hidden":"true",children:a})]})})});Ut.displayName="Button";const Eae=ws.forwardRef(({className:r,size:e="md",icon:t,...n},a)=>{const s={xs:"w-8 h-8",sm:"w-9 h-9",md:"w-11 h-11",lg:"w-12 h-12",xl:"w-14 h-14"},i={xs:"w-3.5 h-3.5",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-7 h-7"};return o.jsx(Ut,{ref:a,size:e,className:Cr("p-0",s[e],r),...n,children:o.jsx("span",{className:i[e],"aria-hidden":"true",children:t})})});Eae.displayName="IconButton";const Zs=ws.forwardRef(({className:r,label:e,error:t,success:n,icon:a,fullWidth:s,type:i="text",hint:l,id:c,onValidate:u,...A},h)=>{const p=c||`input-${A.name||Math.random().toString(36).substr(2,9)}`,m=t?`${p}-error`:void 0,y=n?`${p}-success`:void 0,g=l?`${p}-hint`:void 0,v=[m,y,g].filter(Boolean).join(" ")||void 0,b=!t&&n;return o.jsxs("div",{className:Cr("flex flex-col gap-1.5",s&&"w-full"),children:[e&&o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:p,children:e}),o.jsxs("div",{className:"relative",children:[a&&o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400","aria-hidden":"true",children:a}),o.jsx("input",{ref:h,id:p,type:i,"aria-invalid":t?"true":void 0,"aria-describedby":v,className:Cr("w-full rounded-lg border px-3 py-2.5 text-sm min-h-[44px]","bg-white dark:bg-gray-800","text-gray-900 dark:text-gray-100","placeholder:text-gray-400 dark:placeholder:text-gray-500","focus:outline-none focus:ring-2 focus:ring-offset-0 focus:border-transparent transition-all","dark:focus:ring-offset-gray-900","disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed disabled:text-gray-500 dark:disabled:text-gray-400",a&&"pl-10",!t&&!n&&"border-gray-300 dark:border-gray-600 focus:ring-primary-500 dark:focus:ring-primary-400",t&&"border-red-500 dark:border-red-400 focus:ring-red-500 dark:focus:ring-red-400",b&&"border-green-500 dark:border-green-400 focus:ring-green-500 dark:focus:ring-green-400",(t||b)&&"pr-10",r),...A}),(t||b)&&o.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:[t&&o.jsx(ls,{className:"w-5 h-5 text-red-500 dark:text-red-400","aria-hidden":"true"}),b&&o.jsx(Pw,{className:"w-5 h-5 text-green-500 dark:text-green-400","aria-hidden":"true"})]})]}),l&&!t&&!n&&o.jsx("span",{id:g,className:"text-xs text-gray-500 dark:text-gray-400",children:l}),t&&o.jsxs("span",{id:m,className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",role:"alert",children:[o.jsx(ls,{className:"w-3 h-3","aria-hidden":"true"}),t]}),n&&o.jsxs("span",{id:y,className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1",children:[o.jsx(Pw,{className:"w-3 h-3","aria-hidden":"true"}),n]})]})});Zs.displayName="Input";const jae=ws.forwardRef(({className:r,label:e,error:t,success:n,fullWidth:a,hint:s,id:i,maxLength:l,showCharCount:c,value:u,...A},h)=>{const p=i||`textarea-${A.name||Math.random().toString(36).substr(2,9)}`,m=t?`${p}-error`:void 0,y=n?`${p}-success`:void 0,g=s?`${p}-hint`:void 0,v=[m,y,g].filter(Boolean).join(" ")||void 0,b=typeof u=="string"?u.length:0,N=!t&&n;return o.jsxs("div",{className:Cr("flex flex-col gap-1.5",a&&"w-full"),children:[e&&o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:p,children:e}),o.jsx("textarea",{ref:h,id:p,value:u,maxLength:l,"aria-invalid":t?"true":void 0,"aria-describedby":v,className:Cr("w-full rounded-lg border px-3 py-2.5 text-sm","bg-white dark:bg-gray-800","text-gray-900 dark:text-gray-100","placeholder:text-gray-400 dark:placeholder:text-gray-500","focus:outline-none focus:ring-2 focus:ring-offset-0 focus:border-transparent transition-all","dark:focus:ring-offset-gray-900","disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed disabled:text-gray-500 dark:disabled:text-gray-400",!t&&!n&&"border-gray-300 dark:border-gray-600 focus:ring-primary-500 dark:focus:ring-primary-400",t&&"border-red-500 dark:border-red-400 focus:ring-red-500 dark:focus:ring-red-400",N&&"border-green-500 dark:border-green-400 focus:ring-green-500 dark:focus:ring-green-400",r),...A}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[s&&!t&&!n&&o.jsx("span",{id:g,className:"text-xs text-gray-500 dark:text-gray-400",children:s}),t&&o.jsxs("span",{id:m,className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",role:"alert",children:[o.jsx(ls,{className:"w-3 h-3","aria-hidden":"true"}),t]}),n&&o.jsxs("span",{id:y,className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1",children:[o.jsx(Pw,{className:"w-3 h-3","aria-hidden":"true"}),n]})]}),c&&l&&o.jsxs("span",{className:Cr("text-xs",b>=l?"text-red-500 dark:text-red-400":"text-gray-400 dark:text-gray-500"),children:[b,"/",l]})]})]})});jae.displayName="TextArea";const _ae=()=>{const r=mg(),[e]=aJ(),t=e.get("token"),[n,a]=B.useState("request"),[s,i]=B.useState(""),[l,c]=B.useState(""),[u,A]=B.useState(""),[h,p]=B.useState(!1),[m,y]=B.useState(!1),[g,v]=B.useState(!1),[b,N]=B.useState(!1),[C,E]=B.useState(!1),_=R=>R.length>=12&&/[A-Z]/.test(R)&&/[a-z]/.test(R)&&/\d/.test(R)&&/[!@#$%^&*(),.?":{}|<>]/.test(R),O=(R=>{if(R.length===0)return{score:0,label:"",color:""};let K=0;return K=[R.length>=12,/[A-Z]/.test(R),/[a-z]/.test(R),/\d/.test(R),/[!@#$%^&*(),.?":{}|<>]/.test(R)].filter(Boolean).length,K<=2?{score:K,label:"Weak",color:"bg-red-500"}:K<=3?{score:K,label:"Medium",color:"bg-yellow-500"}:{score:K,label:"Strong",color:"bg-green-500"}})(l),D=_(l),k=l===u&&l.length>0;B.useEffect(()=>{t&&H(t)},[t]);const H=async R=>{E(!0);try{const K=await vn.api.post("/auth/verify-reset-token",{token:R});K.data.valid?(N(!0),a("reset"),i(K.data.email)):(rr.error("Invalid or expired reset link"),a("request"))}catch(K){console.error("Token verification error:",K),rr.error(K.response?.data?.error||"Invalid or expired reset link"),a("request")}finally{E(!1)}},L=async R=>{if(R.preventDefault(),!s){rr.error("Please enter your email address");return}v(!0);try{await vn.api.post("/auth/forgot-password",{email:s}),rr.success("Password reset link sent! Check your email."),a("success")}catch(K){console.error("Forgot password error:",K),rr.error(K.response?.data?.error||"Failed to send reset link")}finally{v(!1)}},Q=async R=>{if(R.preventDefault(),!l||!u){rr.error("Please fill in all fields");return}if(!D){rr.error("Password does not meet requirements");return}if(!k){rr.error("Passwords do not match");return}v(!0);try{await vn.api.post("/auth/reset-password",{token:t,newPassword:l}),rr.success("Password reset successful!"),a("success"),setTimeout(()=>{r("/login")},2e3)}catch(K){console.error("Reset password error:",K),rr.error(K.response?.data?.error||"Failed to reset password")}finally{v(!1)}};return C?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Verifying reset link..."})]})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[n!=="success"&&o.jsxs("button",{onClick:()=>r("/login"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[o.jsx(iZ,{className:"w-4 h-4"}),"Back to Login"]}),n==="request"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Uh,{className:"w-8 h-8 text-primary-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Forgot Password?"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your email address and we'll send you a link to reset your password."})]}),o.jsxs("form",{onSubmit:L,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(gg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(Zs,{type:"email",value:s,onChange:R=>i(R.target.value),placeholder:"your.email@example.com",className:"pl-10",required:!0})]})]}),o.jsx(Ut,{type:"submit",variant:"primary",className:"w-full",disabled:g,children:g?"Sending...":"Send Reset Link"})]})]}),n==="reset"&&b&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Uh,{className:"w-8 h-8 text-primary-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reset Password"}),o.jsxs("p",{className:"text-gray-600 mt-2",children:["Enter your new password for ",o.jsx("strong",{children:s})]})]}),o.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Uh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(Zs,{type:h?"text":"password",value:l,onChange:R=>c(R.target.value),placeholder:"Enter new password",className:"pl-10 pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:h?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})})]}),l&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Strength:"}),o.jsx("span",{className:`text-xs font-medium capitalize ${O.score<=2?"text-red-600":O.score<=3?"text-yellow-600":"text-green-600"}`,children:O.label})]}),o.jsxs("div",{className:"flex gap-1 h-1.5",children:[o.jsx("div",{className:`flex-1 rounded-full ${O.score>=1?O.color:"bg-gray-200"}`}),o.jsx("div",{className:`flex-1 rounded-full ${O.score>=2?O.color:"bg-gray-200"}`}),o.jsx("div",{className:`flex-1 rounded-full ${O.score>=3?O.color:"bg-gray-200"}`})]})]}),o.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg text-xs text-gray-600 space-y-1",children:[o.jsx("p",{className:"font-medium text-gray-700",children:"Password must contain:"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:l.length>=12?"text-green-600":"",children:[l.length>=12?"":""," At least 12 characters"]}),o.jsxs("p",{className:/[A-Z]/.test(l)?"text-green-600":"",children:[/[A-Z]/.test(l)?"":""," Uppercase letter"]}),o.jsxs("p",{className:/[a-z]/.test(l)?"text-green-600":"",children:[/[a-z]/.test(l)?"":""," Lowercase letter"]}),o.jsxs("p",{className:/\d/.test(l)?"text-green-600":"",children:[/\d/.test(l)?"":""," Number"]}),o.jsxs("p",{className:/[!@#$%^&*(),.?":{}|<>]/.test(l)?"text-green-600":"",children:[/[!@#$%^&*(),.?":{}|<>]/.test(l)?"":""," Special character"]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Uh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(Zs,{type:m?"text":"password",value:u,onChange:R=>A(R.target.value),placeholder:"Confirm new password",className:"pl-10 pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>y(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:m?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})}),l&&u&&l===u&&o.jsx("div",{className:"absolute right-12 top-1/2 -translate-y-1/2",children:o.jsx(za,{className:"w-5 h-5 text-green-500"})}),l&&u&&l!==u&&o.jsx("div",{className:"absolute right-12 top-1/2 -translate-y-1/2",children:o.jsx(ls,{className:"w-5 h-5 text-red-500"})})]})]}),o.jsx(Ut,{type:"submit",variant:"primary",className:"w-full",disabled:!D||!k||g,children:g?"Resetting...":"Reset Password"})]})]}),n==="success"&&o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(za,{className:"w-8 h-8 text-green-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:t?"Password Reset!":"Email Sent!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:t?"Your password has been successfully reset. Redirecting to login...":"If an account exists with that email, we've sent a password reset link. Please check your inbox."}),!t&&o.jsx(Ut,{onClick:()=>r("/login"),variant:"primary",className:"w-full",children:"Back to Login"})]}),n!=="success"&&o.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ls,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-yellow-800",children:[o.jsx("p",{className:"font-medium",children:"Security Notice"}),o.jsx("p",{className:"mt-1",children:"The reset link will expire in 1 hour. Never share this link with anyone."})]})]})})]})})},Tae=30*1e3,os=Ic((r,e)=>({projects:[],timesheets:[],loading:!1,lastFetched:null,fetchProjects:async(t=!1)=>{const{lastFetched:n,loading:a}=e(),s=Date.now();if(!a&&!(!t&&n&&s-n<Tae)){r({loading:!0});try{const i=await wr.getProjects();r({projects:Array.isArray(i)?i:[],loading:!1,lastFetched:Date.now()})}catch(i){console.error("Failed to fetch projects:",i),r({loading:!1})}}},addProject:async t=>{try{const n=await wr.createProject(t);return r(a=>({projects:[n,...a.projects],lastFetched:Date.now()})),n}catch(n){throw console.error("Failed to add project:",n),n}},updateProject:async(t,n)=>{try{const a=await wr.updateProject(t,n);r(s=>({projects:s.projects.map(i=>i.id===t?{...i,...a}:i),lastFetched:Date.now()}))}catch(a){throw console.error("Failed to update project:",a),a}},deleteProject:async t=>{try{await wr.deleteProject(t),r(n=>({projects:n.projects.filter(a=>a.id!==t),lastFetched:Date.now()}))}catch(n){throw console.error("Failed to delete project:",n),n}},fetchTimesheets:async t=>{r({loading:!0});try{const n=await wr.getTimesheets(t),a=(Array.isArray(n)?n:[]).map(s=>({...s,hours:parseFloat(s.hours)||0}));r({timesheets:a,loading:!1})}catch(n){console.error("Failed to fetch timesheets:",n),r({timesheets:[],loading:!1})}},addTimesheet:async t=>{try{const n=await wr.createTimesheet(t);r(a=>({timesheets:[n,...a.timesheets]})),e().fetchProjects(!0)}catch(n){throw console.error("Failed to add timesheet:",n),n}},updateTimesheet:async(t,n)=>{try{const a=await wr.updateTimesheet(t,n);r(s=>({timesheets:s.timesheets.map(i=>i.id===t?{...i,...a}:i)})),e().fetchProjects(!0)}catch(a){const s=a?.response?.data?.error||a?.message||"Failed to update timesheet";throw console.error("Error updating timesheet:",s),a}},deleteTimesheet:async t=>{try{await wr.deleteTimesheet(t),r(n=>({timesheets:n.timesheets.filter(a=>a.id!==t)})),e().fetchProjects(!0)}catch(n){throw console.error("Failed to delete timesheet:",n),n}}})),Sx=r=>{if(r.name&&!r.user)return r;const e=r.user||{};return{id:r.id,userId:r.user_id||r.userId||e.id,name:e.name||r.name||"Unknown",email:e.email||r.email||"",role:e.role||r.role||"engineer",roles:e.roles||r.roles||[e.role||r.role||"engineer"],department:r.department||"engineering",phone:r.phone,avatar:e.avatar||r.avatar||"male-01",activeProjects:parseInt(r.activeProjects)||0,totalHoursThisMonth:parseFloat(r.totalHoursThisMonth)||0,joinDate:r.joinDate||new Date().toISOString(),status:r.status||"active",hourlyRate:r.hourlyRate,position:r.position,certifications:r.certifications||[]}},fo=Ic(r=>({teamMembers:[],loading:!1,error:null,fetchTeamMembers:async e=>{try{r({loading:!0,error:null});const t=await wr.getAllTeamMembers(e);let n=[];Array.isArray(t)?n=t:t?.data&&Array.isArray(t.data)?n=t.data:t?.data&&Array.isArray(t.data.data)&&(n=t.data.data);const a=n.map(Sx);r({teamMembers:a,loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch team members";console.error("Error fetching team members:",n),r({error:n,loading:!1})}},addTeamMember:async e=>{try{r({loading:!0,error:null});const t=await wr.createTeamMember(e),n=Sx(t);r(a=>({teamMembers:[...a.teamMembers,n],loading:!1,error:null}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to add team member";throw console.error("Error adding team member:",n),r({error:n,loading:!1}),t}},updateTeamMember:async(e,t)=>{try{r({loading:!0,error:null});const n=await wr.updateTeamMember(e,t),a=Sx(n);r(s=>({teamMembers:s.teamMembers.map(i=>i.id===e?a:i),loading:!1,error:null}))}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update team member";throw console.error("Error updating team member:",a),r({error:a,loading:!1}),n}},deleteTeamMember:async e=>{try{r({loading:!0,error:null}),await wr.deleteTeamMember(e),r(t=>({teamMembers:t.teamMembers.filter(n=>n.id!==e),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to delete team member";console.error("Error deleting team member:",n),r({error:n,loading:!1})}},reactivateTeamMember:async e=>{try{r({loading:!0,error:null});const t=await wr.reactivateTeamMember(e),n=Sx(t.data);r(a=>({teamMembers:a.teamMembers.map(s=>s.id===e?n:s),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to reactivate team member";throw console.error("Error reactivating team member:",n),r({error:n,loading:!1}),t}},getTeamByDepartment:async e=>{try{r({loading:!0,error:null});const t=await wr.getTeamByDepartment(e);let n=[];Array.isArray(t)?n=t:t?.data&&Array.isArray(t.data)?n=t.data:t?.data&&Array.isArray(t.data.data)&&(n=t.data.data);const a=n.map(Sx);r({teamMembers:a,loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch team by department";console.error("Error fetching team by department:",n),r({error:n,loading:!1})}}})),ff=Ic(r=>({clients:[],loading:!1,error:null,fetchClients:async e=>{try{r({loading:!0,error:null});const t=await wr.getAllClients(e);let n=[];Array.isArray(t)?n=t:t?.data?n=Array.isArray(t.data)?t.data:[]:n=[],r({clients:n,loading:!1,error:null})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch clients";console.error("Error fetching clients:",n),r({error:n,clients:[],loading:!1})}},addClient:async e=>{try{r({loading:!0,error:null});const t=await wr.createClient(e);r(s=>({clients:[...s.clients,t],loading:!1,error:null}));const n=await wr.getAllClients();let a=[];Array.isArray(n)?a=n:n?.data&&(a=Array.isArray(n.data)?n.data:[]),r({clients:a,loading:!1,error:null})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to add client";console.error("Error adding client:",n),r({error:n,loading:!1})}},updateClient:async(e,t)=>{try{r({loading:!0,error:null});const n=await wr.updateClient(e,t);r(i=>({clients:i.clients.map(l=>l.id===e?n:l),loading:!1,error:null}));const a=await wr.getAllClients();let s=[];Array.isArray(a)?s=a:a?.data&&(s=Array.isArray(a.data)?a.data:[]),r({clients:s,loading:!1,error:null})}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update client";console.error("Error updating client:",a),r({error:a,loading:!1})}},deleteClient:async e=>{try{r({loading:!0,error:null}),await wr.deleteClient(e),r(a=>({clients:a.clients.filter(s=>s.id!==e),loading:!1,error:null}));const t=await wr.getAllClients();let n=[];Array.isArray(t)?n=t:t?.data&&(n=Array.isArray(t.data)?t.data:[]),r({clients:n,loading:!1,error:null})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to delete client";console.error("Error deleting client:",n),r({error:n,loading:!1})}},updateClientProjectCounts:async e=>{try{if(!(window.__clientStoreState?.clients||[]).find(a=>a.id===e))return;r({loading:!1})}catch(t){console.error("Error updating client project counts:",t)}}})),Vr=ws.forwardRef(({className:r,variant:e="default",padding:t="md",active:n,children:a,...s},i)=>o.jsx("div",{ref:i,className:Cr("bg-white",{"rounded-lg shadow-sm":e==="default","rounded-lg border border-gray-200":e==="bordered","rounded-lg shadow-md":e==="elevated","rounded-2xl shadow-sm border border-gray-100":e==="stat","rounded-2xl shadow-sm border border-gray-100 cursor-pointer transition-all hover:shadow-md hover:scale-[1.02]":e==="clickable","ring-2 ring-primary-500 ring-offset-2":n,"p-0":t==="none","p-3":t==="sm","p-4 md:p-6":t==="md","p-6 md:p-8":t==="lg"},r),...s,children:a}));Vr.displayName="Card";const V1=({className:r,children:e,...t})=>o.jsx("div",{className:Cr("mb-4",r),...t,children:e}),q1=({className:r,children:e,...t})=>o.jsx("h3",{className:Cr("text-lg font-semibold text-gray-900",r),...t,children:e}),G1=({className:r,children:e,...t})=>o.jsx("div",{className:Cr("",r),...t,children:e}),pd=({title:r,value:e,color:t="gray",onClick:n,active:a})=>{const s={gray:"text-gray-900",blue:"text-blue-600",green:"text-green-600",yellow:"text-yellow-600",purple:"text-purple-600",indigo:"text-indigo-600",red:"text-red-600"},i={gray:"ring-gray-500",blue:"ring-blue-500",green:"ring-green-500",yellow:"ring-yellow-500",purple:"ring-purple-500",indigo:"ring-indigo-500",red:"ring-red-500"};return n?o.jsxs("button",{onClick:n,className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${a?`ring-2 ${i[t]} ring-offset-2`:""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:r}),o.jsx("div",{className:`text-3xl font-bold ${s[t]}`,children:e})]}):o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:r}),o.jsx("div",{className:`text-3xl font-bold ${s[t]}`,children:e})]})},J7=({title:r,description:e,action:t,icon:n})=>o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[n&&o.jsx("div",{className:"hidden md:flex text-primary-600",children:n}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:r}),e&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e})]})]}),t&&o.jsx("div",{className:"flex-shrink-0",children:t})]})}),kae={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"},Mw=({src:r,alt:e,size:t="md",className:n=""})=>{const a=kae[t];return r?o.jsx("img",{src:`/assets/avatars/${r}.svg`,alt:e||"Avatar",className:`${a} rounded-full object-cover bg-gray-100 ${n}`,onError:s=>{s.target.style.display="none"}}):o.jsx("div",{className:`${a} rounded-full bg-primary-100 flex items-center justify-center ${n}`,children:o.jsx($l,{className:"w-1/2 h-1/2 text-primary-600"})})};class Fae{async getProjectTeam(e){return(await tt.get(`/projects/${e}/team`)).data}async addTeamMember(e,t,n="engineer"){return(await tt.post(`/projects/${e}/team`,{teamMemberId:t,role:n})).data}async updateTeamMemberRole(e,t,n){await tt.put(`/projects/${e}/team/${t}`,{role:n})}async removeTeamMember(e,t){await tt.delete(`/projects/${e}/team/${t}`)}async getAllTeamAssignments(){return(await tt.get("/projects/team-assignments")).data}}const vp=new Fae,E_=({isOpen:r,onClose:e,project:t})=>{const[n,a]=B.useState([]),[s,i]=B.useState(!1);B.useEffect(()=>{t?.id&&l()},[t?.id]);const l=async()=>{if(t?.id)try{i(!0);const h=await vp.getProjectTeam(t.id);a(h)}catch(h){console.error("Error loading team:",h)}finally{i(!1)}};if(!r||!t)return null;const c=h=>{const p="px-4 py-2 rounded-lg font-semibold text-sm";switch(h){case"pre-lim":return o.jsx("span",{className:`${p} bg-blue-100 text-blue-800`,children:"Preliminary"});case"ongoing":return o.jsx("span",{className:`${p} bg-green-100 text-green-800`,children:"Ongoing"});case"completed":return o.jsx("span",{className:`${p} bg-gray-100 text-gray-800`,children:"Completed"});case"on-hold":return o.jsx("span",{className:`${p} bg-yellow-100 text-yellow-800`,children:"On Hold"});case"open":return o.jsx("span",{className:`${p} bg-purple-100 text-purple-800`,children:"Open"});case"closed":return o.jsx("span",{className:`${p} bg-red-100 text-red-800`,children:"Closed"});default:return o.jsx("span",{className:`${p} bg-gray-100 text-gray-800`,children:h})}},u=t.plannedHours>0?Math.round((t.actualHours||0)/t.plannedHours*100):0,A=(t.actualHours||0)>t.plannedHours;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col shadow-xl",children:[o.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 px-6 py-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:t.projectCode}),o.jsx("p",{className:"text-primary-100 text-sm mt-1",children:t.title})]}),o.jsx("button",{onClick:e,className:"text-white hover:bg-primary-800 p-1 rounded transition-colors",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-3",children:"Status"}),o.jsx("div",{className:"flex items-center justify-center py-2",children:c(t.status)})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Hours Progress"}),o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:t.actualHours||0}),o.jsxs("span",{className:"text-sm text-gray-500",children:["of ",t.plannedHours," hrs"]})]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full ${A?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min(u,100)}%`}})}),o.jsx("p",{className:`text-xs mt-2 font-medium ${A?"text-red-600":"text-green-600"}`,children:A?o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ls,{className:"w-3 h-3"}),(t.actualHours||0)-t.plannedHours," hrs over budget"]}):o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(za,{className:"w-3 h-3"}),u,"% complete"]})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Billing Type"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.billingType==="lump_sum"?o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-500"}),"Lump Sum (Fixed Amount)"]}):o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Hourly Rate"]})})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Company"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.companyName||o.jsx("span",{className:"text-gray-400 italic",children:"Not assigned"})})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Lead Engineer"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.engineerName||o.jsx("span",{className:"text-gray-400 italic",children:"Not assigned"})})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsxs("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1 flex items-center gap-1",children:[o.jsx(so,{className:"w-3 h-3"}),"Start Date"]}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(t.startDate).toLocaleDateString()})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsxs("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1 flex items-center gap-1",children:[o.jsx(so,{className:"w-3 h-3"}),"End Date"]}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.endDate?new Date(t.endDate).toLocaleDateString():"Not set"})]})]}),t.description&&o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-2",children:"Description"}),o.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:t.description})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsxs("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-4 flex items-center gap-1",children:[o.jsx(Su,{className:"w-4 h-4"}),"Project Team (",n.length," members)"]}),s?o.jsx("div",{className:"flex justify-center py-4",children:o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"})}):n.length>0?o.jsx("div",{className:"space-y-3",children:n.map(h=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Mw,{src:h.avatar,alt:h.name,size:"sm"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-gray-900",children:h.name}),h.role==="lead_engineer"&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-primary-600 bg-primary-50 px-2 py-0.5 rounded",children:[o.jsx(s7,{className:"w-3 h-3"}),"Lead"]})]}),o.jsx("span",{className:"text-sm text-gray-500",children:h.email})]})]},h.id))}):o.jsx("p",{className:"text-sm text-gray-500 italic",children:"No team members assigned yet"})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsxs("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-4 flex items-center gap-1",children:[o.jsx(ho,{className:"w-4 h-4"}),"Hours Overview"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Planned Hours"}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[t.plannedHours," hrs"]})]}),o.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Actual Hours"}),o.jsxs("span",{className:`font-semibold ${A?"text-red-600":"text-green-600"}`,children:[t.actualHours," hrs"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Variance"}),o.jsxs("span",{className:`font-semibold ${A?"text-red-600":"text-green-600"}`,children:[A?"+":"",(t.actualHours||0)-t.plannedHours," hrs"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Project Code"}),o.jsx("p",{className:"text-sm font-mono font-medium text-gray-900",children:t.projectCode})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Created"}),o.jsx("p",{className:"text-sm text-gray-900",children:new Date(t.createdDate||new Date).toLocaleDateString()})]})]})]}),o.jsx("div",{className:"border-t border-gray-200 px-6 py-4 flex justify-end gap-3",children:o.jsx(Ut,{variant:"outline",onClick:e,children:"Close"})})]})})},Oae=({isOpen:r,onClose:e,teamMemberId:t,teamMemberName:n})=>{const{projects:a}=os(),{clients:s}=ff(),i=B.useMemo(()=>t?a.filter(p=>p.engineerId===t):[],[t,a]),l=B.useMemo(()=>i.filter(p=>p.status==="ongoing"),[i]),c=B.useMemo(()=>i.filter(p=>p.status==="completed"),[i]),u=B.useMemo(()=>i.filter(p=>p.status==="pre-lim"),[i]),A=B.useMemo(()=>{const p=i.reduce((g,v)=>g+(v.actualHours||0),0),m=i.reduce((g,v)=>g+v.plannedHours,0),y=m>0?p/m*100:0;return{totalProjects:i.length,activeProjects:l.length,completedProjects:c.length,totalHours:p,totalPlannedHours:m,totalHoursUtilization:y}},[i,l,c]);if(!r)return null;const h=({project:p,status:m})=>{const y=s.find(b=>b.id===p.companyId),g=p.plannedHours>0?p.actualHours/p.plannedHours*100:0,v={active:{bg:"bg-blue-50",text:"text-blue-700"},completed:{bg:"bg-emerald-50",text:"text-emerald-700"},preLim:{bg:"bg-amber-50",text:"text-amber-700"}};return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:o.jsx("span",{className:"inline-block px-2.5 py-1 rounded text-xs font-semibold bg-cyan-50 text-primary-600",children:p.projectCode})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("div",{children:o.jsx("p",{className:"font-medium text-gray-900 truncate",children:p.title})})}),o.jsx("td",{className:"px-4 py-3 text-gray-700 text-sm",children:y?.name||"Unknown"}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-1.5 overflow-hidden",children:o.jsx("div",{className:`h-1.5 rounded-full transition-all ${(p.actualHours||0)>p.plannedHours?"bg-red-500":"bg-primary-600"}`,style:{width:`${Math.min(g,100)}%`}})}),o.jsxs("span",{className:`font-semibold w-6 text-right text-xs ${(p.actualHours||0)>p.plannedHours?"text-red-600":"text-gray-900"}`,children:[g.toFixed(0),"%"]})]})}),o.jsxs("td",{className:"px-4 py-3 text-right whitespace-nowrap",children:[o.jsx("span",{className:"font-medium text-gray-900",children:p.actualHours}),o.jsx("span",{className:"text-gray-400 mx-1",children:"/"}),o.jsx("span",{className:"text-gray-500",children:p.plannedHours})]}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded text-xs font-semibold ${v[m].bg} ${v[m].text}`,children:m==="active"?"Ongoing":m==="completed"?"Completed":"Preliminary"})})]},p.id)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 transition-opacity",onClick:e}),o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto flex items-center justify-center pl-64",children:o.jsx("div",{className:"flex items-center justify-center w-full px-4 max-w-5xl",children:o.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full max-h-[85vh] overflow-y-auto",onClick:p=>p.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(Su,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n}),o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Project assignments and progress"})]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-lg",children:o.jsx(Fr,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-blue-600 uppercase tracking-wide",children:"Total Projects"}),o.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-2",children:A.totalProjects})]}),o.jsx(Nu,{className:"w-8 h-8 text-blue-300"})]})}),o.jsx("div",{className:"bg-cyan-50 rounded-lg p-4 border border-cyan-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-cyan-600 uppercase tracking-wide",children:"Active"}),o.jsx("p",{className:"text-2xl font-bold text-cyan-900 mt-2",children:A.activeProjects})]}),o.jsx(ate,{className:"w-8 h-8 text-cyan-300"})]})}),o.jsx("div",{className:"bg-emerald-50 rounded-lg p-4 border border-emerald-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-emerald-600 uppercase tracking-wide",children:"Completed"}),o.jsx("p",{className:"text-2xl font-bold text-emerald-900 mt-2",children:A.completedProjects})]}),o.jsx(Nu,{className:"w-8 h-8 text-emerald-300"})]})}),o.jsx("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-purple-600 uppercase tracking-wide",children:"Hours Logged"}),o.jsx("p",{className:"text-2xl font-bold text-purple-900 mt-2",children:A.totalHours})]}),o.jsx(ho,{className:"w-8 h-8 text-purple-300"})]})})]}),l.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Active Projects (",l.length,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Code"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Project"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Client"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Progress"}),o.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-700 text-xs",children:"Hours"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map(p=>o.jsx(h,{project:p,status:"active"},p.id))})]})})]}),c.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Completed Projects (",c.length,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Code"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Project"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Client"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Progress"}),o.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-700 text-xs",children:"Hours"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:c.map(p=>o.jsx(h,{project:p,status:"completed"},p.id))})]})})]}),u.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-amber-500 rounded-full"}),"Preliminary Projects (",u.length,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Code"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Project"}),o.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 text-xs",children:"Client"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Progress"}),o.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-700 text-xs",children:"Hours"}),o.jsx("th",{className:"px-4 py-2 text-center font-semibold text-gray-700 text-xs",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(p=>o.jsx(h,{project:p,status:"preLim"},p.id))})]})})]}),i.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Nu,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No projects assigned"})]})]}),o.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:o.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-100 text-gray-900 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Close"})})]})})})]})};var lS={},cS={},z6;function Dae(){return z6||(z6=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}r.isUnsafeProperty=e})(cS)),cS}var uS={},K6;function Z7(){return K6||(K6=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}r.isDeepKey=e})(uS)),uS}var dS={},$6;function eQ(){return $6||($6=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="string"||typeof t=="symbol"?t:Object.is(t?.valueOf?.(),-0)?"-0":String(t)}r.toKey=e})(dS)),dS}var AS={},V6;function j_(){return V6||(V6=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){const n=[],a=t.length;if(a===0)return n;let s=0,i="",l="",c=!1;for(t.charCodeAt(0)===46&&(n.push(""),s++);s<a;){const u=t[s];l?u==="\\"&&s+1<a?(s++,i+=t[s]):u===l?l="":i+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(i),i=""):i+=u:u==="["?(c=!0,i&&(n.push(i),i="")):u==="."?i&&(n.push(i),i=""):i+=u,s++}return i&&n.push(i),n}r.toPath=e})(AS)),AS}var q6;function __(){return q6||(q6=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Dae(),t=Z7(),n=eQ(),a=j_();function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return u;const A=l[c];return A===void 0?t.isDeepKey(c)?s(l,a.toPath(c),u):u:A}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const A=l[c];return A===void 0?u:A}default:{if(Array.isArray(c))return i(l,c,u);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return u;const A=l[c];return A===void 0?u:A}}}function i(l,c,u){if(c.length===0)return u;let A=l;for(let h=0;h<c.length;h++){if(A==null||e.isUnsafeProperty(c[h]))return u;A=A[c[h]]}return A===void 0?u:A}r.get=s})(lS)),lS}var hS,G6;function Pae(){return G6||(G6=1,hS=__().get),hS}var Iae=Pae();const F0=Pc(Iae);var fS={exports:{}},Jn={};var W6;function Lae(){if(W6)return Jn;W6=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function y(g){if(typeof g=="object"&&g!==null){var v=g.$$typeof;switch(v){case r:switch(g=g.type,g){case t:case a:case n:case c:case u:case p:return g;default:switch(g=g&&g.$$typeof,g){case i:case l:case h:case A:return g;case s:return g;default:return v}}case e:return v}}}return Jn.ContextConsumer=s,Jn.ContextProvider=i,Jn.Element=r,Jn.ForwardRef=l,Jn.Fragment=t,Jn.Lazy=h,Jn.Memo=A,Jn.Portal=e,Jn.Profiler=a,Jn.StrictMode=n,Jn.Suspense=c,Jn.SuspenseList=u,Jn.isContextConsumer=function(g){return y(g)===s},Jn.isContextProvider=function(g){return y(g)===i},Jn.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===r},Jn.isForwardRef=function(g){return y(g)===l},Jn.isFragment=function(g){return y(g)===t},Jn.isLazy=function(g){return y(g)===h},Jn.isMemo=function(g){return y(g)===A},Jn.isPortal=function(g){return y(g)===e},Jn.isProfiler=function(g){return y(g)===a},Jn.isStrictMode=function(g){return y(g)===n},Jn.isSuspense=function(g){return y(g)===c},Jn.isSuspenseList=function(g){return y(g)===u},Jn.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===t||g===a||g===n||g===c||g===u||typeof g=="object"&&g!==null&&(g.$$typeof===h||g.$$typeof===A||g.$$typeof===i||g.$$typeof===s||g.$$typeof===l||g.$$typeof===m||g.getModuleId!==void 0)},Jn.typeOf=y,Jn}var Y6;function Mae(){return Y6||(Y6=1,fS.exports=Lae()),fS.exports}var Rae=Mae(),gi=r=>r===0?0:r>0?1:-1,Gl=r=>typeof r=="number"&&r!=+r,d0=r=>typeof r=="string"&&r.indexOf("%")===r.length-1,xr=r=>(typeof r=="number"||r instanceof Number)&&!Gl(r),Cd=r=>xr(r)||typeof r=="string",Uae=0,Sy=r=>{var e=++Uae;return"".concat(r||"").concat(e)},co=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xr(e)&&typeof e!="string")return n;var s;if(d0(e)){if(t==null)return n;var i=e.indexOf("%");s=t*parseFloat(e.slice(0,i))/100}else s=+e;return Gl(s)&&(s=n),a&&t!=null&&s>t&&(s=t),s},tQ=r=>{if(!Array.isArray(r))return!1;for(var e=r.length,t={},n=0;n<e;n++)if(!t[r[n]])t[r[n]]=!0;else return!0;return!1};function Qi(r,e,t){return xr(r)&&xr(e)?r+t*(e-r):e}function Qae(r,e,t){if(!(!r||!r.length))return r.find(n=>n&&(typeof e=="function"?e(n):F0(n,e))===t)}var wi=r=>r===null||typeof r>"u",uv=r=>wi(r)?r:"".concat(r.charAt(0).toUpperCase()).concat(r.slice(1)),Hae=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function T_(r){if(typeof r!="string")return!1;var e=Hae;return e.includes(r)}var zae=["viewBox","children"],X6=["points","pathLength"],mS={svg:zae,polygon:X6,polyline:X6},Kae=(r,e)=>{if(!r||typeof r=="function"||typeof r=="boolean")return null;var t=r;if(B.isValidElement(r)&&(t=r.props),typeof t!="object"&&typeof t!="function")return null;var n={};return Object.keys(t).forEach(a=>{T_(a)&&(n[a]=(s=>t[a](t,s)))}),n},$ae=(r,e,t)=>n=>(r(e,t,n),null),dv=(r,e,t)=>{if(r===null||typeof r!="object"&&typeof r!="function")return null;var n=null;return Object.keys(r).forEach(a=>{var s=r[a];T_(a)&&typeof s=="function"&&(n||(n={}),n[a]=$ae(s,e,t))}),n},Vae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function rQ(r){if(typeof r!="string")return!1;var e=Vae;return e.includes(r)}function mf(r){var e=Object.entries(r).filter(t=>{var[n]=t;return rQ(n)});return Object.fromEntries(e)}var J6=r=>typeof r=="string"?r:r?r.displayName||r.name||"Component":"",Z6=null,pS=null,nQ=r=>{if(r===Z6&&Array.isArray(pS))return pS;var e=[];return B.Children.forEach(r,t=>{wi(t)||(Rae.isFragment(t)?e=e.concat(nQ(t.props.children)):e.push(t))}),pS=e,Z6=r,e};function k_(r,e){var t=[],n=[];return Array.isArray(e)?n=e.map(a=>J6(a)):n=[J6(e)],nQ(r).forEach(a=>{var s=F0(a,"type.displayName")||F0(a,"type.name");n.indexOf(s)!==-1&&t.push(a)}),t}var qae=(r,e,t,n)=>{var a;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(a=n&&mS?.[n])!==null&&a!==void 0?a:[],i=e.startsWith("data-"),l=typeof r!="function"&&(!!n&&s.includes(e)||rQ(e)),c=!!t&&T_(e);return i||l||c},ti=(r,e,t)=>{if(!r||typeof r=="function"||typeof r=="boolean")return null;var n=r;if(B.isValidElement(r)&&(n=r.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(s=>{var i;qae((i=n)===null||i===void 0?void 0:i[s],s,e,t)&&(a[s]=n[s])}),a},Gae=["children","width","height","viewBox","className","style","title","desc"];function hj(){return hj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},hj.apply(null,arguments)}function Wae(r,e){if(r==null)return{};var t,n,a=Yae(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Yae(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var F_=B.forwardRef((r,e)=>{var{children:t,width:n,height:a,viewBox:s,className:i,style:l,title:c,desc:u}=r,A=Wae(r,Gae),h=s||{width:n,height:a,x:0,y:0},p=An("recharts-surface",i);return B.createElement("svg",hj({},ti(A,!0,"svg"),{className:p,width:n,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),B.createElement("title",null,c),B.createElement("desc",null,u),t)}),Xae=["children","className"];function fj(){return fj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},fj.apply(null,arguments)}function Jae(r,e){if(r==null)return{};var t,n,a=Zae(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Zae(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Al=B.forwardRef((r,e)=>{var{children:t,className:n}=r,a=Jae(r,Xae),s=An("recharts-layer",n);return B.createElement("g",fj({className:s},ti(a,!0),{ref:e}),t)}),aQ=B.createContext(null),ese=()=>B.useContext(aQ);function ua(r){return function(){return r}}const sQ=Math.cos,Rw=Math.sin,ku=Math.sqrt,Uw=Math.PI,vC=2*Uw,mj=Math.PI,pj=2*mj,Zf=1e-6,tse=pj-Zf;function iQ(r){this._+=r[0];for(let e=1,t=r.length;e<t;++e)this._+=arguments[e]+r[e]}function rse(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return iQ;const t=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*t)/t+n[a]}}class nse{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?iQ:rse(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,a){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,t,n,a,s,i){this._append`C${+e},${+t},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(e,t,n,a,s){if(e=+e,t=+t,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-e,u=a-t,A=i-e,h=l-t,p=A*A+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(p>Zf)if(!(Math.abs(h*c-u*A)>Zf)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let m=n-i,y=a-l,g=c*c+u*u,v=m*m+y*y,b=Math.sqrt(g),N=Math.sqrt(p),C=s*Math.tan((mj-Math.acos((g+p-v)/(2*b*N)))/2),E=C/N,_=C/b;Math.abs(E-1)>Zf&&this._append`L${e+E*A},${t+E*h}`,this._append`A${s},${s},0,0,${+(h*m>A*y)},${this._x1=e+_*c},${this._y1=t+_*u}`}}arc(e,t,n,a,s,i){if(e=+e,t=+t,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,A=t+c,h=1^i,p=i?a-s:s-a;this._x1===null?this._append`M${u},${A}`:(Math.abs(this._x1-u)>Zf||Math.abs(this._y1-A)>Zf)&&this._append`L${u},${A}`,n&&(p<0&&(p=p%pj+pj),p>tse?this._append`A${n},${n},0,1,${h},${e-l},${t-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=A}`:p>Zf&&this._append`A${n},${n},0,${+(p>=mj)},${h},${this._x1=e+n*Math.cos(s)},${this._y1=t+n*Math.sin(s)}`)}rect(e,t,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function O_(r){let e=3;return r.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);e=n}return r},()=>new nse(e)}function D_(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function oQ(r){this._context=r}oQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e);break}}};function bC(r){return new oQ(r)}function lQ(r){return r[0]}function cQ(r){return r[1]}function uQ(r,e){var t=ua(!0),n=null,a=bC,s=null,i=O_(l);r=typeof r=="function"?r:r===void 0?lQ:ua(r),e=typeof e=="function"?e:e===void 0?cQ:ua(e);function l(c){var u,A=(c=D_(c)).length,h,p=!1,m;for(n==null&&(s=a(m=i())),u=0;u<=A;++u)!(u<A&&t(h=c[u],u,c))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+r(h,u,c),+e(h,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(r=typeof c=="function"?c:ua(+c),l):r},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:ua(+c),l):e},l.defined=function(c){return arguments.length?(t=typeof c=="function"?c:ua(!!c),l):t},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function W1(r,e,t){var n=null,a=ua(!0),s=null,i=bC,l=null,c=O_(u);r=typeof r=="function"?r:r===void 0?lQ:ua(+r),e=typeof e=="function"?e:ua(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?cQ:ua(+t);function u(h){var p,m,y,g=(h=D_(h)).length,v,b=!1,N,C=new Array(g),E=new Array(g);for(s==null&&(l=i(N=c())),p=0;p<=g;++p){if(!(p<g&&a(v=h[p],p,h))===b)if(b=!b)m=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=p-1;y>=m;--y)l.point(C[y],E[y]);l.lineEnd(),l.areaEnd()}b&&(C[p]=+r(v,p,h),E[p]=+e(v,p,h),l.point(n?+n(v,p,h):C[p],t?+t(v,p,h):E[p]))}if(N)return l=null,N+""||null}function A(){return uQ().defined(a).curve(i).context(s)}return u.x=function(h){return arguments.length?(r=typeof h=="function"?h:ua(+h),n=null,u):r},u.x0=function(h){return arguments.length?(r=typeof h=="function"?h:ua(+h),u):r},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:ua(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:ua(+h),t=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:ua(+h),u):e},u.y1=function(h){return arguments.length?(t=h==null?null:typeof h=="function"?h:ua(+h),u):t},u.lineX0=u.lineY0=function(){return A().x(r).y(e)},u.lineY1=function(){return A().x(r).y(t)},u.lineX1=function(){return A().x(n).y(e)},u.defined=function(h){return arguments.length?(a=typeof h=="function"?h:ua(!!h),u):a},u.curve=function(h){return arguments.length?(i=h,s!=null&&(l=i(s)),u):i},u.context=function(h){return arguments.length?(h==null?s=l=null:l=i(s=h),u):s},u}class dQ{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function ase(r){return new dQ(r,!0)}function sse(r){return new dQ(r,!1)}const P_={draw(r,e){const t=ku(e/Uw);r.moveTo(t,0),r.arc(0,0,t,0,vC)}},ise={draw(r,e){const t=ku(e/5)/2;r.moveTo(-3*t,-t),r.lineTo(-t,-t),r.lineTo(-t,-3*t),r.lineTo(t,-3*t),r.lineTo(t,-t),r.lineTo(3*t,-t),r.lineTo(3*t,t),r.lineTo(t,t),r.lineTo(t,3*t),r.lineTo(-t,3*t),r.lineTo(-t,t),r.lineTo(-3*t,t),r.closePath()}},AQ=ku(1/3),ose=AQ*2,lse={draw(r,e){const t=ku(e/ose),n=t*AQ;r.moveTo(0,-t),r.lineTo(n,0),r.lineTo(0,t),r.lineTo(-n,0),r.closePath()}},cse={draw(r,e){const t=ku(e),n=-t/2;r.rect(n,n,t,t)}},use=.8908130915292852,hQ=Rw(Uw/10)/Rw(7*Uw/10),dse=Rw(vC/10)*hQ,Ase=-sQ(vC/10)*hQ,hse={draw(r,e){const t=ku(e*use),n=dse*t,a=Ase*t;r.moveTo(0,-t),r.lineTo(n,a);for(let s=1;s<5;++s){const i=vC*s/5,l=sQ(i),c=Rw(i);r.lineTo(c*t,-l*t),r.lineTo(l*n-c*a,c*n+l*a)}r.closePath()}},gS=ku(3),fse={draw(r,e){const t=-ku(e/(gS*3));r.moveTo(0,t*2),r.lineTo(-gS*t,-t),r.lineTo(gS*t,-t),r.closePath()}},gc=-.5,xc=ku(3)/2,gj=1/ku(12),mse=(gj/2+1)*3,pse={draw(r,e){const t=ku(e/mse),n=t/2,a=t*gj,s=n,i=t*gj+t,l=-s,c=i;r.moveTo(n,a),r.lineTo(s,i),r.lineTo(l,c),r.lineTo(gc*n-xc*a,xc*n+gc*a),r.lineTo(gc*s-xc*i,xc*s+gc*i),r.lineTo(gc*l-xc*c,xc*l+gc*c),r.lineTo(gc*n+xc*a,gc*a-xc*n),r.lineTo(gc*s+xc*i,gc*i-xc*s),r.lineTo(gc*l+xc*c,gc*c-xc*l),r.closePath()}};function gse(r,e){let t=null,n=O_(a);r=typeof r=="function"?r:ua(r||P_),e=typeof e=="function"?e:ua(e===void 0?64:+e);function a(){let s;if(t||(t=s=n()),r.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return a.type=function(s){return arguments.length?(r=typeof s=="function"?s:ua(s),a):r},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:ua(+s),a):e},a.context=function(s){return arguments.length?(t=s??null,a):t},a}function Qw(){}function Hw(r,e,t){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+e)/6,(r._y0+4*r._y1+t)/6)}function fQ(r){this._context=r}fQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hw(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function xse(r){return new fQ(r)}function mQ(r){this._context=r}mQ.prototype={areaStart:Qw,areaEnd:Qw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._x2=r,this._y2=e;break;case 1:this._point=2,this._x3=r,this._y3=e;break;case 2:this._point=3,this._x4=r,this._y4=e,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+e)/6);break;default:Hw(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function yse(r){return new mQ(r)}function pQ(r){this._context=r}pQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+r)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 3:this._point=4;default:Hw(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function vse(r){return new pQ(r)}function gQ(r){this._context=r}gQ.prototype={areaStart:Qw,areaEnd:Qw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,e){r=+r,e=+e,this._point?this._context.lineTo(r,e):(this._point=1,this._context.moveTo(r,e))}};function bse(r){return new gQ(r)}function eD(r){return r<0?-1:1}function tD(r,e,t){var n=r._x1-r._x0,a=e-r._x1,s=(r._y1-r._y0)/(n||a<0&&-0),i=(t-r._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(eD(s)+eD(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function rD(r,e){var t=r._x1-r._x0;return t?(3*(r._y1-r._y0)/t-e)/2:e}function xS(r,e,t){var n=r._x0,a=r._y0,s=r._x1,i=r._y1,l=(s-n)/3;r._context.bezierCurveTo(n+l,a+l*e,s-l,i-l*t,s,i)}function zw(r){this._context=r}zw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xS(this,this._t0,rD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){var t=NaN;if(r=+r,e=+e,!(r===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,xS(this,rD(this,t=tD(this,r,e)),t);break;default:xS(this,this._t0,t=tD(this,r,e));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e,this._t0=t}}};function xQ(r){this._context=new yQ(r)}(xQ.prototype=Object.create(zw.prototype)).point=function(r,e){zw.prototype.point.call(this,e,r)};function yQ(r){this._context=r}yQ.prototype={moveTo:function(r,e){this._context.moveTo(e,r)},closePath:function(){this._context.closePath()},lineTo:function(r,e){this._context.lineTo(e,r)},bezierCurveTo:function(r,e,t,n,a,s){this._context.bezierCurveTo(e,r,n,t,s,a)}};function wse(r){return new zw(r)}function Cse(r){return new xQ(r)}function vQ(r){this._context=r}vQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,e=this._y,t=r.length;if(t)if(this._line?this._context.lineTo(r[0],e[0]):this._context.moveTo(r[0],e[0]),t===2)this._context.lineTo(r[1],e[1]);else for(var n=nD(r),a=nD(e),s=0,i=1;i<t;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],r[i],e[i]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,e){this._x.push(+r),this._y.push(+e)}};function nD(r){var e,t=r.length-1,n,a=new Array(t),s=new Array(t),i=new Array(t);for(a[0]=0,s[0]=2,i[0]=r[0]+2*r[1],e=1;e<t-1;++e)a[e]=1,s[e]=4,i[e]=4*r[e]+2*r[e+1];for(a[t-1]=2,s[t-1]=7,i[t-1]=8*r[t-1]+r[t],e=1;e<t;++e)n=a[e]/s[e-1],s[e]-=n,i[e]-=n*i[e-1];for(a[t-1]=i[t-1]/s[t-1],e=t-2;e>=0;--e)a[e]=(i[e]-a[e+1])/s[e];for(s[t-1]=(r[t]+a[t-1])/2,e=0;e<t-1;++e)s[e]=2*r[e+1]-a[e+1];return[a,s]}function Nse(r){return new vQ(r)}function wC(r,e){this._context=r,this._t=e}wC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(r,e);else{var t=this._x*(1-this._t)+r*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=r,this._y=e}};function Sse(r){return new wC(r,.5)}function Bse(r){return new wC(r,0)}function Ese(r){return new wC(r,1)}function Wp(r,e){if((i=r.length)>1)for(var t=1,n,a,s=r[e[0]],i,l=s.length;t<i;++t)for(a=s,s=r[e[t]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function xj(r){for(var e=r.length,t=new Array(e);--e>=0;)t[e]=e;return t}function jse(r,e){return r[e]}function _se(r){const e=[];return e.key=r,e}function Tse(){var r=ua([]),e=xj,t=Wp,n=jse;function a(s){var i=Array.from(r.apply(this,arguments),_se),l,c=i.length,u=-1,A;for(const h of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(h,i[l].key,u,s)]).data=h;for(l=0,A=D_(e(i));l<c;++l)i[A[l]].index=l;return t(i,A),i}return a.keys=function(s){return arguments.length?(r=typeof s=="function"?s:ua(Array.from(s)),a):r},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:ua(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?xj:typeof s=="function"?s:ua(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(t=s??Wp,a):t},a}function kse(r,e){if((n=r.length)>0){for(var t,n,a=0,s=r[0].length,i;a<s;++a){for(i=t=0;t<n;++t)i+=r[t][a][1]||0;if(i)for(t=0;t<n;++t)r[t][a][1]/=i}Wp(r,e)}}function Fse(r,e){if((a=r.length)>0){for(var t=0,n=r[e[0]],a,s=n.length;t<s;++t){for(var i=0,l=0;i<a;++i)l+=r[i][t][1]||0;n[t][1]+=n[t][0]=-l/2}Wp(r,e)}}function Ose(r,e){if(!(!((i=r.length)>0)||!((s=(a=r[e[0]]).length)>0))){for(var t=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var A=r[e[l]],h=A[n][1]||0,p=A[n-1][1]||0,m=(h-p)/2,y=0;y<l;++y){var g=r[e[y]],v=g[n][1]||0,b=g[n-1][1]||0;m+=v-b}c+=h,u+=m*h}a[n-1][1]+=a[n-1][0]=t,c&&(t-=u/c)}a[n-1][1]+=a[n-1][0]=t,Wp(r,e)}}var Dse=["type","size","sizeType"];function yj(){return yj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},yj.apply(null,arguments)}function aD(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function sD(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(t),!0).forEach(function(n){Pse(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):aD(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Pse(r,e,t){return(e=Ise(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ise(r){var e=Lse(r,"string");return typeof e=="symbol"?e:e+""}function Lse(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Mse(r,e){if(r==null)return{};var t,n,a=Rse(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Rse(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var bQ={symbolCircle:P_,symbolCross:ise,symbolDiamond:lse,symbolSquare:cse,symbolStar:hse,symbolTriangle:fse,symbolWye:pse},Use=Math.PI/180,Qse=r=>{var e="symbol".concat(uv(r));return bQ[e]||P_},Hse=(r,e,t)=>{if(e==="area")return r;switch(t){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var n=18*Use;return 1.25*r*r*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},zse=(r,e)=>{bQ["symbol".concat(uv(r))]=e},I_=r=>{var{type:e="circle",size:t=64,sizeType:n="area"}=r,a=Mse(r,Dse),s=sD(sD({},a),{},{type:e,size:t,sizeType:n}),i="circle";typeof e=="string"&&(i=e);var l=()=>{var p=Qse(i),m=gse().type(p).size(Hse(t,n,i));return m()},{className:c,cx:u,cy:A}=s,h=ti(s,!0);return u===+u&&A===+A&&t===+t?B.createElement("path",yj({},h,{className:An("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(A,")"),d:l()})):null};I_.registerSymbol=zse;function vj(){return vj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},vj.apply(null,arguments)}function iD(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Kse(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(t),!0).forEach(function(n){L_(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):iD(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function L_(r,e,t){return(e=$se(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function $se(r){var e=Vse(r,"string");return typeof e=="symbol"?e:e+""}function Vse(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var yc=32;class M_ extends B.PureComponent{renderIcon(e,t){var{inactiveColor:n}=this.props,a=yc/2,s=yc/6,i=yc/3,l=e.inactive?n:e.color,c=t??e.type;if(c==="none")return null;if(c==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:yc,y2:a,className:"recharts-legend-icon"});if(c==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(yc,"M").concat(2*i,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return B.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(yc/8,"h").concat(yc,"v").concat(yc*3/4,"h").concat(-yc,"z"),className:"recharts-legend-icon"});if(B.isValidElement(e.legendIcon)){var u=Kse({},e);return delete u.legendIcon,B.cloneElement(e.legendIcon,u)}return B.createElement(I_,{fill:l,cx:a,cy:a,size:yc,sizeType:"diameter",type:c})}renderItems(){var{payload:e,iconSize:t,layout:n,formatter:a,inactiveColor:s,iconType:i}=this.props,l={x:0,y:0,width:yc,height:yc},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((A,h)=>{var p=A.formatter||a,m=An({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:A.inactive});if(A.type==="none")return null;var y=A.inactive?s:A.color,g=p?p(A.value,A,h):A.value;return B.createElement("li",vj({className:m,style:c,key:"legend-item-".concat(h)},dv(this.props,A,h)),B.createElement(F_,{width:t,height:t,viewBox:l,style:u,"aria-label":"".concat(g," legend icon")},this.renderIcon(A,i)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g))})}render(){var{payload:e,layout:t,align:n}=this.props;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:t==="horizontal"?n:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}L_(M_,"displayName","Legend");L_(M_,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var yS={},vS={},oD;function qse(){return oD||(oD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n){const a=new Map;for(let s=0;s<t.length;s++){const i=t[s],l=n(i);a.has(l)||a.set(l,i)}return Array.from(a.values())}r.uniqBy=e})(vS)),vS}var bS={},lD;function wQ(){return lD||(lD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t}r.identity=e})(bS)),bS}var wS={},CS={},NS={},cD;function Gse(){return cD||(cD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}r.isLength=e})(NS)),NS}var uD;function R_(){return uD||(uD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Gse();function t(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}r.isArrayLike=t})(CS)),CS}var SS={},dD;function Wse(){return dD||(dD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}r.isObjectLike=e})(SS)),SS}var AD;function Yse(){return AD||(AD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=R_(),t=Wse();function n(a){return t.isObjectLike(a)&&e.isArrayLike(a)}r.isArrayLikeObject=n})(wS)),wS}var BS={},ES={},hD;function Xse(){return hD||(hD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=__();function t(n){return function(a){return e.get(a,n)}}r.property=t})(ES)),ES}var jS={},_S={},TS={},kS={},fD;function CQ(){return fD||(fD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}r.isObject=e})(kS)),kS}var FS={},mD;function NQ(){return mD||(mD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}r.isPrimitive=e})(FS)),FS}var OS={},pD;function SQ(){return pD||(pD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n){return t===n||Number.isNaN(t)&&Number.isNaN(n)}r.eq=e})(OS)),OS}var gD;function Jse(){return gD||(gD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=U_(),t=CQ(),n=NQ(),a=SQ();function s(h,p,m){return typeof m!="function"?e.isMatch(h,p):i(h,p,function y(g,v,b,N,C,E){const _=m(g,v,b,N,C,E);return _!==void 0?!!_:i(g,v,y,E)},new Map)}function i(h,p,m,y){if(p===h)return!0;switch(typeof p){case"object":return l(h,p,m,y);case"function":return Object.keys(p).length>0?i(h,{...p},m,y):a.eq(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:a.eq(h,p)}}function l(h,p,m,y){if(p==null)return!0;if(Array.isArray(p))return u(h,p,m,y);if(p instanceof Map)return c(h,p,m,y);if(p instanceof Set)return A(h,p,m,y);const g=Object.keys(p);if(h==null)return g.length===0;if(g.length===0)return!0;if(y&&y.has(p))return y.get(p)===h;y&&y.set(p,h);try{for(let v=0;v<g.length;v++){const b=g[v];if(!n.isPrimitive(h)&&!(b in h)||p[b]===void 0&&h[b]!==void 0||p[b]===null&&h[b]!==null||!m(h[b],p[b],b,h,p,y))return!1}return!0}finally{y&&y.delete(p)}}function c(h,p,m,y){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[g,v]of p.entries()){const b=h.get(g);if(m(b,v,g,h,p,y)===!1)return!1}return!0}function u(h,p,m,y){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const g=new Set;for(let v=0;v<p.length;v++){const b=p[v];let N=!1;for(let C=0;C<h.length;C++){if(g.has(C))continue;const E=h[C];let _=!1;if(m(E,b,v,h,p,y)&&(_=!0),_){g.add(C),N=!0;break}}if(!N)return!1}return!0}function A(h,p,m,y){return p.size===0?!0:h instanceof Set?u([...h],[...p],m,y):!1}r.isMatchWith=s,r.isSetMatch=A})(TS)),TS}var xD;function U_(){return xD||(xD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Jse();function t(n,a){return e.isMatchWith(n,a,()=>{})}r.isMatch=t})(_S)),_S}var DS={},PS={},IS={},yD;function Zse(){return yD||(yD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(n=>Object.prototype.propertyIsEnumerable.call(t,n))}r.getSymbols=e})(IS)),IS}var LS={},vD;function BQ(){return vD||(vD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}r.getTag=e})(LS)),LS}var MS={},bD;function EQ(){return bD||(bD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",A="[object Array]",h="[object Function]",p="[object ArrayBuffer]",m="[object Object]",y="[object Error]",g="[object DataView]",v="[object Uint8Array]",b="[object Uint8ClampedArray]",N="[object Uint16Array]",C="[object Uint32Array]",E="[object BigUint64Array]",_="[object Int8Array]",P="[object Int16Array]",O="[object Int32Array]",D="[object BigInt64Array]",k="[object Float32Array]",H="[object Float64Array]";r.argumentsTag=s,r.arrayBufferTag=p,r.arrayTag=A,r.bigInt64ArrayTag=D,r.bigUint64ArrayTag=E,r.booleanTag=a,r.dataViewTag=g,r.dateTag=l,r.errorTag=y,r.float32ArrayTag=k,r.float64ArrayTag=H,r.functionTag=h,r.int16ArrayTag=P,r.int32ArrayTag=O,r.int8ArrayTag=_,r.mapTag=c,r.numberTag=n,r.objectTag=m,r.regexpTag=e,r.setTag=u,r.stringTag=t,r.symbolTag=i,r.uint16ArrayTag=N,r.uint32ArrayTag=C,r.uint8ArrayTag=v,r.uint8ClampedArrayTag=b})(MS)),MS}var RS={},wD;function eie(){return wD||(wD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}r.isTypedArray=e})(RS)),RS}var CD;function jQ(){return CD||(CD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Zse(),t=BQ(),n=EQ(),a=NQ(),s=eie();function i(A,h){return l(A,void 0,A,new Map,h)}function l(A,h,p,m=new Map,y=void 0){const g=y?.(A,h,p,m);if(g!==void 0)return g;if(a.isPrimitive(A))return A;if(m.has(A))return m.get(A);if(Array.isArray(A)){const v=new Array(A.length);m.set(A,v);for(let b=0;b<A.length;b++)v[b]=l(A[b],b,p,m,y);return Object.hasOwn(A,"index")&&(v.index=A.index),Object.hasOwn(A,"input")&&(v.input=A.input),v}if(A instanceof Date)return new Date(A.getTime());if(A instanceof RegExp){const v=new RegExp(A.source,A.flags);return v.lastIndex=A.lastIndex,v}if(A instanceof Map){const v=new Map;m.set(A,v);for(const[b,N]of A)v.set(b,l(N,b,p,m,y));return v}if(A instanceof Set){const v=new Set;m.set(A,v);for(const b of A)v.add(l(b,void 0,p,m,y));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(A))return A.subarray();if(s.isTypedArray(A)){const v=new(Object.getPrototypeOf(A)).constructor(A.length);m.set(A,v);for(let b=0;b<A.length;b++)v[b]=l(A[b],b,p,m,y);return v}if(A instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&A instanceof SharedArrayBuffer)return A.slice(0);if(A instanceof DataView){const v=new DataView(A.buffer.slice(0),A.byteOffset,A.byteLength);return m.set(A,v),c(v,A,p,m,y),v}if(typeof File<"u"&&A instanceof File){const v=new File([A],A.name,{type:A.type});return m.set(A,v),c(v,A,p,m,y),v}if(A instanceof Blob){const v=new Blob([A],{type:A.type});return m.set(A,v),c(v,A,p,m,y),v}if(A instanceof Error){const v=new A.constructor;return m.set(A,v),v.message=A.message,v.name=A.name,v.stack=A.stack,v.cause=A.cause,c(v,A,p,m,y),v}if(typeof A=="object"&&u(A)){const v=Object.create(Object.getPrototypeOf(A));return m.set(A,v),c(v,A,p,m,y),v}return A}function c(A,h,p=A,m,y){const g=[...Object.keys(h),...e.getSymbols(h)];for(let v=0;v<g.length;v++){const b=g[v],N=Object.getOwnPropertyDescriptor(A,b);(N==null||N.writable)&&(A[b]=l(h[b],b,p,m,y))}}function u(A){switch(t.getTag(A)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}r.cloneDeepWith=i,r.cloneDeepWithImpl=l,r.copyProperties=c})(PS)),PS}var ND;function tie(){return ND||(ND=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=jQ();function t(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}r.cloneDeep=t})(DS)),DS}var SD;function rie(){return SD||(SD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=U_(),t=tie();function n(a){return a=t.cloneDeep(a),s=>e.isMatch(s,a)}r.matches=n})(jS)),jS}var US={},QS={},HS={},BD;function nie(){return BD||(BD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=jQ(),t=EQ();function n(a,s){return e.cloneDeepWith(a,(i,l,c,u)=>{const A=s?.(i,l,c,u);if(A!==void 0)return A;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case t.numberTag:case t.stringTag:case t.booleanTag:{const h=new a.constructor(a?.valueOf());return e.copyProperties(h,a),h}case t.argumentsTag:{const h={};return e.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}})}r.cloneDeepWith=n})(HS)),HS}var ED;function aie(){return ED||(ED=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=nie();function t(n){return e.cloneDeepWith(n)}r.cloneDeep=t})(QS)),QS}var zS={},KS={},jD;function _Q(){return jD||(jD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return e.test(n)}}r.isIndex=t})(KS)),KS}var $S={},_D;function sie(){return _D||(_D=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=BQ();function t(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}r.isArguments=t})($S)),$S}var TD;function iie(){return TD||(TD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Z7(),t=_Q(),n=sie(),a=j_();function s(i,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&i?.[l]==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=i;for(let A=0;A<c.length;A++){const h=c[A];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||n.isArguments(u))&&t.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}r.has=s})(zS)),zS}var kD;function oie(){return kD||(kD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=U_(),t=eQ(),n=aie(),a=__(),s=iie();function i(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=t.toKey(l);break}}return c=n.cloneDeep(c),function(u){const A=a.get(u,l);return A===void 0?s.has(u,l):c===void 0?A===void 0:e.isMatch(A,c)}}r.matchesProperty=i})(US)),US}var FD;function lie(){return FD||(FD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=wQ(),t=Xse(),n=rie(),a=oie();function s(i){if(i==null)return e.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return t.property(i)}}r.iteratee=s})(BS)),BS}var OD;function cie(){return OD||(OD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=qse(),t=wQ(),n=Yse(),a=lie();function s(i,l=t.identity){return n.isArrayLikeObject(i)?e.uniqBy(Array.from(i),a.iteratee(l)):[]}r.uniqBy=s})(yS)),yS}var VS,DD;function uie(){return DD||(DD=1,VS=cie().uniqBy),VS}var die=uie();const PD=Pc(die);function TQ(r,e,t){return e===!0?PD(r,t):typeof e=="function"?PD(r,e):r}var qS={exports:{}},GS={},WS={exports:{}},YS={};var ID;function Aie(){if(ID)return YS;ID=1;var r=dg();function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var t=typeof Object.is=="function"?Object.is:e,n=r.useState,a=r.useEffect,s=r.useLayoutEffect,i=r.useDebugValue;function l(h,p){var m=p(),y=n({inst:{value:m,getSnapshot:p}}),g=y[0].inst,v=y[1];return s(function(){g.value=m,g.getSnapshot=p,c(g)&&v({inst:g})},[h,m,p]),a(function(){return c(g)&&v({inst:g}),h(function(){c(g)&&v({inst:g})})},[h]),i(m),m}function c(h){var p=h.getSnapshot;h=h.value;try{var m=p();return!t(h,m)}catch{return!0}}function u(h,p){return p()}var A=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return YS.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:A,YS}var LD;function hie(){return LD||(LD=1,WS.exports=Aie()),WS.exports}var MD;function fie(){if(MD)return GS;MD=1;var r=dg(),e=hie();function t(u,A){return u===A&&(u!==0||1/u===1/A)||u!==u&&A!==A}var n=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=r.useRef,i=r.useEffect,l=r.useMemo,c=r.useDebugValue;return GS.useSyncExternalStoreWithSelector=function(u,A,h,p,m){var y=s(null);if(y.current===null){var g={hasValue:!1,value:null};y.current=g}else g=y.current;y=l(function(){function b(P){if(!N){if(N=!0,C=P,P=p(P),m!==void 0&&g.hasValue){var O=g.value;if(m(O,P))return E=O}return E=P}if(O=E,n(C,P))return O;var D=p(P);return m!==void 0&&m(O,D)?(C=P,O):(C=P,E=D)}var N=!1,C,E,_=h===void 0?null:h;return[function(){return b(A())},_===null?void 0:function(){return b(_())}]},[A,h,p,m]);var v=a(u,y[0],y[1]);return i(function(){g.hasValue=!0,g.value=v},[v]),c(v),v},GS}var RD;function mie(){return RD||(RD=1,qS.exports=fie()),qS.exports}var pie=mie(),Q_=B.createContext(null),gie=r=>r,qa=()=>{var r=B.useContext(Q_);return r?r.store.dispatch:gie},gw=()=>{},xie=()=>gw,yie=(r,e)=>r===e;function fr(r){var e=B.useContext(Q_);return pie.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:xie,e?e.store.getState:gw,e?e.store.getState:gw,e?r:gw,yie)}function vie(r,e=`expected a function, instead received ${typeof r}`){if(typeof r!="function")throw new TypeError(e)}function bie(r,e=`expected an object, instead received ${typeof r}`){if(typeof r!="object")throw new TypeError(e)}function wie(r,e="expected all items to be functions, instead received the following types: "){if(!r.every(t=>typeof t=="function")){const t=r.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${t}]`)}}var UD=r=>Array.isArray(r)?r:[r];function Cie(r){const e=Array.isArray(r[0])?r[0]:r;return wie(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Nie(r,e){const t=[],{length:n}=r;for(let a=0;a<n;a++)t.push(r[a].apply(null,e));return t}var Sie=class{constructor(r){this.value=r}deref(){return this.value}},Bie=typeof WeakRef<"u"?WeakRef:Sie,Eie=0,QD=1;function Y1(){return{s:Eie,v:void 0,o:null,p:null}}function kQ(r,e={}){let t=Y1();const{resultEqualityCheck:n}=e;let a,s=0;function i(){let l=t;const{length:c}=arguments;for(let h=0,p=c;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const g=y.get(m);g===void 0?(l=Y1(),y.set(m,l)):l=g}else{let y=l.p;y===null&&(l.p=y=new Map);const g=y.get(m);g===void 0?(l=Y1(),y.set(m,l)):l=g}}const u=l;let A;if(l.s===QD)A=l.v;else if(A=r.apply(null,arguments),s++,n){const h=a?.deref?.()??a;h!=null&&n(h,A)&&(A=h,s!==0&&s--),a=typeof A=="object"&&A!==null||typeof A=="function"?new Bie(A):A}return u.s=QD,u.v=A,A}return i.clearCache=()=>{t=Y1(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function jie(r,...e){const t=typeof r=="function"?{memoize:r,memoizeOptions:e}:r,n=(...a)=>{let s=0,i=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),vie(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const A={...t,...c},{memoize:h,memoizeOptions:p=[],argsMemoize:m=kQ,argsMemoizeOptions:y=[]}=A,g=UD(p),v=UD(y),b=Cie(a),N=h(function(){return s++,u.apply(null,arguments)},...g),C=m(function(){i++;const _=Nie(b,arguments);return l=N.apply(null,_),l},...v);return Object.assign(C,{resultFunc:u,memoizedResultFunc:N,dependencies:b,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var et=jie(kQ),_ie=Object.assign((r,e=et)=>{bie(r,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof r}`);const t=Object.keys(r),n=t.map(s=>r[s]);return e(n,(...s)=>s.reduce((i,l,c)=>(i[t[c]]=l,i),{}))},{withTypes:()=>_ie}),XS={},JS={},ZS={},HD;function Tie(){return HD||(HD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const t=(n,a,s)=>{if(n!==a){const i=e(n),l=e(a);if(i===l&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?l-i:i-l}return 0};r.compareValues=t})(ZS)),ZS}var eB={},tB={},zD;function FQ(){return zD||(zD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}r.isSymbol=e})(tB)),tB}var KD;function kie(){return KD||(KD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=FQ(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!t.test(s))||i!=null&&Object.hasOwn(i,s)}r.isKey=a})(eB)),eB}var $D;function Fie(){return $D||($D=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Tie(),t=kie(),n=j_();function a(s,i,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,y)=>{let g=m;for(let v=0;v<y.length&&g!=null;++v)g=g[y[v]];return g},A=(m,y)=>y==null||m==null?y:typeof m=="object"&&"key"in m?Object.hasOwn(y,m.key)?y[m.key]:u(y,m.path):typeof m=="function"?m(y):Array.isArray(m)?u(y,m):typeof y=="object"?y[m]:y,h=i.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||t.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:h.map(y=>A(y,m))})).slice().sort((m,y)=>{for(let g=0;g<h.length;g++){const v=e.compareValues(m.criteria[g],y.criteria[g],l[g]);if(v!==0)return v}return 0}).map(m=>m.original)}r.orderBy=a})(JS)),JS}var rB={},VD;function Oie(){return VD||(VD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n=1){const a=[],s=Math.floor(n),i=(l,c)=>{for(let u=0;u<l.length;u++){const A=l[u];Array.isArray(A)&&c<s?i(A,c+1):a.push(A)}};return i(t,0),a}r.flatten=e})(rB)),rB}var nB={},qD;function OQ(){return qD||(qD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=_Q(),t=R_(),n=CQ(),a=SQ();function s(i,l,c){return n.isObject(c)&&(typeof l=="number"&&t.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],i):!1}r.isIterateeCall=s})(nB)),nB}var GD;function Die(){return GD||(GD=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Fie(),t=Oie(),n=OQ();function a(s,...i){const l=i.length;return l>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:l>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),e.orderBy(s,t.flatten(i),["asc"])}r.sortBy=a})(XS)),XS}var aB,WD;function Pie(){return WD||(WD=1,aB=Die().sortBy),aB}var Iie=Pie();const CC=Pc(Iie);var DQ=r=>r.legend.settings,Lie=r=>r.legend.size,Mie=r=>r.legend.payload,Rie=et([Mie,DQ],(r,e)=>{var{itemSorter:t}=e,n=r.flat(1);return t?CC(n,t):n});function Uie(){return fr(Rie)}var X1=1;function PQ(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=B.useState({height:0,left:0,top:0,width:0}),n=B.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-e.height)>X1||Math.abs(i.left-e.left)>X1||Math.abs(i.top-e.top)>X1||Math.abs(i.width-e.width)>X1)&&t({height:i.height,left:i.left,top:i.top,width:i.width})}},[e.width,e.height,e.top,e.left,...r]);return[e,n]}function Ii(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var Qie=typeof Symbol=="function"&&Symbol.observable||"@@observable",YD=Qie,sB=()=>Math.random().toString(36).substring(7).split("").join("."),Hie={INIT:`@@redux/INIT${sB()}`,REPLACE:`@@redux/REPLACE${sB()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sB()}`},Kw=Hie;function H_(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function IQ(r,e,t){if(typeof r!="function")throw new Error(Ii(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Ii(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Ii(1));return t(IQ)(r,e)}let n=r,a=e,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((v,b)=>{i.set(b,v)}))}function A(){if(c)throw new Error(Ii(3));return a}function h(v){if(typeof v!="function")throw new Error(Ii(4));if(c)throw new Error(Ii(5));let b=!0;u();const N=l++;return i.set(N,v),function(){if(b){if(c)throw new Error(Ii(6));b=!1,u(),i.delete(N),s=null}}}function p(v){if(!H_(v))throw new Error(Ii(7));if(typeof v.type>"u")throw new Error(Ii(8));if(typeof v.type!="string")throw new Error(Ii(17));if(c)throw new Error(Ii(9));try{c=!0,a=n(a,v)}finally{c=!1}return(s=i).forEach(N=>{N()}),v}function m(v){if(typeof v!="function")throw new Error(Ii(10));n=v,p({type:Kw.REPLACE})}function y(){const v=h;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Ii(11));function N(){const E=b;E.next&&E.next(A())}return N(),{unsubscribe:v(N)}},[YD](){return this}}}return p({type:Kw.INIT}),{dispatch:p,subscribe:h,getState:A,replaceReducer:m,[YD]:y}}function zie(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:Kw.INIT})>"u")throw new Error(Ii(12));if(typeof t(void 0,{type:Kw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ii(13))})}function LQ(r){const e=Object.keys(r),t={};for(let s=0;s<e.length;s++){const i=e[s];typeof r[i]=="function"&&(t[i]=r[i])}const n=Object.keys(t);let a;try{zie(t)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let A=0;A<n.length;A++){const h=n[A],p=t[h],m=i[h],y=p(m,l);if(typeof y>"u")throw l&&l.type,new Error(Ii(14));u[h]=y,c=c||y!==m}return c=c||n.length!==Object.keys(i).length,c?u:i}}function $w(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...n)=>e(t(...n)))}function Kie(...r){return e=>(t,n)=>{const a=e(t,n);let s=()=>{throw new Error(Ii(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=r.map(c=>c(i));return s=$w(...l)(a.dispatch),{...a,dispatch:s}}}function MQ(r){return H_(r)&&"type"in r&&typeof r.type=="string"}var RQ=Symbol.for("immer-nothing"),XD=Symbol.for("immer-draftable"),Wl=Symbol.for("immer-state");function yu(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Yp=Object.getPrototypeOf;function O0(r){return!!r&&!!r[Wl]}function EA(r){return r?UQ(r)||Array.isArray(r)||!!r[XD]||!!r.constructor?.[XD]||Av(r)||SC(r):!1}var $ie=Object.prototype.constructor.toString();function UQ(r){if(!r||typeof r!="object")return!1;const e=Yp(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===$ie}function Vw(r,e){NC(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,n)=>e(n,t,r))}function NC(r){const e=r[Wl];return e?e.type_:Array.isArray(r)?1:Av(r)?2:SC(r)?3:0}function bj(r,e){return NC(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function QQ(r,e,t){const n=NC(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function Vie(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function Av(r){return r instanceof Map}function SC(r){return r instanceof Set}function e0(r){return r.copy_||r.base_}function wj(r,e){if(Av(r))return new Map(r);if(SC(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=UQ(r);if(e===!0||e==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(r);delete n[Wl];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:r[i]})}return Object.create(Yp(r),n)}else{const n=Yp(r);if(n!==null&&t)return{...r};const a=Object.create(n);return Object.assign(a,r)}}function z_(r,e=!1){return BC(r)||O0(r)||!EA(r)||(NC(r)>1&&Object.defineProperties(r,{set:{value:J1},add:{value:J1},clear:{value:J1},delete:{value:J1}}),Object.freeze(r),e&&Object.values(r).forEach(t=>z_(t,!0))),r}function J1(){yu(2)}function BC(r){return Object.isFrozen(r)}var qie={};function D0(r){const e=qie[r];return e||yu(0,r),e}var By;function HQ(){return By}function Gie(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function JD(r,e){e&&(D0("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function Cj(r){Nj(r),r.drafts_.forEach(Wie),r.drafts_=null}function Nj(r){r===By&&(By=r.parent_)}function ZD(r){return By=Gie(By,r)}function Wie(r){const e=r[Wl];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function eP(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[Wl].modified_&&(Cj(e),yu(4)),EA(r)&&(r=qw(e,r),e.parent_||Gw(e,r)),e.patches_&&D0("Patches").generateReplacementPatches_(t[Wl].base_,r,e.patches_,e.inversePatches_)):r=qw(e,t,[]),Cj(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==RQ?r:void 0}function qw(r,e,t){if(BC(e))return e;const n=e[Wl];if(!n)return Vw(e,(a,s)=>tP(r,n,e,a,s,t)),e;if(n.scope_!==r)return e;if(!n.modified_)return Gw(r,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),Vw(s,(l,c)=>tP(r,n,a,l,c,t,i)),Gw(r,a,!1),t&&r.patches_&&D0("Patches").generatePatches_(n,t,r.patches_,r.inversePatches_)}return n.copy_}function tP(r,e,t,n,a,s,i){if(O0(a)){const l=s&&e&&e.type_!==3&&!bj(e.assigned_,n)?s.concat(n):void 0,c=qw(r,a,l);if(QQ(t,n,c),O0(c))r.canAutoFreeze_=!1;else return}else i&&t.add(a);if(EA(a)&&!BC(a)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;qw(r,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(Av(t)?t.has(n):Object.prototype.propertyIsEnumerable.call(t,n))&&Gw(r,a)}}function Gw(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&z_(e,t)}function Yie(r,e){const t=Array.isArray(r),n={type_:t?1:0,scope_:e?e.scope_:HQ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=K_;t&&(a=[n],s=Ey);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var K_={get(r,e){if(e===Wl)return r;const t=e0(r);if(!bj(t,e))return Xie(r,t,e);const n=t[e];return r.finalized_||!EA(n)?n:n===iB(r.base_,e)?(oB(r),r.copy_[e]=Bj(n,r)):n},has(r,e){return e in e0(r)},ownKeys(r){return Reflect.ownKeys(e0(r))},set(r,e,t){const n=zQ(e0(r),e);if(n?.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const a=iB(e0(r),e),s=a?.[Wl];if(s&&s.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(Vie(t,a)&&(t!==void 0||bj(r.base_,e)))return!0;oB(r),Sj(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return iB(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,oB(r),Sj(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=e0(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){yu(11)},getPrototypeOf(r){return Yp(r.base_)},setPrototypeOf(){yu(12)}},Ey={};Vw(K_,(r,e)=>{Ey[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ey.deleteProperty=function(r,e){return Ey.set.call(this,r,e,void 0)};Ey.set=function(r,e,t){return K_.set.call(this,r[0],e,t,r[0])};function iB(r,e){const t=r[Wl];return(t?e0(t):r)[e]}function Xie(r,e,t){const n=zQ(e,t);return n?"value"in n?n.value:n.get?.call(r.draft_):void 0}function zQ(r,e){if(!(e in r))return;let t=Yp(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Yp(t)}}function Sj(r){r.modified_||(r.modified_=!0,r.parent_&&Sj(r.parent_))}function oB(r){r.copy_||(r.copy_=wj(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var Jie=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const i=this;return function(c=s,...u){return i.produce(c,A=>t.call(this,A,...u))}}typeof t!="function"&&yu(6),n!==void 0&&typeof n!="function"&&yu(7);let a;if(EA(e)){const s=ZD(this),i=Bj(e,void 0);let l=!0;try{a=t(i),l=!1}finally{l?Cj(s):Nj(s)}return JD(s,n),eP(a,s)}else if(!e||typeof e!="object"){if(a=t(e),a===void 0&&(a=e),a===RQ&&(a=void 0),this.autoFreeze_&&z_(a,!0),n){const s=[],i=[];D0("Patches").generateReplacementPatches_(e,a,s,i),n(s,i)}return a}else yu(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(i,...l)=>this.produceWithPatches(i,c=>e(c,...l));let n,a;return[this.produce(e,t,(i,l)=>{n=i,a=l}),n,a]},typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof r?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){EA(r)||yu(8),O0(r)&&(r=yA(r));const e=ZD(this),t=Bj(r,void 0);return t[Wl].isManual_=!0,Nj(e),t}finishDraft(r,e){const t=r&&r[Wl];(!t||!t.isManual_)&&yu(9);const{scope_:n}=t;return JD(n,e),eP(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const a=e[t];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}t>-1&&(e=e.slice(t+1));const n=D0("Patches").applyPatches_;return O0(r)?n(r,e):this.produce(r,a=>n(a,e))}};function Bj(r,e){const t=Av(r)?D0("MapSet").proxyMap_(r,e):SC(r)?D0("MapSet").proxySet_(r,e):Yie(r,e);return(e?e.scope_:HQ()).drafts_.push(t),t}function yA(r){return O0(r)||yu(10,r),KQ(r)}function KQ(r){if(!EA(r)||BC(r))return r;const e=r[Wl];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=wj(r,e.scope_.immer_.useStrictShallowCopy_)}else t=wj(r,!0);return Vw(t,(n,a)=>{QQ(t,n,KQ(a))}),e&&(e.finalized_=!1),t}var Zie=new Jie,$Q=Zie.produce;function VQ(r){return({dispatch:t,getState:n})=>a=>s=>typeof s=="function"?s(t,n,r):a(s)}var eoe=VQ(),toe=VQ,roe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$w:$w.apply(null,arguments)};function Fc(r,e){function t(...n){if(e){let a=e(...n);if(!a)throw new Error(Vl(0));return{type:r,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:r,payload:n[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=n=>MQ(n)&&n.type===r,t}var qQ=class qx extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,qx.prototype)}static get[Symbol.species](){return qx}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new qx(...e[0].concat(this)):new qx(...e.concat(this))}};function rP(r){return EA(r)?$Q(r,()=>{}):r}function Z1(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function noe(r){return typeof r=="boolean"}var aoe=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let i=new qQ;return t&&(noe(t)?i.push(eoe):i.push(toe(t.extraArgument))),i},soe="RTK_autoBatch",nP=r=>e=>{setTimeout(e,r)},ioe=(r={type:"raf"})=>e=>(...t)=>{const n=e(...t);let a=!0,s=!1,i=!1;const l=new Set,c=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nP(10):r.type==="callback"?r.queueNotification:nP(r.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(A=>A()))};return Object.assign({},n,{subscribe(A){const h=()=>a&&A(),p=n.subscribe(h);return l.add(A),()=>{p(),l.delete(A)}},dispatch(A){try{return a=!A?.meta?.[soe],s=!a,s&&(i||(i=!0,c(u))),n.dispatch(A)}finally{a=!0}}})},ooe=r=>function(t){const{autoBatch:n=!0}=t??{};let a=new qQ(r);return n&&a.push(ioe(typeof n=="object"?n:void 0)),a};function loe(r){const e=aoe(),{reducer:t=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=r||{};let l;if(typeof t=="function")l=t;else if(H_(t))l=LQ(t);else throw new Error(Vl(1));let c;typeof n=="function"?c=n(e):c=e();let u=$w;a&&(u=roe({trace:!1,...typeof a=="object"&&a}));const A=Kie(...c),h=ooe(A);let p=typeof i=="function"?i(h):h();const m=u(...p);return IQ(l,s,m)}function GQ(r){const e={},t=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Vl(28));if(l in e)throw new Error(Vl(29));return e[l]=i,a},addAsyncThunk(s,i){return i.pending&&(e[s.pending.type]=i.pending),i.rejected&&(e[s.rejected.type]=i.rejected),i.fulfilled&&(e[s.fulfilled.type]=i.fulfilled),i.settled&&t.push({matcher:s.settled,reducer:i.settled}),a},addMatcher(s,i){return t.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return r(a),[e,t,n]}function coe(r){return typeof r=="function"}function uoe(r,e){let[t,n,a]=GQ(e),s;if(coe(r))s=()=>rP(r());else{const l=rP(r);s=()=>l}function i(l=s(),c){let u=[t[c.type],...n.filter(({matcher:A})=>A(c)).map(({reducer:A})=>A)];return u.filter(A=>!!A).length===0&&(u=[a]),u.reduce((A,h)=>{if(h)if(O0(A)){const m=h(A,c);return m===void 0?A:m}else{if(EA(A))return $Q(A,p=>h(p,c));{const p=h(A,c);if(p===void 0){if(A===null)return A;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return A},l)}return i.getInitialState=s,i}var doe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Aoe=(r=21)=>{let e="",t=r;for(;t--;)e+=doe[Math.random()*64|0];return e},hoe=Symbol.for("rtk-slice-createasyncthunk");function foe(r,e){return`${r}/${e}`}function moe({creators:r}={}){const e=r?.asyncThunk?.[hoe];return function(n){const{name:a,reducerPath:s=a}=n;if(!a)throw new Error(Vl(11));const i=(typeof n.reducers=="function"?n.reducers(goe()):n.reducers)||{},l=Object.keys(i),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(C,E){const _=typeof C=="string"?C:C.type;if(!_)throw new Error(Vl(12));if(_ in c.sliceCaseReducersByType)throw new Error(Vl(13));return c.sliceCaseReducersByType[_]=E,u},addMatcher(C,E){return c.sliceMatchers.push({matcher:C,reducer:E}),u},exposeAction(C,E){return c.actionCreators[C]=E,u},exposeCaseReducer(C,E){return c.sliceCaseReducersByName[C]=E,u}};l.forEach(C=>{const E=i[C],_={reducerName:C,type:foe(a,C),createNotation:typeof n.reducers=="function"};yoe(E)?boe(_,E,u,e):xoe(_,E,u)});function A(){const[C={},E=[],_=void 0]=typeof n.extraReducers=="function"?GQ(n.extraReducers):[n.extraReducers],P={...C,...c.sliceCaseReducersByType};return uoe(n.initialState,O=>{for(let D in P)O.addCase(D,P[D]);for(let D of c.sliceMatchers)O.addMatcher(D.matcher,D.reducer);for(let D of E)O.addMatcher(D.matcher,D.reducer);_&&O.addDefaultCase(_)})}const h=C=>C,p=new Map,m=new WeakMap;let y;function g(C,E){return y||(y=A()),y(C,E)}function v(){return y||(y=A()),y.getInitialState()}function b(C,E=!1){function _(O){let D=O[C];return typeof D>"u"&&E&&(D=Z1(m,_,v)),D}function P(O=h){const D=Z1(p,E,()=>new WeakMap);return Z1(D,O,()=>{const k={};for(const[H,L]of Object.entries(n.selectors??{}))k[H]=poe(L,O,()=>Z1(m,O,v),E);return k})}return{reducerPath:C,getSelectors:P,get selectors(){return P(_)},selectSlice:_}}const N={name:a,reducer:g,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...b(s),injectInto(C,{reducerPath:E,..._}={}){const P=E??s;return C.inject({reducerPath:P,reducer:g},_),{...N,...b(P,!0)}}};return N}}function poe(r,e,t,n){function a(s,...i){let l=e(s);return typeof l>"u"&&n&&(l=t()),r(l,...i)}return a.unwrapped=r,a}var ec=moe();function goe(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function xoe({type:r,reducerName:e,createNotation:t},n,a){let s,i;if("reducer"in n){if(t&&!voe(n))throw new Error(Vl(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(r,s).exposeCaseReducer(e,s).exposeAction(e,i?Fc(r,i):Fc(r))}function yoe(r){return r._reducerDefinitionType==="asyncThunk"}function voe(r){return r._reducerDefinitionType==="reducerWithPrepare"}function boe({type:r,reducerName:e},t,n,a){if(!a)throw new Error(Vl(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:A}=t,h=a(r,s,A);n.exposeAction(e,h),i&&n.addCase(h.fulfilled,i),l&&n.addCase(h.pending,l),c&&n.addCase(h.rejected,c),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(e,{fulfilled:i||eb,pending:l||eb,rejected:c||eb,settled:u||eb})}function eb(){}var woe="task",WQ="listener",YQ="completed",$_="cancelled",Coe=`task-${$_}`,Noe=`task-${YQ}`,Ej=`${WQ}-${$_}`,Soe=`${WQ}-${YQ}`,EC=class{constructor(r){this.code=r,this.message=`${woe} ${$_} (reason: ${r})`}name="TaskAbortError";message},V_=(r,e)=>{if(typeof r!="function")throw new TypeError(Vl(32))},Ww=()=>{},XQ=(r,e=Ww)=>(r.catch(e),r),JQ=(r,e)=>(r.addEventListener("abort",e,{once:!0}),()=>r.removeEventListener("abort",e)),b0=(r,e)=>{const t=r.signal;t.aborted||("reason"in t||Object.defineProperty(t,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),r.abort(e))},w0=r=>{if(r.aborted){const{reason:e}=r;throw new EC(e)}};function ZQ(r,e){let t=Ww;return new Promise((n,a)=>{const s=()=>a(new EC(r.reason));if(r.aborted){s();return}t=JQ(r,s),e.finally(()=>t()).then(n,a)}).finally(()=>{t=Ww})}var Boe=async(r,e)=>{try{return await Promise.resolve(),{status:"ok",value:await r()}}catch(t){return{status:t instanceof EC?"cancelled":"rejected",error:t}}finally{e?.()}},Yw=r=>e=>XQ(ZQ(r,e).then(t=>(w0(r),t))),eH=r=>{const e=Yw(r);return t=>e(new Promise(n=>setTimeout(n,t)))},{assign:_p}=Object,aP={},jC="listenerMiddleware",Eoe=(r,e)=>{const t=n=>JQ(r,()=>b0(n,r.reason));return(n,a)=>{V_(n);const s=new AbortController;t(s);const i=Boe(async()=>{w0(r),w0(s.signal);const l=await n({pause:Yw(s.signal),delay:eH(s.signal),signal:s.signal});return w0(s.signal),l},()=>b0(s,Noe));return a?.autoJoin&&e.push(i.catch(Ww)),{result:Yw(r)(i),cancel(){b0(s,Coe)}}}},joe=(r,e)=>{const t=async(n,a)=>{w0(e);let s=()=>{};const l=[new Promise((c,u)=>{let A=r({predicate:n,effect:(h,p)=>{p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=()=>{A(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await ZQ(e,Promise.race(l));return w0(e),c}finally{s()}};return(n,a)=>XQ(t(n,a))},tH=r=>{let{type:e,actionCreator:t,matcher:n,predicate:a,effect:s}=r;if(e)a=Fc(e).match;else if(t)e=t.type,a=t.match;else if(n)a=n;else if(!a)throw new Error(Vl(21));return V_(s),{predicate:a,type:e,effect:s}},rH=_p(r=>{const{type:e,predicate:t,effect:n}=tH(r);return{id:Aoe(),effect:n,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(Vl(22))}}},{withTypes:()=>rH}),sP=(r,e)=>{const{type:t,effect:n,predicate:a}=tH(e);return Array.from(r.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===a)&&s.effect===n)},jj=r=>{r.pending.forEach(e=>{b0(e,Ej)})},_oe=r=>()=>{r.forEach(jj),r.clear()},iP=(r,e,t)=>{try{r(e,t)}catch(n){setTimeout(()=>{throw n},0)}},nH=_p(Fc(`${jC}/add`),{withTypes:()=>nH}),Toe=Fc(`${jC}/removeAll`),aH=_p(Fc(`${jC}/remove`),{withTypes:()=>aH}),koe=(...r)=>{console.error(`${jC}/error`,...r)},hv=(r={})=>{const e=new Map,{extra:t,onError:n=koe}=r;V_(n);const a=A=>(A.unsubscribe=()=>e.delete(A.id),e.set(A.id,A),h=>{A.unsubscribe(),h?.cancelActive&&jj(A)}),s=A=>{const h=sP(e,A)??rH(A);return a(h)};_p(s,{withTypes:()=>s});const i=A=>{const h=sP(e,A);return h&&(h.unsubscribe(),A.cancelActive&&jj(h)),!!h};_p(i,{withTypes:()=>i});const l=async(A,h,p,m)=>{const y=new AbortController,g=joe(s,y.signal),v=[];try{A.pending.add(y),await Promise.resolve(A.effect(h,_p({},p,{getOriginalState:m,condition:(b,N)=>g(b,N).then(Boolean),take:g,delay:eH(y.signal),pause:Yw(y.signal),extra:t,signal:y.signal,fork:Eoe(y.signal,v),unsubscribe:A.unsubscribe,subscribe:()=>{e.set(A.id,A)},cancelActiveListeners:()=>{A.pending.forEach((b,N,C)=>{b!==y&&(b0(b,Ej),C.delete(b))})},cancel:()=>{b0(y,Ej),A.pending.delete(y)},throwIfCancelled:()=>{w0(y.signal)}})))}catch(b){b instanceof EC||iP(n,b,{raisedBy:"effect"})}finally{await Promise.all(v),b0(y,Soe),A.pending.delete(y)}},c=_oe(e);return{middleware:A=>h=>p=>{if(!MQ(p))return h(p);if(nH.match(p))return s(p.payload);if(Toe.match(p)){c();return}if(aH.match(p))return i(p.payload);let m=A.getState();const y=()=>{if(m===aP)throw new Error(Vl(23));return m};let g;try{if(g=h(p),e.size>0){const v=A.getState(),b=Array.from(e.values());for(const N of b){let C=!1;try{C=N.predicate(p,v,m)}catch(E){C=!1,iP(n,E,{raisedBy:"predicate"})}C&&l(N,p,A,y)}}}finally{m=aP}return g},startListening:s,stopListening:i,clearListeners:c}};function Vl(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var Foe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},sH=ec({name:"chartLayout",initialState:Foe,reducers:{setLayout(r,e){r.layoutType=e.payload},setChartSize(r,e){r.width=e.payload.width,r.height=e.payload.height},setMargin(r,e){var t,n,a,s;r.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,r.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,r.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,r.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(r,e){r.scale=e.payload}}}),{setMargin:Ooe,setLayout:Doe,setChartSize:Poe,setScale:Ioe}=sH.actions,Loe=sH.reducer;function oP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function lP(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(t),!0).forEach(function(n){Moe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):oP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Moe(r,e,t){return(e=Roe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Roe(r){var e=Uoe(r,"string");return typeof e=="symbol"?e:e+""}function Uoe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Xw=Math.PI/180,Qoe=r=>r*180/Math.PI,Ps=(r,e,t,n)=>({x:r+Math.cos(-Xw*n)*t,y:e+Math.sin(-Xw*n)*t}),iH=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},Hoe=(r,e)=>{var{x:t,y:n}=r,{x:a,y:s}=e;return Math.sqrt((t-a)**2+(n-s)**2)},zoe=(r,e)=>{var{x:t,y:n}=r,{cx:a,cy:s}=e,i=Hoe({x:t,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var l=(t-a)/i,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:i,angle:Qoe(c),angleInRadian:c}},Koe=r=>{var{startAngle:e,endAngle:t}=r,n=Math.floor(e/360),a=Math.floor(t/360),s=Math.min(n,a);return{startAngle:e-s*360,endAngle:t-s*360}},$oe=(r,e)=>{var{startAngle:t,endAngle:n}=e,a=Math.floor(t/360),s=Math.floor(n/360),i=Math.min(a,s);return r+i*360},Voe=(r,e)=>{var{x:t,y:n}=r,{radius:a,angle:s}=zoe({x:t,y:n},e),{innerRadius:i,outerRadius:l}=e;if(a<i||a>l||a===0)return null;var{startAngle:c,endAngle:u}=Koe(e),A=s,h;if(c<=u){for(;A>u;)A-=360;for(;A<c;)A+=360;h=A>=c&&A<=u}else{for(;A>c;)A-=360;for(;A<u;)A+=360;h=A>=u&&A<=c}return h?lP(lP({},e),{},{radius:a,angle:$oe(A,e)}):null};function oH(r,e,t){return Array.isArray(r)&&r&&e+t!==0?r.slice(e,t+1):r}function cP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ec(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(t),!0).forEach(function(n){qoe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):cP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function qoe(r,e,t){return(e=Goe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Goe(r){var e=Woe(r,"string");return typeof e=="symbol"?e:e+""}function Woe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ka(r,e,t){return wi(r)||wi(e)?t:Cd(e)?F0(r,e,t):typeof e=="function"?e(r):t}var Yoe=(r,e,t,n,a)=>{var s,i=-1,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||r==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?t[c-1].coordinate:t[l-1].coordinate,A=t[c].coordinate,h=c>=l-1?t[0].coordinate:t[c+1].coordinate,p=void 0;if(gi(A-u)!==gi(h-A)){var m=[];if(gi(h-A)===gi(a[1]-a[0])){p=h;var y=A+a[1]-a[0];m[0]=Math.min(y,(y+u)/2),m[1]=Math.max(y,(y+u)/2)}else{p=u;var g=h+a[1]-a[0];m[0]=Math.min(A,(g+A)/2),m[1]=Math.max(A,(g+A)/2)}var v=[Math.min(A,(p+A)/2),Math.max(A,(p+A)/2)];if(r>v[0]&&r<=v[1]||r>=m[0]&&r<=m[1]){({index:i}=t[c]);break}}else{var b=Math.min(u,h),N=Math.max(u,h);if(r>(b+A)/2&&r<=(N+A)/2){({index:i}=t[c]);break}}}else if(e){for(var C=0;C<l;C++)if(C===0&&r<=(e[C].coordinate+e[C+1].coordinate)/2||C>0&&C<l-1&&r>(e[C].coordinate+e[C-1].coordinate)/2&&r<=(e[C].coordinate+e[C+1].coordinate)/2||C===l-1&&r>(e[C].coordinate+e[C-1].coordinate)/2){({index:i}=e[C]);break}}return i},Xoe=(r,e,t)=>{if(e&&t){var{width:n,height:a}=t,{align:s,verticalAlign:i,layout:l}=e;if((l==="vertical"||l==="horizontal"&&i==="middle")&&s!=="center"&&xr(r[s]))return Ec(Ec({},r),{},{[s]:r[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&i!=="middle"&&xr(r[i]))return Ec(Ec({},r),{},{[i]:r[i]+(a||0)})}return r},V0=(r,e)=>r==="horizontal"&&e==="xAxis"||r==="vertical"&&e==="yAxis"||r==="centric"&&e==="angleAxis"||r==="radial"&&e==="radiusAxis",lH=(r,e,t,n)=>{if(n)return r.map(l=>l.coordinate);var a,s,i=r.map(l=>(l.coordinate===e&&(a=!0),l.coordinate===t&&(s=!0),l.coordinate));return a||i.push(e),s||i.push(t),i},cH=(r,e,t)=>{if(!r)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:A,ticks:h,niceTicks:p,axisType:m}=r;if(!i)return null;var y=l==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,g=a==="category"&&i.bandwidth?i.bandwidth()/y:0;if(g=m==="angleAxis"&&s&&s.length>=2?gi(s[0]-s[1])*2*g:g,h||p){var v=(h||p||[]).map((b,N)=>{var C=n?n.indexOf(b):b;return{coordinate:i(C)+g,value:b,offset:g,index:N}});return v.filter(b=>!Gl(b.coordinate))}return c&&u?u.map((b,N)=>({coordinate:i(b)+g,value:b,index:N,offset:g})):i.ticks&&A!=null?i.ticks(A).map((b,N)=>({coordinate:i(b)+g,value:b,offset:g,index:N})):i.domain().map((b,N)=>({coordinate:i(b)+g,value:n?n[b]:b,index:N,offset:g}))},uP=1e-4,Joe=r=>{var e=r.domain();if(!(!e||e.length<=2)){var t=e.length,n=r.range(),a=Math.min(n[0],n[1])-uP,s=Math.max(n[0],n[1])+uP,i=r(e[0]),l=r(e[t-1]);(i<a||i>s||l<a||l>s)&&r.domain([e[0],e[t-1]])}},Zoe=(r,e)=>{if(!e||e.length!==2||!xr(e[0])||!xr(e[1]))return r;var t=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),a=[r[0],r[1]];return(!xr(r[0])||r[0]<t)&&(a[0]=t),(!xr(r[1])||r[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<t&&(a[1]=t),a},ele=r=>{var e=r.length;if(!(e<=0))for(var t=0,n=r[0].length;t<n;++t)for(var a=0,s=0,i=0;i<e;++i){var l=Gl(r[i][t][1])?r[i][t][0]:r[i][t][1];l>=0?(r[i][t][0]=a,r[i][t][1]=a+l,a=r[i][t][1]):(r[i][t][0]=s,r[i][t][1]=s+l,s=r[i][t][1])}},tle=r=>{var e=r.length;if(!(e<=0))for(var t=0,n=r[0].length;t<n;++t)for(var a=0,s=0;s<e;++s){var i=Gl(r[s][t][1])?r[s][t][0]:r[s][t][1];i>=0?(r[s][t][0]=a,r[s][t][1]=a+i,a=r[s][t][1]):(r[s][t][0]=0,r[s][t][1]=0)}},rle={sign:ele,expand:kse,none:Wp,silhouette:Fse,wiggle:Ose,positive:tle},nle=(r,e,t)=>{var n=rle[t],a=Tse().keys(e).value((s,i)=>+Ka(s,i,0)).order(xj).offset(n);return a(r)};function ale(r){return r==null?void 0:String(r)}var dP=r=>{var{axis:e,ticks:t,offset:n,bandSize:a,entry:s,index:i}=r;if(e.type==="category")return t[i]?t[i].coordinate+n:null;var l=Ka(s,e.dataKey,e.scale.domain()[i]);return wi(l)?null:e.scale(l)-a/2+n},sle=r=>{var{numericAxis:e}=r,t=e.scale.domain();if(e.type==="number"){var n=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]);return n<=0&&a>=0?0:a<0?a:n}return t[0]},ile=r=>{var e=r.flat(2).filter(xr);return[Math.min(...e),Math.max(...e)]},ole=r=>[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]],lle=(r,e,t)=>{if(r!=null)return ole(Object.keys(r).reduce((n,a)=>{var s=r[a],{stackedData:i}=s,l=i.reduce((c,u)=>{var A=oH(u,e,t),h=ile(A);return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},AP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,q_=(r,e,t)=>{if(r&&r.scale&&r.scale.bandwidth){var n=r.scale.bandwidth();if(!t||n>0)return n}if(r&&e&&e.length>=2){for(var a=CC(e,A=>A.coordinate),s=1/0,i=1,l=a.length;i<l;i++){var c=a[i],u=a[i-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function fP(r){var{tooltipEntrySettings:e,dataKey:t,payload:n,value:a,name:s}=r;return Ec(Ec({},e),{},{dataKey:t,payload:n,value:a,name:s})}function _C(r,e){if(r)return String(r);if(typeof e=="string")return e}function cle(r,e,t,n,a){if(t==="horizontal"||t==="vertical"){var s=r>=a.left&&r<=a.left+a.width&&e>=a.top&&e<=a.top+a.height;return s?{x:r,y:e}:null}return n?Voe({x:r,y:e},n):null}var ule=(r,e,t,n)=>{var a=e.find(u=>u&&u.index===t);if(a){if(r==="horizontal")return{x:a.coordinate,y:n.y};if(r==="vertical")return{x:n.x,y:a.coordinate};if(r==="centric"){var s=a.coordinate,{radius:i}=n;return Ec(Ec(Ec({},n),Ps(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var l=a.coordinate,{angle:c}=n;return Ec(Ec(Ec({},n),Ps(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},dle=(r,e)=>e==="horizontal"?r.x:e==="vertical"?r.y:e==="centric"?r.angle:r.radius,MA=r=>r.layout.width,RA=r=>r.layout.height,Ale=r=>r.layout.scale,uH=r=>r.layout.margin,TC=et(r=>r.cartesianAxis.xAxis,r=>Object.values(r)),kC=et(r=>r.cartesianAxis.yAxis,r=>Object.values(r)),dH="data-recharts-item-index",AH="data-recharts-item-data-key",fv=60;function mP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function tb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(t),!0).forEach(function(n){hle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):mP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function hle(r,e,t){return(e=fle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function fle(r){var e=mle(r,"string");return typeof e=="symbol"?e:e+""}function mle(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var ple=r=>r.brush.height;function gle(r){var e=kC(r);return e.reduce((t,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:fv;return t+a}return t},0)}function xle(r){var e=kC(r);return e.reduce((t,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:fv;return t+a}return t},0)}function yle(r){var e=TC(r);return e.reduce((t,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?t+n.height:t,0)}function vle(r){var e=TC(r);return e.reduce((t,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?t+n.height:t,0)}var ri=et([MA,RA,uH,ple,gle,xle,yle,vle,DQ,Lie],(r,e,t,n,a,s,i,l,c,u)=>{var A={left:(t.left||0)+a,right:(t.right||0)+s},h={top:(t.top||0)+i,bottom:(t.bottom||0)+l},p=tb(tb({},h),A),m=p.bottom;p.bottom+=n,p=Xoe(p,c,u);var y=r-p.left-p.right,g=e-p.top-p.bottom;return tb(tb({brushBottom:m},p),{},{width:Math.max(y,0),height:Math.max(g,0)})}),ble=et(ri,r=>({x:r.left,y:r.top,width:r.width,height:r.height})),G_=et(MA,RA,(r,e)=>({x:0,y:0,width:r,height:e})),wle=B.createContext(null),Lc=()=>B.useContext(wle)!=null,FC=r=>r.brush,OC=et([FC,ri,uH],(r,e,t)=>({height:r.height,x:xr(r.x)?r.x:e.left,y:xr(r.y)?r.y:e.top+e.height+e.brushBottom-(t?.bottom||0),width:xr(r.width)?r.width:e.width})),W_=()=>{var r,e=Lc(),t=fr(ble),n=fr(OC),a=(r=fr(FC))===null||r===void 0?void 0:r.padding;return!e||!n||!a?t:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Cle={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},hH=()=>{var r;return(r=fr(ri))!==null&&r!==void 0?r:Cle},Y_=()=>fr(MA),X_=()=>fr(RA),Nle=()=>fr(r=>r.layout.margin),wn=r=>r.layout.layoutType,J_=()=>fr(wn),Sle={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},fH=ec({name:"legend",initialState:Sle,reducers:{setLegendSize(r,e){r.size.width=e.payload.width,r.size.height=e.payload.height},setLegendSettings(r,e){r.settings.align=e.payload.align,r.settings.layout=e.payload.layout,r.settings.verticalAlign=e.payload.verticalAlign,r.settings.itemSorter=e.payload.itemSorter},addLegendPayload(r,e){r.payload.push(e.payload)},removeLegendPayload(r,e){var t=yA(r).payload.indexOf(e.payload);t>-1&&r.payload.splice(t,1)}}}),{setLegendSize:pP,setLegendSettings:Ble,addLegendPayload:mH,removeLegendPayload:pH}=fH.actions,Ele=fH.reducer,jle=["contextPayload"];function _j(){return _j=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},_j.apply(null,arguments)}function gP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Xp(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(t),!0).forEach(function(n){Z_(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):gP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Z_(r,e,t){return(e=_le(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function _le(r){var e=Tle(r,"string");return typeof e=="symbol"?e:e+""}function Tle(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function kle(r,e){if(r==null)return{};var t,n,a=Fle(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Fle(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function Ole(r){return r.value}function Dle(r){var{contextPayload:e}=r,t=kle(r,jle),n=TQ(e,r.payloadUniqBy,Ole),a=Xp(Xp({},t),{},{payload:n});return B.isValidElement(r.content)?B.cloneElement(r.content,a):typeof r.content=="function"?B.createElement(r.content,a):B.createElement(M_,a)}function Ple(r,e,t,n,a,s){var{layout:i,align:l,verticalAlign:c}=e,u,A;return(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))&&(l==="center"&&i==="vertical"?u={left:((n||0)-s.width)/2}:u=l==="right"?{right:t&&t.right||0}:{left:t&&t.left||0}),(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))&&(c==="middle"?A={top:((a||0)-s.height)/2}:A=c==="bottom"?{bottom:t&&t.bottom||0}:{top:t&&t.top||0}),Xp(Xp({},u),A)}function Ile(r){var e=qa();return B.useEffect(()=>{e(Ble(r))},[e,r]),null}function Lle(r){var e=qa();return B.useEffect(()=>(e(pP(r)),()=>{e(pP({width:0,height:0}))}),[e,r]),null}function Mle(r){var e=Uie(),t=ese(),n=Nle(),{width:a,height:s,wrapperStyle:i,portal:l}=r,[c,u]=PQ([e]),A=Y_(),h=X_();if(A==null||h==null)return null;var p=A-(n.left||0)-(n.right||0),m=jy.getWidthOrHeight(r.layout,s,a,p),y=l?i:Xp(Xp({position:"absolute",width:m?.width||a||"auto",height:m?.height||s||"auto"},Ple(i,r,n,A,h,c)),i),g=l??t;if(g==null)return null;var v=B.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:u},B.createElement(Ile,{layout:r.layout,align:r.align,verticalAlign:r.verticalAlign,itemSorter:r.itemSorter}),B.createElement(Lle,{width:c.width,height:c.height}),B.createElement(Dle,_j({},r,m,{margin:n,chartWidth:A,chartHeight:h,contextPayload:e})));return W8.createPortal(v,g)}class jy extends B.PureComponent{static getWidthOrHeight(e,t,n,a){return e==="vertical"&&xr(t)?{height:t}:e==="horizontal"?{width:n||a}:null}render(){return B.createElement(Mle,this.props)}}Z_(jy,"displayName","Legend");Z_(jy,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Tj(){return Tj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Tj.apply(null,arguments)}function xP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function lB(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(t),!0).forEach(function(n){Rle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):xP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Rle(r,e,t){return(e=Ule(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ule(r){var e=Qle(r,"string");return typeof e=="symbol"?e:e+""}function Qle(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Hle(r){return Array.isArray(r)&&Cd(r[0])&&Cd(r[1])?r.join(" ~ "):r}var zle=r=>{var{separator:e=" : ",contentStyle:t={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:l,wrapperClassName:c,labelClassName:u,label:A,labelFormatter:h,accessibilityLayer:p=!1}=r,m=()=>{if(s&&s.length){var _={padding:0,margin:0},P=(l?CC(s,l):s).map((O,D)=>{if(O.type==="none")return null;var k=O.formatter||i||Hle,{value:H,name:L}=O,Q=H,R=L;if(k){var K=k(H,L,O,D,s);if(Array.isArray(K))[Q,R]=K;else if(K!=null)Q=K;else return null}var ee=lB({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},n);return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:ee},Cd(R)?B.createElement("span",{className:"recharts-tooltip-item-name"},R):null,Cd(R)?B.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,B.createElement("span",{className:"recharts-tooltip-item-value"},Q),B.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:_},P)}return null},y=lB({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),g=lB({margin:0},a),v=!wi(A),b=v?A:"",N=An("recharts-default-tooltip",c),C=An("recharts-tooltip-label",u);v&&h&&s!==void 0&&s!==null&&(b=h(A,s));var E=p?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",Tj({className:N,style:y},E),B.createElement("p",{className:C,style:g},B.isValidElement(b)?b:"".concat(b)),m())},Bx="recharts-tooltip-wrapper",Kle={visibility:"hidden"};function $le(r){var{coordinate:e,translateX:t,translateY:n}=r;return An(Bx,{["".concat(Bx,"-right")]:xr(t)&&e&&xr(e.x)&&t>=e.x,["".concat(Bx,"-left")]:xr(t)&&e&&xr(e.x)&&t<e.x,["".concat(Bx,"-bottom")]:xr(n)&&e&&xr(e.y)&&n>=e.y,["".concat(Bx,"-top")]:xr(n)&&e&&xr(e.y)&&n<e.y})}function yP(r){var{allowEscapeViewBox:e,coordinate:t,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=r;if(s&&xr(s[n]))return s[n];var A=t[n]-l-(a>0?a:0),h=t[n]+a;if(e[n])return i[n]?A:h;var p=c[n];if(p==null)return 0;if(i[n]){var m=A,y=p;return m<y?Math.max(h,p):Math.max(A,p)}if(u==null)return 0;var g=h+l,v=p+u;return g>v?Math.max(A,p):Math.max(h,p)}function Vle(r){var{translateX:e,translateY:t,useTranslate3d:n}=r;return{transform:n?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function qle(r){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:l,viewBox:c}=r,u,A,h;return i.height>0&&i.width>0&&t?(A=yP({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),h=yP({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=Vle({translateX:A,translateY:h,useTranslate3d:l})):u=Kle,{cssProperties:u,cssClasses:$le({translateX:A,translateY:h,coordinate:t})}}function vP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function rb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(t),!0).forEach(function(n){kj(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):vP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function kj(r,e,t){return(e=Gle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Gle(r){var e=Wle(r,"string");return typeof e=="symbol"?e:e+""}function Wle(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class Yle extends B.PureComponent{constructor(){super(...arguments),kj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),kj(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&t!==void 0?t:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:l,isAnimationActive:c,offset:u,position:A,reverseDirection:h,useTranslate3d:p,viewBox:m,wrapperStyle:y,lastBoundingBox:g,innerRef:v,hasPortalFromProps:b}=this.props,{cssClasses:N,cssProperties:C}=qle({allowEscapeViewBox:t,coordinate:i,offsetTopLeft:u,position:A,reverseDirection:h,tooltipBox:{height:g.height,width:g.width},useTranslate3d:p,viewBox:m}),E=b?{}:rb(rb({transition:c&&e?"transform ".concat(n,"ms ").concat(a):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),_=rb(rb({},E),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},y);return B.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:_,ref:v},s)}}var Xle=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),q0={devToolsEnabled:!1,isSsr:Xle()},gH=()=>fr(r=>r.rootProps.accessibilityLayer);function Yl(r){return Number.isFinite(r)}function Jp(r){return typeof r=="number"&&r>0&&Number.isFinite(r)}function Fj(){return Fj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Fj.apply(null,arguments)}function bP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function wP(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(t),!0).forEach(function(n){Jle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):bP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Jle(r,e,t){return(e=Zle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Zle(r){var e=ece(r,"string");return typeof e=="symbol"?e:e+""}function ece(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var CP={curveBasisClosed:yse,curveBasisOpen:vse,curveBasis:xse,curveBumpX:ase,curveBumpY:sse,curveLinearClosed:bse,curveLinear:bC,curveMonotoneX:wse,curveMonotoneY:Cse,curveNatural:Nse,curveStep:Sse,curveStepAfter:Ese,curveStepBefore:Bse},nb=r=>Yl(r.x)&&Yl(r.y),Ex=r=>r.x,jx=r=>r.y,tce=(r,e)=>{if(typeof r=="function")return r;var t="curve".concat(uv(r));return(t==="curveMonotone"||t==="curveBump")&&e?CP["".concat(t).concat(e==="vertical"?"Y":"X")]:CP[t]||bC},rce=r=>{var{type:e="linear",points:t=[],baseLine:n,layout:a,connectNulls:s=!1}=r,i=tce(e,a),l=s?t.filter(nb):t,c;if(Array.isArray(n)){var u=s?n.filter(h=>nb(h)):n,A=l.map((h,p)=>wP(wP({},h),{},{base:u[p]}));return a==="vertical"?c=W1().y(jx).x1(Ex).x0(h=>h.base.x):c=W1().x(Ex).y1(jx).y0(h=>h.base.y),c.defined(nb).curve(i),c(A)}return a==="vertical"&&xr(n)?c=W1().y(jx).x1(Ex).x0(n):xr(n)?c=W1().x(Ex).y1(jx).y0(n):c=uQ().x(Ex).y(jx),c.defined(nb).curve(i),c(l)},xH=r=>{var{className:e,points:t,path:n,pathRef:a}=r;if((!t||!t.length)&&!n)return null;var s=t&&t.length?rce(r):n;return B.createElement("path",Fj({},mf(r),Kae(r),{className:An("recharts-curve",e),d:s===null?void 0:s,ref:a}))},nce=["x","y","top","left","width","height","className"];function Oj(){return Oj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Oj.apply(null,arguments)}function NP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function ace(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(t),!0).forEach(function(n){sce(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):NP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function sce(r,e,t){return(e=ice(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ice(r){var e=oce(r,"string");return typeof e=="symbol"?e:e+""}function oce(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function lce(r,e){if(r==null)return{};var t,n,a=cce(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function cce(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var uce=(r,e,t,n,a,s)=>"M".concat(r,",").concat(a,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(t),dce=r=>{var{x:e=0,y:t=0,top:n=0,left:a=0,width:s=0,height:i=0,className:l}=r,c=lce(r,nce),u=ace({x:e,y:t,top:n,left:a,width:s,height:i},c);return!xr(e)||!xr(t)||!xr(s)||!xr(i)||!xr(n)||!xr(a)?null:B.createElement("path",Oj({},ti(u,!0),{className:An("recharts-cross",l),d:uce(e,t,s,i,n,a)}))};function Ace(r,e,t,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?e.x-a:t.left+.5,y:r==="horizontal"?t.top+.5:e.y-a,width:r==="horizontal"?n:t.width-1,height:r==="horizontal"?t.height-1:n}}function SP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function hce(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(t),!0).forEach(function(n){fce(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):SP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function fce(r,e,t){return(e=mce(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function mce(r){var e=pce(r,"string");return typeof e=="symbol"?e:e+""}function pce(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Io(r,e){var t=hce({},r),n=e,a=Object.keys(e),s=a.reduce((i,l)=>(i[l]===void 0&&n[l]!==void 0&&(i[l]=n[l]),i),t);return s}function gce(){}function BP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function EP(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(t),!0).forEach(function(n){xce(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):BP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function xce(r,e,t){return(e=yce(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function yce(r){var e=vce(r,"string");return typeof e=="symbol"?e:e+""}function vce(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var bce=r=>r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),yH=(r,e,t)=>r.map(n=>"".concat(bce(n)," ").concat(e,"ms ").concat(t)).join(","),wce=(r,e)=>[Object.keys(r),Object.keys(e)].reduce((t,n)=>t.filter(a=>n.includes(a))),_y=(r,e)=>Object.keys(e).reduce((t,n)=>EP(EP({},t),{},{[n]:r(n,e[n])}),{});function jP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ri(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(t),!0).forEach(function(n){Cce(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):jP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Cce(r,e,t){return(e=Nce(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Nce(r){var e=Sce(r,"string");return typeof e=="symbol"?e:e+""}function Sce(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Jw=(r,e,t)=>r+(e-r)*t,Dj=r=>{var{from:e,to:t}=r;return e!==t},vH=(r,e,t)=>{var n=_y((a,s)=>{if(Dj(s)){var[i,l]=r(s.from,s.to,s.velocity);return Ri(Ri({},s),{},{from:i,velocity:l})}return s},e);return t<1?_y((a,s)=>Dj(s)?Ri(Ri({},s),{},{velocity:Jw(s.velocity,n[a].velocity,t),from:Jw(s.from,n[a].from,t)}):s,e):vH(r,n,t-1)};function Bce(r,e,t,n,a,s){var i,l=n.reduce((p,m)=>Ri(Ri({},p),{},{[m]:{from:r[m],velocity:0,to:e[m]}}),{}),c=()=>_y((p,m)=>m.from,l),u=()=>!Object.values(l).filter(Dj).length,A=null,h=p=>{i||(i=p);var m=p-i,y=m/t.dt;l=vH(t,l,y),a(Ri(Ri(Ri({},r),e),c())),i=p,u()||(A=s.setTimeout(h))};return()=>(A=s.setTimeout(h),()=>{A()})}function Ece(r,e,t,n,a,s,i){var l=null,c=a.reduce((h,p)=>Ri(Ri({},h),{},{[p]:[r[p],e[p]]}),{}),u,A=h=>{u||(u=h);var p=(h-u)/n,m=_y((g,v)=>Jw(...v,t(p)),c);if(s(Ri(Ri(Ri({},r),e),m)),p<1)l=i.setTimeout(A);else{var y=_y((g,v)=>Jw(...v,t(1)),c);s(Ri(Ri(Ri({},r),e),y))}};return()=>(l=i.setTimeout(A),()=>{l()})}const jce=(r,e,t,n,a,s)=>{var i=wce(r,e);return t.isStepper===!0?Bce(r,e,t,i,a,s):Ece(r,e,t,n,i,a,s)};var Zw=1e-4,bH=(r,e)=>[0,3*r,3*e-6*r,3*r-3*e+1],wH=(r,e)=>r.map((t,n)=>t*e**n).reduce((t,n)=>t+n),_P=(r,e)=>t=>{var n=bH(r,e);return wH(n,t)},_ce=(r,e)=>t=>{var n=bH(r,e),a=[...n.map((s,i)=>s*i).slice(1),0];return wH(a,t)},TP=function(){for(var e,t,n,a,s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];if(i.length===1)switch(i[0]){case"linear":[e,n,t,a]=[0,0,1,1];break;case"ease":[e,n,t,a]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,a]=[.42,0,1,1];break;case"ease-out":[e,n,t,a]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,a]=[0,0,.58,1];break;default:{var c=i[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,n,t,a]=c[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else i.length===4&&([e,n,t,a]=i);var u=_P(e,t),A=_P(n,a),h=_ce(e,t),p=y=>y>1?1:y<0?0:y,m=y=>{for(var g=y>1?1:y,v=g,b=0;b<8;++b){var N=u(v)-g,C=h(v);if(Math.abs(N-g)<Zw||C<Zw)return A(v);v=p(v-N/C)}return A(v)};return m.isStepper=!1,m},Tce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:a=17}=e,s=(i,l,c)=>{var u=-(i-l)*t,A=c*n,h=c+(u-A)*a/1e3,p=c*a/1e3+i;return Math.abs(p-l)<Zw&&Math.abs(h)<Zw?[l,0]:[p,h]};return s.isStepper=!0,s.dt=a,s},kce=r=>{if(typeof r=="string")switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TP(r);case"spring":return Tce();default:if(r.split("(")[0]==="cubic-bezier")return TP(r)}return typeof r=="function"?r:null};function Fce(r){var e,t=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var l=i,[c,...u]=l;if(typeof c=="number"){a=r.setTimeout(s.bind(null,u),c);return}s(c),a=r.setTimeout(s.bind(null,u));return}typeof i=="string"&&(e=i,t(e)),typeof i=="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(t=i,()=>{t=()=>null}),getTimeoutController:()=>r}}class Oce{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=t?e(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{cancelAnimationFrame(a)}}}function Dce(){return Fce(new Oce)}var Pce=B.createContext(Dce);function Ice(r,e){var t=B.useContext(Pce);return B.useMemo(()=>e??t(r),[r,e,t])}var Lce={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},kP={t:0},cB={t:1};function DC(r){var e=Io(r,Lce),{isActive:t,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:l,onAnimationStart:c,children:u}=e,A=Ice(e.animationId,e.animationManager),[h,p]=B.useState(t?kP:cB),m=B.useRef(null);return B.useEffect(()=>{t||p(cB)},[t]),B.useEffect(()=>{if(!t||!n)return gce;var y=jce(kP,cB,kce(s),a,p,A.getTimeoutController()),g=()=>{m.current=y()};return A.start([c,i,g,a,l]),()=>{A.stop(),m.current&&m.current(),l()}},[t,n,a,s,i,c,l,A]),u(h.t)}function PC(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=B.useRef(Sy(e)),n=B.useRef(r);return n.current!==r&&(t.current=Sy(e),n.current=r),t.current}function FP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function OP(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(t),!0).forEach(function(n){Mce(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):FP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Mce(r,e,t){return(e=Rce(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Rce(r){var e=Uce(r,"string");return typeof e=="symbol"?e:e+""}function Uce(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function e2(){return e2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},e2.apply(null,arguments)}var DP=(r,e,t,n,a)=>{var s=Math.min(Math.abs(t)/2,Math.abs(n)/2),i=n>=0?1:-1,l=t>=0?1:-1,c=n>=0&&t>=0||n<0&&t<0?1:0,u;if(s>0&&a instanceof Array){for(var A=[0,0,0,0],h=0,p=4;h<p;h++)A[h]=a[h]>s?s:a[h];u="M".concat(r,",").concat(e+i*A[0]),A[0]>0&&(u+="A ".concat(A[0],",").concat(A[0],",0,0,").concat(c,",").concat(r+l*A[0],",").concat(e)),u+="L ".concat(r+t-l*A[1],",").concat(e),A[1]>0&&(u+="A ".concat(A[1],",").concat(A[1],",0,0,").concat(c,`,
        `).concat(r+t,",").concat(e+i*A[1])),u+="L ".concat(r+t,",").concat(e+n-i*A[2]),A[2]>0&&(u+="A ".concat(A[2],",").concat(A[2],",0,0,").concat(c,`,
        `).concat(r+t-l*A[2],",").concat(e+n)),u+="L ".concat(r+l*A[3],",").concat(e+n),A[3]>0&&(u+="A ".concat(A[3],",").concat(A[3],",0,0,").concat(c,`,
        `).concat(r,",").concat(e+n-i*A[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);u="M ".concat(r,",").concat(e+i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(r+l*m,",").concat(e,`
            L `).concat(r+t-l*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(r+t,",").concat(e+i*m,`
            L `).concat(r+t,",").concat(e+n-i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(r+t-l*m,",").concat(e+n,`
            L `).concat(r+l*m,",").concat(e+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(r,",").concat(e+n-i*m," Z")}else u="M ".concat(r,",").concat(e," h ").concat(t," v ").concat(n," h ").concat(-t," Z");return u},Qce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CH=r=>{var e=Io(r,Qce),t=B.useRef(null),[n,a]=B.useState(-1);B.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var K=t.current.getTotalLength();K&&a(K)}catch{}},[]);var{x:s,y:i,width:l,height:c,radius:u,className:A}=e,{animationEasing:h,animationDuration:p,animationBegin:m,isAnimationActive:y,isUpdateAnimationActive:g}=e,v=B.useRef(l),b=B.useRef(c),N=B.useRef(s),C=B.useRef(i),E=B.useMemo(()=>({x:s,y:i,width:l,height:c,radius:u}),[s,i,l,c,u]),_=PC(E,"rectangle-");if(s!==+s||i!==+i||l!==+l||c!==+c||l===0||c===0)return null;var P=An("recharts-rectangle",A);if(!g)return B.createElement("path",e2({},ti(e,!0),{className:P,d:DP(s,i,l,c,u)}));var O=v.current,D=b.current,k=N.current,H=C.current,L="0px ".concat(n===-1?1:n,"px"),Q="".concat(n,"px 0px"),R=yH(["strokeDasharray"],p,typeof h=="string"?h:void 0);return B.createElement(DC,{animationId:_,key:_,canBegin:n>0,duration:p,easing:h,isActive:g,begin:m},K=>{var ee=Qi(O,l,K),X=Qi(D,c,K),ae=Qi(k,s,K),Y=Qi(H,i,K);t.current&&(v.current=ee,b.current=X,N.current=ae,C.current=Y);var de;return y?K>0?de={transition:R,strokeDasharray:Q}:de={strokeDasharray:L}:de={strokeDasharray:Q},B.createElement("path",e2({},ti(e,!0),{className:P,d:DP(ae,Y,ee,X,u),ref:t,style:OP(OP({},de),e.style)}))})};function NH(r){var{cx:e,cy:t,radius:n,startAngle:a,endAngle:s}=r,i=Ps(e,t,n,a),l=Ps(e,t,n,s);return{points:[i,l],cx:e,cy:t,radius:n,startAngle:a,endAngle:s}}function Pj(){return Pj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Pj.apply(null,arguments)}var Hce=(r,e)=>{var t=gi(e-r),n=Math.min(Math.abs(e-r),359.999);return t*n},ab=r=>{var{cx:e,cy:t,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:l,cornerIsExternal:c}=r,u=l*(i?1:-1)+n,A=Math.asin(l/u)/Xw,h=c?a:a+s*A,p=Ps(e,t,u,h),m=Ps(e,t,n,h),y=c?a-s*A:a,g=Ps(e,t,u*Math.cos(A*Xw),y);return{center:p,circleTangency:m,lineTangency:g,theta:A}},SH=r=>{var{cx:e,cy:t,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=r,l=Hce(s,i),c=s+l,u=Ps(e,t,a,s),A=Ps(e,t,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(A.x,",").concat(A.y,`
  `);if(n>0){var p=Ps(e,t,n,s),m=Ps(e,t,n,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(e,",").concat(t," Z");return h},zce=r=>{var{cx:e,cy:t,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:l,startAngle:c,endAngle:u}=r,A=gi(u-c),{circleTangency:h,lineTangency:p,theta:m}=ab({cx:e,cy:t,radius:a,angle:c,sign:A,cornerRadius:s,cornerIsExternal:l}),{circleTangency:y,lineTangency:g,theta:v}=ab({cx:e,cy:t,radius:a,angle:u,sign:-A,cornerRadius:s,cornerIsExternal:l}),b=l?Math.abs(c-u):Math.abs(c-u)-m-v;if(b<0)return i?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):SH({cx:e,cy:t,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var N="M ".concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(A<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(A<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(A<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:C,lineTangency:E,theta:_}=ab({cx:e,cy:t,radius:n,angle:c,sign:A,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:P,lineTangency:O,theta:D}=ab({cx:e,cy:t,radius:n,angle:u,sign:-A,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=l?Math.abs(c-u):Math.abs(c-u)-_-D;if(k<0&&s===0)return"".concat(N,"L").concat(e,",").concat(t,"Z");N+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(A<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(k>180),",").concat(+(A>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(A<0),",").concat(E.x,",").concat(E.y,"Z")}else N+="L".concat(e,",").concat(t,"Z");return N},Kce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},BH=r=>{var e=Io(r,Kce),{cx:t,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:A,className:h}=e;if(s<a||u===A)return null;var p=An("recharts-sector",h),m=s-a,y=co(i,m,0,!0),g;return y>0&&Math.abs(u-A)<360?g=zce({cx:t,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:A}):g=SH({cx:t,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:A}),B.createElement("path",Pj({},ti(e,!0),{className:p,d:g}))};function $ce(r,e,t){var n,a,s,i;if(r==="horizontal")n=e.x,s=n,a=t.top,i=t.top+t.height;else if(r==="vertical")a=e.y,i=a,n=t.left,s=t.left+t.width;else if(e.cx!=null&&e.cy!=null)if(r==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:A,angle:h}=e,p=Ps(l,c,u,h),m=Ps(l,c,A,h);n=p.x,a=p.y,s=m.x,i=m.y}else return NH(e);return[{x:n,y:a},{x:s,y:i}]}var uB={},dB={},AB={},PP;function Vce(){return PP||(PP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=FQ();function t(n){return e.isSymbol(n)?NaN:Number(n)}r.toNumber=t})(AB)),AB}var IP;function qce(){return IP||(IP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Vce();function t(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}r.toFinite=t})(dB)),dB}var LP;function Gce(){return LP||(LP=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=OQ(),t=qce();function n(a,s,i){i&&typeof i!="number"&&e.isIterateeCall(a,s,i)&&(s=i=void 0),a=t.toFinite(a),s===void 0?(s=a,a=0):s=t.toFinite(s),i=i===void 0?a<s?1:-1:t.toFinite(i);const l=Math.max(Math.ceil((s-a)/(i||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=i;return c}r.range=n})(uB)),uB}var hB,MP;function Wce(){return MP||(MP=1,hB=Gce().range),hB}var Yce=Wce();const EH=Pc(Yce);function qh(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function Xce(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function eT(r){let e,t,n;r.length!==2?(e=qh,t=(l,c)=>qh(r(l),c),n=(l,c)=>r(l)-c):(e=r===qh||r===Xce?r:Jce,t=r,n=r);function a(l,c,u=0,A=l.length){if(u<A){if(e(c,c)!==0)return A;do{const h=u+A>>>1;t(l[h],c)<0?u=h+1:A=h}while(u<A)}return u}function s(l,c,u=0,A=l.length){if(u<A){if(e(c,c)!==0)return A;do{const h=u+A>>>1;t(l[h],c)<=0?u=h+1:A=h}while(u<A)}return u}function i(l,c,u=0,A=l.length){const h=a(l,c,u,A-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:a,center:i,right:s}}function Jce(){return 0}function jH(r){return r===null?NaN:+r}function*Zce(r,e){for(let t of r)t!=null&&(t=+t)>=t&&(yield t)}const eue=eT(qh),mv=eue.right;eT(jH).center;class RP extends Map{constructor(e,t=nue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(UP(this,e))}has(e){return super.has(UP(this,e))}set(e,t){return super.set(tue(this,e),t)}delete(e){return super.delete(rue(this,e))}}function UP({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):t}function tue({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):(r.set(n,t),t)}function rue({_intern:r,_key:e},t){const n=e(t);return r.has(n)&&(t=r.get(n),r.delete(n)),t}function nue(r){return r!==null&&typeof r=="object"?r.valueOf():r}function aue(r=qh){if(r===qh)return _H;if(typeof r!="function")throw new TypeError("compare is not a function");return(e,t)=>{const n=r(e,t);return n||n===0?n:(r(t,t)===0)-(r(e,e)===0)}}function _H(r,e){return(r==null||!(r>=r))-(e==null||!(e>=e))||(r<e?-1:r>e?1:0)}const sue=Math.sqrt(50),iue=Math.sqrt(10),oue=Math.sqrt(2);function t2(r,e,t){const n=(e-r)/Math.max(0,t),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=sue?10:s>=iue?5:s>=oue?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(r*u),c=Math.round(e*u),l/u<r&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(r/u),c=Math.round(e/u),l*u<r&&++l,c*u>e&&--c),c<l&&.5<=t&&t<2?t2(r,e,t*2):[l,c,u]}function Ij(r,e,t){if(e=+e,r=+r,t=+t,!(t>0))return[];if(r===e)return[r];const n=e<r,[a,s,i]=n?t2(e,r,t):t2(r,e,t);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function Lj(r,e,t){return e=+e,r=+r,t=+t,t2(r,e,t)[2]}function Mj(r,e,t){e=+e,r=+r,t=+t;const n=e<r,a=n?Lj(e,r,t):Lj(r,e,t);return(n?-1:1)*(a<0?1/-a:a)}function QP(r,e){let t;for(const n of r)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);return t}function HP(r,e){let t;for(const n of r)n!=null&&(t>n||t===void 0&&n>=n)&&(t=n);return t}function TH(r,e,t=0,n=1/0,a){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),n=Math.floor(Math.min(r.length-1,n)),!(t<=e&&e<=n))return r;for(a=a===void 0?_H:aue(a);n>t;){if(n-t>600){const c=n-t+1,u=e-t+1,A=Math.log(c),h=.5*Math.exp(2*A/3),p=.5*Math.sqrt(A*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(t,Math.floor(e-u*h/c+p)),y=Math.min(n,Math.floor(e+(c-u)*h/c+p));TH(r,e,m,y,a)}const s=r[e];let i=t,l=n;for(_x(r,t,e),a(r[n],s)>0&&_x(r,t,n);i<l;){for(_x(r,i,l),++i,--l;a(r[i],s)<0;)++i;for(;a(r[l],s)>0;)--l}a(r[t],s)===0?_x(r,t,l):(++l,_x(r,l,n)),l<=e&&(t=l+1),e<=l&&(n=l-1)}return r}function _x(r,e,t){const n=r[e];r[e]=r[t],r[t]=n}function lue(r,e,t){if(r=Float64Array.from(Zce(r)),!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return HP(r);if(e>=1)return QP(r);var n,a=(n-1)*e,s=Math.floor(a),i=QP(TH(r,s).subarray(0,s+1)),l=HP(r.subarray(s+1));return i+(l-i)*(a-s)}}function cue(r,e,t=jH){if(!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return+t(r[0],0,r);if(e>=1)return+t(r[n-1],n-1,r);var n,a=(n-1)*e,s=Math.floor(a),i=+t(r[s],s,r),l=+t(r[s+1],s+1,r);return i+(l-i)*(a-s)}}function uue(r,e,t){r=+r,e=+e,t=(a=arguments.length)<2?(e=r,r=0,1):a<3?1:+t;for(var n=-1,a=Math.max(0,Math.ceil((e-r)/t))|0,s=new Array(a);++n<a;)s[n]=r+n*t;return s}function Mc(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function UA(r,e){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Rj=Symbol("implicit");function tT(){var r=new RP,e=[],t=[],n=Rj;function a(s){let i=r.get(s);if(i===void 0){if(n!==Rj)return n;r.set(s,i=e.push(s)-1)}return t[i%t.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],r=new RP;for(const i of s)r.has(i)||r.set(i,e.push(i)-1);return a},a.range=function(s){return arguments.length?(t=Array.from(s),a):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return tT(e,t).unknown(n)},Mc.apply(a,arguments),a}function rT(){var r=tT().unknown(void 0),e=r.domain,t=r.range,n=0,a=1,s,i,l=!1,c=0,u=0,A=.5;delete r.unknown;function h(){var p=e().length,m=a<n,y=m?a:n,g=m?n:a;s=(g-y)/Math.max(1,p-c+u*2),l&&(s=Math.floor(s)),y+=(g-y-s*(p-c))*A,i=s*(1-c),l&&(y=Math.round(y),i=Math.round(i));var v=uue(p).map(function(b){return y+s*b});return t(m?v.reverse():v)}return r.domain=function(p){return arguments.length?(e(p),h()):e()},r.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,h()):[n,a]},r.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,l=!0,h()},r.bandwidth=function(){return i},r.step=function(){return s},r.round=function(p){return arguments.length?(l=!!p,h()):l},r.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),h()):c},r.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),h()):c},r.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},r.align=function(p){return arguments.length?(A=Math.max(0,Math.min(1,p)),h()):A},r.copy=function(){return rT(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(A)},Mc.apply(h(),arguments)}function kH(r){var e=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return kH(e())},r}function due(){return kH(rT.apply(null,arguments).paddingInner(1))}function nT(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function FH(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function pv(){}var Ty=.7,r2=1/Ty,Tp="\\s*([+-]?\\d+)\\s*",ky="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Aue=/^#([0-9a-f]{3,8})$/,hue=new RegExp(`^rgb\\(${Tp},${Tp},${Tp}\\)$`),fue=new RegExp(`^rgb\\(${wd},${wd},${wd}\\)$`),mue=new RegExp(`^rgba\\(${Tp},${Tp},${Tp},${ky}\\)$`),pue=new RegExp(`^rgba\\(${wd},${wd},${wd},${ky}\\)$`),gue=new RegExp(`^hsl\\(${ky},${wd},${wd}\\)$`),xue=new RegExp(`^hsla\\(${ky},${wd},${wd},${ky}\\)$`),zP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nT(pv,Fy,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:KP,formatHex:KP,formatHex8:yue,formatHsl:vue,formatRgb:$P,toString:$P});function KP(){return this.rgb().formatHex()}function yue(){return this.rgb().formatHex8()}function vue(){return OH(this).formatHsl()}function $P(){return this.rgb().formatRgb()}function Fy(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=Aue.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?VP(e):t===3?new ll(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?sb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?sb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hue.exec(r))?new ll(e[1],e[2],e[3],1):(e=fue.exec(r))?new ll(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mue.exec(r))?sb(e[1],e[2],e[3],e[4]):(e=pue.exec(r))?sb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gue.exec(r))?WP(e[1],e[2]/100,e[3]/100,1):(e=xue.exec(r))?WP(e[1],e[2]/100,e[3]/100,e[4]):zP.hasOwnProperty(r)?VP(zP[r]):r==="transparent"?new ll(NaN,NaN,NaN,0):null}function VP(r){return new ll(r>>16&255,r>>8&255,r&255,1)}function sb(r,e,t,n){return n<=0&&(r=e=t=NaN),new ll(r,e,t,n)}function bue(r){return r instanceof pv||(r=Fy(r)),r?(r=r.rgb(),new ll(r.r,r.g,r.b,r.opacity)):new ll}function Uj(r,e,t,n){return arguments.length===1?bue(r):new ll(r,e,t,n??1)}function ll(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}nT(ll,Uj,FH(pv,{brighter(r){return r=r==null?r2:Math.pow(r2,r),new ll(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?Ty:Math.pow(Ty,r),new ll(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new ll(C0(this.r),C0(this.g),C0(this.b),n2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qP,formatHex:qP,formatHex8:wue,formatRgb:GP,toString:GP}));function qP(){return`#${A0(this.r)}${A0(this.g)}${A0(this.b)}`}function wue(){return`#${A0(this.r)}${A0(this.g)}${A0(this.b)}${A0((isNaN(this.opacity)?1:this.opacity)*255)}`}function GP(){const r=n2(this.opacity);return`${r===1?"rgb(":"rgba("}${C0(this.r)}, ${C0(this.g)}, ${C0(this.b)}${r===1?")":`, ${r})`}`}function n2(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function C0(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function A0(r){return r=C0(r),(r<16?"0":"")+r.toString(16)}function WP(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new vu(r,e,t,n)}function OH(r){if(r instanceof vu)return new vu(r.h,r.s,r.l,r.opacity);if(r instanceof pv||(r=Fy(r)),!r)return new vu;if(r instanceof vu)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,a=Math.min(e,t,n),s=Math.max(e,t,n),i=NaN,l=s-a,c=(s+a)/2;return l?(e===s?i=(t-n)/l+(t<n)*6:t===s?i=(n-e)/l+2:i=(e-t)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new vu(i,l,c,r.opacity)}function Cue(r,e,t,n){return arguments.length===1?OH(r):new vu(r,e,t,n??1)}function vu(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}nT(vu,Cue,FH(pv,{brighter(r){return r=r==null?r2:Math.pow(r2,r),new vu(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?Ty:Math.pow(Ty,r),new vu(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,a=2*t-n;return new ll(fB(r>=240?r-240:r+120,a,n),fB(r,a,n),fB(r<120?r+240:r-120,a,n),this.opacity)},clamp(){return new vu(YP(this.h),ib(this.s),ib(this.l),n2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=n2(this.opacity);return`${r===1?"hsl(":"hsla("}${YP(this.h)}, ${ib(this.s)*100}%, ${ib(this.l)*100}%${r===1?")":`, ${r})`}`}}));function YP(r){return r=(r||0)%360,r<0?r+360:r}function ib(r){return Math.max(0,Math.min(1,r||0))}function fB(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const aT=r=>()=>r;function Nue(r,e){return function(t){return r+t*e}}function Sue(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function Bue(r){return(r=+r)==1?DH:function(e,t){return t-e?Sue(e,t,r):aT(isNaN(e)?t:e)}}function DH(r,e){var t=e-r;return t?Nue(r,t):aT(isNaN(r)?e:r)}const XP=(function r(e){var t=Bue(e);function n(a,s){var i=t((a=Uj(a)).r,(s=Uj(s)).r),l=t(a.g,s.g),c=t(a.b,s.b),u=DH(a.opacity,s.opacity);return function(A){return a.r=i(A),a.g=l(A),a.b=c(A),a.opacity=u(A),a+""}}return n.gamma=r,n})(1);function Eue(r,e){e||(e=[]);var t=r?Math.min(e.length,r.length):0,n=e.slice(),a;return function(s){for(a=0;a<t;++a)n[a]=r[a]*(1-s)+e[a]*s;return n}}function jue(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function _ue(r,e){var t=e?e.length:0,n=r?Math.min(t,r.length):0,a=new Array(n),s=new Array(t),i;for(i=0;i<n;++i)a[i]=wg(r[i],e[i]);for(;i<t;++i)s[i]=e[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function Tue(r,e){var t=new Date;return r=+r,e=+e,function(n){return t.setTime(r*(1-n)+e*n),t}}function a2(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}function kue(r,e){var t={},n={},a;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in r?t[a]=wg(r[a],e[a]):n[a]=e[a];return function(s){for(a in t)n[a]=t[a](s);return n}}var Qj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mB=new RegExp(Qj.source,"g");function Fue(r){return function(){return r}}function Oue(r){return function(e){return r(e)+""}}function Due(r,e){var t=Qj.lastIndex=mB.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(r=r+"",e=e+"";(n=Qj.exec(r))&&(a=mB.exec(e));)(s=a.index)>t&&(s=e.slice(t,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:a2(n,a)})),t=mB.lastIndex;return t<e.length&&(s=e.slice(t),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?Oue(c[0].x):Fue(e):(e=c.length,function(u){for(var A=0,h;A<e;++A)l[(h=c[A]).i]=h.x(u);return l.join("")})}function wg(r,e){var t=typeof e,n;return e==null||t==="boolean"?aT(e):(t==="number"?a2:t==="string"?(n=Fy(e))?(e=n,XP):Due:e instanceof Fy?XP:e instanceof Date?Tue:jue(e)?Eue:Array.isArray(e)?_ue:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?kue:a2)(r,e)}function sT(r,e){return r=+r,e=+e,function(t){return Math.round(r*(1-t)+e*t)}}function Pue(r,e){e===void 0&&(e=r,r=wg);for(var t=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);t<n;)s[t]=r(a,a=e[++t]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function Iue(r){return function(){return r}}function s2(r){return+r}var JP=[0,1];function jo(r){return r}function Hj(r,e){return(e-=r=+r)?function(t){return(t-r)/e}:Iue(isNaN(e)?NaN:.5)}function Lue(r,e){var t;return r>e&&(t=r,r=e,e=t),function(n){return Math.max(r,Math.min(e,n))}}function Mue(r,e,t){var n=r[0],a=r[1],s=e[0],i=e[1];return a<n?(n=Hj(a,n),s=t(i,s)):(n=Hj(n,a),s=t(s,i)),function(l){return s(n(l))}}function Rue(r,e,t){var n=Math.min(r.length,e.length)-1,a=new Array(n),s=new Array(n),i=-1;for(r[n]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++i<n;)a[i]=Hj(r[i],r[i+1]),s[i]=t(e[i],e[i+1]);return function(l){var c=mv(r,l,1,n)-1;return s[c](a[c](l))}}function gv(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function IC(){var r=JP,e=JP,t=wg,n,a,s,i=jo,l,c,u;function A(){var p=Math.min(r.length,e.length);return i!==jo&&(i=Lue(r[0],r[p-1])),l=p>2?Rue:Mue,c=u=null,h}function h(p){return p==null||isNaN(p=+p)?s:(c||(c=l(r.map(n),e,t)))(n(i(p)))}return h.invert=function(p){return i(a((u||(u=l(e,r.map(n),a2)))(p)))},h.domain=function(p){return arguments.length?(r=Array.from(p,s2),A()):r.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),A()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),t=sT,A()},h.clamp=function(p){return arguments.length?(i=p?!0:jo,A()):i!==jo},h.interpolate=function(p){return arguments.length?(t=p,A()):t},h.unknown=function(p){return arguments.length?(s=p,h):s},function(p,m){return n=p,a=m,A()}}function iT(){return IC()(jo,jo)}function Uue(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function i2(r,e){if((t=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"))<0)return null;var t,n=r.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+r.slice(t+1)]}function Zp(r){return r=i2(Math.abs(r)),r?r[1]:NaN}function Que(r,e){return function(t,n){for(var a=t.length,s=[],i=0,l=r[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(t.substring(a-=l,a+l)),!((c+=l+1)>n));)l=r[i=(i+1)%r.length];return s.reverse().join(e)}}function Hue(r){return function(e){return e.replace(/[0-9]/g,function(t){return r[+t]})}}var zue=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oy(r){if(!(e=zue.exec(r)))throw new Error("invalid format: "+r);var e;return new oT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Oy.prototype=oT.prototype;function oT(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}oT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kue(r){e:for(var e=r.length,t=1,n=-1,a;t<e;++t)switch(r[t]){case".":n=a=t;break;case"0":n===0&&(n=t),a=t;break;default:if(!+r[t])break e;n>0&&(n=0);break}return n>0?r.slice(0,n)+r.slice(a+1):r}var PH;function $ue(r,e){var t=i2(r,e);if(!t)return r+"";var n=t[0],a=t[1],s=a-(PH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+i2(r,Math.max(0,e+s-1))[0]}function ZP(r,e){var t=i2(r,e);if(!t)return r+"";var n=t[0],a=t[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const eI={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:Uue,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>ZP(r*100,e),r:ZP,s:$ue,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function tI(r){return r}var rI=Array.prototype.map,nI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Vue(r){var e=r.grouping===void 0||r.thousands===void 0?tI:Que(rI.call(r.grouping,Number),r.thousands+""),t=r.currency===void 0?"":r.currency[0]+"",n=r.currency===void 0?"":r.currency[1]+"",a=r.decimal===void 0?".":r.decimal+"",s=r.numerals===void 0?tI:Hue(rI.call(r.numerals,String)),i=r.percent===void 0?"%":r.percent+"",l=r.minus===void 0?"":r.minus+"",c=r.nan===void 0?"NaN":r.nan+"";function u(h){h=Oy(h);var p=h.fill,m=h.align,y=h.sign,g=h.symbol,v=h.zero,b=h.width,N=h.comma,C=h.precision,E=h.trim,_=h.type;_==="n"?(N=!0,_="g"):eI[_]||(C===void 0&&(C=12),E=!0,_="g"),(v||p==="0"&&m==="=")&&(v=!0,p="0",m="=");var P=g==="$"?t:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",O=g==="$"?n:/[%p]/.test(_)?i:"",D=eI[_],k=/[defgprs%]/.test(_);C=C===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function H(L){var Q=P,R=O,K,ee,X;if(_==="c")R=D(L)+R,L="";else{L=+L;var ae=L<0||1/L<0;if(L=isNaN(L)?c:D(Math.abs(L),C),E&&(L=Kue(L)),ae&&+L==0&&y!=="+"&&(ae=!1),Q=(ae?y==="("?y:l:y==="-"||y==="("?"":y)+Q,R=(_==="s"?nI[8+PH/3]:"")+R+(ae&&y==="("?")":""),k){for(K=-1,ee=L.length;++K<ee;)if(X=L.charCodeAt(K),48>X||X>57){R=(X===46?a+L.slice(K+1):L.slice(K))+R,L=L.slice(0,K);break}}}N&&!v&&(L=e(L,1/0));var Y=Q.length+L.length+R.length,de=Y<b?new Array(b-Y+1).join(p):"";switch(N&&v&&(L=e(de+L,de.length?b-R.length:1/0),de=""),m){case"<":L=Q+L+R+de;break;case"=":L=Q+de+L+R;break;case"^":L=de.slice(0,Y=de.length>>1)+Q+L+R+de.slice(Y);break;default:L=de+Q+L+R;break}return s(L)}return H.toString=function(){return h+""},H}function A(h,p){var m=u((h=Oy(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(Zp(p)/3)))*3,g=Math.pow(10,-y),v=nI[8+y/3];return function(b){return m(g*b)+v}}return{format:u,formatPrefix:A}}var ob,lT,IH;que({thousands:",",grouping:[3],currency:["$",""]});function que(r){return ob=Vue(r),lT=ob.format,IH=ob.formatPrefix,ob}function Gue(r){return Math.max(0,-Zp(Math.abs(r)))}function Wue(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zp(e)/3)))*3-Zp(Math.abs(r)))}function Yue(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,Zp(e)-Zp(r))+1}function LH(r,e,t,n){var a=Mj(r,e,t),s;switch(n=Oy(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(r),Math.abs(e));return n.precision==null&&!isNaN(s=Wue(a,i))&&(n.precision=s),IH(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Yue(a,Math.max(Math.abs(r),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Gue(a))&&(n.precision=s-(n.type==="%")*2);break}}return lT(n)}function pf(r){var e=r.domain;return r.ticks=function(t){var n=e();return Ij(n[0],n[n.length-1],t??10)},r.tickFormat=function(t,n){var a=e();return LH(a[0],a[a.length-1],t??10,n)},r.nice=function(t){t==null&&(t=10);var n=e(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,A=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);A-- >0;){if(u=Lj(i,l,t),u===c)return n[a]=i,n[s]=l,e(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return r},r}function MH(){var r=iT();return r.copy=function(){return gv(r,MH())},Mc.apply(r,arguments),pf(r)}function RH(r){var e;function t(n){return n==null||isNaN(n=+n)?e:n}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(r=Array.from(n,s2),t):r.slice()},t.unknown=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return RH(r).unknown(e)},r=arguments.length?Array.from(r,s2):[0,1],pf(t)}function UH(r,e){r=r.slice();var t=0,n=r.length-1,a=r[t],s=r[n],i;return s<a&&(i=t,t=n,n=i,i=a,a=s,s=i),r[t]=e.floor(a),r[n]=e.ceil(s),r}function aI(r){return Math.log(r)}function sI(r){return Math.exp(r)}function Xue(r){return-Math.log(-r)}function Jue(r){return-Math.exp(-r)}function Zue(r){return isFinite(r)?+("1e"+r):r<0?0:r}function ede(r){return r===10?Zue:r===Math.E?Math.exp:e=>Math.pow(r,e)}function tde(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),e=>Math.log(e)/r)}function iI(r){return(e,t)=>-r(-e,t)}function cT(r){const e=r(aI,sI),t=e.domain;let n=10,a,s;function i(){return a=tde(n),s=ede(n),t()[0]<0?(a=iI(a),s=iI(s),r(Xue,Jue)):r(aI,sI),e}return e.base=function(l){return arguments.length?(n=+l,i()):n},e.domain=function(l){return arguments.length?(t(l),i()):t()},e.ticks=l=>{const c=t();let u=c[0],A=c[c.length-1];const h=A<u;h&&([u,A]=[A,u]);let p=a(u),m=a(A),y,g;const v=l==null?10:+l;let b=[];if(!(n%1)&&m-p<v){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(y=1;y<n;++y)if(g=p<0?y/s(-p):y*s(p),!(g<u)){if(g>A)break;b.push(g)}}else for(;p<=m;++p)for(y=n-1;y>=1;--y)if(g=p>0?y/s(-p):y*s(p),!(g<u)){if(g>A)break;b.push(g)}b.length*2<v&&(b=Ij(u,A,v))}else b=Ij(p,m,Math.min(m-p,v)).map(s);return h?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Oy(c)).precision==null&&(c.trim=!0),c=lT(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return A=>{let h=A/s(Math.round(a(A)));return h*n<n-.5&&(h*=n),h<=u?c(A):""}},e.nice=()=>t(UH(t(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function QH(){const r=cT(IC()).domain([1,10]);return r.copy=()=>gv(r,QH()).base(r.base()),Mc.apply(r,arguments),r}function oI(r){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/r))}}function lI(r){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*r}}function uT(r){var e=1,t=r(oI(e),lI(e));return t.constant=function(n){return arguments.length?r(oI(e=+n),lI(e)):e},pf(t)}function HH(){var r=uT(IC());return r.copy=function(){return gv(r,HH()).constant(r.constant())},Mc.apply(r,arguments)}function cI(r){return function(e){return e<0?-Math.pow(-e,r):Math.pow(e,r)}}function rde(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function nde(r){return r<0?-r*r:r*r}function dT(r){var e=r(jo,jo),t=1;function n(){return t===1?r(jo,jo):t===.5?r(rde,nde):r(cI(t),cI(1/t))}return e.exponent=function(a){return arguments.length?(t=+a,n()):t},pf(e)}function AT(){var r=dT(IC());return r.copy=function(){return gv(r,AT()).exponent(r.exponent())},Mc.apply(r,arguments),r}function ade(){return AT.apply(null,arguments).exponent(.5)}function uI(r){return Math.sign(r)*r*r}function sde(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function zH(){var r=iT(),e=[0,1],t=!1,n;function a(s){var i=sde(r(s));return isNaN(i)?n:t?Math.round(i):i}return a.invert=function(s){return r.invert(uI(s))},a.domain=function(s){return arguments.length?(r.domain(s),a):r.domain()},a.range=function(s){return arguments.length?(r.range((e=Array.from(s,s2)).map(uI)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(t=!!s,a):t},a.clamp=function(s){return arguments.length?(r.clamp(s),a):r.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return zH(r.domain(),e).round(t).clamp(r.clamp()).unknown(n)},Mc.apply(a,arguments),pf(a)}function KH(){var r=[],e=[],t=[],n;function a(){var i=0,l=Math.max(1,e.length);for(t=new Array(l-1);++i<l;)t[i-1]=cue(r,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:e[mv(t,i)]}return s.invertExtent=function(i){var l=e.indexOf(i);return l<0?[NaN,NaN]:[l>0?t[l-1]:r[0],l<t.length?t[l]:r[r.length-1]]},s.domain=function(i){if(!arguments.length)return r.slice();r=[];for(let l of i)l!=null&&!isNaN(l=+l)&&r.push(l);return r.sort(qh),a()},s.range=function(i){return arguments.length?(e=Array.from(i),a()):e.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return t.slice()},s.copy=function(){return KH().domain(r).range(e).unknown(n)},Mc.apply(s,arguments)}function $H(){var r=0,e=1,t=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[mv(n,c,0,t)]:s}function l(){var c=-1;for(n=new Array(t);++c<t;)n[c]=((c+1)*e-(c-t)*r)/(t+1);return i}return i.domain=function(c){return arguments.length?([r,e]=c,r=+r,e=+e,l()):[r,e]},i.range=function(c){return arguments.length?(t=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[r,n[0]]:u>=t?[n[t-1],e]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return $H().domain([r,e]).range(a).unknown(s)},Mc.apply(pf(i),arguments)}function VH(){var r=[.5],e=[0,1],t,n=1;function a(s){return s!=null&&s<=s?e[mv(r,s,0,n)]:t}return a.domain=function(s){return arguments.length?(r=Array.from(s),n=Math.min(r.length,e.length-1),a):r.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(r.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var i=e.indexOf(s);return[r[i-1],r[i]]},a.unknown=function(s){return arguments.length?(t=s,a):t},a.copy=function(){return VH().domain(r).range(e).unknown(t)},Mc.apply(a,arguments)}const pB=new Date,gB=new Date;function ni(r,e,t,n){function a(s){return r(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(r(s=new Date(+s)),s),a.ceil=s=>(r(s=new Date(s-1)),e(s,1),r(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(e(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),r(s);while(u<s&&s<i);return c},a.filter=s=>ni(i=>{if(i>=i)for(;r(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;e(i,-1),!s(i););else for(;--l>=0;)for(;e(i,1),!s(i););}),t&&(a.count=(s,i)=>(pB.setTime(+s),gB.setTime(+i),r(pB),r(gB),Math.floor(t(pB,gB))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const o2=ni(()=>{},(r,e)=>{r.setTime(+r+e)},(r,e)=>e-r);o2.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?ni(e=>{e.setTime(Math.floor(e/r)*r)},(e,t)=>{e.setTime(+e+t*r)},(e,t)=>(t-e)/r):o2);o2.range;const fA=1e3,_c=fA*60,mA=_c*60,jA=mA*24,hT=jA*7,dI=jA*30,xB=jA*365,h0=ni(r=>{r.setTime(r-r.getMilliseconds())},(r,e)=>{r.setTime(+r+e*fA)},(r,e)=>(e-r)/fA,r=>r.getUTCSeconds());h0.range;const fT=ni(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*fA)},(r,e)=>{r.setTime(+r+e*_c)},(r,e)=>(e-r)/_c,r=>r.getMinutes());fT.range;const mT=ni(r=>{r.setUTCSeconds(0,0)},(r,e)=>{r.setTime(+r+e*_c)},(r,e)=>(e-r)/_c,r=>r.getUTCMinutes());mT.range;const pT=ni(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*fA-r.getMinutes()*_c)},(r,e)=>{r.setTime(+r+e*mA)},(r,e)=>(e-r)/mA,r=>r.getHours());pT.range;const gT=ni(r=>{r.setUTCMinutes(0,0,0)},(r,e)=>{r.setTime(+r+e*mA)},(r,e)=>(e-r)/mA,r=>r.getUTCHours());gT.range;const xv=ni(r=>r.setHours(0,0,0,0),(r,e)=>r.setDate(r.getDate()+e),(r,e)=>(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*_c)/jA,r=>r.getDate()-1);xv.range;const LC=ni(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/jA,r=>r.getUTCDate()-1);LC.range;const qH=ni(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/jA,r=>Math.floor(r/jA));qH.range;function G0(r){return ni(e=>{e.setDate(e.getDate()-(e.getDay()+7-r)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_c)/hT)}const MC=G0(0),l2=G0(1),ide=G0(2),ode=G0(3),eg=G0(4),lde=G0(5),cde=G0(6);MC.range;l2.range;ide.range;ode.range;eg.range;lde.range;cde.range;function W0(r){return ni(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-r)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/hT)}const RC=W0(0),c2=W0(1),ude=W0(2),dde=W0(3),tg=W0(4),Ade=W0(5),hde=W0(6);RC.range;c2.range;ude.range;dde.range;tg.range;Ade.range;hde.range;const xT=ni(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,e)=>{r.setMonth(r.getMonth()+e)},(r,e)=>e.getMonth()-r.getMonth()+(e.getFullYear()-r.getFullYear())*12,r=>r.getMonth());xT.range;const yT=ni(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCMonth(r.getUTCMonth()+e)},(r,e)=>e.getUTCMonth()-r.getUTCMonth()+(e.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());yT.range;const _A=ni(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,e)=>{r.setFullYear(r.getFullYear()+e)},(r,e)=>e.getFullYear()-r.getFullYear(),r=>r.getFullYear());_A.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:ni(e=>{e.setFullYear(Math.floor(e.getFullYear()/r)*r),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*r)});_A.range;const TA=ni(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCFullYear(r.getUTCFullYear()+e)},(r,e)=>e.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());TA.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:ni(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*r)});TA.range;function GH(r,e,t,n,a,s){const i=[[h0,1,fA],[h0,5,5*fA],[h0,15,15*fA],[h0,30,30*fA],[s,1,_c],[s,5,5*_c],[s,15,15*_c],[s,30,30*_c],[a,1,mA],[a,3,3*mA],[a,6,6*mA],[a,12,12*mA],[n,1,jA],[n,2,2*jA],[t,1,hT],[e,1,dI],[e,3,3*dI],[r,1,xB]];function l(u,A,h){const p=A<u;p&&([u,A]=[A,u]);const m=h&&typeof h.range=="function"?h:c(u,A,h),y=m?m.range(u,+A+1):[];return p?y.reverse():y}function c(u,A,h){const p=Math.abs(A-u)/h,m=eT(([,,v])=>v).right(i,p);if(m===i.length)return r.every(Mj(u/xB,A/xB,h));if(m===0)return o2.every(Math.max(Mj(u,A,h),1));const[y,g]=i[p/i[m-1][2]<i[m][2]/p?m-1:m];return y.every(g)}return[l,c]}const[fde,mde]=GH(TA,yT,RC,qH,gT,mT),[pde,gde]=GH(_A,xT,MC,xv,pT,fT);function yB(r){if(0<=r.y&&r.y<100){var e=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return e.setFullYear(r.y),e}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function vB(r){if(0<=r.y&&r.y<100){var e=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function Tx(r,e,t){return{y:r,m:e,d:t,H:0,M:0,S:0,L:0}}function xde(r){var e=r.dateTime,t=r.date,n=r.time,a=r.periods,s=r.days,i=r.shortDays,l=r.months,c=r.shortMonths,u=kx(a),A=Fx(a),h=kx(s),p=Fx(s),m=kx(i),y=Fx(i),g=kx(l),v=Fx(l),b=kx(c),N=Fx(c),C={a:ae,A:Y,b:de,B:pe,c:null,d:gI,e:gI,f:Qde,g:Xde,G:Zde,H:Mde,I:Rde,j:Ude,L:WH,m:Hde,M:zde,p:Z,q:I,Q:vI,s:bI,S:Kde,u:$de,U:Vde,V:qde,w:Gde,W:Wde,x:null,X:null,y:Yde,Y:Jde,Z:eAe,"%":yI},E={a:z,A:V,b:q,B:ne,c:null,d:xI,e:xI,f:aAe,g:fAe,G:pAe,H:tAe,I:rAe,j:nAe,L:XH,m:sAe,M:iAe,p:ce,q:Be,Q:vI,s:bI,S:oAe,u:lAe,U:cAe,V:uAe,w:dAe,W:AAe,x:null,X:null,y:hAe,Y:mAe,Z:gAe,"%":yI},_={a:H,A:L,b:Q,B:R,c:K,d:mI,e:mI,f:Dde,g:fI,G:hI,H:pI,I:pI,j:Tde,L:Ode,m:_de,M:kde,p:k,q:jde,Q:Ide,s:Lde,S:Fde,u:Cde,U:Nde,V:Sde,w:wde,W:Bde,x:ee,X,y:fI,Y:hI,Z:Ede,"%":Pde};C.x=P(t,C),C.X=P(n,C),C.c=P(e,C),E.x=P(t,E),E.X=P(n,E),E.c=P(e,E);function P(Ae,ye){return function(Pe){var je=[],Se=-1,Te=0,J=Ae.length,Le,He,Je;for(Pe instanceof Date||(Pe=new Date(+Pe));++Se<J;)Ae.charCodeAt(Se)===37&&(je.push(Ae.slice(Te,Se)),(He=AI[Le=Ae.charAt(++Se)])!=null?Le=Ae.charAt(++Se):He=Le==="e"?" ":"0",(Je=ye[Le])&&(Le=Je(Pe,He)),je.push(Le),Te=Se+1);return je.push(Ae.slice(Te,Se)),je.join("")}}function O(Ae,ye){return function(Pe){var je=Tx(1900,void 0,1),Se=D(je,Ae,Pe+="",0),Te,J;if(Se!=Pe.length)return null;if("Q"in je)return new Date(je.Q);if("s"in je)return new Date(je.s*1e3+("L"in je?je.L:0));if(ye&&!("Z"in je)&&(je.Z=0),"p"in je&&(je.H=je.H%12+je.p*12),je.m===void 0&&(je.m="q"in je?je.q:0),"V"in je){if(je.V<1||je.V>53)return null;"w"in je||(je.w=1),"Z"in je?(Te=vB(Tx(je.y,0,1)),J=Te.getUTCDay(),Te=J>4||J===0?c2.ceil(Te):c2(Te),Te=LC.offset(Te,(je.V-1)*7),je.y=Te.getUTCFullYear(),je.m=Te.getUTCMonth(),je.d=Te.getUTCDate()+(je.w+6)%7):(Te=yB(Tx(je.y,0,1)),J=Te.getDay(),Te=J>4||J===0?l2.ceil(Te):l2(Te),Te=xv.offset(Te,(je.V-1)*7),je.y=Te.getFullYear(),je.m=Te.getMonth(),je.d=Te.getDate()+(je.w+6)%7)}else("W"in je||"U"in je)&&("w"in je||(je.w="u"in je?je.u%7:"W"in je?1:0),J="Z"in je?vB(Tx(je.y,0,1)).getUTCDay():yB(Tx(je.y,0,1)).getDay(),je.m=0,je.d="W"in je?(je.w+6)%7+je.W*7-(J+5)%7:je.w+je.U*7-(J+6)%7);return"Z"in je?(je.H+=je.Z/100|0,je.M+=je.Z%100,vB(je)):yB(je)}}function D(Ae,ye,Pe,je){for(var Se=0,Te=ye.length,J=Pe.length,Le,He;Se<Te;){if(je>=J)return-1;if(Le=ye.charCodeAt(Se++),Le===37){if(Le=ye.charAt(Se++),He=_[Le in AI?ye.charAt(Se++):Le],!He||(je=He(Ae,Pe,je))<0)return-1}else if(Le!=Pe.charCodeAt(je++))return-1}return je}function k(Ae,ye,Pe){var je=u.exec(ye.slice(Pe));return je?(Ae.p=A.get(je[0].toLowerCase()),Pe+je[0].length):-1}function H(Ae,ye,Pe){var je=m.exec(ye.slice(Pe));return je?(Ae.w=y.get(je[0].toLowerCase()),Pe+je[0].length):-1}function L(Ae,ye,Pe){var je=h.exec(ye.slice(Pe));return je?(Ae.w=p.get(je[0].toLowerCase()),Pe+je[0].length):-1}function Q(Ae,ye,Pe){var je=b.exec(ye.slice(Pe));return je?(Ae.m=N.get(je[0].toLowerCase()),Pe+je[0].length):-1}function R(Ae,ye,Pe){var je=g.exec(ye.slice(Pe));return je?(Ae.m=v.get(je[0].toLowerCase()),Pe+je[0].length):-1}function K(Ae,ye,Pe){return D(Ae,e,ye,Pe)}function ee(Ae,ye,Pe){return D(Ae,t,ye,Pe)}function X(Ae,ye,Pe){return D(Ae,n,ye,Pe)}function ae(Ae){return i[Ae.getDay()]}function Y(Ae){return s[Ae.getDay()]}function de(Ae){return c[Ae.getMonth()]}function pe(Ae){return l[Ae.getMonth()]}function Z(Ae){return a[+(Ae.getHours()>=12)]}function I(Ae){return 1+~~(Ae.getMonth()/3)}function z(Ae){return i[Ae.getUTCDay()]}function V(Ae){return s[Ae.getUTCDay()]}function q(Ae){return c[Ae.getUTCMonth()]}function ne(Ae){return l[Ae.getUTCMonth()]}function ce(Ae){return a[+(Ae.getUTCHours()>=12)]}function Be(Ae){return 1+~~(Ae.getUTCMonth()/3)}return{format:function(Ae){var ye=P(Ae+="",C);return ye.toString=function(){return Ae},ye},parse:function(Ae){var ye=O(Ae+="",!1);return ye.toString=function(){return Ae},ye},utcFormat:function(Ae){var ye=P(Ae+="",E);return ye.toString=function(){return Ae},ye},utcParse:function(Ae){var ye=O(Ae+="",!0);return ye.toString=function(){return Ae},ye}}}var AI={"-":"",_:" ",0:"0"},Ci=/^\s*\d+/,yde=/^%/,vde=/[\\^$*+?|[\]().{}]/g;function bn(r,e,t){var n=r<0?"-":"",a=(n?-r:r)+"",s=a.length;return n+(s<t?new Array(t-s+1).join(e)+a:a)}function bde(r){return r.replace(vde,"\\$&")}function kx(r){return new RegExp("^(?:"+r.map(bde).join("|")+")","i")}function Fx(r){return new Map(r.map((e,t)=>[e.toLowerCase(),t]))}function wde(r,e,t){var n=Ci.exec(e.slice(t,t+1));return n?(r.w=+n[0],t+n[0].length):-1}function Cde(r,e,t){var n=Ci.exec(e.slice(t,t+1));return n?(r.u=+n[0],t+n[0].length):-1}function Nde(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.U=+n[0],t+n[0].length):-1}function Sde(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.V=+n[0],t+n[0].length):-1}function Bde(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.W=+n[0],t+n[0].length):-1}function hI(r,e,t){var n=Ci.exec(e.slice(t,t+4));return n?(r.y=+n[0],t+n[0].length):-1}function fI(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.y=+n[0]+(+n[0]>68?1900:2e3),t+n[0].length):-1}function Ede(r,e,t){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return n?(r.Z=n[1]?0:-(n[2]+(n[3]||"00")),t+n[0].length):-1}function jde(r,e,t){var n=Ci.exec(e.slice(t,t+1));return n?(r.q=n[0]*3-3,t+n[0].length):-1}function _de(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.m=n[0]-1,t+n[0].length):-1}function mI(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.d=+n[0],t+n[0].length):-1}function Tde(r,e,t){var n=Ci.exec(e.slice(t,t+3));return n?(r.m=0,r.d=+n[0],t+n[0].length):-1}function pI(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.H=+n[0],t+n[0].length):-1}function kde(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.M=+n[0],t+n[0].length):-1}function Fde(r,e,t){var n=Ci.exec(e.slice(t,t+2));return n?(r.S=+n[0],t+n[0].length):-1}function Ode(r,e,t){var n=Ci.exec(e.slice(t,t+3));return n?(r.L=+n[0],t+n[0].length):-1}function Dde(r,e,t){var n=Ci.exec(e.slice(t,t+6));return n?(r.L=Math.floor(n[0]/1e3),t+n[0].length):-1}function Pde(r,e,t){var n=yde.exec(e.slice(t,t+1));return n?t+n[0].length:-1}function Ide(r,e,t){var n=Ci.exec(e.slice(t));return n?(r.Q=+n[0],t+n[0].length):-1}function Lde(r,e,t){var n=Ci.exec(e.slice(t));return n?(r.s=+n[0],t+n[0].length):-1}function gI(r,e){return bn(r.getDate(),e,2)}function Mde(r,e){return bn(r.getHours(),e,2)}function Rde(r,e){return bn(r.getHours()%12||12,e,2)}function Ude(r,e){return bn(1+xv.count(_A(r),r),e,3)}function WH(r,e){return bn(r.getMilliseconds(),e,3)}function Qde(r,e){return WH(r,e)+"000"}function Hde(r,e){return bn(r.getMonth()+1,e,2)}function zde(r,e){return bn(r.getMinutes(),e,2)}function Kde(r,e){return bn(r.getSeconds(),e,2)}function $de(r){var e=r.getDay();return e===0?7:e}function Vde(r,e){return bn(MC.count(_A(r)-1,r),e,2)}function YH(r){var e=r.getDay();return e>=4||e===0?eg(r):eg.ceil(r)}function qde(r,e){return r=YH(r),bn(eg.count(_A(r),r)+(_A(r).getDay()===4),e,2)}function Gde(r){return r.getDay()}function Wde(r,e){return bn(l2.count(_A(r)-1,r),e,2)}function Yde(r,e){return bn(r.getFullYear()%100,e,2)}function Xde(r,e){return r=YH(r),bn(r.getFullYear()%100,e,2)}function Jde(r,e){return bn(r.getFullYear()%1e4,e,4)}function Zde(r,e){var t=r.getDay();return r=t>=4||t===0?eg(r):eg.ceil(r),bn(r.getFullYear()%1e4,e,4)}function eAe(r){var e=r.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+bn(e/60|0,"0",2)+bn(e%60,"0",2)}function xI(r,e){return bn(r.getUTCDate(),e,2)}function tAe(r,e){return bn(r.getUTCHours(),e,2)}function rAe(r,e){return bn(r.getUTCHours()%12||12,e,2)}function nAe(r,e){return bn(1+LC.count(TA(r),r),e,3)}function XH(r,e){return bn(r.getUTCMilliseconds(),e,3)}function aAe(r,e){return XH(r,e)+"000"}function sAe(r,e){return bn(r.getUTCMonth()+1,e,2)}function iAe(r,e){return bn(r.getUTCMinutes(),e,2)}function oAe(r,e){return bn(r.getUTCSeconds(),e,2)}function lAe(r){var e=r.getUTCDay();return e===0?7:e}function cAe(r,e){return bn(RC.count(TA(r)-1,r),e,2)}function JH(r){var e=r.getUTCDay();return e>=4||e===0?tg(r):tg.ceil(r)}function uAe(r,e){return r=JH(r),bn(tg.count(TA(r),r)+(TA(r).getUTCDay()===4),e,2)}function dAe(r){return r.getUTCDay()}function AAe(r,e){return bn(c2.count(TA(r)-1,r),e,2)}function hAe(r,e){return bn(r.getUTCFullYear()%100,e,2)}function fAe(r,e){return r=JH(r),bn(r.getUTCFullYear()%100,e,2)}function mAe(r,e){return bn(r.getUTCFullYear()%1e4,e,4)}function pAe(r,e){var t=r.getUTCDay();return r=t>=4||t===0?tg(r):tg.ceil(r),bn(r.getUTCFullYear()%1e4,e,4)}function gAe(){return"+0000"}function yI(){return"%"}function vI(r){return+r}function bI(r){return Math.floor(+r/1e3)}var Xm,ZH,e9;xAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xAe(r){return Xm=xde(r),ZH=Xm.format,Xm.parse,e9=Xm.utcFormat,Xm.utcParse,Xm}function yAe(r){return new Date(r)}function vAe(r){return r instanceof Date?+r:+new Date(+r)}function vT(r,e,t,n,a,s,i,l,c,u){var A=iT(),h=A.invert,p=A.domain,m=u(".%L"),y=u(":%S"),g=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),N=u("%b %d"),C=u("%B"),E=u("%Y");function _(P){return(c(P)<P?m:l(P)<P?y:i(P)<P?g:s(P)<P?v:n(P)<P?a(P)<P?b:N:t(P)<P?C:E)(P)}return A.invert=function(P){return new Date(h(P))},A.domain=function(P){return arguments.length?p(Array.from(P,vAe)):p().map(yAe)},A.ticks=function(P){var O=p();return r(O[0],O[O.length-1],P??10)},A.tickFormat=function(P,O){return O==null?_:u(O)},A.nice=function(P){var O=p();return(!P||typeof P.range!="function")&&(P=e(O[0],O[O.length-1],P??10)),P?p(UH(O,P)):A},A.copy=function(){return gv(A,vT(r,e,t,n,a,s,i,l,c,u))},A}function bAe(){return Mc.apply(vT(pde,gde,_A,xT,MC,xv,pT,fT,h0,ZH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wAe(){return Mc.apply(vT(fde,mde,TA,yT,RC,LC,gT,mT,h0,e9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function UC(){var r=0,e=1,t,n,a,s,i=jo,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:i(a===0?.5:(h=(s(h)-t)*a,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([r,e]=h,t=s(r=+r),n=s(e=+e),a=t===n?0:1/(n-t),u):[r,e]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(i=h,u):i};function A(h){return function(p){var m,y;return arguments.length?([m,y]=p,i=h(m,y),u):[i(0),i(1)]}}return u.range=A(wg),u.rangeRound=A(sT),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return s=h,t=h(r),n=h(e),a=t===n?0:1/(n-t),u}}function gf(r,e){return e.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function t9(){var r=pf(UC()(jo));return r.copy=function(){return gf(r,t9())},UA.apply(r,arguments)}function r9(){var r=cT(UC()).domain([1,10]);return r.copy=function(){return gf(r,r9()).base(r.base())},UA.apply(r,arguments)}function n9(){var r=uT(UC());return r.copy=function(){return gf(r,n9()).constant(r.constant())},UA.apply(r,arguments)}function bT(){var r=dT(UC());return r.copy=function(){return gf(r,bT()).exponent(r.exponent())},UA.apply(r,arguments)}function CAe(){return bT.apply(null,arguments).exponent(.5)}function a9(){var r=[],e=jo;function t(n){if(n!=null&&!isNaN(n=+n))return e((mv(r,n,1)-1)/(r.length-1))}return t.domain=function(n){if(!arguments.length)return r.slice();r=[];for(let a of n)a!=null&&!isNaN(a=+a)&&r.push(a);return r.sort(qh),t},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.range=function(){return r.map((n,a)=>e(a/(r.length-1)))},t.quantiles=function(n){return Array.from({length:n+1},(a,s)=>lue(r,s/n))},t.copy=function(){return a9(e).domain(r)},UA.apply(t,arguments)}function QC(){var r=0,e=.5,t=1,n=1,a,s,i,l,c,u=jo,A,h=!1,p;function m(g){return isNaN(g=+g)?p:(g=.5+((g=+A(g))-s)*(n*g<n*s?l:c),u(h?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([r,e,t]=g,a=A(r=+r),s=A(e=+e),i=A(t=+t),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m):[r,e,t]},m.clamp=function(g){return arguments.length?(h=!!g,m):h},m.interpolator=function(g){return arguments.length?(u=g,m):u};function y(g){return function(v){var b,N,C;return arguments.length?([b,N,C]=v,u=Pue(g,[b,N,C]),m):[u(0),u(.5),u(1)]}}return m.range=y(wg),m.rangeRound=y(sT),m.unknown=function(g){return arguments.length?(p=g,m):p},function(g){return A=g,a=g(r),s=g(e),i=g(t),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m}}function s9(){var r=pf(QC()(jo));return r.copy=function(){return gf(r,s9())},UA.apply(r,arguments)}function i9(){var r=cT(QC()).domain([.1,1,10]);return r.copy=function(){return gf(r,i9()).base(r.base())},UA.apply(r,arguments)}function o9(){var r=uT(QC());return r.copy=function(){return gf(r,o9()).constant(r.constant())},UA.apply(r,arguments)}function wT(){var r=dT(QC());return r.copy=function(){return gf(r,wT()).exponent(r.exponent())},UA.apply(r,arguments)}function NAe(){return wT.apply(null,arguments).exponent(.5)}const Gx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rT,scaleDiverging:s9,scaleDivergingLog:i9,scaleDivergingPow:wT,scaleDivergingSqrt:NAe,scaleDivergingSymlog:o9,scaleIdentity:RH,scaleImplicit:Rj,scaleLinear:MH,scaleLog:QH,scaleOrdinal:tT,scalePoint:due,scalePow:AT,scaleQuantile:KH,scaleQuantize:$H,scaleRadial:zH,scaleSequential:t9,scaleSequentialLog:r9,scaleSequentialPow:bT,scaleSequentialQuantile:a9,scaleSequentialSqrt:CAe,scaleSequentialSymlog:n9,scaleSqrt:ade,scaleSymlog:HH,scaleThreshold:VH,scaleTime:bAe,scaleUtc:wAe,tickFormat:LH},Symbol.toStringTag,{value:"Module"}));var xf=r=>r.chartData,CT=et([xf],r=>{var e=r.chartData!=null?r.chartData.length-1:0;return{chartData:r.chartData,computedData:r.computedData,dataEndIndex:e,dataStartIndex:0}}),NT=(r,e,t,n)=>n?CT(r):xf(r);function rg(r){if(Array.isArray(r)&&r.length===2){var[e,t]=r;if(Yl(e)&&Yl(t))return!0}return!1}function wI(r,e,t){return t?r:[Math.min(r[0],e[0]),Math.max(r[1],e[1])]}function SAe(r,e){if(e&&typeof r!="function"&&Array.isArray(r)&&r.length===2){var[t,n]=r,a,s;if(Yl(t))a=t;else if(typeof t=="function")return;if(Yl(n))s=n;else if(typeof n=="function")return;var i=[a,s];if(rg(i))return i}}function BAe(r,e,t){if(!(!t&&e==null)){if(typeof r=="function"&&e!=null)try{var n=r(e,t);if(rg(n))return wI(n,e,t)}catch{}if(Array.isArray(r)&&r.length===2){var[a,s]=r,i,l;if(a==="auto")e!=null&&(i=Math.min(...e));else if(xr(a))i=a;else if(typeof a=="function")try{e!=null&&(i=a(e?.[0]))}catch{}else if(typeof a=="string"&&AP.test(a)){var c=AP.exec(a);if(c==null||e==null)i=void 0;else{var u=+c[1];i=e[0]-u}}else i=e?.[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(xr(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e?.[1]))}catch{}else if(typeof s=="string"&&hP.test(s)){var A=hP.exec(s);if(A==null||e==null)l=void 0;else{var h=+A[1];l=e[1]+h}}else l=e?.[1];var p=[i,l];if(rg(p))return e==null?p:wI(p,e,t)}}}var Cg=1e9,EAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BT,Oa=!0,Oc="[DecimalError] ",N0=Oc+"Invalid argument: ",ST=Oc+"Exponent out of range: ",Ng=Math.floor,t0=Math.pow,jAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hl,fi=1e7,xa=7,l9=9007199254740991,u2=Ng(l9/xa),Jt={};Jt.absoluteValue=Jt.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};Jt.comparedTo=Jt.cmp=function(r){var e,t,n,a,s=this;if(r=new s.constructor(r),s.s!==r.s)return s.s||-r.s;if(s.e!==r.e)return s.e>r.e^s.s<0?1:-1;for(n=s.d.length,a=r.d.length,e=0,t=n<a?n:a;e<t;++e)if(s.d[e]!==r.d[e])return s.d[e]>r.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Jt.decimalPlaces=Jt.dp=function(){var r=this,e=r.d.length-1,t=(e-r.e)*xa;if(e=r.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};Jt.dividedBy=Jt.div=function(r){return vA(this,new this.constructor(r))};Jt.dividedToIntegerBy=Jt.idiv=function(r){var e=this,t=e.constructor;return oa(vA(e,new t(r),0,1),t.precision)};Jt.equals=Jt.eq=function(r){return!this.cmp(r)};Jt.exponent=function(){return Is(this)};Jt.greaterThan=Jt.gt=function(r){return this.cmp(r)>0};Jt.greaterThanOrEqualTo=Jt.gte=function(r){return this.cmp(r)>=0};Jt.isInteger=Jt.isint=function(){return this.e>this.d.length-2};Jt.isNegative=Jt.isneg=function(){return this.s<0};Jt.isPositive=Jt.ispos=function(){return this.s>0};Jt.isZero=function(){return this.s===0};Jt.lessThan=Jt.lt=function(r){return this.cmp(r)<0};Jt.lessThanOrEqualTo=Jt.lte=function(r){return this.cmp(r)<1};Jt.logarithm=Jt.log=function(r){var e,t=this,n=t.constructor,a=n.precision,s=a+5;if(r===void 0)r=new n(10);else if(r=new n(r),r.s<1||r.eq(Hl))throw Error(Oc+"NaN");if(t.s<1)throw Error(Oc+(t.s?"NaN":"-Infinity"));return t.eq(Hl)?new n(0):(Oa=!1,e=vA(Dy(t,s),Dy(r,s),s),Oa=!0,oa(e,a))};Jt.minus=Jt.sub=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?d9(e,r):c9(e,(r.s=-r.s,r))};Jt.modulo=Jt.mod=function(r){var e,t=this,n=t.constructor,a=n.precision;if(r=new n(r),!r.s)throw Error(Oc+"NaN");return t.s?(Oa=!1,e=vA(t,r,0,1).times(r),Oa=!0,t.minus(e)):oa(new n(t),a)};Jt.naturalExponential=Jt.exp=function(){return u9(this)};Jt.naturalLogarithm=Jt.ln=function(){return Dy(this)};Jt.negated=Jt.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};Jt.plus=Jt.add=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?c9(e,r):d9(e,(r.s=-r.s,r))};Jt.precision=Jt.sd=function(r){var e,t,n,a=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(N0+r);if(e=Is(a)+1,n=a.d.length-1,t=n*xa+1,n=a.d[n],n){for(;n%10==0;n/=10)t--;for(n=a.d[0];n>=10;n/=10)t++}return r&&e>t?e:t};Jt.squareRoot=Jt.sqrt=function(){var r,e,t,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Oc+"NaN")}for(r=Is(l),Oa=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=yd(l.d),(e.length+r)%2==0&&(e+="0"),a=Math.sqrt(e),r=Ng((r+1)/2)-(r<0||r%2),a==1/0?e="5e"+r:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),n=new c(e)):n=new c(a.toString()),t=c.precision,a=i=t+3;;)if(s=n,n=s.plus(vA(l,s,i+2)).times(.5),yd(s.d).slice(0,i)===(e=yd(n.d)).slice(0,i)){if(e=e.slice(i-3,i+1),a==i&&e=="4999"){if(oa(s,t+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;i+=4}return Oa=!0,oa(n,t)};Jt.times=Jt.mul=function(r){var e,t,n,a,s,i,l,c,u,A=this,h=A.constructor,p=A.d,m=(r=new h(r)).d;if(!A.s||!r.s)return new h(0);for(r.s*=A.s,t=A.e+r.e,c=p.length,u=m.length,c<u&&(s=p,p=m,m=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+m[n]*p[a-n-1]+e,s[a--]=l%fi|0,e=l/fi|0;s[a]=(s[a]+e)%fi|0}for(;!s[--i];)s.pop();return e?++t:s.shift(),r.d=s,r.e=t,Oa?oa(r,h.precision):r};Jt.toDecimalPlaces=Jt.todp=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(Nd(r,0,Cg),e===void 0?e=n.rounding:Nd(e,0,8),oa(t,r+Is(t)+1,e))};Jt.toExponential=function(r,e){var t,n=this,a=n.constructor;return r===void 0?t=P0(n,!0):(Nd(r,0,Cg),e===void 0?e=a.rounding:Nd(e,0,8),n=oa(new a(n),r+1,e),t=P0(n,!0,r+1)),t};Jt.toFixed=function(r,e){var t,n,a=this,s=a.constructor;return r===void 0?P0(a):(Nd(r,0,Cg),e===void 0?e=s.rounding:Nd(e,0,8),n=oa(new s(a),r+Is(a)+1,e),t=P0(n.abs(),!1,r+Is(n)+1),a.isneg()&&!a.isZero()?"-"+t:t)};Jt.toInteger=Jt.toint=function(){var r=this,e=r.constructor;return oa(new e(r),Is(r)+1,e.rounding)};Jt.toNumber=function(){return+this};Jt.toPower=Jt.pow=function(r){var e,t,n,a,s,i,l=this,c=l.constructor,u=12,A=+(r=new c(r));if(!r.s)return new c(Hl);if(l=new c(l),!l.s){if(r.s<1)throw Error(Oc+"Infinity");return l}if(l.eq(Hl))return l;if(n=c.precision,r.eq(Hl))return oa(l,n);if(e=r.e,t=r.d.length-1,i=e>=t,s=l.s,i){if((t=A<0?-A:A)<=l9){for(a=new c(Hl),e=Math.ceil(n/xa+4),Oa=!1;t%2&&(a=a.times(l),NI(a.d,e)),t=Ng(t/2),t!==0;)l=l.times(l),NI(l.d,e);return Oa=!0,r.s<0?new c(Hl).div(a):oa(a,n)}}else if(s<0)throw Error(Oc+"NaN");return s=s<0&&r.d[Math.max(e,t)]&1?-1:1,l.s=1,Oa=!1,a=r.times(Dy(l,n+u)),Oa=!0,a=u9(a),a.s=s,a};Jt.toPrecision=function(r,e){var t,n,a=this,s=a.constructor;return r===void 0?(t=Is(a),n=P0(a,t<=s.toExpNeg||t>=s.toExpPos)):(Nd(r,1,Cg),e===void 0?e=s.rounding:Nd(e,0,8),a=oa(new s(a),r,e),t=Is(a),n=P0(a,r<=t||t<=s.toExpNeg,r)),n};Jt.toSignificantDigits=Jt.tosd=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(Nd(r,1,Cg),e===void 0?e=n.rounding:Nd(e,0,8)),oa(new n(t),r,e)};Jt.toString=Jt.valueOf=Jt.val=Jt.toJSON=Jt[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,e=Is(r),t=r.constructor;return P0(r,e<=t.toExpNeg||e>=t.toExpPos)};function c9(r,e){var t,n,a,s,i,l,c,u,A=r.constructor,h=A.precision;if(!r.s||!e.s)return e.s||(e=new A(r)),Oa?oa(e,h):e;if(c=r.d,u=e.d,i=r.e,a=e.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(h/xa),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),t=0;s;)t=(c[--s]=c[s]+u[s]+t)/fi|0,c[s]%=fi;for(t&&(c.unshift(t),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Oa?oa(e,h):e}function Nd(r,e,t){if(r!==~~r||r<e||r>t)throw Error(N0+r)}function yd(r){var e,t,n,a=r.length-1,s="",i=r[0];if(a>0){for(s+=i,e=1;e<a;e++)n=r[e]+"",t=xa-n.length,t&&(s+=Dh(t)),s+=n;i=r[e],n=i+"",t=xa-n.length,t&&(s+=Dh(t))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var vA=(function(){function r(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%fi|0,i=s/fi|0;return i&&n.unshift(i),n}function e(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function t(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*fi+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,A,h,p,m,y,g,v,b,N,C,E,_,P,O,D,k=n.constructor,H=n.s==a.s?1:-1,L=n.d,Q=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(Oc+"Division by zero");for(c=n.e-a.e,O=Q.length,_=L.length,m=new k(H),y=m.d=[],u=0;Q[u]==(L[u]||0);)++u;if(Q[u]>(L[u]||0)&&--c,s==null?N=s=k.precision:i?N=s+(Is(n)-Is(a))+1:N=s,N<0)return new k(0);if(N=N/xa+2|0,u=0,O==1)for(A=0,Q=Q[0],N++;(u<_||A)&&N--;u++)C=A*fi+(L[u]||0),y[u]=C/Q|0,A=C%Q|0;else{for(A=fi/(Q[0]+1)|0,A>1&&(Q=r(Q,A),L=r(L,A),O=Q.length,_=L.length),E=O,g=L.slice(0,O),v=g.length;v<O;)g[v++]=0;D=Q.slice(),D.unshift(0),P=Q[0],Q[1]>=fi/2&&++P;do A=0,l=e(Q,g,O,v),l<0?(b=g[0],O!=v&&(b=b*fi+(g[1]||0)),A=b/P|0,A>1?(A>=fi&&(A=fi-1),h=r(Q,A),p=h.length,v=g.length,l=e(h,g,p,v),l==1&&(A--,t(h,O<p?D:Q,p))):(A==0&&(l=A=1),h=Q.slice()),p=h.length,p<v&&h.unshift(0),t(g,h,v),l==-1&&(v=g.length,l=e(Q,g,O,v),l<1&&(A++,t(g,O<v?D:Q,v))),v=g.length):l===0&&(A++,g=[0]),y[u++]=A,l&&g[0]?g[v++]=L[E]||0:(g=[L[E]],v=1);while((E++<_||g[0]!==void 0)&&N--)}return y[0]||y.shift(),m.e=c,oa(m,i?s+Is(m)+1:s)}})();function u9(r,e){var t,n,a,s,i,l,c=0,u=0,A=r.constructor,h=A.precision;if(Is(r)>16)throw Error(ST+Is(r));if(!r.s)return new A(Hl);for(Oa=!1,l=h,i=new A(.03125);r.abs().gte(.1);)r=r.times(i),u+=5;for(n=Math.log(t0(2,u))/Math.LN10*2+5|0,l+=n,t=a=s=new A(Hl),A.precision=l;;){if(a=oa(a.times(r),l),t=t.times(++c),i=s.plus(vA(a,t,l)),yd(i.d).slice(0,l)===yd(s.d).slice(0,l)){for(;u--;)s=oa(s.times(s),l);return A.precision=h,e==null?(Oa=!0,oa(s,h)):s}s=i}}function Is(r){for(var e=r.e*xa,t=r.d[0];t>=10;t/=10)e++;return e}function bB(r,e,t){if(e>r.LN10.sd())throw Oa=!0,t&&(r.precision=t),Error(Oc+"LN10 precision limit exceeded");return oa(new r(r.LN10),e)}function Dh(r){for(var e="";r--;)e+="0";return e}function Dy(r,e){var t,n,a,s,i,l,c,u,A,h=1,p=10,m=r,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Oc+(m.s?"NaN":"-Infinity"));if(m.eq(Hl))return new g(0);if(e==null?(Oa=!1,u=v):u=e,m.eq(10))return e==null&&(Oa=!0),bB(g,u);if(u+=p,g.precision=u,t=yd(y),n=t.charAt(0),s=Is(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)m=m.times(r),t=yd(m.d),n=t.charAt(0),h++;s=Is(m),n>1?(m=new g("0."+t),s++):m=new g(n+"."+t.slice(1))}else return c=bB(g,u+2,v).times(s+""),m=Dy(new g(n+"."+t.slice(1)),u-p).plus(c),g.precision=v,e==null?(Oa=!0,oa(m,v)):m;for(l=i=m=vA(m.minus(Hl),m.plus(Hl),u),A=oa(m.times(m),u),a=3;;){if(i=oa(i.times(A),u),c=l.plus(vA(i,new g(a),u)),yd(c.d).slice(0,u)===yd(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(bB(g,u+2,v).times(s+""))),l=vA(l,new g(h),u),g.precision=v,e==null?(Oa=!0,oa(l,v)):l;l=c,a+=2}}function CI(r,e){var t,n,a;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,t=t-n-1,r.e=Ng(t/xa),r.d=[],n=(t+1)%xa,t<0&&(n+=xa),n<a){for(n&&r.d.push(+e.slice(0,n)),a-=xa;n<a;)r.d.push(+e.slice(n,n+=xa));e=e.slice(n),n=xa-e.length}else n-=a;for(;n--;)e+="0";if(r.d.push(+e),Oa&&(r.e>u2||r.e<-u2))throw Error(ST+t)}else r.s=0,r.e=0,r.d=[0];return r}function oa(r,e,t){var n,a,s,i,l,c,u,A,h=r.d;for(i=1,s=h[0];s>=10;s/=10)i++;if(n=e-i,n<0)n+=xa,a=e,u=h[A=0];else{if(A=Math.ceil((n+1)/xa),s=h.length,A>=s)return r;for(u=s=h[A],i=1;s>=10;s/=10)i++;n%=xa,a=n-xa+i}if(t!==void 0&&(s=t0(10,i-a-1),l=u/s%10|0,c=e<0||h[A+1]!==void 0||u%s,c=t<4?(l||c)&&(t==0||t==(r.s<0?3:2)):l>5||l==5&&(t==4||c||t==6&&(n>0?a>0?u/t0(10,i-a):0:h[A-1])%10&1||t==(r.s<0?8:7))),e<1||!h[0])return c?(s=Is(r),h.length=1,e=e-s-1,h[0]=t0(10,(xa-e%xa)%xa),r.e=Ng(-e/xa)||0):(h.length=1,h[0]=r.e=r.s=0),r;if(n==0?(h.length=A,s=1,A--):(h.length=A+1,s=t0(10,xa-n),h[A]=a>0?(u/t0(10,i-a)%t0(10,a)|0)*s:0),c)for(;;)if(A==0){(h[0]+=s)==fi&&(h[0]=1,++r.e);break}else{if(h[A]+=s,h[A]!=fi)break;h[A--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(Oa&&(r.e>u2||r.e<-u2))throw Error(ST+Is(r));return r}function d9(r,e){var t,n,a,s,i,l,c,u,A,h,p=r.constructor,m=p.precision;if(!r.s||!e.s)return e.s?e.s=-e.s:e=new p(r),Oa?oa(e,m):e;if(c=r.d,h=e.d,n=e.e,u=r.e,c=c.slice(),i=u-n,i){for(A=i<0,A?(t=c,i=-i,l=h.length):(t=h,n=u,l=c.length),a=Math.max(Math.ceil(m/xa),l)+2,i>a&&(i=a,t.length=1),t.reverse(),a=i;a--;)t.push(0);t.reverse()}else{for(a=c.length,l=h.length,A=a<l,A&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){A=c[a]<h[a];break}i=0}for(A&&(t=c,c=h,h=t,e.s=-e.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>i;){if(c[--a]<h[a]){for(s=a;s&&c[--s]===0;)c[s]=fi-1;--c[s],c[a]+=fi}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Oa?oa(e,m):e):new p(0)}function P0(r,e,t){var n,a=Is(r),s=yd(r.d),i=s.length;return e?(t&&(n=t-i)>0?s=s.charAt(0)+"."+s.slice(1)+Dh(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Dh(-a-1)+s,t&&(n=t-i)>0&&(s+=Dh(n))):a>=i?(s+=Dh(a+1-i),t&&(n=t-a-1)>0&&(s=s+"."+Dh(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),t&&(n=t-i)>0&&(a+1===i&&(s+="."),s+=Dh(n))),r.s<0?"-"+s:s}function NI(r,e){if(r.length>e)return r.length=e,!0}function A9(r){var e,t,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(N0+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return CI(i,s.toString())}else if(typeof s!="string")throw Error(N0+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,jAe.test(s))CI(i,s);else throw Error(N0+s)}if(a.prototype=Jt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=A9,a.config=a.set=_Ae,r===void 0&&(r={}),r)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return a.config(r),a}function _Ae(r){if(!r||typeof r!="object")throw Error(Oc+"Object expected");var e,t,n,a=["precision",1,Cg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=r[t=a[e]])!==void 0)if(Ng(n)===n&&n>=a[e+1]&&n<=a[e+2])this[t]=n;else throw Error(N0+t+": "+n);if((n=r[t="LN10"])!==void 0)if(n==Math.LN10)this[t]=new this(n);else throw Error(N0+t+": "+n);return this}var BT=A9(EAe);Hl=new BT(1);const Qn=BT;var TAe=r=>r,h9={},f9=r=>r===h9,SI=r=>function e(){return arguments.length===0||arguments.length===1&&f9(arguments.length<=0?void 0:arguments[0])?e:r(...arguments)},m9=(r,e)=>r===1?e:SI(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n.filter(i=>i!==h9).length;return s>=r?e(...n):m9(r-s,SI(function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];var u=n.map(A=>f9(A)?l.shift():A);return e(...u,...l)}))}),HC=r=>m9(r.length,r),zj=(r,e)=>{for(var t=[],n=r;n<e;++n)t[n-r]=n;return t},kAe=HC((r,e)=>Array.isArray(e)?e.map(r):Object.keys(e).map(t=>e[t]).map(r)),FAe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return TAe;var a=t.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((l,c)=>c(l),s(...arguments))}},Kj=r=>Array.isArray(r)?r.reverse():r.split("").reverse().join(""),p9=r=>{var e=null,t=null;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e&&a.every((i,l)=>{var c;return i===((c=e)===null||c===void 0?void 0:c[l])})||(e=a,t=r(...a)),t}};function g9(r){var e;return r===0?e=1:e=Math.floor(new Qn(r).abs().log(10).toNumber())+1,e}function x9(r,e,t){for(var n=new Qn(r),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(t),a++;return s}HC((r,e,t)=>{var n=+r,a=+e;return n+t*(a-n)});HC((r,e,t)=>{var n=e-+r;return n=n||1/0,(t-r)/n});HC((r,e,t)=>{var n=e-+r;return n=n||1/0,Math.max(0,Math.min(1,(t-r)/n))});var y9=r=>{var[e,t]=r,[n,a]=[e,t];return e>t&&([n,a]=[t,e]),[n,a]},v9=(r,e,t)=>{if(r.lte(0))return new Qn(0);var n=g9(r.toNumber()),a=new Qn(10).pow(n),s=r.div(a),i=n!==1?.05:.1,l=new Qn(Math.ceil(s.div(i).toNumber())).add(t).mul(i),c=l.mul(a);return e?new Qn(c.toNumber()):new Qn(Math.ceil(c.toNumber()))},OAe=(r,e,t)=>{var n=new Qn(1),a=new Qn(r);if(!a.isint()&&t){var s=Math.abs(r);s<1?(n=new Qn(10).pow(g9(r)-1),a=new Qn(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Qn(Math.floor(r)))}else r===0?a=new Qn(Math.floor((e-1)/2)):t||(a=new Qn(Math.floor(r)));var i=Math.floor((e-1)/2),l=FAe(kAe(c=>a.add(new Qn(c-i).mul(n)).toNumber()),zj);return l(0,e)},b9=function(e,t,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Qn(0),tickMin:new Qn(0),tickMax:new Qn(0)};var i=v9(new Qn(t).sub(e).div(n-1),a,s),l;e<=0&&t>=0?l=new Qn(0):(l=new Qn(e).add(t).div(2),l=l.sub(new Qn(l).mod(i)));var c=Math.ceil(l.sub(e).div(i).toNumber()),u=Math.ceil(new Qn(t).sub(l).div(i).toNumber()),A=c+u+1;return A>n?b9(e,t,n,a,s+1):(A<n&&(u=t>0?u+(n-A):u,c=t>0?c:c+(n-A)),{step:i,tickMin:l.sub(new Qn(c).mul(i)),tickMax:l.add(new Qn(u).mul(i))})};function DAe(r){var[e,t]=r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[i,l]=y9([e,t]);if(i===-1/0||l===1/0){var c=l===1/0?[i,...zj(0,n-1).map(()=>1/0)]:[...zj(0,n-1).map(()=>-1/0),l];return e>t?Kj(c):c}if(i===l)return OAe(i,n,a);var{step:u,tickMin:A,tickMax:h}=b9(i,l,s,a,0),p=x9(A,h.add(new Qn(.1).mul(u)),u);return e>t?Kj(p):p}function PAe(r,e){var[t,n]=r,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,i]=y9([t,n]);if(s===-1/0||i===1/0)return[t,n];if(s===i)return[s];var l=Math.max(e,2),c=v9(new Qn(i).sub(s).div(l-1),a,0),u=[...x9(new Qn(s),new Qn(i),c),i];return a===!1&&(u=u.map(A=>Math.round(A))),t>n?Kj(u):u}var IAe=p9(DAe),LAe=p9(PAe),w9=r=>r.rootProps.maxBarSize,MAe=r=>r.rootProps.barGap,C9=r=>r.rootProps.barCategoryGap,RAe=r=>r.rootProps.barSize,yv=r=>r.rootProps.stackOffset,ET=r=>r.options.chartName,jT=r=>r.rootProps.syncId,N9=r=>r.rootProps.syncMethod,_T=r=>r.options.eventEmitter,AA={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ll={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},zC=(r,e)=>{if(!(!r||!e))return r!=null&&r.reversed?[e[1],e[0]]:e},UAe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:AA.angleAxisId,includeHidden:!1,name:void 0,reversed:AA.reversed,scale:AA.scale,tick:AA.tick,tickCount:void 0,ticks:void 0,type:AA.type,unit:void 0},QAe={allowDataOverflow:Ll.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ll.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ll.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ll.scale,tick:Ll.tick,tickCount:Ll.tickCount,ticks:void 0,type:Ll.type,unit:void 0},HAe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:AA.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:AA.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:AA.scale,tick:AA.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},zAe={allowDataOverflow:Ll.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ll.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ll.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ll.scale,tick:Ll.tick,tickCount:Ll.tickCount,ticks:void 0,type:"category",unit:void 0},TT=(r,e)=>r.polarAxis.angleAxis[e]!=null?r.polarAxis.angleAxis[e]:r.layout.layoutType==="radial"?HAe:UAe,kT=(r,e)=>r.polarAxis.radiusAxis[e]!=null?r.polarAxis.radiusAxis[e]:r.layout.layoutType==="radial"?zAe:QAe,KC=r=>r.polarOptions,FT=et([MA,RA,ri],iH),S9=et([KC,FT],(r,e)=>{if(r!=null)return co(r.innerRadius,e,0)}),B9=et([KC,FT],(r,e)=>{if(r!=null)return co(r.outerRadius,e,e*.8)}),KAe=r=>{if(r==null)return[0,0];var{startAngle:e,endAngle:t}=r;return[e,t]},E9=et([KC],KAe);et([TT,E9],zC);var j9=et([FT,S9,B9],(r,e,t)=>{if(!(r==null||e==null||t==null))return[e,t]});et([kT,j9],zC);var _9=et([wn,KC,S9,B9,MA,RA],(r,e,t,n,a,s)=>{if(!(r!=="centric"&&r!=="radial"||e==null||t==null||n==null)){var{cx:i,cy:l,startAngle:c,endAngle:u}=e;return{cx:co(i,a,a/2),cy:co(l,s,s/2),innerRadius:t,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Pa=(r,e)=>e,vv=(r,e,t)=>t;function OT(r){return r?.id}var ai=r=>{var e=wn(r);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Sg=r=>r.tooltip.settings.axisId,Ni=r=>{var e=ai(r),t=Sg(r);return bv(r,e,t)},T9=et([Ni],r=>r?.dataKey);function k9(r,e,t){var{chartData:n=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=t,i=new Map;return r.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var A=OT(l);u.forEach((h,p)=>{var m=s==null||a?p:String(Ka(h,s,null)),y=Ka(h,l.dataKey,0),g;i.has(m)?g=i.get(m):g={},Object.assign(g,{[A]:y}),i.set(m,g)})}}),Array.from(i.values())}function $C(r){return r.stackId!=null&&r.dataKey!=null}function BI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function d2(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(t),!0).forEach(function(n){$Ae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):BI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function $Ae(r,e,t){return(e=VAe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function VAe(r){var e=qAe(r,"string");return typeof e=="symbol"?e:e+""}function qAe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var $j=[0,"auto"],Fl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},F9=(r,e)=>r.cartesianAxis.xAxis[e],QA=(r,e)=>{var t=F9(r,e);return t??Fl},Ol={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:$j,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:fv},O9=(r,e)=>r.cartesianAxis.yAxis[e],HA=(r,e)=>{var t=O9(r,e);return t??Ol},GAe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},DT=(r,e)=>{var t=r.cartesianAxis.zAxis[e];return t??GAe},Ss=(r,e,t)=>{switch(e){case"xAxis":return QA(r,t);case"yAxis":return HA(r,t);case"zAxis":return DT(r,t);case"angleAxis":return TT(r,t);case"radiusAxis":return kT(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},WAe=(r,e,t)=>{switch(e){case"xAxis":return QA(r,t);case"yAxis":return HA(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},bv=(r,e,t)=>{switch(e){case"xAxis":return QA(r,t);case"yAxis":return HA(r,t);case"angleAxis":return TT(r,t);case"radiusAxis":return kT(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},D9=r=>r.graphicalItems.cartesianItems.some(e=>e.type==="bar")||r.graphicalItems.polarItems.some(e=>e.type==="radialBar");function PT(r,e){return t=>{switch(r){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var IT=r=>r.graphicalItems.cartesianItems,YAe=et([Pa,vv],PT),LT=(r,e,t)=>r.filter(t).filter(n=>e?.includeHidden===!0?!0:!n.hide),wv=et([IT,Ss,YAe],LT),P9=et([wv],r=>r.filter(e=>e.type==="area"||e.type==="bar").filter($C)),I9=r=>r.filter(e=>!("stackId"in e)||e.stackId===void 0),L9=et([wv],I9),MT=r=>r.map(e=>e.data).filter(Boolean).flat(1),XAe=et([wv],MT),RT=(r,e)=>{var{chartData:t=[],dataStartIndex:n,dataEndIndex:a}=e;return r.length>0?r:t.slice(n,a+1)},UT=et([XAe,NT],RT),QT=(r,e,t)=>e?.dataKey!=null?r.map(n=>({value:Ka(n,e.dataKey)})):t.length>0?t.map(n=>n.dataKey).flatMap(n=>r.map(a=>({value:Ka(a,n)}))):r.map(n=>({value:n})),VC=et([UT,Ss,wv],QT);function M9(r,e){switch(r){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Y0(r){return r.filter(e=>Cd(e)||e instanceof Date).map(Number).filter(e=>Gl(e)===!1)}function JAe(r,e,t){return!t||typeof e!="number"||Gl(e)?[]:t.length?Y0(t.flatMap(n=>{var a=Ka(r,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!Yl(s)||!Yl(i)))return[e-s,e+i]})):[]}var ZAe=et([P9,NT,Ni],k9),R9=(r,e,t)=>{var n={},a=e.reduce((s,i)=>(i.stackId==null||(s[i.stackId]==null&&(s[i.stackId]=[]),s[i.stackId].push(i)),s),n);return Object.fromEntries(Object.entries(a).map(s=>{var[i,l]=s,c=l.map(OT);return[i,{stackedData:nle(r,c,t),graphicalItems:l}]}))},Vj=et([ZAe,P9,yv],R9),U9=(r,e,t)=>{var{dataStartIndex:n,dataEndIndex:a}=e;if(t!=="zAxis"){var s=lle(r,n,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},ehe=et([Vj,xf,Pa],U9),Q9=(r,e,t,n,a)=>t.length>0?r.flatMap(s=>t.flatMap(i=>{var l,c,u=(l=n[i.id])===null||l===void 0?void 0:l.filter(h=>M9(a,h)),A=Ka(s,(c=e.dataKey)!==null&&c!==void 0?c:i.dataKey);return{value:A,errorDomain:JAe(s,A,u)}})).filter(Boolean):e?.dataKey!=null?r.map(s=>({value:Ka(s,e.dataKey),errorDomain:[]})):r.map(s=>({value:s,errorDomain:[]})),qC=r=>r.errorBars,H9=(r,e,t)=>r.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>M9(t,n));et([L9,qC,Pa],H9);var the=et([UT,Ss,L9,qC,Pa],Q9);function rhe(r){var{value:e}=r;if(Cd(e)||e instanceof Date)return e}var EI=r=>{var e=r.flatMap(n=>[n.value,n.errorDomain]).flat(1),t=Y0(e);if(t.length!==0)return[Math.min(...t),Math.max(...t)]},nhe=(r,e,t)=>{var n=r.map(rhe).filter(a=>a!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&tQ(n))?EH(0,r.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},HT=r=>{var e;if(r==null||!("domain"in r))return $j;if(r.domain!=null)return r.domain;if(r.ticks!=null){if(r.type==="number"){var t=Y0(r.ticks);return[Math.min(...t),Math.max(...t)]}if(r.type==="category")return r.ticks.map(String)}return(e=r?.domain)!==null&&e!==void 0?e:$j},A2=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),l=Math.max(...s);return[i,l]}},z9=r=>r.referenceElements.dots,Bg=(r,e,t)=>r.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===t:n.yAxisId===t),ahe=et([z9,Pa,vv],Bg),K9=r=>r.referenceElements.areas,she=et([K9,Pa,vv],Bg),$9=r=>r.referenceElements.lines,ihe=et([$9,Pa,vv],Bg),V9=(r,e)=>{var t=Y0(r.map(n=>e==="xAxis"?n.x:n.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},ohe=et(ahe,Pa,V9),q9=(r,e)=>{var t=Y0(r.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},lhe=et([she,Pa],q9),G9=(r,e)=>{var t=Y0(r.map(n=>e==="xAxis"?n.x:n.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},che=et(ihe,Pa,G9),uhe=et(ohe,che,lhe,(r,e,t)=>A2(r,t,e)),W9=et([Ss],HT),zT=(r,e,t,n,a,s,i)=>{var l=SAe(e,r.allowDataOverflow);if(l!=null)return l;var c=s==="vertical"&&i==="xAxis"||s==="horizontal"&&i==="yAxis",u=c?A2(t,a,EI(n)):A2(a,EI(n));return BAe(e,u,r.allowDataOverflow)},dhe=et([Ss,W9,ehe,the,uhe,wn,Pa],zT),Ahe=[0,1],KT=(r,e,t,n,a,s,i)=>{if(!((r==null||t==null||t.length===0)&&i===void 0)){var{dataKey:l,type:c}=r,u=V0(e,s);return u&&l==null?EH(0,t.length):c==="category"?nhe(n,r,u):a==="expand"?Ahe:i}},$T=et([Ss,wn,UT,VC,yv,Pa,dhe],KT),Y9=(r,e,t,n,a)=>{if(r!=null){var{scale:s,type:i}=r;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(uv(s));return l in Gx?l:"point"}}},Eg=et([Ss,wn,D9,ET,Pa],Y9);function hhe(r){if(r!=null){if(r in Gx)return Gx[r]();var e="scale".concat(uv(r));if(e in Gx)return Gx[e]()}}function VT(r,e,t,n){if(!(t==null||n==null)){if(typeof r.scale=="function")return r.scale.copy().domain(t).range(n);var a=hhe(e);if(a!=null){var s=a.domain(t).range(n);return Joe(s),s}}}var qT=(r,e,t)=>{var n=HT(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&rg(r))return IAe(r,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&rg(r))return LAe(r,e.tickCount,e.allowDecimals)}},GT=et([$T,bv,Eg],qT),WT=(r,e,t,n)=>{if(n!=="angleAxis"&&r?.type==="number"&&rg(e)&&Array.isArray(t)&&t.length>0){var a=e[0],s=t[0],i=e[1],l=t[t.length-1];return[Math.min(a,s),Math.max(i,l)]}return e},fhe=et([Ss,$T,GT,Pa],WT),mhe=et(VC,Ss,(r,e)=>{if(!(!e||e.type!=="number")){var t=1/0,n=Array.from(Y0(r.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var i=n[s+1]-n[s];t=Math.min(t,i)}return t/a}}),X9=et(mhe,wn,C9,ri,(r,e,t,n)=>n,(r,e,t,n,a)=>{if(!Yl(r))return 0;var s=e==="vertical"?n.height:n.width;if(a==="gap")return r*s/2;if(a==="no-gap"){var i=co(t,r*s),l=r*s/2;return l-i-(l-i)/s*i}return 0}),phe=(r,e)=>{var t=QA(r,e);return t==null||typeof t.padding!="string"?0:X9(r,"xAxis",e,t.padding)},ghe=(r,e)=>{var t=HA(r,e);return t==null||typeof t.padding!="string"?0:X9(r,"yAxis",e,t.padding)},xhe=et(QA,phe,(r,e)=>{var t,n;if(r==null)return{left:0,right:0};var{padding:a}=r;return typeof a=="string"?{left:e,right:e}:{left:((t=a.left)!==null&&t!==void 0?t:0)+e,right:((n=a.right)!==null&&n!==void 0?n:0)+e}}),yhe=et(HA,ghe,(r,e)=>{var t,n;if(r==null)return{top:0,bottom:0};var{padding:a}=r;return typeof a=="string"?{top:e,bottom:e}:{top:((t=a.top)!==null&&t!==void 0?t:0)+e,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+e}}),vhe=et([ri,xhe,OC,FC,(r,e,t)=>t],(r,e,t,n,a)=>{var{padding:s}=n;return a?[s.left,t.width-s.right]:[r.left+e.left,r.left+r.width-e.right]}),bhe=et([ri,wn,yhe,OC,FC,(r,e,t)=>t],(r,e,t,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:e==="horizontal"?[r.top+r.height-t.bottom,r.top+t.top]:[r.top+t.top,r.top+r.height-t.bottom]}),Cv=(r,e,t,n)=>{var a;switch(e){case"xAxis":return vhe(r,t,n);case"yAxis":return bhe(r,t,n);case"zAxis":return(a=DT(r,t))===null||a===void 0?void 0:a.range;case"angleAxis":return E9(r);case"radiusAxis":return j9(r,t);default:return}},J9=et([Ss,Cv],zC),jg=et([Ss,Eg,fhe,J9],VT);et([wv,qC,Pa],H9);function Z9(r,e){return r.id<e.id?-1:r.id>e.id?1:0}var GC=(r,e)=>e,WC=(r,e,t)=>t,whe=et(TC,GC,WC,(r,e,t)=>r.filter(n=>n.orientation===e).filter(n=>n.mirror===t).sort(Z9)),Che=et(kC,GC,WC,(r,e,t)=>r.filter(n=>n.orientation===e).filter(n=>n.mirror===t).sort(Z9)),ez=(r,e)=>({width:r.width,height:e.height}),Nhe=(r,e)=>{var t=typeof e.width=="number"?e.width:fv;return{width:t,height:r.height}},tz=et(ri,QA,ez),She=(r,e,t)=>{switch(e){case"top":return r.top;case"bottom":return t-r.bottom;default:return 0}},Bhe=(r,e,t)=>{switch(e){case"left":return r.left;case"right":return t-r.right;default:return 0}},Ehe=et(RA,ri,whe,GC,WC,(r,e,t,n,a)=>{var s={},i;return t.forEach(l=>{var c=ez(e,l);i==null&&(i=She(e,n,r));var u=n==="top"&&!a||n==="bottom"&&a;s[l.id]=i-Number(u)*c.height,i+=(u?-1:1)*c.height}),s}),jhe=et(MA,ri,Che,GC,WC,(r,e,t,n,a)=>{var s={},i;return t.forEach(l=>{var c=Nhe(e,l);i==null&&(i=Bhe(e,n,r));var u=n==="left"&&!a||n==="right"&&a;s[l.id]=i-Number(u)*c.width,i+=(u?-1:1)*c.width}),s}),_he=(r,e)=>{var t=QA(r,e);if(t!=null)return Ehe(r,t.orientation,t.mirror)},The=et([ri,QA,_he,(r,e)=>e],(r,e,t,n)=>{if(e!=null){var a=t?.[n];return a==null?{x:r.left,y:0}:{x:r.left,y:a}}}),khe=(r,e)=>{var t=HA(r,e);if(t!=null)return jhe(r,t.orientation,t.mirror)},Fhe=et([ri,HA,khe,(r,e)=>e],(r,e,t,n)=>{if(e!=null){var a=t?.[n];return a==null?{x:0,y:r.top}:{x:a,y:r.top}}}),rz=et(ri,HA,(r,e)=>{var t=typeof e.width=="number"?e.width:fv;return{width:t,height:r.height}}),jI=(r,e,t)=>{switch(e){case"xAxis":return tz(r,t).width;case"yAxis":return rz(r,t).height;default:return}},nz=(r,e,t,n)=>{if(t!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=t,l=V0(r,n),c=e.map(u=>u.value);if(i&&l&&s==="category"&&a&&tQ(c))return c}},YT=et([wn,VC,Ss,Pa],nz),az=(r,e,t,n)=>{if(!(t==null||t.dataKey==null)){var{type:a,scale:s}=t,i=V0(r,n);if(i&&(a==="number"||s!=="auto"))return e.map(l=>l.value)}},XT=et([wn,VC,bv,Pa],az),_I=et([wn,WAe,Eg,jg,YT,XT,Cv,GT,Pa],(r,e,t,n,a,s,i,l,c)=>{if(e==null)return null;var u=V0(r,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:l,range:i,realScaleType:t,scale:n}}),Ohe=(r,e,t,n,a,s,i,l,c)=>{if(!(e==null||n==null)){var u=V0(r,c),{type:A,ticks:h,tickCount:p}=e,m=t==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=A==="category"&&n.bandwidth?n.bandwidth()/m:0;y=c==="angleAxis"&&s!=null&&s.length>=2?gi(s[0]-s[1])*2*y:y;var g=h||a;if(g){var v=g.map((b,N)=>{var C=i?i.indexOf(b):b;return{index:N,coordinate:n(C)+y,value:b,offset:y}});return v.filter(b=>!Gl(b.coordinate))}return u&&l?l.map((b,N)=>({coordinate:n(b)+y,value:b,index:N,offset:y})):n.ticks?n.ticks(p).map(b=>({coordinate:n(b)+y,value:b,offset:y})):n.domain().map((b,N)=>({coordinate:n(b)+y,value:i?i[b]:b,index:N,offset:y}))}},sz=et([wn,bv,Eg,jg,GT,Cv,YT,XT,Pa],Ohe),Dhe=(r,e,t,n,a,s,i)=>{if(!(e==null||t==null||n==null||n[0]===n[1])){var l=V0(r,i),{tickCount:c}=e,u=0;return u=i==="angleAxis"&&n?.length>=2?gi(n[0]-n[1])*2*u:u,l&&s?s.map((A,h)=>({coordinate:t(A)+u,value:A,index:h,offset:u})):t.ticks?t.ticks(c).map(A=>({coordinate:t(A)+u,value:A,offset:u})):t.domain().map((A,h)=>({coordinate:t(A)+u,value:a?a[A]:A,index:h,offset:u}))}},ng=et([wn,bv,jg,Cv,YT,XT,Pa],Dhe),ag=et(Ss,jg,(r,e)=>{if(!(r==null||e==null))return d2(d2({},r),{},{scale:e})}),Phe=et([Ss,Eg,$T,J9],VT);et((r,e,t)=>DT(r,t),Phe,(r,e)=>{if(!(r==null||e==null))return d2(d2({},r),{},{scale:e})});var Ihe=et([wn,TC,kC],(r,e,t)=>{switch(r){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),iz=r=>r.options.defaultTooltipEventType,oz=r=>r.options.validateTooltipEventTypes;function lz(r,e,t){if(r==null)return e;var n=r?"axis":"item";return t==null?e:t.includes(n)?n:e}function JT(r,e){var t=iz(r),n=oz(r);return lz(e,t,n)}function Lhe(r){return fr(e=>JT(e,r))}var cz=(r,e)=>{var t,n=Number(e);if(!(Gl(n)||e==null))return n>=0?r==null||(t=r[n])===null||t===void 0?void 0:t.value:void 0},Mhe=r=>r.tooltip.settings,Mh={active:!1,index:null,dataKey:void 0,coordinate:void 0},Rhe={itemInteraction:{click:Mh,hover:Mh},axisInteraction:{click:Mh,hover:Mh},keyboardInteraction:Mh,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},uz=ec({name:"tooltip",initialState:Rhe,reducers:{addTooltipEntrySettings(r,e){r.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(r,e){var t=yA(r).tooltipItemPayloads.indexOf(e.payload);t>-1&&r.tooltipItemPayloads.splice(t,1)},setTooltipSettingsState(r,e){r.settings=e.payload},setActiveMouseOverItemIndex(r,e){r.syncInteraction.active=!1,r.keyboardInteraction.active=!1,r.itemInteraction.hover.active=!0,r.itemInteraction.hover.index=e.payload.activeIndex,r.itemInteraction.hover.dataKey=e.payload.activeDataKey,r.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(r){r.itemInteraction.hover.active=!1,r.axisInteraction.hover.active=!1},mouseLeaveItem(r){r.itemInteraction.hover.active=!1},setActiveClickItemIndex(r,e){r.syncInteraction.active=!1,r.itemInteraction.click.active=!0,r.keyboardInteraction.active=!1,r.itemInteraction.click.index=e.payload.activeIndex,r.itemInteraction.click.dataKey=e.payload.activeDataKey,r.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(r,e){r.syncInteraction.active=!1,r.axisInteraction.hover.active=!0,r.keyboardInteraction.active=!1,r.axisInteraction.hover.index=e.payload.activeIndex,r.axisInteraction.hover.dataKey=e.payload.activeDataKey,r.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(r,e){r.syncInteraction.active=!1,r.keyboardInteraction.active=!1,r.axisInteraction.click.active=!0,r.axisInteraction.click.index=e.payload.activeIndex,r.axisInteraction.click.dataKey=e.payload.activeDataKey,r.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(r,e){r.syncInteraction=e.payload},setKeyboardInteraction(r,e){r.keyboardInteraction.active=e.payload.active,r.keyboardInteraction.index=e.payload.activeIndex,r.keyboardInteraction.coordinate=e.payload.activeCoordinate,r.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Uhe,removeTooltipEntrySettings:Qhe,setTooltipSettingsState:Hhe,setActiveMouseOverItemIndex:dz,mouseLeaveItem:zhe,mouseLeaveChart:Az,setActiveClickItemIndex:Khe,setMouseOverAxisIndex:hz,setMouseClickAxisIndex:$he,setSyncInteraction:qj,setKeyboardInteraction:Gj}=uz.actions,Vhe=uz.reducer;function TI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function lb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(t),!0).forEach(function(n){qhe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):TI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function qhe(r,e,t){return(e=Ghe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ghe(r){var e=Whe(r,"string");return typeof e=="symbol"?e:e+""}function Whe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Yhe(r,e,t){return e==="axis"?t==="click"?r.axisInteraction.click:r.axisInteraction.hover:t==="click"?r.itemInteraction.click:r.itemInteraction.hover}function Xhe(r){return r.index!=null}var fz=(r,e,t,n)=>{if(e==null)return Mh;var a=Yhe(r,e,t);if(a==null)return Mh;if(a.active)return a;if(r.keyboardInteraction.active)return r.keyboardInteraction;if(r.syncInteraction.active&&r.syncInteraction.index!=null)return r.syncInteraction;var s=r.settings.active===!0;if(Xhe(a)){if(s)return lb(lb({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return lb(lb({},Mh),{},{coordinate:a.coordinate})},ZT=(r,e)=>{var t=r?.index;if(t==null)return null;var n=Number(t);if(!Yl(n))return t;var a=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(a,Math.min(n,s)))},mz=(r,e,t,n,a,s,i,l)=>{if(!(s==null||l==null)){var c=i[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var A=a?.[Number(s)];if(A)return t==="horizontal"?{x:A.coordinate,y:(n.top+e)/2}:{x:(n.left+r)/2,y:A.coordinate}}},pz=(r,e,t,n)=>{if(e==="axis")return r.tooltipItemPayloads;if(r.tooltipItemPayloads.length===0)return[];var a;return t==="hover"?a=r.itemInteraction.hover.dataKey:a=r.itemInteraction.click.dataKey,a==null&&n!=null?[r.tooltipItemPayloads[0]]:r.tooltipItemPayloads.filter(s=>{var i;return((i=s.settings)===null||i===void 0?void 0:i.dataKey)===a})},Nv=r=>r.options.tooltipPayloadSearcher,_g=r=>r.tooltip;function kI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function FI(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(t),!0).forEach(function(n){Jhe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):kI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Jhe(r,e,t){return(e=Zhe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Zhe(r){var e=efe(r,"string");return typeof e=="symbol"?e:e+""}function efe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function tfe(r,e){return r??e}var gz=(r,e,t,n,a,s,i)=>{if(!(e==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:A}=t,h=[];return r.reduce((p,m)=>{var y,{dataDefinedOnItem:g,settings:v}=m,b=tfe(g,l),N=Array.isArray(b)?oH(b,u,A):b,C=(y=v?.dataKey)!==null&&y!==void 0?y:n,E=v?.nameKey,_;if(n&&Array.isArray(N)&&!Array.isArray(N[0])&&i==="axis"?_=Qae(N,n,a):_=s(N,e,c,E),Array.isArray(_))_.forEach(O=>{var D=FI(FI({},v),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});p.push(fP({tooltipEntrySettings:D,dataKey:O.dataKey,payload:O.payload,value:Ka(O.payload,O.dataKey),name:O.name}))});else{var P;p.push(fP({tooltipEntrySettings:v,dataKey:C,payload:_,value:Ka(_,C),name:(P=Ka(_,E))!==null&&P!==void 0?P:v?.name}))}return p},h)}},e3=et([Ni,wn,D9,ET,ai],Y9),rfe=et([r=>r.graphicalItems.cartesianItems,r=>r.graphicalItems.polarItems],(r,e)=>[...r,...e]),nfe=et([ai,Sg],PT),Sv=et([rfe,Ni,nfe],LT),afe=et([Sv],r=>r.filter($C)),sfe=et([Sv],MT),Tg=et([sfe,xf],RT),ife=et([afe,xf,Ni],k9),t3=et([Tg,Ni,Sv],QT),ofe=et([Ni],HT),lfe=et([Sv],r=>r.filter($C)),cfe=et([ife,lfe,yv],R9),ufe=et([cfe,xf,ai],U9),dfe=et([Sv],I9),Afe=et([Tg,Ni,dfe,qC,ai],Q9),hfe=et([z9,ai,Sg],Bg),ffe=et([hfe,ai],V9),mfe=et([K9,ai,Sg],Bg),pfe=et([mfe,ai],q9),gfe=et([$9,ai,Sg],Bg),xfe=et([gfe,ai],G9),yfe=et([ffe,xfe,pfe],A2),vfe=et([Ni,ofe,ufe,Afe,yfe,wn,ai],zT),xz=et([Ni,wn,Tg,t3,yv,ai,vfe],KT),bfe=et([xz,Ni,e3],qT),wfe=et([Ni,xz,bfe,ai],WT),yz=r=>{var e=ai(r),t=Sg(r),n=!1;return Cv(r,e,t,n)},vz=et([Ni,yz],zC),bz=et([Ni,e3,wfe,vz],VT),Cfe=et([wn,t3,Ni,ai],nz),Nfe=et([wn,t3,Ni,ai],az),Sfe=(r,e,t,n,a,s,i,l)=>{if(e){var{type:c}=e,u=V0(r,l);if(n){var A=t==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=c==="category"&&n.bandwidth?n.bandwidth()/A:0;return h=l==="angleAxis"&&a!=null&&a?.length>=2?gi(a[0]-a[1])*2*h:h,u&&i?i.map((p,m)=>({coordinate:n(p)+h,value:p,index:m,offset:h})):n.domain().map((p,m)=>({coordinate:n(p)+h,value:s?s[p]:p,index:m,offset:h}))}}},zA=et([wn,Ni,e3,bz,yz,Cfe,Nfe,ai],Sfe),r3=et([iz,oz,Mhe],(r,e,t)=>lz(t.shared,r,e)),wz=r=>r.tooltip.settings.trigger,n3=r=>r.tooltip.settings.defaultIndex,YC=et([_g,r3,wz,n3],fz),I0=et([YC,Tg],ZT),Cz=et([zA,I0],cz),Nz=et([YC],r=>{if(r)return r.dataKey}),Sz=et([_g,r3,wz,n3],pz),Bfe=et([MA,RA,wn,ri,zA,n3,Sz,Nv],mz),Efe=et([YC,Bfe],(r,e)=>r!=null&&r.coordinate?r.coordinate:e),jfe=et([YC],r=>r.active),_fe=et([Sz,I0,xf,T9,Cz,Nv,r3],gz);et([_fe],r=>{if(r!=null){var e=r.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function OI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function DI(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(t),!0).forEach(function(n){Tfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):OI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Tfe(r,e,t){return(e=kfe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function kfe(r){var e=Ffe(r,"string");return typeof e=="symbol"?e:e+""}function Ffe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Ofe=()=>fr(Ni),Dfe=()=>{var r=Ofe(),e=fr(zA),t=fr(bz);return q_(DI(DI({},r),{},{scale:t}),e)},Pfe=()=>fr(ET),a3=(r,e)=>e,Bz=(r,e,t)=>t,s3=(r,e,t,n)=>n,Ife=et(zA,r=>CC(r,e=>e.coordinate)),i3=et([_g,a3,Bz,s3],fz),Ez=et([i3,Tg],ZT),Lfe=(r,e,t)=>{if(e!=null){var n=_g(r);return e==="axis"?t==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:t==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},jz=et([_g,a3,Bz,s3],pz),h2=et([MA,RA,wn,ri,zA,s3,jz,Nv],mz),Mfe=et([i3,h2],(r,e)=>{var t;return(t=r.coordinate)!==null&&t!==void 0?t:e}),_z=et(zA,Ez,cz),Rfe=et([jz,Ez,xf,T9,_z,Nv,a3],gz),Ufe=et([i3],r=>({isActive:r.active,activeIndex:r.index})),Qfe=(r,e,t,n,a,s,i,l)=>{if(!(!r||!e||!n||!a||!s)){var c=cle(r.chartX,r.chartY,e,t,l);if(c){var u=dle(c,e),A=Yoe(u,i,s,n,a),h=ule(e,s,A,c);return{activeIndex:String(A),activeCoordinate:h}}}};function Wj(){return Wj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Wj.apply(null,arguments)}function PI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function cb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(t),!0).forEach(function(n){Hfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):PI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Hfe(r,e,t){return(e=zfe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function zfe(r){var e=Kfe(r,"string");return typeof e=="symbol"?e:e+""}function Kfe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function $fe(r){var{coordinate:e,payload:t,index:n,offset:a,tooltipAxisBandSize:s,layout:i,cursor:l,tooltipEventType:c,chartName:u}=r,A=e,h=t,p=n;if(!l||!A||u!=="ScatterChart"&&c!=="axis")return null;var m,y;if(u==="ScatterChart")m=A,y=dce;else if(u==="BarChart")m=Ace(i,A,a,s),y=CH;else if(i==="radial"){var{cx:g,cy:v,radius:b,startAngle:N,endAngle:C}=NH(A);m={cx:g,cy:v,startAngle:N,endAngle:C,innerRadius:b,outerRadius:b},y=BH}else m={points:$ce(i,A,a)},y=xH;var E=typeof l=="object"&&"className"in l?l.className:void 0,_=cb(cb(cb(cb({stroke:"#ccc",pointerEvents:"none"},a),m),ti(l,!1)),{},{payload:h,payloadIndex:p,className:An("recharts-tooltip-cursor",E)});return B.isValidElement(l)?B.cloneElement(l,_):B.createElement(y,_)}function Vfe(r){var e=Dfe(),t=hH(),n=J_(),a=Pfe();return B.createElement($fe,Wj({},r,{coordinate:r.coordinate,index:r.index,payload:r.payload,offset:t,layout:n,tooltipAxisBandSize:e,chartName:a}))}var Tz=B.createContext(null),qfe=()=>B.useContext(Tz),wB={exports:{}},II;function Gfe(){return II||(II=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function a(c,u,A){this.fn=c,this.context=u,this.once=A||!1}function s(c,u,A,h,p){if(typeof A!="function")throw new TypeError("The listener must be a function");var m=new a(A,h||c,p),y=t?t+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],A,h;if(this._eventsCount===0)return u;for(h in A=this._events)e.call(A,h)&&u.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(A)):u},l.prototype.listeners=function(u){var A=t?t+u:u,h=this._events[A];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,y=new Array(m);p<m;p++)y[p]=h[p].fn;return y},l.prototype.listenerCount=function(u){var A=t?t+u:u,h=this._events[A];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,A,h,p,m,y){var g=t?t+u:u;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,N,C;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,A),!0;case 3:return v.fn.call(v.context,A,h),!0;case 4:return v.fn.call(v.context,A,h,p),!0;case 5:return v.fn.call(v.context,A,h,p,m),!0;case 6:return v.fn.call(v.context,A,h,p,m,y),!0}for(C=1,N=new Array(b-1);C<b;C++)N[C-1]=arguments[C];v.fn.apply(v.context,N)}else{var E=v.length,_;for(C=0;C<E;C++)switch(v[C].once&&this.removeListener(u,v[C].fn,void 0,!0),b){case 1:v[C].fn.call(v[C].context);break;case 2:v[C].fn.call(v[C].context,A);break;case 3:v[C].fn.call(v[C].context,A,h);break;case 4:v[C].fn.call(v[C].context,A,h,p);break;default:if(!N)for(_=1,N=new Array(b-1);_<b;_++)N[_-1]=arguments[_];v[C].fn.apply(v[C].context,N)}}return!0},l.prototype.on=function(u,A,h){return s(this,u,A,h,!1)},l.prototype.once=function(u,A,h){return s(this,u,A,h,!0)},l.prototype.removeListener=function(u,A,h,p){var m=t?t+u:u;if(!this._events[m])return this;if(!A)return i(this,m),this;var y=this._events[m];if(y.fn)y.fn===A&&(!p||y.once)&&(!h||y.context===h)&&i(this,m);else{for(var g=0,v=[],b=y.length;g<b;g++)(y[g].fn!==A||p&&!y[g].once||h&&y[g].context!==h)&&v.push(y[g]);v.length?this._events[m]=v.length===1?v[0]:v:i(this,m)}return this},l.prototype.removeAllListeners=function(u){var A;return u?(A=t?t+u:u,this._events[A]&&i(this,A)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,r.exports=l})(wB)),wB.exports}var Wfe=Gfe();const Yfe=Pc(Wfe);var Py=new Yfe,Yj="recharts.syncEvent.tooltip",LI="recharts.syncEvent.brush";function kz(r,e){if(e){var t=Number.parseInt(e,10);if(!Gl(t))return r?.[t]}}var Xfe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Fz=ec({name:"options",initialState:Xfe,reducers:{createEventEmitter:r=>{r.eventEmitter==null&&(r.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Jfe=Fz.reducer,{createEventEmitter:Zfe}=Fz.actions;function e0e(r){return r.tooltip.syncInteraction}var t0e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Oz=ec({name:"chartData",initialState:t0e,reducers:{setChartData(r,e){if(r.chartData=e.payload,e.payload==null){r.dataStartIndex=0,r.dataEndIndex=0;return}e.payload.length>0&&r.dataEndIndex!==e.payload.length-1&&(r.dataEndIndex=e.payload.length-1)},setComputedData(r,e){r.computedData=e.payload},setDataStartEndIndexes(r,e){var{startIndex:t,endIndex:n}=e.payload;t!=null&&(r.dataStartIndex=t),n!=null&&(r.dataEndIndex=n)}}}),{setChartData:MI,setDataStartEndIndexes:r0e,setComputedData:GMe}=Oz.actions,n0e=Oz.reducer,a0e=["x","y"];function RI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Wf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(t),!0).forEach(function(n){s0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):RI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function s0e(r,e,t){return(e=i0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function i0e(r){var e=o0e(r,"string");return typeof e=="symbol"?e:e+""}function o0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function l0e(r,e){if(r==null)return{};var t,n,a=c0e(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function c0e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Dz=()=>{};function u0e(){var r=fr(jT),e=fr(_T),t=qa(),n=fr(N9),a=fr(zA),s=J_(),i=W_(),l=fr(c=>c.rootProps.className);B.useEffect(()=>{if(r==null)return Dz;var c=(u,A,h)=>{if(e!==h&&r===u){if(n==="index"){var p;if(i&&A!==null&&A!==void 0&&(p=A.payload)!==null&&p!==void 0&&p.coordinate){var m=A.payload.coordinate,{x:y,y:g}=m,v=l0e(m,a0e),b=Wf(Wf(Wf({},v),typeof y=="number"&&{x:Math.max(i.x,Math.min(y,i.x+i.width))}),typeof g=="number"&&{y:Math.max(i.y,Math.min(g,i.y+i.height))}),N=Wf(Wf({},A),{},{payload:Wf(Wf({},A.payload),{},{coordinate:b})});t(N)}else t(A);return}if(a!=null){var C;if(typeof n=="function"){var E={activeTooltipIndex:A.payload.index==null?void 0:Number(A.payload.index),isTooltipActive:A.payload.active,activeIndex:A.payload.index==null?void 0:Number(A.payload.index),activeLabel:A.payload.label,activeDataKey:A.payload.dataKey,activeCoordinate:A.payload.coordinate},_=n(a,E);C=a[_]}else n==="value"&&(C=a.find(R=>String(R.value)===A.payload.label));var{coordinate:P}=A.payload;if(C==null||A.payload.active===!1||P==null||i==null){t(qj({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:O,y:D}=P,k=Math.min(O,i.x+i.width),H=Math.min(D,i.y+i.height),L={x:s==="horizontal"?C.coordinate:k,y:s==="horizontal"?H:C.coordinate},Q=qj({active:A.payload.active,coordinate:L,dataKey:A.payload.dataKey,index:String(C.index),label:A.payload.label});t(Q)}}};return Py.on(Yj,c),()=>{Py.off(Yj,c)}},[l,t,e,r,n,a,s,i])}function d0e(){var r=fr(jT),e=fr(_T),t=qa();B.useEffect(()=>{if(r==null)return Dz;var n=(a,s,i)=>{e!==i&&r===a&&t(r0e(s))};return Py.on(LI,n),()=>{Py.off(LI,n)}},[t,e,r])}function A0e(){var r=qa();B.useEffect(()=>{r(Zfe())},[r]),u0e(),d0e()}function h0e(r,e,t,n,a,s){var i=fr(p=>Lfe(p,r,e)),l=fr(_T),c=fr(jT),u=fr(N9),A=fr(e0e),h=A?.active;B.useEffect(()=>{if(!h&&c!=null&&l!=null){var p=qj({active:s,coordinate:t,dataKey:i,index:a,label:typeof n=="number"?String(n):n});Py.emit(Yj,c,p,l)}},[h,t,i,a,n,l,c,u,s])}function UI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function QI(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(t),!0).forEach(function(n){f0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):UI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function f0e(r,e,t){return(e=m0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function m0e(r){var e=p0e(r,"string");return typeof e=="symbol"?e:e+""}function p0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function g0e(r){return r.dataKey}function x0e(r,e){return B.isValidElement(r)?B.cloneElement(r,e):typeof r=="function"?B.createElement(r,e):B.createElement(zle,e)}var HI=[],y0e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!q0.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function bp(r){var e=Io(r,y0e),{active:t,allowEscapeViewBox:n,animationDuration:a,animationEasing:s,content:i,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:A,position:h,reverseDirection:p,useTranslate3d:m,wrapperStyle:y,cursor:g,shared:v,trigger:b,defaultIndex:N,portal:C,axisId:E}=e,_=qa(),P=typeof N=="number"?String(N):N;B.useEffect(()=>{_(Hhe({shared:v,trigger:b,axisId:E,active:t,defaultIndex:P}))},[_,v,b,E,t,P]);var O=W_(),D=gH(),k=Lhe(v),{activeIndex:H,isActive:L}=fr(q=>Ufe(q,k,b,P)),Q=fr(q=>Rfe(q,k,b,P)),R=fr(q=>_z(q,k,b,P)),K=fr(q=>Mfe(q,k,b,P)),ee=Q,X=qfe(),ae=t??L,[Y,de]=PQ([ee,ae]),pe=k==="axis"?R:void 0;h0e(k,b,K,pe,H,ae);var Z=C??X;if(Z==null)return null;var I=ee??HI;ae||(I=HI),l&&I.length&&(I=TQ(ee.filter(q=>q.value!=null&&(q.hide!==!0||e.includeHidden)),A,g0e));var z=I.length>0,V=B.createElement(Yle,{allowEscapeViewBox:n,animationDuration:a,animationEasing:s,isAnimationActive:c,active:ae,coordinate:K,hasPayload:z,offset:u,position:h,reverseDirection:p,useTranslate3d:m,viewBox:O,wrapperStyle:y,lastBoundingBox:Y,innerRef:de,hasPortalFromProps:!!C},x0e(i,QI(QI({},e),{},{payload:I,label:pe,active:ae,coordinate:K,accessibilityLayer:D})));return B.createElement(B.Fragment,null,W8.createPortal(V,Z),ae&&B.createElement(Vfe,{cursor:g,tooltipEventType:k,coordinate:K,payload:ee,index:H}))}var CB={},NB={},SB={},zI;function v0e(){return zI||(zI=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n,{signal:a,edges:s}={}){let i,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),A=()=>{l!==null&&(t.apply(i,l),i=void 0,l=null)},h=()=>{u&&A(),g()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,h()},n)},y=()=>{p!==null&&(clearTimeout(p),p=null)},g=()=>{y(),i=void 0,l=null},v=()=>{A()},b=function(...N){if(a?.aborted)return;i=this,l=N;const C=p==null;m(),c&&C&&A()};return b.schedule=m,b.cancel=g,b.flush=v,a?.addEventListener("abort",g,{once:!0}),b}r.debounce=e})(SB)),SB}var KI;function b0e(){return KI||(KI=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=v0e();function t(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);i&&(u[0]="leading"),l&&(u[1]="trailing");let A,h=null;const p=e.debounce(function(...g){A=n.apply(this,g),h=null},a,{edges:u}),m=function(...g){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(A=n.apply(this,g),h=Date.now(),p.cancel(),p.schedule(),A):(p.apply(this,g),A)},y=()=>(p.flush(),A);return m.cancel=p.cancel,m.flush=y,m}r.debounce=t})(NB)),NB}var $I;function w0e(){return $I||($I=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=b0e();function t(n,a=0,s={}){const{leading:i=!0,trailing:l=!0}=s;return e.debounce(n,a,{leading:i,maxWait:a,trailing:l})}r.throttle=t})(CB)),CB}var BB,VI;function C0e(){return VI||(VI=1,BB=w0e().throttle),BB}var N0e=C0e();const S0e=Pc(N0e);var iy=function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function qI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function EB(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(t),!0).forEach(function(n){B0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):qI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function B0e(r,e,t){return(e=E0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function E0e(r){var e=j0e(r,"string");return typeof e=="symbol"?e:e+""}function j0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var wp=B.forwardRef((r,e)=>{var{aspect:t,initialDimension:n={width:-1,height:-1},width:a="100%",height:s="100%",minWidth:i=0,minHeight:l,maxHeight:c,children:u,debounce:A=0,id:h,className:p,onResize:m,style:y={}}=r,g=B.useRef(null),v=B.useRef();v.current=m,B.useImperativeHandle(e,()=>g.current);var[b,N]=B.useState({containerWidth:n.width,containerHeight:n.height}),C=B.useCallback((_,P)=>{N(O=>{var D=Math.round(_),k=Math.round(P);return O.containerWidth===D&&O.containerHeight===k?O:{containerWidth:D,containerHeight:k}})},[]);B.useEffect(()=>{var _=k=>{var H,{width:L,height:Q}=k[0].contentRect;C(L,Q),(H=v.current)===null||H===void 0||H.call(v,L,Q)};A>0&&(_=S0e(_,A,{trailing:!0,leading:!1}));var P=new ResizeObserver(_),{width:O,height:D}=g.current.getBoundingClientRect();return C(O,D),P.observe(g.current),()=>{P.disconnect()}},[C,A]);var E=B.useMemo(()=>{var{containerWidth:_,containerHeight:P}=b;if(_<0||P<0)return null;iy(d0(a)||d0(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,s),iy(!t||t>0,"The aspect(%s) must be greater than zero.",t);var O=d0(a)?_:a,D=d0(s)?P:s;return t&&t>0&&(O?D=O/t:D&&(O=D*t),c&&D>c&&(D=c)),iy(O>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,D,a,s,i,l,t),B.Children.map(u,k=>B.cloneElement(k,{width:O,height:D,style:EB({width:O,height:D},k.props.style)}))},[t,u,s,c,l,i,b,a]);return B.createElement("div",{id:h?"".concat(h):void 0,className:An("recharts-responsive-container",p),style:EB(EB({},y),{},{width:a,height:s,minWidth:i,minHeight:l,maxHeight:c}),ref:g},B.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))}),Zh=r=>null;Zh.displayName="Cell";function _0e(r,e,t){return(e=T0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function T0e(r){var e=k0e(r,"string");return typeof e=="symbol"?e:e+""}function k0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class F0e{constructor(e){_0e(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function GI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function O0e(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(t),!0).forEach(function(n){D0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):GI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function D0e(r,e,t){return(e=P0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function P0e(r){var e=I0e(r,"string");return typeof e=="symbol"?e:e+""}function I0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var L0e={cacheSize:2e3,enableCache:!0},Pz=O0e({},L0e),WI=new F0e(Pz.cacheSize),M0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},YI="recharts_measurement_span";function R0e(r,e){var t=e.fontSize||"",n=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",i=e.letterSpacing||"",l=e.textTransform||"";return"".concat(r,"|").concat(t,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(l)}var XI=(r,e)=>{try{var t=document.getElementById(YI);t||(t=document.createElement("span"),t.setAttribute("id",YI),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,M0e,e),t.textContent="".concat(r);var n=t.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},oy=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||q0.isSsr)return{width:0,height:0};if(!Pz.enableCache)return XI(e,t);var n=R0e(e,t),a=WI.get(n);if(a)return a;var s=XI(e,t);return WI.set(n,s),s},JI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,U0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Q0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Iz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},H0e=Object.keys(Iz),Cp="NaN";function z0e(r,e){return r*Iz[e]}class nl{static parse(e){var t,[,n,a]=(t=Q0e.exec(e))!==null&&t!==void 0?t:[];return new nl(parseFloat(n),a??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,Gl(e)&&(this.unit=""),t!==""&&!U0e.test(t)&&(this.num=NaN,this.unit=""),H0e.includes(t)&&(this.num=z0e(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new nl(NaN,""):new nl(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new nl(NaN,""):new nl(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new nl(NaN,""):new nl(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new nl(NaN,""):new nl(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Gl(this.num)}}function Lz(r){if(r.includes(Cp))return Cp;for(var e=r;e.includes("*")||e.includes("/");){var t,[,n,a,s]=(t=JI.exec(e))!==null&&t!==void 0?t:[],i=nl.parse(n??""),l=nl.parse(s??""),c=a==="*"?i.multiply(l):i.divide(l);if(c.isNaN())return Cp;e=e.replace(JI,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,A,h,p]=(u=ZI.exec(e))!==null&&u!==void 0?u:[],m=nl.parse(A??""),y=nl.parse(p??""),g=h==="+"?m.add(y):m.subtract(y);if(g.isNaN())return Cp;e=e.replace(ZI,g.toString())}return e}var eL=/\(([^()]*)\)/;function K0e(r){for(var e=r,t;(t=eL.exec(e))!=null;){var[,n]=t;e=e.replace(eL,Lz(n))}return e}function $0e(r){var e=r.replace(/\s+/g,"");return e=K0e(e),e=Lz(e),e}function V0e(r){try{return $0e(r)}catch{return Cp}}function jB(r){var e=V0e(r.slice(5,-1));return e===Cp?"":e}var q0e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],G0e=["dx","dy","angle","className","breakAll"];function Xj(){return Xj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Xj.apply(null,arguments)}function tL(r,e){if(r==null)return{};var t,n,a=W0e(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function W0e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Mz=/[ \f\n\r\t\v\u2028\u2029]+/,Rz=r=>{var{children:e,breakAll:t,style:n}=r;try{var a=[];wi(e)||(t?a=e.toString().split(""):a=e.toString().split(Mz));var s=a.map(l=>({word:l,width:oy(l,n).width})),i=t?0:oy("",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}},Y0e=(r,e,t,n,a)=>{var{maxLines:s,children:i,style:l,breakAll:c}=r,u=xr(s),A=i,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce((Q,R)=>{var{word:K,width:ee}=R,X=Q[Q.length-1];if(X&&(n==null||a||X.width+ee+t<Number(n)))X.words.push(K),X.width+=ee+t;else{var ae={words:[K],width:ee};Q.push(ae)}return Q},[])},p=h(e),m=H=>H.reduce((L,Q)=>L.width>Q.width?L:Q);if(!u||a)return p;var y=p.length>s||m(p).width>Number(n);if(!y)return p;for(var g="",v=H=>{var L=A.slice(0,H),Q=Rz({breakAll:c,style:l,children:L+g}).wordsWithComputedWidth,R=h(Q),K=R.length>s||m(R).width>Number(n);return[K,R]},b=0,N=A.length-1,C=0,E;b<=N&&C<=A.length-1;){var _=Math.floor((b+N)/2),P=_-1,[O,D]=v(P),[k]=v(_);if(!O&&!k&&(b=_+1),O&&k&&(N=_-1),!O&&k){E=D;break}C++}return E||p},rL=r=>{var e=wi(r)?[]:r.toString().split(Mz);return[{words:e}]},X0e=r=>{var{width:e,scaleToFit:t,children:n,style:a,breakAll:s,maxLines:i}=r;if((e||t)&&!q0.isSsr){var l,c,u=Rz({breakAll:s,children:n,style:a});if(u){var{wordsWithComputedWidth:A,spaceWidth:h}=u;l=A,c=h}else return rL(n);return Y0e({breakAll:s,children:n,maxLines:i,style:a},l,c,e,t)}return rL(n)},nL="#808080",XC=B.forwardRef((r,e)=>{var{x:t=0,y:n=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:i=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=nL}=r,A=tL(r,q0e),h=B.useMemo(()=>X0e({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:i,style:A.style,width:A.width}),[A.breakAll,A.children,A.maxLines,i,A.style,A.width]),{dx:p,dy:m,angle:y,className:g,breakAll:v}=A,b=tL(A,G0e);if(!Cd(t)||!Cd(n)||h.length===0)return null;var N=t+(xr(p)?p:0),C=n+(xr(m)?m:0),E;switch(c){case"start":E=jB("calc(".concat(s,")"));break;case"middle":E=jB("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:E=jB("calc(".concat(h.length-1," * -").concat(a,")"));break}var _=[];if(i){var P=h[0].width,{width:O}=A;_.push("scale(".concat(xr(O)?O/P:1,")"))}return y&&_.push("rotate(".concat(y,", ").concat(N,", ").concat(C,")")),_.length&&(b.transform=_.join(" ")),B.createElement("text",Xj({},ti(b,!0),{ref:e,x:N,y:C,className:An("recharts-text",g),textAnchor:l,fill:u.includes("url")?nL:u}),h.map((D,k)=>{var H=D.words.join(v?"":" ");return B.createElement("tspan",{x:N,dy:k===0?E:a,key:"".concat(H,"-").concat(k)},H)}))});XC.displayName="Text";var J0e=["labelRef"];function Z0e(r,e){if(r==null)return{};var t,n,a=eme(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function eme(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function aL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function ms(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(t),!0).forEach(function(n){tme(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):aL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function tme(r,e,t){return(e=rme(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function rme(r){var e=nme(r,"string");return typeof e=="symbol"?e:e+""}function nme(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function hA(){return hA=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},hA.apply(null,arguments)}var Uz=B.createContext(null),ame=r=>{var{x:e,y:t,width:n,height:a,children:s}=r,i=B.useMemo(()=>({x:e,y:t,width:n,height:a}),[e,t,n,a]);return B.createElement(Uz.Provider,{value:i},s)},Qz=()=>{var r=B.useContext(Uz),e=W_();return r||e},sme=B.createContext(null),ime=()=>{var r=B.useContext(sme),e=fr(_9);return r||e},ome=r=>{var{value:e,formatter:t}=r,n=wi(r.children)?e:r.children;return typeof t=="function"?t(n):n},o3=r=>r!=null&&typeof r=="function",lme=(r,e)=>{var t=gi(e-r),n=Math.min(Math.abs(e-r),360);return t*n},cme=(r,e,t,n,a)=>{var{offset:s,className:i}=r,{cx:l,cy:c,innerRadius:u,outerRadius:A,startAngle:h,endAngle:p,clockWise:m}=a,y=(u+A)/2,g=lme(h,p),v=g>=0?1:-1,b,N;switch(e){case"insideStart":b=h+v*s,N=m;break;case"insideEnd":b=p-v*s,N=!m;break;case"end":b=p+v*s,N=m;break;default:throw new Error("Unsupported position ".concat(e))}N=g<=0?N:!N;var C=Ps(l,c,y,b),E=Ps(l,c,y,b+(N?1:-1)*359),_="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(E.x,",").concat(E.y),P=wi(r.id)?Sy("recharts-radial-line-"):r.id;return B.createElement("text",hA({},n,{dominantBaseline:"central",className:An("recharts-radial-bar-label",i)}),B.createElement("defs",null,B.createElement("path",{id:P,d:_})),B.createElement("textPath",{xlinkHref:"#".concat(P)},t))},ume=(r,e,t)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:l,endAngle:c}=r,u=(l+c)/2;if(t==="outside"){var{x:A,y:h}=Ps(n,a,i+e,u);return{x:A,y:h,textAnchor:A>=n?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(s+i)/2,{x:m,y}=Ps(n,a,p,u);return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},Hz=r=>"cx"in r&&xr(r.cx),dme=(r,e)=>{var{parentViewBox:t,offset:n,position:a}=r,s;t!=null&&!Hz(t)&&(s=t);var{x:i,y:l,width:c,height:u}=e,A=u>=0?1:-1,h=A*n,p=A>0?"end":"start",m=A>0?"start":"end",y=c>=0?1:-1,g=y*n,v=y>0?"end":"start",b=y>0?"start":"end";if(a==="top"){var N={x:i+c/2,y:l-A*n,textAnchor:"middle",verticalAnchor:p};return ms(ms({},N),s?{height:Math.max(l-s.y,0),width:c}:{})}if(a==="bottom"){var C={x:i+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return ms(ms({},C),s?{height:Math.max(s.y+s.height-(l+u),0),width:c}:{})}if(a==="left"){var E={x:i-g,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return ms(ms({},E),s?{width:Math.max(E.x-s.x,0),height:u}:{})}if(a==="right"){var _={x:i+c+g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return ms(ms({},_),s?{width:Math.max(s.x+s.width-_.x,0),height:u}:{})}var P=s?{width:c,height:u}:{};return a==="insideLeft"?ms({x:i+g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},P):a==="insideRight"?ms({x:i+c-g,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},P):a==="insideTop"?ms({x:i+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},P):a==="insideBottom"?ms({x:i+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},P):a==="insideTopLeft"?ms({x:i+g,y:l+h,textAnchor:b,verticalAnchor:m},P):a==="insideTopRight"?ms({x:i+c-g,y:l+h,textAnchor:v,verticalAnchor:m},P):a==="insideBottomLeft"?ms({x:i+g,y:l+u-h,textAnchor:b,verticalAnchor:p},P):a==="insideBottomRight"?ms({x:i+c-g,y:l+u-h,textAnchor:v,verticalAnchor:p},P):a&&typeof a=="object"&&(xr(a.x)||d0(a.x))&&(xr(a.y)||d0(a.y))?ms({x:i+co(a.x,c),y:l+co(a.y,u),textAnchor:"end",verticalAnchor:"end"},P):ms({x:i+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Ame={offset:5};function Ph(r){var e=Io(r,Ame),{viewBox:t,position:n,value:a,children:s,content:i,className:l="",textBreakAll:c,labelRef:u}=e,A=ime(),h=Qz(),p=n==="center"?h:A??h,m=t||p;if(!m||wi(a)&&wi(s)&&!B.isValidElement(i)&&typeof i!="function")return null;var y=ms(ms({},e),{},{viewBox:m});if(B.isValidElement(i)){var{labelRef:g}=y,v=Z0e(y,J0e);return B.cloneElement(i,v)}var b;if(typeof i=="function"){if(b=B.createElement(i,y),B.isValidElement(b))return b}else b=ome(e);var N=Hz(m),C=ti(e,!0);if(N&&(n==="insideStart"||n==="insideEnd"||n==="end"))return cme(e,n,b,C,m);var E=N?ume(m,e.offset,e.position):dme(e,m);return B.createElement(XC,hA({ref:u,className:An("recharts-label",l)},C,E,{breakAll:c}),b)}Ph.displayName="Label";var hme=(r,e,t)=>{if(!r)return null;var n={viewBox:e,labelRef:t};return r===!0?B.createElement(Ph,hA({key:"label-implicit"},n)):Cd(r)?B.createElement(Ph,hA({key:"label-implicit",value:r},n)):B.isValidElement(r)?r.type===Ph?B.cloneElement(r,ms({key:"label-implicit"},n)):B.createElement(Ph,hA({key:"label-implicit",content:r},n)):o3(r)?B.createElement(Ph,hA({key:"label-implicit",content:r},n)):r&&typeof r=="object"?B.createElement(Ph,hA({},r,{key:"label-implicit"},n)):null};function fme(r){var{label:e}=r,t=Qz();return hme(e,t)||null}var _B={},TB={},sL;function mme(){return sL||(sL=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}r.last=e})(TB)),TB}var kB={},iL;function pme(){return iL||(iL=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}r.toArray=e})(kB)),kB}var oL;function gme(){return oL||(oL=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=mme(),t=pme(),n=R_();function a(s){if(n.isArrayLike(s))return e.last(t.toArray(s))}r.last=a})(_B)),_B}var FB,lL;function xme(){return lL||(lL=1,FB=gme().last),FB}var yme=xme();const vme=Pc(yme);var bme=["valueAccessor"],wme=["dataKey","clockWise","id","textBreakAll"];function f2(){return f2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},f2.apply(null,arguments)}function cL(r,e){if(r==null)return{};var t,n,a=Cme(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Cme(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Nme=r=>Array.isArray(r.value)?vme(r.value):r.value,zz=B.createContext(void 0),Sme=zz.Provider,Kz=B.createContext(void 0),Bme=Kz.Provider;function Eme(){return B.useContext(zz)}function jme(){return B.useContext(Kz)}function xw(r){var{valueAccessor:e=Nme}=r,t=cL(r,bme),{dataKey:n,clockWise:a,id:s,textBreakAll:i}=t,l=cL(t,wme),c=Eme(),u=jme(),A=c||u;return!A||!A.length?null:B.createElement(Al,{className:"recharts-label-list"},A.map((h,p)=>{var m,y=wi(n)?e(h,p):Ka(h&&h.payload,n),g=wi(s)?{}:{id:"".concat(s,"-").concat(p)};return B.createElement(Ph,f2({},ti(h,!0),l,g,{fill:(m=t.fill)!==null&&m!==void 0?m:h.fill,parentViewBox:h.parentViewBox,value:y,textBreakAll:i,viewBox:h.viewBox,key:"label-".concat(p),index:p}))}))}xw.displayName="LabelList";function $z(r){var{label:e}=r;return e?e===!0?B.createElement(xw,{key:"labelList-implicit"}):B.isValidElement(e)||o3(e)?B.createElement(xw,{key:"labelList-implicit",content:e}):typeof e=="object"?B.createElement(xw,f2({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Vz=r=>r.graphicalItems.polarItems,_me=et([Pa,vv],PT),l3=et([Vz,Ss,_me],LT),Tme=et([l3],MT),c3=et([Tme,CT],RT),kme=et([c3,Ss,l3],QT),Fme=et([c3,Ss,l3],(r,e,t)=>t.length>0?r.flatMap(n=>t.flatMap(a=>{var s,i=Ka(n,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:i,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?r.map(n=>({value:Ka(n,e.dataKey),errorDomain:[]})):r.map(n=>({value:n,errorDomain:[]}))),uL=()=>{},Ome=et([Ss,W9,uL,Fme,uL,wn,Pa],zT),qz=et([Ss,wn,c3,kme,yv,Pa,Ome],KT),Dme=et([qz,Ss,Eg],qT);et([Ss,qz,Dme,Pa],WT);var Pme={radiusAxis:{},angleAxis:{}},Gz=ec({name:"polarAxis",initialState:Pme,reducers:{addRadiusAxis(r,e){r.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(r,e){delete r.radiusAxis[e.payload.id]},addAngleAxis(r,e){r.angleAxis[e.payload.id]=e.payload},removeAngleAxis(r,e){delete r.angleAxis[e.payload.id]}}}),{addRadiusAxis:WMe,removeRadiusAxis:YMe,addAngleAxis:XMe,removeAngleAxis:JMe}=Gz.actions,Ime=Gz.reducer;function dL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function AL(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(t),!0).forEach(function(n){Lme(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):dL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Lme(r,e,t){return(e=Mme(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Mme(r){var e=Rme(r,"string");return typeof e=="symbol"?e:e+""}function Rme(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Ume=(r,e)=>e,u3=et([Vz,Ume],(r,e)=>r.filter(t=>t.type==="pie").find(t=>t.id===e)),Qme=[],d3=(r,e,t)=>t?.length===0?Qme:t,Wz=et([CT,u3,d3],(r,e,t)=>{var{chartData:n}=r;if(e!=null){var a;if(e?.data!=null&&e.data.length>0?a=e.data:a=n,(!a||!a.length)&&t!=null&&(a=t.map(s=>AL(AL({},e.presentationProps),s.props))),a!=null)return a}}),Hme=et([Wz,u3,d3],(r,e,t)=>{if(!(r==null||e==null))return r.map((n,a)=>{var s,i=Ka(n,e.nameKey,e.name),l;return t!=null&&(s=t[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=t[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=e.fill,{value:_C(i,e.dataKey),color:l,payload:n,type:e.legendType}})}),zme=et([Wz,u3,d3,ri],(r,e,t,n)=>{if(!(e==null||r==null))return Hpe({offset:n,pieSettings:e,displayedData:r,cells:t})}),OB={},hL;function Kme(){return hL||(hL=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const a=t[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${a}]`}let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}r.isPlainObject=e})(OB)),OB}var DB,fL;function $me(){return fL||(fL=1,DB=Kme().isPlainObject),DB}var Vme=$me();const qme=Pc(Vme);function mL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function pL(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(t),!0).forEach(function(n){Gme(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):mL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Gme(r,e,t){return(e=Wme(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Wme(r){var e=Yme(r,"string");return typeof e=="symbol"?e:e+""}function Yme(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function m2(){return m2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},m2.apply(null,arguments)}var gL=(r,e,t,n,a)=>{var s=t-n,i;return i="M ".concat(r,",").concat(e),i+="L ".concat(r+t,",").concat(e),i+="L ".concat(r+t-s/2,",").concat(e+a),i+="L ".concat(r+t-s/2-n,",").concat(e+a),i+="L ".concat(r,",").concat(e," Z"),i},Xme={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jme=r=>{var e=Io(r,Xme),{x:t,y:n,upperWidth:a,lowerWidth:s,height:i,className:l}=e,{animationEasing:c,animationDuration:u,animationBegin:A,isUpdateAnimationActive:h}=e,p=B.useRef(),[m,y]=B.useState(-1),g=B.useRef(a),v=B.useRef(s),b=B.useRef(i),N=B.useRef(t),C=B.useRef(n),E=PC(r,"trapezoid-");if(B.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var K=p.current.getTotalLength();K&&y(K)}catch{}},[]),t!==+t||n!==+n||a!==+a||s!==+s||i!==+i||a===0&&s===0||i===0)return null;var _=An("recharts-trapezoid",l);if(!h)return B.createElement("g",null,B.createElement("path",m2({},ti(e,!0),{className:_,d:gL(t,n,a,s,i)})));var P=g.current,O=v.current,D=b.current,k=N.current,H=C.current,L="0px ".concat(m===-1?1:m,"px"),Q="".concat(m,"px 0px"),R=yH(["strokeDasharray"],u,c);return B.createElement(DC,{animationId:E,key:E,canBegin:m>0,duration:u,easing:c,isActive:h,begin:A},K=>{var ee=Qi(P,a,K),X=Qi(O,s,K),ae=Qi(D,i,K),Y=Qi(k,t,K),de=Qi(H,n,K);p.current&&(g.current=ee,v.current=X,b.current=ae,N.current=Y,C.current=de);var pe=K>0?{transition:R,strokeDasharray:Q}:{strokeDasharray:L};return B.createElement("path",m2({},ti(e,!0),{className:_,d:gL(Y,de,ee,X,ae),ref:p,style:pL(pL({},pe),e.style)}))})},Zme=["option","shapeType","propTransformer","activeClassName","isActive"];function epe(r,e){if(r==null)return{};var t,n,a=tpe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function tpe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function xL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function p2(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(t),!0).forEach(function(n){rpe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):xL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function rpe(r,e,t){return(e=npe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function npe(r){var e=ape(r,"string");return typeof e=="symbol"?e:e+""}function ape(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function spe(r,e){return p2(p2({},e),r)}function ipe(r,e){return r==="symbols"}function yL(r){var{shapeType:e,elementProps:t}=r;switch(e){case"rectangle":return B.createElement(CH,t);case"trapezoid":return B.createElement(Jme,t);case"sector":return B.createElement(BH,t);case"symbols":if(ipe(e))return B.createElement(I_,t);break;default:return null}}function ope(r){return B.isValidElement(r)?r.props:r}function Yz(r){var{option:e,shapeType:t,propTransformer:n=spe,activeClassName:a="recharts-active-shape",isActive:s}=r,i=epe(r,Zme),l;if(B.isValidElement(e))l=B.cloneElement(e,p2(p2({},i),ope(e)));else if(typeof e=="function")l=e(i);else if(qme(e)&&typeof e!="boolean"){var c=n(e,i);l=B.createElement(yL,{shapeType:t,elementProps:c})}else{var u=i;l=B.createElement(yL,{shapeType:t,elementProps:u})}return s?B.createElement(Al,{className:a},l):l}var A3=(r,e)=>{var t=qa();return(n,a)=>s=>{r?.(n,a,s),t(dz({activeIndex:String(a),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},h3=r=>{var e=qa();return(t,n)=>a=>{r?.(t,n,a),e(zhe())}},f3=(r,e)=>{var t=qa();return(n,a)=>s=>{r?.(n,a,s),t(Khe({activeIndex:String(a),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function Xz(r){var{fn:e,args:t}=r,n=qa(),a=Lc();return B.useEffect(()=>{if(!a){var s=e(t);return n(Uhe(s)),()=>{n(Qhe(s))}}},[e,t,n,a]),null}var Jz=()=>{};function lpe(r){var{legendPayload:e}=r,t=qa(),n=Lc();return B.useEffect(()=>n?Jz:(t(mH(e)),()=>{t(pH(e))}),[t,n,e]),null}function cpe(r){var{legendPayload:e}=r,t=qa(),n=fr(wn);return B.useEffect(()=>n!=="centric"&&n!=="radial"?Jz:(t(mH(e)),()=>{t(pH(e))}),[t,n,e]),null}var PB,upe=()=>{var[r]=B.useState(()=>Sy("uid-"));return r},dpe=(PB=NY.useId)!==null&&PB!==void 0?PB:upe;function Ape(r,e){var t=dpe();return e||(r?"".concat(r,"-").concat(t):t)}var hpe=B.createContext(void 0),Zz=r=>{var{id:e,type:t,children:n}=r,a=Ape("recharts-".concat(t),e);return B.createElement(hpe.Provider,{value:a},n(a))},fpe={cartesianItems:[],polarItems:[]},eK=ec({name:"graphicalItems",initialState:fpe,reducers:{addCartesianGraphicalItem(r,e){r.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(r,e){var{prev:t,next:n}=e.payload,a=yA(r).cartesianItems.indexOf(t);a>-1&&(r.cartesianItems[a]=n)},removeCartesianGraphicalItem(r,e){var t=yA(r).cartesianItems.indexOf(e.payload);t>-1&&r.cartesianItems.splice(t,1)},addPolarGraphicalItem(r,e){r.polarItems.push(e.payload)},removePolarGraphicalItem(r,e){var t=yA(r).polarItems.indexOf(e.payload);t>-1&&r.polarItems.splice(t,1)}}}),{addCartesianGraphicalItem:mpe,replaceCartesianGraphicalItem:ppe,removeCartesianGraphicalItem:gpe,addPolarGraphicalItem:xpe,removePolarGraphicalItem:ype}=eK.actions,vpe=eK.reducer;function bpe(r){var e=qa(),t=B.useRef(null);return B.useEffect(()=>{t.current===null?e(mpe(r)):t.current!==r&&e(ppe({prev:t.current,next:r})),t.current=r},[e,r]),B.useEffect(()=>()=>{t.current&&(e(gpe(t.current)),t.current=null)},[e]),null}function wpe(r){var e=qa();return B.useEffect(()=>(e(xpe(r)),()=>{e(ype(r))}),[e,r]),null}var Cpe=["onMouseEnter","onClick","onMouseLeave"],Npe=["id"],Spe=["id"];function m3(r,e){if(r==null)return{};var t,n,a=Bpe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Bpe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function vL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Fa(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(t),!0).forEach(function(n){Epe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):vL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Epe(r,e,t){return(e=jpe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function jpe(r){var e=_pe(r,"string");return typeof e=="symbol"?e:e+""}function _pe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ef(){return ef=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ef.apply(null,arguments)}function Tpe(r){var e=B.useMemo(()=>k_(r.children,Zh),[r.children]),t=fr(n=>Hme(n,r.id,e));return t==null?null:B.createElement(cpe,{legendPayload:t})}function kpe(r){var{dataKey:e,nameKey:t,sectors:n,stroke:a,strokeWidth:s,fill:i,name:l,hide:c,tooltipType:u}=r;return{dataDefinedOnItem:n.map(A=>A.tooltipPayload),positions:n.map(A=>A.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:i,dataKey:e,nameKey:t,name:_C(l,e),hide:c,type:u,color:i,unit:""}}}var Fpe=(r,e)=>r>e?"start":r<e?"end":"middle",Ope=(r,e,t)=>co(typeof e=="function"?e(r):e,t,t*.8),Dpe=(r,e,t)=>{var{top:n,left:a,width:s,height:i}=e,l=iH(s,i),c=a+co(r.cx,s,s/2),u=n+co(r.cy,i,i/2),A=co(r.innerRadius,l,0),h=Ope(t,r.outerRadius,l),p=r.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:c,cy:u,innerRadius:A,outerRadius:h,maxRadius:p}},Ppe=(r,e)=>{var t=gi(e-r),n=Math.min(Math.abs(e-r),360);return t*n};function Ipe(r){return r&&typeof r=="object"&&"className"in r&&typeof r.className=="string"?r.className:""}var Lpe=(r,e)=>{if(B.isValidElement(r))return B.cloneElement(r,e);if(typeof r=="function")return r(e);var t=An("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return B.createElement(xH,ef({},e,{type:"linear",className:t}))},Mpe=(r,e,t)=>{if(B.isValidElement(r))return B.cloneElement(r,e);var n=t;if(typeof r=="function"&&(n=r(e),B.isValidElement(n)))return n;var a=An("recharts-pie-label-text",Ipe(r));return B.createElement(XC,ef({},e,{alignmentBaseline:"middle",className:a}),n)};function Rpe(r){var{sectors:e,props:t,showLabels:n}=r,{label:a,labelLine:s,dataKey:i}=t;if(!n||!a||!e)return null;var l=mf(t),c=ti(a,!1),u=ti(s,!1),A=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,h=e.map((p,m)=>{var y=(p.startAngle+p.endAngle)/2,g=Ps(p.cx,p.cy,p.outerRadius+A,y),v=Fa(Fa(Fa(Fa({},l),p),{},{stroke:"none"},c),{},{index:m,textAnchor:Fpe(g.x,p.cx)},g),b=Fa(Fa(Fa(Fa({},l),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[Ps(p.cx,p.cy,p.outerRadius,y),g],key:"line"});return B.createElement(Al,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},s&&Lpe(s,b),Mpe(a,v,Ka(p,i)))});return B.createElement(Al,{className:"recharts-pie-labels"},h)}function Upe(r){var{sectors:e,props:t,showLabels:n}=r,{label:a}=t;return typeof a=="object"&&a!=null&&"position"in a?B.createElement($z,{label:a}):B.createElement(Rpe,{sectors:e,props:t,showLabels:n})}function Qpe(r){var{sectors:e,activeShape:t,inactiveShape:n,allOtherPieProps:a}=r,s=fr(I0),{onMouseEnter:i,onClick:l,onMouseLeave:c}=a,u=m3(a,Cpe),A=A3(i,a.dataKey),h=h3(c),p=f3(l,a.dataKey);return e==null||e.length===0?null:B.createElement(B.Fragment,null,e.map((m,y)=>{if(m?.startAngle===0&&m?.endAngle===0&&e.length!==1)return null;var g=t&&String(y)===s,v=s?n:null,b=g?t:v,N=Fa(Fa({},m),{},{stroke:m.stroke,tabIndex:-1,[dH]:y,[AH]:a.dataKey});return B.createElement(Al,ef({tabIndex:-1,className:"recharts-pie-sector"},dv(u,m,y),{onMouseEnter:A(m,y),onMouseLeave:h(m,y),onClick:p(m,y),key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(y)}),B.createElement(Yz,ef({option:b,isActive:g,shapeType:"sector"},N)))}))}function Hpe(r){var e,{pieSettings:t,displayedData:n,cells:a,offset:s}=r,{cornerRadius:i,startAngle:l,endAngle:c,dataKey:u,nameKey:A,tooltipType:h}=t,p=Math.abs(t.minAngle),m=Ppe(l,c),y=Math.abs(m),g=n.length<=1?0:(e=t.paddingAngle)!==null&&e!==void 0?e:0,v=n.filter(P=>Ka(P,u,0)!==0).length,b=(y>=360?v:v-1)*g,N=y-v*p-b,C=n.reduce((P,O)=>{var D=Ka(O,u,0);return P+(xr(D)?D:0)},0),E;if(C>0){var _;E=n.map((P,O)=>{var D=Ka(P,u,0),k=Ka(P,A,O),H=Dpe(t,s,P),L=(xr(D)?D:0)/C,Q,R=Fa(Fa({},P),a&&a[O]&&a[O].props);O?Q=_.endAngle+gi(m)*g*(D!==0?1:0):Q=l;var K=Q+gi(m)*((D!==0?p:0)+L*N),ee=(Q+K)/2,X=(H.innerRadius+H.outerRadius)/2,ae=[{name:k,value:D,payload:R,dataKey:u,type:h}],Y=Ps(H.cx,H.cy,X,ee);return _=Fa(Fa(Fa(Fa({},t.presentationProps),{},{percent:L,cornerRadius:i,name:k,tooltipPayload:ae,midAngle:ee,middleRadius:X,tooltipPosition:Y},R),H),{},{value:D,startAngle:Q,endAngle:K,payload:R,paddingAngle:gi(m)*g}),_})}return E}function zpe(r){var{showLabels:e,sectors:t,children:n}=r,a=B.useMemo(()=>!e||!t?[]:t.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[t,e]);return B.createElement(Bme,{value:e?a:void 0},n)}function Kpe(r){var{props:e,previousSectorsRef:t}=r,{sectors:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:A,onAnimationEnd:h}=e,p=PC(e,"recharts-pie-"),m=t.current,[y,g]=B.useState(!1),v=B.useCallback(()=>{typeof h=="function"&&h(),g(!1)},[h]),b=B.useCallback(()=>{typeof A=="function"&&A(),g(!0)},[A]);return B.createElement(zpe,{showLabels:!y,sectors:n},B.createElement(DC,{animationId:p,begin:s,duration:i,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:v,key:p},N=>{var C=[],E=n&&n[0],_=E?.startAngle;return n?.forEach((P,O)=>{var D=m&&m[O],k=O>0?F0(P,"paddingAngle",0):0;if(D){var H=Qi(D.endAngle-D.startAngle,P.endAngle-P.startAngle,N),L=Fa(Fa({},P),{},{startAngle:_+k,endAngle:_+H+k});C.push(L),_=L.endAngle}else{var{endAngle:Q,startAngle:R}=P,K=Qi(0,Q-R,N),ee=Fa(Fa({},P),{},{startAngle:_+k,endAngle:_+K+k});C.push(ee),_=ee.endAngle}}),t.current=C,B.createElement(Al,null,B.createElement(Qpe,{sectors:C,activeShape:c,inactiveShape:u,allOtherPieProps:e}))}),B.createElement(Upe,{showLabels:!y,sectors:n,props:e}),e.children)}var $pe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!q0.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Vpe(r){var{id:e}=r,t=m3(r,Npe),{hide:n,className:a,rootTabIndex:s}=r,i=B.useMemo(()=>k_(r.children,Zh),[r.children]),l=fr(A=>zme(A,e,i)),c=B.useRef(null),u=An("recharts-pie",a);return n||l==null?(c.current=null,B.createElement(Al,{tabIndex:s,className:u})):B.createElement(B.Fragment,null,B.createElement(Xz,{fn:kpe,args:Fa(Fa({},r),{},{sectors:l})}),B.createElement(Al,{tabIndex:s,className:u},B.createElement(Kpe,{props:Fa(Fa({},t),{},{sectors:l}),previousSectorsRef:c})))}function Iy(r){var e=Io(r,$pe),{id:t}=e,n=m3(e,Spe),a=mf(n);return B.createElement(Zz,{id:t,type:"pie"},s=>B.createElement(B.Fragment,null,B.createElement(wpe,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),B.createElement(Tpe,ef({},n,{id:s})),B.createElement(Vpe,ef({},n,{id:s}))))}Iy.displayName="Pie";function bL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function wL(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(t),!0).forEach(function(n){qpe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):bL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function qpe(r,e,t){return(e=Gpe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Gpe(r){var e=Wpe(r,"string");return typeof e=="symbol"?e:e+""}function Wpe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Ype={xAxis:{},yAxis:{},zAxis:{}},tK=ec({name:"cartesianAxis",initialState:Ype,reducers:{addXAxis(r,e){r.xAxis[e.payload.id]=e.payload},removeXAxis(r,e){delete r.xAxis[e.payload.id]},addYAxis(r,e){r.yAxis[e.payload.id]=e.payload},removeYAxis(r,e){delete r.yAxis[e.payload.id]},addZAxis(r,e){r.zAxis[e.payload.id]=e.payload},removeZAxis(r,e){delete r.zAxis[e.payload.id]},updateYAxisWidth(r,e){var{id:t,width:n}=e.payload;r.yAxis[t]&&(r.yAxis[t]=wL(wL({},r.yAxis[t]),{},{width:n}))}}}),{addXAxis:Xpe,removeXAxis:Jpe,addYAxis:Zpe,removeYAxis:ege,addZAxis:ZMe,removeZAxis:eRe,updateYAxisWidth:tge}=tK.actions,rge=tK.reducer,nge=et([ri],r=>{if(r)return{top:r.top,bottom:r.bottom,left:r.left,right:r.right}}),age=et([nge,MA,RA],(r,e,t)=>{if(!(!r||e==null||t==null))return{x:r.left,y:r.top,width:Math.max(0,e-r.left-r.right),height:Math.max(0,t-r.top-r.bottom)}}),rK=()=>fr(age),sge="Invariant failed";function ea(r,e){if(!r)throw new Error(sge)}var ige=["x","y"];function Jj(){return Jj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Jj.apply(null,arguments)}function CL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ox(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(t),!0).forEach(function(n){oge(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):CL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function oge(r,e,t){return(e=lge(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function lge(r){var e=cge(r,"string");return typeof e=="symbol"?e:e+""}function cge(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function uge(r,e){if(r==null)return{};var t,n,a=dge(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function dge(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function Age(r,e){var{x:t,y:n}=r,a=uge(r,ige),s="".concat(t),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),A=parseInt(u,10),h="".concat(e.width||a.width),p=parseInt(h,10);return Ox(Ox(Ox(Ox(Ox({},e),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:A,width:p,name:e.name,radius:e.radius})}function p3(r){return B.createElement(Yz,Jj({shapeType:"rectangle",propTransformer:Age,activeClassName:"recharts-active-bar"},r))}var hge=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(xr(e))return e;var s=xr(n)||wi(n);return s?e(n,a):(s||ea(!1),t)}},fge={},nK=ec({name:"errorBars",initialState:fge,reducers:{addErrorBar:(r,e)=>{var{itemId:t,errorBar:n}=e.payload;r[t]||(r[t]=[]),r[t].push(n)},replaceErrorBar:(r,e)=>{var{itemId:t,prev:n,next:a}=e.payload;r[t]&&(r[t]=r[t].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(r,e)=>{var{itemId:t,errorBar:n}=e.payload;r[t]&&(r[t]=r[t].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:tRe,replaceErrorBar:rRe,removeErrorBar:nRe}=nK.actions,mge=nK.reducer,pge=["children"];function gge(r,e){if(r==null)return{};var t,n,a=xge(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function xge(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var yge={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},vge=B.createContext(yge);function bge(r){var{children:e}=r,t=gge(r,pge);return B.createElement(vge.Provider,{value:t},e)}function aK(r,e){var t,n,a=fr(u=>QA(u,r)),s=fr(u=>HA(u,e)),i=(t=a?.allowDataOverflow)!==null&&t!==void 0?t:Fl.allowDataOverflow,l=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:Ol.allowDataOverflow,c=i||l;return{needClip:c,needClipX:i,needClipY:l}}function wge(r){var{xAxisId:e,yAxisId:t,clipPathId:n}=r,a=rK(),{needClipX:s,needClipY:i,needClip:l}=aK(e,t);if(!l)return null;var{x:c,y:u,width:A,height:h}=a;return B.createElement("clipPath",{id:"clipPath-".concat(n)},B.createElement("rect",{x:s?c:c-A/2,y:i?u:u-h/2,width:s?A:A*2,height:i?h:h*2}))}var Cge=["onMouseEnter","onMouseLeave","onClick"],Nge=["value","background","tooltipPosition"],Sge=["id"],Bge=["onMouseEnter","onClick","onMouseLeave"];function tf(){return tf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},tf.apply(null,arguments)}function NL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Bo(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(t),!0).forEach(function(n){Ege(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):NL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ege(r,e,t){return(e=jge(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function jge(r){var e=_ge(r,"string");return typeof e=="symbol"?e:e+""}function _ge(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function g2(r,e){if(r==null)return{};var t,n,a=Tge(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Tge(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var kge=r=>{var{dataKey:e,name:t,fill:n,legendType:a,hide:s}=r;return[{inactive:s,dataKey:e,type:a,color:n,value:_C(t,e),payload:r}]};function Fge(r){var{dataKey:e,stroke:t,strokeWidth:n,fill:a,name:s,hide:i,unit:l}=r;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:n,fill:a,dataKey:e,nameKey:void 0,name:_C(s,e),hide:i,type:r.tooltipType,color:r.fill,unit:l}}}function Oge(r){var e=fr(I0),{data:t,dataKey:n,background:a,allOtherBarProps:s}=r,{onMouseEnter:i,onMouseLeave:l,onClick:c}=s,u=g2(s,Cge),A=A3(i,n),h=h3(l),p=f3(c,n);if(!a||t==null)return null;var m=ti(a,!1);return B.createElement(B.Fragment,null,t.map((y,g)=>{var{value:v,background:b,tooltipPosition:N}=y,C=g2(y,Nge);if(!b)return null;var E=A(y,g),_=h(y,g),P=p(y,g),O=Bo(Bo(Bo(Bo(Bo({option:a,isActive:String(g)===e},C),{},{fill:"#eee"},b),m),dv(u,y,g)),{},{onMouseEnter:E,onMouseLeave:_,onClick:P,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return B.createElement(p3,tf({key:"background-bar-".concat(O.index)},O))}))}function Dge(r){var{showLabels:e,children:t,rects:n}=r,a=n?.map(s=>{var i={x:s.x,y:s.y,width:s.width,height:s.height};return Bo(Bo({},i),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:i,fill:s.fill})});return B.createElement(Sme,{value:e?a:void 0},t)}function Pge(r){var{shape:e,activeBar:t,baseProps:n,entry:a,index:s,dataKey:i}=r,l=fr(I0),c=fr(Nz),u=t&&String(s)===l&&(c==null||i===c),A=u?t:e;return B.createElement(p3,tf({},n,a,{isActive:u,option:A,index:s,dataKey:i}))}function Ige(r){var{shape:e,baseProps:t,entry:n,index:a,dataKey:s}=r;return B.createElement(p3,tf({},t,n,{isActive:!1,option:e,index:a,dataKey:s}))}function Lge(r){var{data:e,props:t}=r,n=mf(t),{id:a}=n,s=g2(n,Sge),{shape:i,dataKey:l,activeBar:c}=t,{onMouseEnter:u,onClick:A,onMouseLeave:h}=t,p=g2(t,Bge),m=A3(u,l),y=h3(h),g=f3(A,l);return e?B.createElement(B.Fragment,null,e.map((v,b)=>B.createElement(Al,tf({className:"recharts-bar-rectangle"},dv(p,v,b),{onMouseEnter:m(v,b),onMouseLeave:y(v,b),onClick:g(v,b),key:"rectangle-".concat(v?.x,"-").concat(v?.y,"-").concat(v?.value,"-").concat(b)}),c?B.createElement(Pge,{shape:i,activeBar:c,baseProps:s,entry:v,index:b,dataKey:l}):B.createElement(Ige,{shape:i,baseProps:s,entry:v,index:b,dataKey:l})))):null}function Mge(r){var{props:e,previousRectanglesRef:t}=r,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:A}=e,h=t.current,p=PC(e,"recharts-bar-"),[m,y]=B.useState(!1),g=!m,v=B.useCallback(()=>{typeof u=="function"&&u(),y(!1)},[u]),b=B.useCallback(()=>{typeof A=="function"&&A(),y(!0)},[A]);return B.createElement(Dge,{showLabels:g,rects:n},B.createElement(DC,{animationId:p,begin:i,duration:l,isActive:s,easing:c,onAnimationEnd:v,onAnimationStart:b,key:p},N=>{var C=N===1?n:n?.map((E,_)=>{var P=h&&h[_];if(P)return Bo(Bo({},E),{},{x:Qi(P.x,E.x,N),y:Qi(P.y,E.y,N),width:Qi(P.width,E.width,N),height:Qi(P.height,E.height,N)});if(a==="horizontal"){var O=Qi(0,E.height,N);return Bo(Bo({},E),{},{y:E.y+E.height-O,height:O})}var D=Qi(0,E.width,N);return Bo(Bo({},E),{},{width:D})});return N>0&&(t.current=C??null),C==null?null:B.createElement(Al,null,B.createElement(Lge,{props:e,data:C}))}),B.createElement($z,{label:e.label}),e.children)}function Rge(r){var e=B.useRef(null);return B.createElement(Mge,{previousRectanglesRef:e,props:r})}var sK=0,Uge=(r,e)=>{var t=Array.isArray(r.value)?r.value[1]:r.value;return{x:r.x,y:r.y,value:t,errorVal:Ka(r,e)}};class Qge extends B.PureComponent{render(){var{hide:e,data:t,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:l,background:c,id:u}=this.props;if(e||t==null)return null;var A=An("recharts-bar",a),h=u;return B.createElement(Al,{className:A,id:u},l&&B.createElement("defs",null,B.createElement(wge,{clipPathId:h,xAxisId:s,yAxisId:i})),B.createElement(Al,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},B.createElement(Oge,{data:t,dataKey:n,background:c,allOtherBarProps:this.props}),B.createElement(Rge,this.props)))}}var Hge={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!q0.isSsr,legendType:"rect",minPointSize:sK,xAxisId:0,yAxisId:0};function zge(r){var{xAxisId:e,yAxisId:t,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:A}=r,{needClip:h}=aK(e,t),p=J_(),m=Lc(),y=k_(r.children,Zh),g=fr(N=>gxe(N,e,t,m,r.id,y));if(p!=="vertical"&&p!=="horizontal")return null;var v,b=g?.[0];return b==null||b.height==null||b.width==null?v=0:v=p==="vertical"?b.height/2:b.width/2,B.createElement(bge,{xAxisId:e,yAxisId:t,data:g,dataPointFormatter:Uge,errorBarOffset:v},B.createElement(Qge,tf({},r,{layout:p,needClip:h,data:g,xAxisId:e,yAxisId:t,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:A})))}function Kge(r){var{layout:e,barSettings:{dataKey:t,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:A,displayedData:h,offset:p,cells:m,parentViewBox:y}=r,g=e==="horizontal"?l:i,v=A?g.scale.domain():null,b=sle({numericAxis:g});return h.map((N,C)=>{var E,_,P,O,D,k;A?E=Zoe(A[C],v):(E=Ka(N,t),Array.isArray(E)||(E=[b,E]));var H=hge(n,sK)(E[1],C);if(e==="horizontal"){var L,[Q,R]=[l.scale(E[0]),l.scale(E[1])];_=dP({axis:i,ticks:c,bandSize:s,offset:a.offset,entry:N,index:C}),P=(L=R??Q)!==null&&L!==void 0?L:void 0,O=a.size;var K=Q-R;if(D=Gl(K)?0:K,k={x:_,y:p.top,width:O,height:p.height},Math.abs(H)>0&&Math.abs(D)<Math.abs(H)){var ee=gi(D||H)*(Math.abs(H)-Math.abs(D));P-=ee,D+=ee}}else{var[X,ae]=[i.scale(E[0]),i.scale(E[1])];if(_=X,P=dP({axis:l,ticks:u,bandSize:s,offset:a.offset,entry:N,index:C}),O=ae-X,D=a.size,k={x:p.left,y:P,width:p.width,height:D},Math.abs(H)>0&&Math.abs(O)<Math.abs(H)){var Y=gi(O||H)*(Math.abs(H)-Math.abs(O));O+=Y}}if(_==null||P==null||O==null||D==null)return null;var de=Bo(Bo({},N),{},{x:_,y:P,width:O,height:D,value:A?E:E[1],payload:N,background:k,tooltipPosition:{x:_+O/2,y:P+D/2},parentViewBox:y},m&&m[C]&&m[C].props);return de}).filter(Boolean)}function $ge(r){var e=Io(r,Hge),t=Lc();return B.createElement(Zz,{id:e.id,type:"bar"},n=>B.createElement(B.Fragment,null,B.createElement(lpe,{legendPayload:kge(e)}),B.createElement(Xz,{fn:Fge,args:e}),B.createElement(bpe,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:ale(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),B.createElement(zge,tf({},e,{id:n}))))}var Zj=B.memo($ge);Zj.displayName="Bar";function SL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function ub(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(t),!0).forEach(function(n){Vge(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):SL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Vge(r,e,t){return(e=qge(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function qge(r){var e=Gge(r,"string");return typeof e=="symbol"?e:e+""}function Gge(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Wge=(r,e)=>e,Yge=(r,e,t)=>t,Xge=(r,e,t,n)=>n,Jge=(r,e,t,n,a)=>a,Bv=et([IT,Jge],(r,e)=>r.filter(t=>t.type==="bar").find(t=>t.id===e)),Zge=et([Bv],r=>r?.maxBarSize),exe=(r,e,t,n,a,s)=>s,BL=(r,e,t)=>{var n=t??r;if(!wi(n))return co(n,e,0)},txe=et([wn,IT,Wge,Yge,Xge],(r,e,t,n,a)=>e.filter(s=>r==="horizontal"?s.xAxisId===t:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),rxe=(r,e,t,n)=>{var a=wn(r);return a==="horizontal"?Vj(r,"yAxis",t,n):Vj(r,"xAxis",e,n)},nxe=(r,e,t)=>{var n=wn(r);return n==="horizontal"?jI(r,"xAxis",e):jI(r,"yAxis",t)},axe=(r,e,t)=>{var n={},a=r.filter($C),s=r.filter(u=>u.stackId==null),i=a.reduce((u,A)=>(u[A.stackId]||(u[A.stackId]=[]),u[A.stackId].push(A),u),n),l=Object.entries(i).map(u=>{var[A,h]=u,p=h.map(y=>y.dataKey),m=BL(e,t,h[0].barSize);return{stackId:A,dataKeys:p,barSize:m}}),c=s.map(u=>{var A=[u.dataKey].filter(p=>p!=null),h=BL(e,t,u.barSize);return{stackId:void 0,dataKeys:A,barSize:h}});return[...l,...c]},sxe=et([txe,RAe,nxe],axe),ixe=(r,e,t,n,a)=>{var s,i,l=Bv(r,e,t,n,a);if(l!=null){var c=wn(r),u=w9(r),{maxBarSize:A}=l,h=wi(A)?u:A,p,m;return c==="horizontal"?(p=ag(r,"xAxis",e,n),m=ng(r,"xAxis",e,n)):(p=ag(r,"yAxis",t,n),m=ng(r,"yAxis",t,n)),(s=(i=q_(p,m,!0))!==null&&i!==void 0?i:h)!==null&&s!==void 0?s:0}},iK=(r,e,t,n)=>{var a=wn(r),s,i;return a==="horizontal"?(s=ag(r,"xAxis",e,n),i=ng(r,"xAxis",e,n)):(s=ag(r,"yAxis",t,n),i=ng(r,"yAxis",t,n)),q_(s,i)};function oxe(r,e,t,n,a){var s=n.length;if(!(s<1)){var i=co(r,t,0,!0),l,c=[];if(Yl(n[0].barSize)){var u=!1,A=t/s,h=n.reduce((b,N)=>b+(N.barSize||0),0);h+=(s-1)*i,h>=t&&(h-=(s-1)*i,i=0),h>=t&&A>0&&(u=!0,A*=.9,h=s*A);var p=(t-h)/2>>0,m={offset:p-i,size:0};l=n.reduce((b,N)=>{var C,E={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:m.offset+m.size+i,size:u?A:(C=N.barSize)!==null&&C!==void 0?C:0}},_=[...b,E];return m=_[_.length-1].position,_},c)}else{var y=co(e,t,0,!0);t-2*y-(s-1)*i<=0&&(i=0);var g=(t-2*y-(s-1)*i)/s;g>1&&(g>>=0);var v=Yl(a)?Math.min(g,a):g;l=n.reduce((b,N,C)=>[...b,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:y+(g+i)*C+(g-v)/2,size:v}}],c)}return l}}var lxe=(r,e,t,n,a,s,i)=>{var l=wi(i)?e:i,c=oxe(t,n,a!==s?a:s,r,l);return a!==s&&c!=null&&(c=c.map(u=>ub(ub({},u),{},{position:ub(ub({},u.position),{},{offset:u.position.offset-a/2})}))),c},cxe=et([sxe,w9,MAe,C9,ixe,iK,Zge],lxe),uxe=(r,e,t,n)=>ag(r,"xAxis",e,n),dxe=(r,e,t,n)=>ag(r,"yAxis",t,n),Axe=(r,e,t,n)=>ng(r,"xAxis",e,n),hxe=(r,e,t,n)=>ng(r,"yAxis",t,n),fxe=et([cxe,Bv],(r,e)=>{if(!(r==null||e==null)){var t=r.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),mxe=(r,e)=>{var t=OT(e);if(!(!r||t==null||e==null)){var{stackId:n}=e;if(n!=null){var a=r[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===t)}}}},pxe=et([rxe,Bv],mxe),gxe=et([ri,G_,uxe,dxe,Axe,hxe,fxe,wn,NT,iK,pxe,Bv,exe],(r,e,t,n,a,s,i,l,c,u,A,h,p)=>{var{chartData:m,dataStartIndex:y,dataEndIndex:g}=c;if(!(h==null||i==null||e==null||l!=="horizontal"&&l!=="vertical"||t==null||n==null||a==null||s==null||u==null)){var{data:v}=h,b;if(v!=null&&v.length>0?b=v:b=m?.slice(y,g+1),b!=null)return Kge({layout:l,barSettings:h,pos:i,parentViewBox:e,bandSize:u,xAxis:t,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:A,displayedData:b,offset:r,cells:p})}}),oK=r=>{var{chartData:e}=r,t=qa(),n=Lc();return B.useEffect(()=>n?()=>{}:(t(MI(e)),()=>{t(MI(void 0))}),[e,t,n]),null},EL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},lK=ec({name:"brush",initialState:EL,reducers:{setBrushSettings(r,e){return e.payload==null?EL:e.payload}}}),{setBrushSettings:aRe}=lK.actions,xxe=lK.reducer;function yxe(r,e,t){return(e=vxe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function vxe(r){var e=bxe(r,"string");return typeof e=="symbol"?e:e+""}function bxe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class g3{static create(e){return new g3(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],a=t[t.length-1];return n<=a?e>=n&&e<=a:e>=a&&e<=n}}yxe(g3,"EPS",1e-4);function wxe(r){return(r%180+180)%180}var Cxe=function(e){var{width:t,height:n}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=wxe(a),i=s*Math.PI/180,l=Math.atan(n/t),c=i>l&&i<Math.PI-l?n/Math.sin(i):t/Math.cos(i);return Math.abs(c)},Nxe={dots:[],areas:[],lines:[]},cK=ec({name:"referenceElements",initialState:Nxe,reducers:{addDot:(r,e)=>{r.dots.push(e.payload)},removeDot:(r,e)=>{var t=yA(r).dots.findIndex(n=>n===e.payload);t!==-1&&r.dots.splice(t,1)},addArea:(r,e)=>{r.areas.push(e.payload)},removeArea:(r,e)=>{var t=yA(r).areas.findIndex(n=>n===e.payload);t!==-1&&r.areas.splice(t,1)},addLine:(r,e)=>{r.lines.push(e.payload)},removeLine:(r,e)=>{var t=yA(r).lines.findIndex(n=>n===e.payload);t!==-1&&r.lines.splice(t,1)}}}),{addDot:sRe,removeDot:iRe,addArea:oRe,removeArea:lRe,addLine:cRe,removeLine:uRe}=cK.actions,Sxe=cK.reducer,Bxe=B.createContext(void 0),Exe=r=>{var{children:e}=r,[t]=B.useState("".concat(Sy("recharts"),"-clip")),n=rK();if(n==null)return null;var{x:a,y:s,width:i,height:l}=n;return B.createElement(Bxe.Provider,{value:t},B.createElement("defs",null,B.createElement("clipPath",{id:t},B.createElement("rect",{x:a,y:s,height:l,width:i}))),e)};function sg(r,e){for(var t in r)if({}.hasOwnProperty.call(r,t)&&(!{}.hasOwnProperty.call(e,t)||r[t]!==e[t]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(r,n))return!1;return!0}function uK(r,e,t){if(e<1)return[];if(e===1&&t===void 0)return r;for(var n=[],a=0;a<r.length;a+=e)n.push(r[a]);return n}function jxe(r,e,t){var n={width:r.width+e.width,height:r.height+e.height};return Cxe(n,t)}function _xe(r,e,t){var n=t==="width",{x:a,y:s,width:i,height:l}=r;return e===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function x2(r,e,t,n,a){if(r*e<r*n||r*e>r*a)return!1;var s=t();return r*(e-r*s/2-n)>=0&&r*(e+r*s/2-a)<=0}function Txe(r,e){return uK(r,e+1)}function kxe(r,e,t,n,a){for(var s=(n||[]).slice(),{start:i,end:l}=e,c=0,u=1,A=i,h=function(){var y=n?.[c];if(y===void 0)return{v:uK(n,u)};var g=c,v,b=()=>(v===void 0&&(v=t(y,g)),v),N=y.coordinate,C=c===0||x2(r,N,b,A,l);C||(c=0,A=i,u+=1),C&&(A=N+r*(b()/2+a),c+=u)},p;u<=s.length;)if(p=h(),p)return p.v;return[]}function jL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function ro(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(t),!0).forEach(function(n){Fxe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):jL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Fxe(r,e,t){return(e=Oxe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Oxe(r){var e=Dxe(r,"string");return typeof e=="symbol"?e:e+""}function Dxe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Pxe(r,e,t,n,a){for(var s=(n||[]).slice(),i=s.length,{start:l}=e,{end:c}=e,u=function(p){var m=s[p],y,g=()=>(y===void 0&&(y=t(m,p)),y);if(p===i-1){var v=r*(m.coordinate+r*g()/2-c);s[p]=m=ro(ro({},m),{},{tickCoord:v>0?m.coordinate-v*r:m.coordinate})}else s[p]=m=ro(ro({},m),{},{tickCoord:m.coordinate});var b=x2(r,m.tickCoord,g,l,c);b&&(c=m.tickCoord-r*(g()/2+a),s[p]=ro(ro({},m),{},{isShow:!0}))},A=i-1;A>=0;A--)u(A);return s}function Ixe(r,e,t,n,a,s){var i=(n||[]).slice(),l=i.length,{start:c,end:u}=e;if(s){var A=n[l-1],h=t(A,l-1),p=r*(A.coordinate+r*h/2-u);i[l-1]=A=ro(ro({},A),{},{tickCoord:p>0?A.coordinate-p*r:A.coordinate});var m=x2(r,A.tickCoord,()=>h,c,u);m&&(u=A.tickCoord-r*(h/2+a),i[l-1]=ro(ro({},A),{},{isShow:!0}))}for(var y=s?l-1:l,g=function(N){var C=i[N],E,_=()=>(E===void 0&&(E=t(C,N)),E);if(N===0){var P=r*(C.coordinate-r*_()/2-c);i[N]=C=ro(ro({},C),{},{tickCoord:P<0?C.coordinate-P*r:C.coordinate})}else i[N]=C=ro(ro({},C),{},{tickCoord:C.coordinate});var O=x2(r,C.tickCoord,_,c,u);O&&(c=C.tickCoord+r*(_()/2+a),i[N]=ro(ro({},C),{},{isShow:!0}))},v=0;v<y;v++)g(v);return i}function x3(r,e,t){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:l,interval:c,tickFormatter:u,unit:A,angle:h}=r;if(!a||!a.length||!n)return[];if(xr(c)||q0.isSsr){var p;return(p=Txe(a,xr(c)?c:0))!==null&&p!==void 0?p:[]}var m=[],y=l==="top"||l==="bottom"?"width":"height",g=A&&y==="width"?oy(A,{fontSize:e,letterSpacing:t}):{width:0,height:0},v=(C,E)=>{var _=typeof u=="function"?u(C.value,E):C.value;return y==="width"?jxe(oy(_,{fontSize:e,letterSpacing:t}),g,h):oy(_,{fontSize:e,letterSpacing:t})[y]},b=a.length>=2?gi(a[1].coordinate-a[0].coordinate):1,N=_xe(s,b,y);return c==="equidistantPreserveStart"?kxe(b,N,v,a,i):(c==="preserveStart"||c==="preserveStartEnd"?m=Ixe(b,N,v,a,i,c==="preserveStartEnd"):m=Pxe(b,N,v,a,i),m.filter(C=>C.isShow))}var Lxe=r=>{var{ticks:e,label:t,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=r,i=0;if(e){e.forEach(A=>{if(A){var h=A.getBoundingClientRect();h.width>i&&(i=h.width)}});var l=t?t.getBoundingClientRect().width:0,c=a+s,u=i+c+l+(t?n:0);return Math.round(u)}return 0},Mxe=["axisLine","width","height","className","hide","ticks"],Rxe=["viewBox"],Uxe=["viewBox"];function e4(r,e){if(r==null)return{};var t,n,a=Qxe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Qxe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function L0(){return L0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},L0.apply(null,arguments)}function _L(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Xs(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(t),!0).forEach(function(n){Hxe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):_L(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Hxe(r,e,t){return(e=zxe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function zxe(r){var e=Kxe(r,"string");return typeof e=="symbol"?e:e+""}function Kxe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var y3={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function $xe(r){var{x:e,y:t,width:n,height:a,orientation:s,mirror:i,axisLine:l,otherSvgProps:c}=r;if(!l)return null;var u=Xs(Xs(Xs({},c),ti(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var A=+(s==="top"&&!i||s==="bottom"&&i);u=Xs(Xs({},u),{},{x1:e,y1:t+A*a,x2:e+n,y2:t+A*a})}else{var h=+(s==="left"&&!i||s==="right"&&i);u=Xs(Xs({},u),{},{x1:e+h*n,y1:t,x2:e+h*n,y2:t+a})}return B.createElement("line",L0({},u,{className:An("recharts-cartesian-axis-line",F0(l,"className"))}))}function Vxe(r,e,t,n,a,s,i,l,c){var u,A,h,p,m,y,g=l?-1:1,v=r.tickSize||i,b=xr(r.tickCoord)?r.tickCoord:r.coordinate;switch(s){case"top":u=A=r.coordinate,p=t+ +!l*a,h=p-g*v,y=h-g*c,m=b;break;case"left":h=p=r.coordinate,A=e+ +!l*n,u=A-g*v,m=u-g*c,y=b;break;case"right":h=p=r.coordinate,A=e+ +l*n,u=A+g*v,m=u+g*c,y=b;break;default:u=A=r.coordinate,p=t+ +l*a,h=p+g*v,y=h+g*c,m=b;break}return{line:{x1:u,y1:h,x2:A,y2:p},tick:{x:m,y}}}function qxe(r,e){switch(r){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Gxe(r,e){switch(r){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Wxe(r){var{option:e,tickProps:t,value:n}=r,a,s=An(t.className,"recharts-cartesian-axis-tick-value");if(B.isValidElement(e))a=B.cloneElement(e,Xs(Xs({},t),{},{className:s}));else if(typeof e=="function")a=e(Xs(Xs({},t),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(i=An(i,e?.className)),a=B.createElement(XC,L0({},t,{className:i}),n)}return a}function Yxe(r){var{ticks:e=[],tick:t,tickLine:n,stroke:a,tickFormatter:s,unit:i,padding:l,tickTextProps:c,orientation:u,mirror:A,x:h,y:p,width:m,height:y,tickSize:g,tickMargin:v,fontSize:b,letterSpacing:N,getTicksConfig:C,events:E}=r,_=x3(Xs(Xs({},C),{},{ticks:e}),b,N),P=qxe(u,A),O=Gxe(u,A),D=mf(C),k=ti(t,!1),H=Xs(Xs({},D),{},{fill:"none"},ti(n,!1)),L=_.map((Q,R)=>{var{line:K,tick:ee}=Vxe(Q,h,p,m,y,u,g,A,v),X=Xs(Xs(Xs(Xs({textAnchor:P,verticalAnchor:O},D),{},{stroke:"none",fill:a},k),ee),{},{index:R,payload:Q,visibleTicksCount:_.length,tickFormatter:s,padding:l},c);return B.createElement(Al,L0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},dv(E,Q,R)),n&&B.createElement("line",L0({},H,K,{className:An("recharts-cartesian-axis-tick-line",F0(n,"className"))})),t&&B.createElement(Wxe,{option:t,tickProps:X,value:"".concat(typeof s=="function"?s(Q.value,R):Q.value).concat(i||"")}))});return L.length>0?B.createElement("g",{className:"recharts-cartesian-axis-ticks"},L):null}var Xxe=B.forwardRef((r,e)=>{var{axisLine:t,width:n,height:a,className:s,hide:i,ticks:l}=r,c=e4(r,Mxe),[u,A]=B.useState(""),[h,p]=B.useState(""),m=B.useRef([]);B.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var g;return Lxe({ticks:m.current,label:(g=r.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:r.tickSize,tickMargin:r.tickMargin})}}));var y=B.useCallback(g=>{if(g){var v=g.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(v);var b=v[0];if(b){var N=window.getComputedStyle(b),C=N.fontSize,E=N.letterSpacing;(C!==u||E!==h)&&(A(C),p(E))}}},[u,h]);return i||n!=null&&n<=0||a!=null&&a<=0?null:B.createElement(Al,{className:An("recharts-cartesian-axis",s),ref:y},B.createElement($xe,{x:r.x,y:r.y,width:n,height:a,orientation:r.orientation,mirror:r.mirror,axisLine:t,otherSvgProps:mf(r)}),B.createElement(Yxe,{ticks:l,tick:r.tick,tickLine:r.tickLine,stroke:r.stroke,tickFormatter:r.tickFormatter,unit:r.unit,padding:r.padding,tickTextProps:r.tickTextProps,orientation:r.orientation,mirror:r.mirror,x:r.x,y:r.y,width:r.width,height:r.height,tickSize:r.tickSize,tickMargin:r.tickMargin,fontSize:u,letterSpacing:h,getTicksConfig:r,events:c}),B.createElement(ame,{x:r.x,y:r.y,width:r.width,height:r.height},B.createElement(fme,{label:r.label}),r.children))}),Jxe=B.memo(Xxe,(r,e)=>{var{viewBox:t}=r,n=e4(r,Rxe),{viewBox:a}=e,s=e4(e,Uxe);return sg(t,a)&&sg(n,s)}),v3=B.forwardRef((r,e)=>{var t=Io(r,y3);return B.createElement(Jxe,L0({},t,{ref:e}))});v3.displayName="CartesianAxis";var Zxe=["x1","y1","x2","y2","key"],eye=["offset"],tye=["xAxisId","yAxisId"],rye=["xAxisId","yAxisId"];function TL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function io(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(t),!0).forEach(function(n){nye(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):TL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function nye(r,e,t){return(e=aye(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function aye(r){var e=sye(r,"string");return typeof e=="symbol"?e:e+""}function sye(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function f0(){return f0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},f0.apply(null,arguments)}function y2(r,e){if(r==null)return{};var t,n,a=iye(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function iye(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var oye=r=>{var{fill:e}=r;if(!e||e==="none")return null;var{fillOpacity:t,x:n,y:a,width:s,height:i,ry:l}=r;return B.createElement("rect",{x:n,y:a,ry:l,width:s,height:i,stroke:"none",fill:e,fillOpacity:t,className:"recharts-cartesian-grid-bg"})};function dK(r,e){var t;if(B.isValidElement(r))t=B.cloneElement(r,e);else if(typeof r=="function")t=r(e);else{var{x1:n,y1:a,x2:s,y2:i,key:l}=e,c=y2(e,Zxe),u=mf(c),{offset:A}=u,h=y2(u,eye);t=B.createElement("line",f0({},h,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:l}))}return t}function lye(r){var{x:e,width:t,horizontal:n=!0,horizontalPoints:a}=r;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=r,l=y2(r,tye),c=a.map((u,A)=>{var h=io(io({},l),{},{x1:e,y1:u,x2:e+t,y2:u,key:"line-".concat(A),index:A});return dK(n,h)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function cye(r){var{y:e,height:t,vertical:n=!0,verticalPoints:a}=r;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=r,l=y2(r,rye),c=a.map((u,A)=>{var h=io(io({},l),{},{x1:u,y1:e,x2:u,y2:e+t,key:"line-".concat(A),index:A});return dK(n,h)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function uye(r){var{horizontalFill:e,fillOpacity:t,x:n,y:a,width:s,height:i,horizontalPoints:l,horizontal:c=!0}=r;if(!c||!e||!e.length)return null;var u=l.map(h=>Math.round(h+a-a)).sort((h,p)=>h-p);a!==u[0]&&u.unshift(0);var A=u.map((h,p)=>{var m=!u[p+1],y=m?a+i-h:u[p+1]-h;if(y<=0)return null;var g=p%e.length;return B.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:y,width:s,stroke:"none",fill:e[g],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},A)}function dye(r){var{vertical:e=!0,verticalFill:t,fillOpacity:n,x:a,y:s,width:i,height:l,verticalPoints:c}=r;if(!e||!t||!t.length)return null;var u=c.map(h=>Math.round(h+a-a)).sort((h,p)=>h-p);a!==u[0]&&u.unshift(0);var A=u.map((h,p)=>{var m=!u[p+1],y=m?a+i-h:u[p+1]-h;if(y<=0)return null;var g=p%t.length;return B.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:y,height:l,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},A)}var Aye=(r,e)=>{var{xAxis:t,width:n,height:a,offset:s}=r;return lH(x3(io(io(io({},y3),t),{},{ticks:cH(t),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,e)},hye=(r,e)=>{var{yAxis:t,width:n,height:a,offset:s}=r;return lH(x3(io(io(io({},y3),t),{},{ticks:cH(t),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,e)},fye={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function t4(r){var e=Y_(),t=X_(),n=hH(),a=io(io({},Io(r,fye)),{},{x:xr(r.x)?r.x:n.left,y:xr(r.y)?r.y:n.top,width:xr(r.width)?r.width:n.width,height:xr(r.height)?r.height:n.height}),{xAxisId:s,yAxisId:i,x:l,y:c,width:u,height:A,syncWithTicks:h,horizontalValues:p,verticalValues:m}=a,y=Lc(),g=fr(k=>_I(k,"xAxis",s,y)),v=fr(k=>_I(k,"yAxis",i,y));if(!xr(u)||u<=0||!xr(A)||A<=0||!xr(l)||l!==+l||!xr(c)||c!==+c)return null;var b=a.verticalCoordinatesGenerator||Aye,N=a.horizontalCoordinatesGenerator||hye,{horizontalPoints:C,verticalPoints:E}=a;if((!C||!C.length)&&typeof N=="function"){var _=p&&p.length,P=N({yAxis:v?io(io({},v),{},{ticks:_?p:v.ticks}):void 0,width:e,height:t,offset:n},_?!0:h);iy(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(C=P)}if((!E||!E.length)&&typeof b=="function"){var O=m&&m.length,D=b({xAxis:g?io(io({},g),{},{ticks:O?m:g.ticks}):void 0,width:e,height:t,offset:n},O?!0:h);iy(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(E=D)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(oye,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),B.createElement(uye,f0({},a,{horizontalPoints:C})),B.createElement(dye,f0({},a,{verticalPoints:E})),B.createElement(lye,f0({},a,{offset:n,horizontalPoints:C,xAxis:g,yAxis:v})),B.createElement(cye,f0({},a,{offset:n,verticalPoints:E,xAxis:g,yAxis:v})))}t4.displayName="CartesianGrid";var mye=["dangerouslySetInnerHTML","ticks"],pye=["id"],gye=["domain"],xye=["domain"];function r4(){return r4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},r4.apply(null,arguments)}function v2(r,e){if(r==null)return{};var t,n,a=yye(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function yye(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function vye(r){var e=qa();return B.useEffect(()=>(e(Xpe(r)),()=>{e(Jpe(r))}),[r,e]),null}var bye=r=>{var{xAxisId:e,className:t}=r,n=fr(G_),a=Lc(),s="xAxis",i=fr(v=>jg(v,s,e,a)),l=fr(v=>sz(v,s,e,a)),c=fr(v=>tz(v,e)),u=fr(v=>The(v,e)),A=fr(v=>F9(v,e));if(c==null||u==null||A==null)return null;var{dangerouslySetInnerHTML:h,ticks:p}=r,m=v2(r,mye),{id:y}=A,g=v2(A,pye);return B.createElement(v3,r4({},m,g,{scale:i,x:u.x,y:u.y,width:c.width,height:c.height,className:An("recharts-".concat(s," ").concat(s),t),viewBox:n,ticks:l}))},wye={allowDataOverflow:Fl.allowDataOverflow,allowDecimals:Fl.allowDecimals,allowDuplicatedCategory:Fl.allowDuplicatedCategory,height:Fl.height,hide:!1,mirror:Fl.mirror,orientation:Fl.orientation,padding:Fl.padding,reversed:Fl.reversed,scale:Fl.scale,tickCount:Fl.tickCount,type:Fl.type,xAxisId:0},Cye=r=>{var e,t,n,a,s,i=Io(r,wye);return B.createElement(B.Fragment,null,B.createElement(vye,{interval:(e=i.interval)!==null&&e!==void 0?e:"preserveEnd",id:i.xAxisId,scale:i.scale,type:i.type,padding:i.padding,allowDataOverflow:i.allowDataOverflow,domain:i.domain,dataKey:i.dataKey,allowDuplicatedCategory:i.allowDuplicatedCategory,allowDecimals:i.allowDecimals,tickCount:i.tickCount,includeHidden:(t=i.includeHidden)!==null&&t!==void 0?t:!1,reversed:i.reversed,ticks:i.ticks,height:i.height,orientation:i.orientation,mirror:i.mirror,hide:i.hide,unit:i.unit,name:i.name,angle:(n=i.angle)!==null&&n!==void 0?n:0,minTickGap:(a=i.minTickGap)!==null&&a!==void 0?a:5,tick:(s=i.tick)!==null&&s!==void 0?s:!0,tickFormatter:i.tickFormatter}),B.createElement(bye,i))},Nye=(r,e)=>{var{domain:t}=r,n=v2(r,gye),{domain:a}=e,s=v2(e,xye);return sg(n,s)?Array.isArray(t)&&t.length===2&&Array.isArray(a)&&a.length===2?t[0]===a[0]&&t[1]===a[1]:sg({domain:t},{domain:a}):!1},n4=B.memo(Cye,Nye);n4.displayName="XAxis";var Sye=["dangerouslySetInnerHTML","ticks"],Bye=["id"],Eye=["domain"],jye=["domain"];function a4(){return a4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},a4.apply(null,arguments)}function b2(r,e){if(r==null)return{};var t,n,a=_ye(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function _ye(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function Tye(r){var e=qa();return B.useEffect(()=>(e(Zpe(r)),()=>{e(ege(r))}),[r,e]),null}var kye=r=>{var{yAxisId:e,className:t,width:n,label:a}=r,s=B.useRef(null),i=B.useRef(null),l=fr(G_),c=Lc(),u=qa(),A="yAxis",h=fr(_=>jg(_,A,e,c)),p=fr(_=>rz(_,e)),m=fr(_=>Fhe(_,e)),y=fr(_=>sz(_,A,e,c)),g=fr(_=>O9(_,e));if(B.useLayoutEffect(()=>{if(!(n!=="auto"||!p||o3(a)||B.isValidElement(a)||g==null)){var _=s.current;if(_){var P=_.getCalculatedWidth();Math.round(p.width)!==Math.round(P)&&u(tge({id:e,width:P}))}}},[y,p,u,a,e,n,g]),p==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:v,ticks:b}=r,N=b2(r,Sye),{id:C}=g,E=b2(g,Bye);return B.createElement(v3,a4({},N,E,{ref:s,labelRef:i,scale:h,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:An("recharts-".concat(A," ").concat(A),t),viewBox:l,ticks:y}))},Fye={allowDataOverflow:Ol.allowDataOverflow,allowDecimals:Ol.allowDecimals,allowDuplicatedCategory:Ol.allowDuplicatedCategory,hide:!1,mirror:Ol.mirror,orientation:Ol.orientation,padding:Ol.padding,reversed:Ol.reversed,scale:Ol.scale,tickCount:Ol.tickCount,type:Ol.type,width:Ol.width,yAxisId:0},Oye=r=>{var e,t,n,a,s,i=Io(r,Fye);return B.createElement(B.Fragment,null,B.createElement(Tye,{interval:(e=i.interval)!==null&&e!==void 0?e:"preserveEnd",id:i.yAxisId,scale:i.scale,type:i.type,domain:i.domain,allowDataOverflow:i.allowDataOverflow,dataKey:i.dataKey,allowDuplicatedCategory:i.allowDuplicatedCategory,allowDecimals:i.allowDecimals,tickCount:i.tickCount,padding:i.padding,includeHidden:(t=i.includeHidden)!==null&&t!==void 0?t:!1,reversed:i.reversed,ticks:i.ticks,width:i.width,orientation:i.orientation,mirror:i.mirror,hide:i.hide,unit:i.unit,name:i.name,angle:(n=i.angle)!==null&&n!==void 0?n:0,minTickGap:(a=i.minTickGap)!==null&&a!==void 0?a:5,tick:(s=i.tick)!==null&&s!==void 0?s:!0,tickFormatter:i.tickFormatter}),B.createElement(kye,i))},Dye=(r,e)=>{var{domain:t}=r,n=b2(r,Eye),{domain:a}=e,s=b2(e,jye);return sg(n,s)?Array.isArray(t)&&t.length===2&&Array.isArray(a)&&a.length===2?t[0]===a[0]&&t[1]===a[1]:sg({domain:t},{domain:a}):!1},s4=B.memo(Oye,Dye);s4.displayName="YAxis";var IB={exports:{}},LB={};var kL;function Pye(){if(kL)return LB;kL=1;var r=dg();function e(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var t=typeof Object.is=="function"?Object.is:e,n=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,i=r.useMemo,l=r.useDebugValue;return LB.useSyncExternalStoreWithSelector=function(c,u,A,h,p){var m=a(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=i(function(){function v(_){if(!b){if(b=!0,N=_,_=h(_),p!==void 0&&y.hasValue){var P=y.value;if(p(P,_))return C=P}return C=_}if(P=C,t(N,_))return P;var O=h(_);return p!==void 0&&p(P,O)?(N=_,P):(N=_,C=O)}var b=!1,N,C,E=A===void 0?null:A;return[function(){return v(u())},E===null?void 0:function(){return v(E())}]},[u,A,h,p]);var g=n(c,m[0],m[1]);return s(function(){y.hasValue=!0,y.value=g},[g]),l(g),g},LB}var FL;function Iye(){return FL||(FL=1,IB.exports=Pye()),IB.exports}Iye();function Lye(r){r()}function Mye(){let r=null,e=null;return{clear(){r=null,e=null},notify(){Lye(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=r;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:r=a,function(){!n||r===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:r=a.next)}}}}var OL={notify(){},get:()=>[]};function Rye(r,e){let t,n=OL,a=0,s=!1;function i(g){A();const v=n.subscribe(g);let b=!1;return()=>{b||(b=!0,v(),h())}}function l(){n.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return s}function A(){a++,t||(t=r.subscribe(c),n=Mye())}function h(){a--,t&&a===0&&(t(),t=void 0,n.clear(),n=OL)}function p(){s||(s=!0,A())}function m(){s&&(s=!1,h())}const y={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return y}var Uye=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qye=Uye(),Hye=()=>typeof navigator<"u"&&navigator.product==="ReactNative",zye=Hye(),Kye=()=>Qye||zye?B.useLayoutEffect:B.useEffect,$ye=Kye(),Vye=Symbol.for("react-redux-context"),qye=typeof globalThis<"u"?globalThis:{};function Gye(){if(!B.createContext)return{};const r=qye[Vye]??=new Map;let e=r.get(B.createContext);return e||(e=B.createContext(null),r.set(B.createContext,e)),e}var Wye=Gye();function Yye(r){const{children:e,context:t,serverState:n,store:a}=r,s=B.useMemo(()=>{const c=Rye(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=B.useMemo(()=>a.getState(),[a]);$ye(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=t||Wye;return B.createElement(l.Provider,{value:s},e)}var Xye=Yye,Jye=(r,e)=>e,b3=et([Jye,wn,_9,ai,vz,zA,Ife,ri],Qfe),w3=r=>{var e=r.currentTarget.getBoundingClientRect(),t=e.width/r.currentTarget.offsetWidth,n=e.height/r.currentTarget.offsetHeight;return{chartX:Math.round((r.clientX-e.left)/t),chartY:Math.round((r.clientY-e.top)/n)}},AK=Fc("mouseClick"),hK=hv();hK.startListening({actionCreator:AK,effect:(r,e)=>{var t=r.payload,n=b3(e.getState(),w3(t));n?.activeIndex!=null&&e.dispatch($he({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var i4=Fc("mouseMove"),fK=hv();fK.startListening({actionCreator:i4,effect:(r,e)=>{var t=r.payload,n=e.getState(),a=JT(n,n.tooltip.settings.shared),s=b3(n,w3(t));a==="axis"&&(s?.activeIndex!=null?e.dispatch(hz({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(Az()))}});var DL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},mK=ec({name:"rootProps",initialState:DL,reducers:{updateOptions:(r,e)=>{var t;r.accessibilityLayer=e.payload.accessibilityLayer,r.barCategoryGap=e.payload.barCategoryGap,r.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:DL.barGap,r.barSize=e.payload.barSize,r.maxBarSize=e.payload.maxBarSize,r.stackOffset=e.payload.stackOffset,r.syncId=e.payload.syncId,r.syncMethod=e.payload.syncMethod,r.className=e.payload.className}}}),Zye=mK.reducer,{updateOptions:eve}=mK.actions,pK=ec({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(r,e)=>e.payload}}),{updatePolarOptions:tve}=pK.actions,rve=pK.reducer,gK=Fc("keyDown"),xK=Fc("focus"),C3=hv();C3.startListening({actionCreator:gK,effect:(r,e)=>{var t=e.getState(),n=t.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=t.tooltip,s=r.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=Number(ZT(a,Tg(t))),l=zA(t);if(s==="Enter"){var c=h2(t,"axis","hover",String(a.index));e.dispatch(Gj({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=Ihe(t),A=u==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,p=i+h*A;if(!(l==null||p>=l.length||p<0)){var m=h2(t,"axis","hover",String(p));e.dispatch(Gj({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});C3.startListening({actionCreator:xK,effect:(r,e)=>{var t=e.getState(),n=t.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=t.tooltip;if(!a.active&&a.index==null){var s="0",i=h2(t,"axis","hover",String(s));e.dispatch(Gj({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:i}))}}}});var wc=Fc("externalEvent"),yK=hv();yK.startListening({actionCreator:wc,effect:(r,e)=>{if(r.payload.handler!=null){var t=e.getState(),n={activeCoordinate:Efe(t),activeDataKey:Nz(t),activeIndex:I0(t),activeLabel:Cz(t),activeTooltipIndex:I0(t),isTooltipActive:jfe(t)};r.payload.handler(n,r.payload.reactEvent)}}});var nve=et([_g],r=>r.tooltipItemPayloads),ave=et([nve,Nv,(r,e,t)=>e,(r,e,t)=>t],(r,e,t,n)=>{var a=r.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=e(s,t);return i}}}),vK=Fc("touchMove"),bK=hv();bK.startListening({actionCreator:vK,effect:(r,e)=>{var t=r.payload,n=e.getState(),a=JT(n,n.tooltip.settings.shared);if(a==="axis"){var s=b3(n,w3({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));s?.activeIndex!=null&&e.dispatch(hz({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var i,l=t.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(dH),A=(i=c.getAttribute(AH))!==null&&i!==void 0?i:void 0,h=ave(e.getState(),u,A);e.dispatch(dz({activeDataKey:A,activeIndex:u,activeCoordinate:h}))}}});var sve=LQ({brush:xxe,cartesianAxis:rge,chartData:n0e,errorBars:mge,graphicalItems:vpe,layout:Loe,legend:Ele,options:Jfe,polarAxis:Ime,polarOptions:rve,referenceElements:Sxe,rootProps:Zye,tooltip:Vhe}),ive=function(e){return loe({reducer:sve,preloadedState:e,middleware:t=>t({serializableCheck:!1}).concat([hK.middleware,fK.middleware,C3.middleware,yK.middleware,bK.middleware]),devTools:q0.devToolsEnabled})};function wK(r){var{preloadedState:e,children:t,reduxStoreName:n}=r,a=Lc(),s=B.useRef(null);if(a)return t;s.current==null&&(s.current=ive(e));var i=Q_;return B.createElement(Xye,{context:i,store:s.current},t)}function CK(r){var{layout:e,width:t,height:n,margin:a}=r,s=qa(),i=Lc();return B.useEffect(()=>{i||(s(Doe(e)),s(Poe({width:t,height:n})),s(Ooe(a)))},[s,i,e,t,n,a]),null}function NK(r){var e=qa();return B.useEffect(()=>{e(eve(r))},[e,r]),null}var ove=["children"];function lve(r,e){if(r==null)return{};var t,n,a=cve(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function cve(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function w2(){return w2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},w2.apply(null,arguments)}var uve={width:"100%",height:"100%"},dve=B.forwardRef((r,e)=>{var t=Y_(),n=X_(),a=gH();if(!Jp(t)||!Jp(n))return null;var{children:s,otherAttributes:i,title:l,desc:c}=r,u,A;return typeof i.tabIndex=="number"?u=i.tabIndex:u=a?0:void 0,typeof i.role=="string"?A=i.role:A=a?"application":void 0,B.createElement(F_,w2({},i,{title:l,desc:c,role:A,tabIndex:u,width:t,height:n,style:uve,ref:e}),s)}),Ave=r=>{var{children:e}=r,t=fr(OC);if(!t)return null;var{width:n,height:a,y:s,x:i}=t;return B.createElement(F_,{width:n,height:a,x:i,y:s},e)},PL=B.forwardRef((r,e)=>{var{children:t}=r,n=lve(r,ove),a=Lc();return a?B.createElement(Ave,null,t):B.createElement(dve,w2({ref:e},n),t)});function hve(){var r=qa(),[e,t]=B.useState(null),n=fr(Ale);return B.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;Yl(s)&&s!==n&&r(Ioe(s))}},[e,r,n]),t}function IL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function fve(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(t),!0).forEach(function(n){mve(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):IL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function mve(r,e,t){return(e=pve(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function pve(r){var e=gve(r,"string");return typeof e=="symbol"?e:e+""}function gve(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var xve=B.forwardRef((r,e)=>{var{children:t,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:A,onMouseMove:h,onMouseUp:p,onTouchEnd:m,onTouchMove:y,onTouchStart:g,style:v,width:b}=r,N=qa(),[C,E]=B.useState(null),[_,P]=B.useState(null);A0e();var O=hve(),D=B.useCallback(I=>{O(I),typeof e=="function"&&e(I),E(I),P(I)},[O,e,E,P]),k=B.useCallback(I=>{N(AK(I)),N(wc({handler:s,reactEvent:I}))},[N,s]),H=B.useCallback(I=>{N(i4(I)),N(wc({handler:u,reactEvent:I}))},[N,u]),L=B.useCallback(I=>{N(Az()),N(wc({handler:A,reactEvent:I}))},[N,A]),Q=B.useCallback(I=>{N(i4(I)),N(wc({handler:h,reactEvent:I}))},[N,h]),R=B.useCallback(()=>{N(xK())},[N]),K=B.useCallback(I=>{N(gK(I.key))},[N]),ee=B.useCallback(I=>{N(wc({handler:i,reactEvent:I}))},[N,i]),X=B.useCallback(I=>{N(wc({handler:l,reactEvent:I}))},[N,l]),ae=B.useCallback(I=>{N(wc({handler:c,reactEvent:I}))},[N,c]),Y=B.useCallback(I=>{N(wc({handler:p,reactEvent:I}))},[N,p]),de=B.useCallback(I=>{N(wc({handler:g,reactEvent:I}))},[N,g]),pe=B.useCallback(I=>{N(vK(I)),N(wc({handler:y,reactEvent:I}))},[N,y]),Z=B.useCallback(I=>{N(wc({handler:m,reactEvent:I}))},[N,m]);return B.createElement(Tz.Provider,{value:C},B.createElement(aQ.Provider,{value:_},B.createElement("div",{className:An("recharts-wrapper",n),style:fve({position:"relative",cursor:"default",width:b,height:a},v),onClick:k,onContextMenu:ee,onDoubleClick:X,onFocus:R,onKeyDown:K,onMouseDown:ae,onMouseEnter:H,onMouseLeave:L,onMouseMove:Q,onMouseUp:Y,onTouchEnd:Z,onTouchMove:pe,onTouchStart:de,ref:D},t)))}),yve=["children","className","width","height","style","compact","title","desc"];function vve(r,e){if(r==null)return{};var t,n,a=bve(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function bve(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var SK=B.forwardRef((r,e)=>{var{children:t,className:n,width:a,height:s,style:i,compact:l,title:c,desc:u}=r,A=vve(r,yve),h=mf(A);return l?B.createElement(PL,{otherAttributes:h,title:c,desc:u},t):B.createElement(xve,{className:n,style:i,width:a,height:s,onClick:r.onClick,onMouseLeave:r.onMouseLeave,onMouseEnter:r.onMouseEnter,onMouseMove:r.onMouseMove,onMouseDown:r.onMouseDown,onMouseUp:r.onMouseUp,onContextMenu:r.onContextMenu,onDoubleClick:r.onDoubleClick,onTouchStart:r.onTouchStart,onTouchMove:r.onTouchMove,onTouchEnd:r.onTouchEnd},B.createElement(PL,{otherAttributes:h,title:c,desc:u,ref:e},B.createElement(Exe,null,t)))}),wve=["width","height"];function o4(){return o4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},o4.apply(null,arguments)}function Cve(r,e){if(r==null)return{};var t,n,a=Nve(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Nve(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Sve={top:5,right:5,bottom:5,left:5},Bve={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Sve,reverseStackOrder:!1,syncMethod:"index"},Eve=B.forwardRef(function(e,t){var n,a=Io(e.categoricalChartProps,Bve),{width:s,height:i}=a,l=Cve(a,wve);if(!Jp(s)||!Jp(i))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:A,tooltipPayloadSearcher:h,categoricalChartProps:p}=e,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:A,tooltipPayloadSearcher:h,eventEmitter:void 0};return B.createElement(wK,{preloadedState:{options:m},reduxStoreName:(n=p.id)!==null&&n!==void 0?n:c},B.createElement(oK,{chartData:p.data}),B.createElement(CK,{width:s,height:i,layout:a.layout,margin:a.margin}),B.createElement(NK,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),B.createElement(SK,o4({},l,{width:s,height:i,ref:t})))}),jve=["axis","item"],LL=B.forwardRef((r,e)=>B.createElement(Eve,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jve,tooltipPayloadSearcher:kz,categoricalChartProps:r,ref:e}));function _ve(r){var e=qa();return B.useEffect(()=>{e(tve(r))},[e,r]),null}var Tve=["width","height","layout"];function l4(){return l4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},l4.apply(null,arguments)}function kve(r,e){if(r==null)return{};var t,n,a=Fve(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Fve(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Ove={top:5,right:5,bottom:5,left:5},Dve={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ove,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Pve=B.forwardRef(function(e,t){var n,a=Io(e.categoricalChartProps,Dve),{width:s,height:i,layout:l}=a,c=kve(a,Tve);if(!Jp(s)||!Jp(i))return null;var{chartName:u,defaultTooltipEventType:A,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,m={chartName:u,defaultTooltipEventType:A,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return B.createElement(wK,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},B.createElement(oK,{chartData:a.data}),B.createElement(CK,{width:s,height:i,layout:l,margin:a.margin}),B.createElement(NK,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),B.createElement(_ve,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),B.createElement(SK,l4({width:s,height:i},c,{ref:t})))}),Ive=["item"],Lve={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},C2=B.forwardRef((r,e)=>{var t=Io(r,Lve);return B.createElement(Pve,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ive,tooltipPayloadSearcher:kz,categoricalChartProps:t,ref:e})});const Mve=()=>{const{projects:r,fetchProjects:e,fetchTimesheets:t}=os(),{fetchTeamMembers:n}=fo(),{clients:a,fetchClients:s}=ff(),[i,l]=B.useState(""),[c,u]=B.useState("all"),[A,h]=B.useState(null),[p,m]=B.useState(!1),[y,g]=B.useState(null),[v,b]=B.useState(null),[N,C]=B.useState(!1);B.useEffect(()=>{e(),t(),n(),s()},[]);const E=B.useMemo(()=>{const k=r.length,H=r.filter(R=>R.status==="ongoing").length,L=r.filter(R=>R.status==="completed").length,Q=r.filter(R=>R.status==="pre-lim").length;return{total:k,active:H,completed:L,preLim:Q}},[r]),_=B.useMemo(()=>[{name:"Pre-lim",value:E.preLim,color:"#f59e0b"},{name:"Ongoing",value:E.active,color:"#3b82f6"},{name:"Completed",value:E.completed,color:"#10b981"}].filter(k=>k.value>0),[E]),P=B.useMemo(()=>{const k={CFD:0,FEA:0,"Vibration & Acoustic":0},H={"computational-fluid-dynamic":"CFD","Computational Fluid Dynamics":"CFD",CFD:"CFD","finite-element-analysis":"FEA","Finite Element Analysis":"FEA",FEA:"FEA","vibration-acoustic":"Vibration & Acoustic",Vibration:"Vibration & Acoustic","Vibration & Acoustic":"Vibration & Acoustic",Acoustic:"Vibration & Acoustic"};r.forEach(Q=>{let R=Q.categories||Q.workTypes;if(typeof R=="string")try{R=JSON.parse(R)}catch{console.warn("Failed to parse categories:",R)}R&&Array.isArray(R)&&R.forEach(K=>{const ee=H[K];ee&&k[ee]++})});const L={CFD:"#6366f1",FEA:"#ec4899","Vibration & Acoustic":"#f59e0b"};return Object.entries(k).map(([Q,R])=>({name:Q,value:R,color:L[Q]})).filter(Q=>Q.value>0)},[r]),O=B.useMemo(()=>{let k=r;return c!=="all"&&(k=k.filter(H=>H.status===c)),i&&(k=k.filter(H=>H.projectCode.toLowerCase().includes(i.toLowerCase())||H.title.toLowerCase().includes(i.toLowerCase()))),k},[r,i,c]),D=k=>{h(k),m(!0)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Projects"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:E.total}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"all statuses"})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center",children:o.jsx(Nu,{className:"w-6 h-6 text-blue-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Active Projects"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:E.active}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"currently ongoing"})]}),o.jsx("div",{className:"w-12 h-12 bg-cyan-50 rounded-lg flex items-center justify-center",children:o.jsx(A7,{className:"w-6 h-6 text-primary-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Completed"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:E.completed}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"finished projects"})]}),o.jsx("div",{className:"w-12 h-12 bg-emerald-50 rounded-lg flex items-center justify-center",children:o.jsx(p_,{className:"w-6 h-6 text-emerald-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Preliminary"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:E.preLim}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"pending projects"})]}),o.jsx("div",{className:"w-12 h-12 bg-amber-50 rounded-lg flex items-center justify-center",children:o.jsx(ho,{className:"w-6 h-6 text-amber-600"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Status Distribution"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Projects by status"})]}),o.jsx(wp,{width:"100%",height:280,children:o.jsxs(C2,{children:[o.jsx(Iy,{data:_,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",animationDuration:800,children:_.map((k,H)=>o.jsx(Zh,{fill:k.color},`cell-${H}`))}),o.jsx(bp,{formatter:k=>`${k} projects`})]})}),o.jsx("div",{className:"space-y-2 mt-4",children:_.map((k,H)=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:k.color}}),o.jsx("span",{className:"text-gray-700",children:k.name})]}),o.jsx("span",{className:"font-semibold text-gray-900",children:k.value})]},H))})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Field of Work"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Projects by engineering field"})]}),P.length>0?o.jsxs(o.Fragment,{children:[o.jsx(wp,{width:"100%",height:280,children:o.jsxs(C2,{children:[o.jsx(Iy,{data:P,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",animationDuration:800,children:P.map((k,H)=>o.jsx(Zh,{fill:k.color},`field-${H}`))}),o.jsx(bp,{formatter:k=>`${k} projects`})]})}),o.jsx("div",{className:"space-y-2 mt-4",children:P.map((k,H)=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:k.color}}),o.jsx("span",{className:"text-gray-700",children:k.name})]}),o.jsx("span",{className:"font-semibold text-gray-900",children:k.value})]},H))})]}):o.jsx("div",{className:"flex items-center justify-center h-80 text-gray-400",children:o.jsxs("div",{className:"text-center",children:[o.jsx(cC,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No field data available"})]})})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Active Projects"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Browse and filter all projects"})]})})}),o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Do,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search by project code or title...",value:i,onChange:k=>l(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsx("div",{className:"flex flex-wrap gap-2 bg-gray-100 rounded-lg p-1",children:["all","pre-lim","ongoing","completed"].map(k=>o.jsx("button",{onClick:()=>u(k),className:`px-3 py-1.5 text-xs font-medium rounded transition-colors ${c===k?"bg-white text-primary-600 shadow-sm border border-gray-200":"text-gray-600 hover:text-gray-900"}`,children:k==="all"?"All":k==="pre-lim"?"Preliminary":k.charAt(0).toUpperCase()+k.slice(1)},k))})]}),O.length===0?o.jsxs("div",{className:"px-6 py-12 text-center",children:[o.jsx(Nu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No projects found"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Code"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Project"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Client"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Engineer"}),o.jsx("th",{className:"px-6 py-3 text-right font-semibold text-gray-700",children:"Hours"}),o.jsx("th",{className:"px-6 py-3 text-center font-semibold text-gray-700",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:O.map(k=>{const H=a.find(Q=>Q.id===k.companyId),L=k.leadEngineer?.name||k.manager?.name||"Unassigned";return k.plannedHours>0&&(k.actualHours||0)/k.plannedHours*100,o.jsxs("tr",{onClick:()=>D(k),className:"hover:bg-gray-50 transition-colors cursor-pointer",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-block px-2.5 py-1 rounded text-xs font-semibold bg-cyan-50 text-primary-600",children:k.projectCode})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"font-medium text-gray-900 truncate",children:k.title})}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:H?.name||"Unknown"}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:L}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex flex-col items-end gap-1.5",children:[o.jsxs("div",{className:"font-medium",children:[k.actualHours||0," hrs"]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["of ",k.plannedHours," planned"]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 max-w-[100px] shadow-inner overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full transition-all duration-300 ease-in-out shadow-sm ${(k.actualHours||0)>k.plannedHours?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-green-500 to-green-600"}`,style:{width:`${Math.min(Math.max(k.plannedHours>0?(k.actualHours||0)/k.plannedHours*100:0,2),100)}%`}})})]})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded text-xs font-semibold ${k.status==="ongoing"?"bg-blue-50 text-blue-700":k.status==="completed"?"bg-emerald-50 text-emerald-700":k.status==="pre-lim"?"bg-amber-50 text-amber-700":"bg-gray-100 text-gray-700"}`,children:k.status==="pre-lim"?"Preliminary":k.status.charAt(0).toUpperCase()+k.status.slice(1)})})]},k.id)})})]})})]}),p&&A&&o.jsx(E_,{project:A,isOpen:p,onClose:()=>{m(!1),h(null)}}),o.jsx(Oae,{isOpen:N,onClose:()=>{C(!1),g(null),b(null)},teamMemberId:y,teamMemberName:v})]})},Rve=()=>{const{fetchProjects:r}=os();return B.useEffect(()=>{r()},[r]),o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Project tracking and statistics"})]}),o.jsx(cC,{className:"w-12 h-12 text-blue-600 opacity-20"})]})}),o.jsx(Mve,{})]})})},Fu=Ic((r,e)=>({companies:[],loading:!1,error:null,fetchCompanies:async()=>{r({loading:!0,error:null});try{const t=await vn.api.get("/companies");r({companies:t.data,loading:!1})}catch(t){console.error("Error fetching companies:",t),r({error:t.response?.data?.error||"Failed to fetch companies",loading:!1}),rr.error("Failed to fetch companies")}},createCompany:async t=>{r({loading:!0,error:null});try{const n=await vn.api.post("/companies",t);return r(a=>({companies:[...a.companies,{...n.data.company,contacts:[]}],loading:!1})),rr.success("Company created successfully"),n.data.company}catch(n){console.error("Error creating company:",n);const a=n.response?.data?.error||"Failed to create company";return r({error:a,loading:!1}),rr.error(a),null}},updateCompany:async(t,n)=>{r({loading:!0,error:null});try{const a=await vn.api.put(`/companies/${t}`,n);r(s=>({companies:s.companies.map(i=>i.id===t?{...i,...a.data.company}:i),loading:!1})),rr.success("Company updated successfully")}catch(a){console.error("Error updating company:",a);const s=a.response?.data?.error||"Failed to update company";r({error:s,loading:!1}),rr.error(s)}},deleteCompany:async t=>{r({loading:!0,error:null});try{await vn.api.delete(`/companies/${t}`),r(n=>({companies:n.companies.filter(a=>a.id!==t),loading:!1})),rr.success("Company deleted successfully")}catch(n){console.error("Error deleting company:",n);const a=n.response?.data?.error||"Failed to delete company";r({error:a,loading:!1}),rr.error(a)}},createContact:async t=>{r({loading:!0,error:null});try{const a=(await vn.api.post("/contacts",t)).data.contact;return r(s=>({companies:s.companies.map(i=>i.id===a.company_id?{...i,contacts:[...i.contacts,a]}:i),loading:!1})),rr.success("Contact created successfully"),a}catch(n){console.error("Error creating contact:",n);const a=n.response?.data?.error||"Failed to create contact";return r({error:a,loading:!1}),rr.error(a),null}},updateContact:async(t,n)=>{r({loading:!0,error:null});try{const s=(await vn.api.put(`/contacts/${t}`,n)).data.contact;r(i=>({companies:i.companies.map(l=>l.id===s.company_id?{...l,contacts:l.contacts.map(c=>c.id===t?s:c)}:l),loading:!1})),rr.success("Contact updated successfully")}catch(a){console.error("Error updating contact:",a);const s=a.response?.data?.error||"Failed to update contact";r({error:s,loading:!1}),rr.error(s)}},deleteContact:async t=>{r({loading:!0,error:null});try{await vn.api.delete(`/contacts/${t}`),r(n=>({companies:n.companies.map(a=>({...a,contacts:a.contacts.filter(s=>s.id!==t)})),loading:!1})),rr.success("Contact deleted successfully")}catch(n){console.error("Error deleting contact:",n);const a=n.response?.data?.error||"Failed to delete contact";r({error:a,loading:!1}),rr.error(a)}}})),N3=r=>{const e=B.useRef(null),t=B.useRef(null);return B.useEffect(()=>{r?setTimeout(()=>{e.current?.focus()},0):t.current?.focus()},[r]),{firstInputRef:e,closeButtonRef:t}},Uve=({isOpen:r,onClose:e})=>{const{clients:t,fetchClients:n,loading:a}=ff(),{companies:s,fetchCompanies:i,loading:l}=Fu(),{teamMembers:c,fetchTeamMembers:u,loading:A}=fo(),{addProject:h}=os(),{firstInputRef:p,closeButtonRef:m}=N3(r),[y,g]=B.useState({projectCode:"",title:"",companyId:"",contactId:"",leadEngineerId:"",managerId:"",plannedHours:"",hourlyRate:"",billingType:"hourly",workTypes:[],description:"",status:"pre-lim",startDate:new Date().toISOString().split("T")[0],isStructureContainer:!1}),[v,b]=B.useState(null),[N,C]=B.useState({projectCode:null}),[E,_]=B.useState(!1);B.useEffect(()=>{r&&(n(),i(),u(),as.getNextProjectCode().then(L=>b(L)).catch(L=>Rt.error("Failed to fetch latest project code:",L)))},[r,n,i,u]);const P=["Computational Fluid Dynamics","Finite Element Analysis","Vibration","Acoustics"],O=L=>{g(Q=>{const R=Q.workTypes.includes(L)?Q.workTypes.filter(K=>K!==L):[...Q.workTypes,L];return{...Q,workTypes:R}})},D=c,k=c.filter(L=>L.role==="senior-engineer"||L.role==="principal-engineer"||L.role==="manager"||L.role==="managing-director"||L.role==="admin"),H=async L=>{if(L.preventDefault(),!y.projectCode||!y.title||!y.companyId||!y.managerId){xe.error("Please fill in all required fields (Project Code, Title, Company, and Project Manager)");return}if(!/^J\d{5}$/.test(y.projectCode)){xe.error("Project Code must be in format J2XXXX (e.g., J25001)");return}_(!0);try{const R=s.find(ae=>ae.id===y.companyId),K={...y,engineerId:y.leadEngineerId,plannedHours:parseFloat(y.plannedHours)||0,hourlyRate:y.hourlyRate?parseFloat(y.hourlyRate):null,companyName:R?.name||"",billingType:y.billingType,isStructureContainer:y.isStructureContainer},ee=await h(K),X=B_.getState().addNotification;if(X({type:"success",title:"Project Created",message:`${y.title} (${y.projectCode}) has been created successfully.`,category:"project-assignment"}),y.managerId){const ae=c.find(Y=>Y.id===y.managerId);ae&&X({type:"info",title:"Project Assignment",message:`${ae.name} has been assigned as Project Manager for ${y.title}.`,category:"project-assignment"})}if(y.leadEngineerId){const ae=c.find(Y=>Y.id===y.leadEngineerId);ae&&X({type:"info",title:"Project Assignment",message:`${ae.name} has been assigned as Lead Engineer for ${y.title}.`,category:"project-assignment"})}xe.success("Project created successfully!"),g({projectCode:"",title:"",companyId:"",contactId:"",leadEngineerId:"",managerId:"",plannedHours:"",hourlyRate:"",billingType:"hourly",workTypes:[],description:"",status:"pre-lim",startDate:new Date().toISOString().split("T")[0],isStructureContainer:!1}),C({projectCode:null}),e()}catch(R){if(R?.isAxiosError){const K=R?.response?.data?.error||R?.response?.data?.message||R?.message||String(R);K.includes("already exists")&&K.includes("Project code")?(C({projectCode:"This code already exists"}),xe.error(`Project code "${y.projectCode}" already exists. Please use a different code.`,{duration:5e3})):(C({projectCode:null}),xe.error("Failed to create project: "+K))}else Rt.error("Failed to create project:",R),xe.error("Failed to create project: "+(R?.message||String(R)))}finally{_(!1)}};return r?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create New Project"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:H,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"projectCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Project Code ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{id:"projectCode",type:"text",ref:p,value:y.projectCode,onChange:L=>{g({...y,projectCode:L.target.value.toUpperCase()}),C({projectCode:null})},placeholder:"e.g., J25001",pattern:"^J\\d{5}$",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${N.projectCode?"border-red-500 dark:border-red-500 bg-red-50 dark:bg-red-900/10":"border-gray-300 dark:border-gray-600"}`,required:!0,"aria-describedby":"projectCodeHint"}),N.projectCode&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:N.projectCode}),o.jsxs("p",{id:"projectCodeHint",className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Format: J2XXXX (e.g., J25001)",v&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"mx-2",children:"|"}),o.jsxs("span",{className:"text-gray-900 font-medium",children:["Latest: ",v.latestCode||"None"]}),o.jsx("span",{className:"mx-2",children:"|"}),o.jsxs("span",{className:"text-green-700 font-medium",children:["Suggested: ",v.nextSuggestion]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-xl p-4 border border-amber-200 dark:border-amber-800",children:o.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:y.isStructureContainer,onChange:L=>g({...y,isStructureContainer:L.target.checked}),className:"mt-1 h-4 w-4 rounded border-gray-300 text-amber-600 focus:ring-amber-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold text-gray-900 dark:text-white block",children:"This is a structure container"}),o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 block mt-1",children:"Divides into multiple structures with separate POs (e.g., J25143  J25143_1, J25143_2, J25143_3)"}),y.isStructureContainer&&o.jsx("span",{className:"text-xs text-amber-700 dark:text-amber-400 block mt-2",children:" Container projects cannot have direct POs. Create structures after project is created."})]})]})}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"projectTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Project Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{id:"projectTitle",type:"text",value:y.title,onChange:L=>g({...y,title:L.target.value}),placeholder:"e.g., Equipment Vibration Analysis",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",required:!0,autoComplete:"off"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Billing Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"billingType",value:"hourly",checked:y.billingType==="hourly",onChange:L=>g({...y,billingType:L.target.value}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Hourly Rate"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"billingType",value:"lump_sum",checked:y.billingType==="lump_sum",onChange:L=>g({...y,billingType:L.target.value}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Lump Sum"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"contact",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx($l,{className:"w-4 h-4 inline mr-1"}),"Contact ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{id:"contact",value:y.contactId,onChange:L=>{const Q=L.target.value,R=s.find(K=>K.contacts.some(ee=>ee.id===Q));g({...y,contactId:Q,companyId:R?.id||""})},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white grouped-select",disabled:l,required:!0,children:[o.jsx("option",{value:"",children:l?"Loading contacts...":s.length===0?"No contacts available":"Select Contact"}),s.map(L=>o.jsx("optgroup",{label:L.name,children:L.contacts.map(Q=>o.jsxs("option",{value:Q.id,children:[Q.name," ",Q.position?`(${Q.position})`:""]},Q.id))},L.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"manager",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx($l,{className:"w-4 h-4 inline mr-1"}),"Project Manager ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{id:"manager",value:y.managerId,onChange:L=>g({...y,managerId:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",disabled:A,required:!0,"aria-describedby":"managerHint",children:[o.jsx("option",{value:"",children:A?"Loading...":k.length===0?"No managers available":"Select Project Manager"}),k.map(L=>o.jsx("option",{value:L.id,children:L.name},L.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"leadEngineer",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx($l,{className:"w-4 h-4 inline mr-1"}),"Lead Engineer"]}),o.jsxs("select",{id:"leadEngineer",value:y.leadEngineerId,onChange:L=>g({...y,leadEngineerId:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",disabled:A,children:[o.jsx("option",{value:"",children:A?"Loading...":D.length===0?"No engineers available":"Select Lead Engineer"}),D.map(L=>o.jsx("option",{value:L.id,children:L.name},L.id))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Field of Work"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:P.map(L=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:y.workTypes.includes(L),onChange:()=>O(L),className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary-600 focus:ring-primary-500 bg-white dark:bg-gray-700"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:L})]},L))})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"plannedHours",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx(ho,{className:"w-4 h-4 inline mr-1"}),"Planned Hours"]}),o.jsx("input",{id:"plannedHours",type:"number",value:y.plannedHours,onChange:L=>g({...y,plannedHours:L.target.value}),placeholder:"e.g., 120",min:"0",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),y.billingType==="hourly"&&o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"hourlyRate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Hourly Rate (MYR)",o.jsx("span",{className:"text-xs text-gray-500 font-normal ml-2",children:"(Optional)"})]}),o.jsx("input",{id:"hourlyRate",type:"number",step:"0.01",value:y.hourlyRate,onChange:L=>g({...y,hourlyRate:L.target.value}),placeholder:"e.g., 500",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Leave blank to use default RM 437.50/hr"})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx($a,{className:"w-4 h-4 inline mr-1"}),"Description"]}),o.jsx("textarea",{id:"description",value:y.description,onChange:L=>g({...y,description:L.target.value}),placeholder:"Describe the project scope and objectives...",rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[o.jsx(Ut,{type:"button",variant:"outline",onClick:e,disabled:E,ref:m,children:"Cancel"}),o.jsx(Ut,{type:"submit",variant:"primary",disabled:E,children:E?"Creating...":"Create Project"})]})]})]})})]}):null},Qve=({isOpen:r,onClose:e,parentProject:t})=>{const{teamMembers:n,fetchTeamMembers:a,loading:s}=fo(),{fetchProjects:i}=os(),{firstInputRef:l,closeButtonRef:c}=N3(r),[u,A]=B.useState({title:"",leadEngineerId:"",managerId:"",plannedHours:"",workTypes:[],description:"",status:"pre-lim"}),[h,p]=B.useState(""),[m,y]=B.useState(!1);B.useEffect(()=>{r&&a()},[r,a]),B.useEffect(()=>{t&&(A(_=>({..._,leadEngineerId:t.leadEngineerId||"",managerId:t.managerId||""})),as.getVariationOrders(t.id).then(_=>{const P=_.length+1;p(`${t.projectCode}_${P}`)}).catch(_=>{Rt.error("Failed to fetch VOs:",_),p(`${t.projectCode}_1`)}))},[t]);const g=["Computational Fluid Dynamics","Finite Element Analysis","Vibration","Acoustics"],v=_=>{A(P=>{const O=P.workTypes.includes(_)?P.workTypes.filter(D=>D!==_):[...P.workTypes,_];return{...P,workTypes:O}})},b=n,N=n.filter(_=>_.role==="senior-engineer"||_.role==="principal-engineer"||_.role==="manager"||_.role==="managing-director"||_.role==="admin"),C=async _=>{if(_.preventDefault(),!t){xe.error("No parent project selected");return}if(!u.title||!u.managerId){xe.error("Please fill in all required fields (Title and Project Manager)");return}y(!0);try{const P={title:u.title,leadEngineerId:u.leadEngineerId||t.leadEngineerId,managerId:u.managerId,plannedHours:parseFloat(u.plannedHours)||0,workTypes:u.workTypes.length>0?u.workTypes:t.workTypes,description:u.description,status:u.status},O=await as.createVariationOrder(t.id,P),D=B_.getState().addNotification;if(D({type:"success",title:"Variation Order Created",message:`${O.voCode} - ${u.title} has been created successfully.`,category:"project-assignment"}),u.managerId){const k=n.find(H=>H.id===u.managerId);k&&D({type:"info",title:"VO Assignment",message:`${k.name} has been assigned as Project Manager for VO ${O.voCode}.`,category:"project-assignment"})}xe.success(`Variation Order ${O.voCode} created successfully!`),await i(),A({title:"",leadEngineerId:"",managerId:"",plannedHours:"",workTypes:[],description:"",status:"pre-lim"}),e()}catch(P){Rt.error("Error creating variation order:",P);const O=P.response?.data?.error||P.message||"Failed to create variation order";xe.error(O)}finally{y(!1)}},E=()=>{A({title:"",leadEngineerId:"",managerId:"",plannedHours:"",workTypes:[],description:"",status:"pre-lim"}),e()};return!r||!t?null:o.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-3xl my-8",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Create Variation Order"}),o.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["For parent project: ",o.jsx("span",{className:"font-semibold text-primary-600",children:t.projectCode})," - ",t.title]})]}),o.jsx("button",{ref:c,onClick:E,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100",children:o.jsx(Fr,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mx-6 mt-6",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(ls,{className:"w-5 h-5 text-blue-400 mt-0.5 mr-3"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:"text-sm font-medium text-blue-800",children:["Variation Order for ",t.projectCode]}),o.jsxs("div",{className:"mt-2 text-sm text-blue-700 space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Suggested VO Code:"})," ",o.jsx("span",{className:"font-mono bg-blue-100 px-2 py-0.5 rounded",children:h})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Company:"})," ",t.companyName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Parent Status:"})," ",o.jsx("span",{className:"capitalize",children:t.status})]})]})]})]})}),o.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"vo-title",className:"block text-sm font-medium text-gray-700 mb-2",children:["VO Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{ref:l,id:"vo-title",type:"text",value:u.title,onChange:_=>A({...u,title:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g., VO: Additional Deck Analysis",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"vo-lead-engineer",className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Engineer"}),o.jsxs("select",{id:"vo-lead-engineer",value:u.leadEngineerId,onChange:_=>A({...u,leadEngineerId:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsxs("option",{value:"",children:["Inherit from parent (",t.engineerName,")"]}),b.map(_=>o.jsxs("option",{value:_.id,children:[_.name," (",_.role,")"]},_.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"vo-manager",className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Manager ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{id:"vo-manager",value:u.managerId,onChange:_=>A({...u,managerId:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Select Manager"}),N.map(_=>o.jsxs("option",{value:_.id,children:[_.name," (",_.role,")"]},_.id))]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Senior Engineers and above"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"vo-planned-hours",className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned Hours"}),o.jsx("input",{id:"vo-planned-hours",type:"number",min:"0",step:"0.5",value:u.plannedHours,onChange:_=>A({...u,plannedHours:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Work Types (Optional - inherits from parent if not selected)"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:g.map(_=>o.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:u.workTypes.includes(_),onChange:()=>v(_),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:_})]},_))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"vo-description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description / Remarks"}),o.jsx("textarea",{id:"vo-description",value:u.description,onChange:_=>A({...u,description:_.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Describe the scope of this variation order..."})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[o.jsx(Ut,{type:"button",variant:"secondary",onClick:E,disabled:m,children:"Cancel"}),o.jsx(Ut,{type:"submit",disabled:m||!u.title||!u.managerId,children:m?"Creating...":`Create VO ${h}`})]})]})]})})},Hve=({projectId:r})=>{const[e,t]=B.useState([]),[n,a]=B.useState([]),[s,i]=B.useState(!1),[l,c]=B.useState(!1),[u,A]=B.useState("");B.useEffect(()=>{let b=!0;return(async()=>{try{i(!0);const[C,E]=await Promise.all([vp.getProjectTeam(r),wr.getAllTeamMembers({status:"active"})]);if(b){t(C);const _=E,O=(Array.isArray(_)?_:_?.data||[]).filter(D=>D&&(D.name||D.user?.name));a(O)}}catch(C){b&&(console.error("Error loading data:",C),xe.error("Failed to load project team"))}finally{b&&i(!1)}})(),()=>{b=!1}},[r]);const h=async()=>{try{const b=await vp.getProjectTeam(r);t(b)}catch(b){console.error("Error reloading team members:",b),xe.error("Failed to reload team data")}},p=async()=>{if(!u){xe.error("Please select an engineer");return}try{await vp.addTeamMember(r,u,"engineer"),xe.success("Team member added successfully"),c(!1),A(""),h()}catch(b){console.error("Error adding team member:",b),xe.error(b.response?.data?.error||"Failed to add team member")}},m=async(b,N)=>{if(confirm(`Remove ${N} from the project team?`))try{await vp.removeTeamMember(r,b),xe.success("Team member removed"),h()}catch(C){console.error("Error removing team member:",C),xe.error("Failed to remove team member")}},y=n.map(b=>({...b,displayName:b.name||b.user?.name||b.userName||"Unknown",displayEmail:b.email||b.user?.email||""})).filter(b=>!e.some(N=>N.teamMemberId===b.id)),g=e.find(b=>b.role==="lead_engineer"),v=e.filter(b=>b.role==="engineer");return s?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Su,{className:"w-5 h-5 text-primary-600"}),o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Project Team (",e.length," members)"]})]}),o.jsxs(Ut,{onClick:()=>c(!0),size:"sm",children:[o.jsx(Ny,{className:"w-4 h-4 mr-2"}),"Add Member"]})]}),g&&o.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-primary-100 rounded-xl p-4 border border-primary-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Mw,{src:g.avatar,alt:g.name,size:"md"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:g.name}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-primary-700",children:[o.jsx(s7,{className:"w-4 h-4"}),o.jsx("span",{children:"Lead Engineer"})]})]})]}),o.jsx("span",{className:"text-sm text-gray-500",children:g.email})]})}),v.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-700",children:["Engineers (",v.length,")"]}),o.jsx("div",{className:"grid gap-3",children:v.map(b=>o.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg border border-gray-200 p-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Mw,{src:b.avatar,alt:b.name,size:"sm"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:b.name}),o.jsx("p",{className:"text-sm text-gray-500",children:b.email})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("button",{onClick:()=>m(b.teamMemberId,b.name),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remove from team",children:o.jsx(mte,{className:"w-4 h-4"})})})]},b.id))})]}),e.length===0&&o.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[o.jsx(Su,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-600",children:"No team members assigned yet"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Add engineers to track project assignments"})]}),l&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Team Member"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Engineer *"}),o.jsxs("select",{value:u,onChange:b=>A(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"",children:"Choose an engineer..."}),y.length===0?o.jsx("option",{value:"",disabled:!0,children:"No available engineers"}):y.map(b=>o.jsxs("option",{value:b.id,children:[b.displayName," ",b.displayEmail?`(${b.displayEmail})`:""]},b.id))]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'Engineers will be added as team contributors. Use the "Lead Engineer" dropdown above to set the project lead.'})]})}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx(Ut,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),o.jsx(Ut,{onClick:p,disabled:!u,children:"Add to Project"})]})]})})]})},zve=({isOpen:r,onClose:e,project:t,onSave:n})=>{const[a,s]=B.useState({}),{teamMembers:i,fetchTeamMembers:l}=fo(),{companies:c,fetchCompanies:u,loading:A}=Fu();if(B.useEffect(()=>{l(),u()},[l,u]),B.useEffect(()=>{t&&s({...t,hourlyRate:t.hourlyRate||null})},[t]),!r||!t)return null;const h=async()=>{try{await n(a),xe.success("Project updated successfully!"),e()}catch(p){xe.error(p?.message||"Failed to update project")}};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-white flex-shrink-0",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Project"}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.projectCode," - ",t.title]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Su,{className:"w-5 h-5 text-indigo-600"}),"Team Assignment"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Engineer"}),o.jsxs("select",{value:a.leadEngineerId||"",onChange:p=>{const m=i.find(y=>y.id===p.target.value);s({...a,leadEngineerId:p.target.value,engineerName:m?.name})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Engineer"}),i.filter(p=>p.role==="engineer"||p.role==="senior-engineer"||p.role==="principal-engineer").map(p=>o.jsxs("option",{value:p.id,children:[p.name," - ",p.role.replace("-"," ").toUpperCase()]},p.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Manager"}),o.jsxs("select",{value:a.managerId||"",onChange:p=>{const m=i.find(y=>y.id===p.target.value);s({...a,managerId:p.target.value,managerName:m?.name})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Project Manager"}),i.filter(p=>p.role==="senior-engineer"||p.role==="principal-engineer"||p.role==="manager"||p.role==="managing-director").map(p=>o.jsxs("option",{value:p.id,children:[p.name," - ",p.role.replace("-"," ").toUpperCase()]},p.id))]})]})]}),(a.engineerName||a.managerName)&&o.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg border border-indigo-200",children:[o.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Current Team:"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.engineerName&&o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:[" ",a.engineerName]}),a.managerName&&o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:[" ",a.managerName]})]})]}),t?.id&&o.jsx("div",{className:"mt-6 pt-6 border-t border-indigo-200",children:o.jsx(Hve,{projectId:t.id})})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Xh,{className:"w-5 h-5 text-green-600"}),"Company & Contact"]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact *"}),o.jsxs("select",{value:a.contactId||"",onChange:p=>{const m=p.target.value,y=c.find(g=>g.contacts.some(v=>v.id===m));y?.contacts.find(g=>g.id===m),s({...a,contactId:m,companyId:y?.id||"",companyName:y?.name||""})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent grouped-select",disabled:A,children:[o.jsx("option",{value:"",children:A?"Loading contacts...":c.length===0?"No contacts available":"Select Contact"}),c.map(p=>o.jsx("optgroup",{label:p.name,children:p.contacts.map(m=>o.jsxs("option",{value:m.id,children:[m.name," ",m.position?`(${m.position})`:""]},m.id))},p.id))]})]}),a.companyName&&o.jsxs("div",{className:"p-3 bg-white rounded-lg border border-green-200",children:[o.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Selected Company:"}),o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full",children:[" ",a.companyName]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Status"}),o.jsxs("div",{className:"w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg flex items-center justify-between",children:[o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium ${a.status==="completed"?"bg-green-100 text-green-800":a.status==="ongoing"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:a.status==="pre-lim"?"Preliminary":a.status==="ongoing"?"Ongoing":"Completed"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Auto-updates based on PO/Invoice status"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(so,{className:"w-4 h-4 inline mr-1"}),"Inquiry Date"]}),o.jsx("input",{type:"date",value:a.inquiryDate?new Date(a.inquiryDate).toISOString().split("T")[0]:"",onChange:p=>s({...a,inquiryDate:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Billing Type"}),t.poFileUrl?o.jsxs("div",{className:"p-4 bg-white rounded-lg border border-blue-200",children:[o.jsxs("p",{className:"text-sm text-gray-700",children:[o.jsx("span",{className:"font-medium",children:"Current Billing Type:"})," ",o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${a.billingType==="lump_sum"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:a.billingType==="lump_sum"?"Lump Sum":"Hourly Rate"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Billing type cannot be changed after PO has been created."})]}):o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"billingType",value:"hourly",checked:a.billingType==="hourly",onChange:p=>s({...a,billingType:p.target.value}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Hourly Rate"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"billingType",value:"lump_sum",checked:a.billingType==="lump_sum",onChange:p=>s({...a,billingType:p.target.value}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Lump Sum"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned Hours"}),o.jsx("input",{type:"number",value:a.plannedHours||0,onChange:p=>s({...a,plannedHours:parseInt(p.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.billingType==="hourly"&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hourly Rate (MYR)",o.jsx("span",{className:"text-xs text-gray-500 font-normal ml-2",children:"(Optional)"})]}),o.jsx("input",{type:"number",step:"0.01",value:a.hourlyRate||"",onChange:p=>s({...a,hourlyRate:parseFloat(p.target.value)||null}),placeholder:"e.g., 500",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to use default RM 437.50/hr"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:[o.jsx("button",{onClick:e,className:"px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsxs("button",{onClick:h,className:"px-6 py-2.5 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-lg hover:from-primary-600 hover:to-primary-700 transition-all font-medium flex items-center gap-2",children:[o.jsx(p_,{className:"w-4 h-4"}),"Save Changes"]})]})]})})]})},Kve=({isOpen:r,onClose:e,container:t,onStructureCreated:n})=>{const{teamMembers:a,fetchTeamMembers:s,loading:i}=fo(),{companies:l,fetchCompanies:c,loading:u}=Fu(),{firstInputRef:A,closeButtonRef:h}=N3(r),[p,m]=B.useState({title:"",structureNumber:1,leadEngineerId:"",managerId:"",plannedHours:"",billingType:"hourly",workTypes:[],description:""}),[y,g]=B.useState(!1),[v,b]=B.useState("");B.useEffect(()=>{r&&t&&(s(),c(),as.getStructures(t.id).then(O=>{const H=(O.structures||[]).reduce((L,Q)=>{const R=Q.projectCode.match(/_(\d+)$/);return R?Math.max(L,parseInt(R[1],10)):L},0)+1;m(L=>({...L,structureNumber:H,leadEngineerId:t.leadEngineerId||"",managerId:t.managerId||""})),b(`${t.projectCode}_${H}`)}).catch(O=>{Rt.error("Failed to fetch structures:",O),b(`${t.projectCode}_1`)}))},[r,t,s,c]);const N=["Computational Fluid Dynamics","Finite Element Analysis","Vibration","Acoustics"],C=O=>{m(D=>{const k=D.workTypes.includes(O)?D.workTypes.filter(H=>H!==O):[...D.workTypes,O];return{...D,workTypes:k}})},E=a,_=a.filter(O=>O.role==="senior-engineer"||O.role==="principal-engineer"||O.role==="manager"||O.role==="managing-director"||O.role==="admin"),P=async O=>{if(O.preventDefault(),!t){xe.error("Container project not found");return}if(!p.title){xe.error("Title is required");return}g(!0);try{const D={title:p.title,leadEngineerId:p.leadEngineerId||t.leadEngineerId,managerId:p.managerId||t.managerId,plannedHours:parseFloat(p.plannedHours)||0,billingType:p.billingType,workTypes:p.workTypes,description:p.description},k=await as.createStructure(t.id,D);xe.success(`Structure ${k.structureCode} created successfully!`),m({title:"",structureNumber:p.structureNumber+1,leadEngineerId:t.leadEngineerId||"",managerId:t.managerId||"",plannedHours:"",billingType:"hourly",workTypes:[],description:""}),b(`${t.projectCode}_${p.structureNumber+1}`),n(),e()}catch(D){Rt.error("Failed to create structure:",D);const k=D?.response?.data?.error||D?.message||"Unknown error";xe.error("Failed to create structure: "+k)}finally{g(!1)}};return!r||!t?null:o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-gray-800 dark:to-gray-700",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx(aee,{className:"w-6 h-6 text-amber-600"}),"Add Structure"]}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Creating structure for"," ",o.jsx("span",{className:"font-semibold text-amber-700 dark:text-amber-400",children:t.projectCode})]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:P,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Structure Code"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400 font-mono",children:v}),o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"(auto-generated)"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"structureTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Structure Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{id:"structureTitle",type:"text",ref:A,value:p.title,onChange:O=>m({...p,title:O.target.value}),placeholder:"e.g., YPM1180 Structure 1",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",required:!0,autoComplete:"off"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Billing Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"billingType",value:"hourly",checked:p.billingType==="hourly",onChange:O=>m({...p,billingType:O.target.value}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Hourly Rate"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"billingType",value:"lump_sum",checked:p.billingType==="lump_sum",onChange:O=>m({...p,billingType:O.target.value}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Lump Sum"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Lead Engineer"}),o.jsxs("select",{value:p.leadEngineerId,onChange:O=>m({...p,leadEngineerId:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",disabled:i,children:[o.jsx("option",{value:"",children:i?"Loading...":E.length===0?"No engineers":"Select Lead Engineer"}),E.map(O=>o.jsx("option",{value:O.id,children:O.name},O.id))]}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Default: ",t.engineerName||"None"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Manager"}),o.jsxs("select",{value:p.managerId,onChange:O=>m({...p,managerId:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",disabled:i,children:[o.jsx("option",{value:"",children:i?"Loading...":_.length===0?"No managers":"Select Manager"}),_.map(O=>o.jsx("option",{value:O.id,children:O.name},O.id))]}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Default: ",t.managerName||"None"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Field of Work"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:N.map(O=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:p.workTypes.includes(O),onChange:()=>C(O),className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary-600 focus:ring-primary-500 bg-white dark:bg-gray-700"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:O})]},O))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Planned Hours"}),o.jsx("input",{type:"number",value:p.plannedHours,onChange:O=>m({...p,plannedHours:O.target.value}),placeholder:"e.g., 120",min:"0",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),o.jsx("textarea",{value:p.description,onChange:O=>m({...p,description:O.target.value}),placeholder:"Describe the structure scope...",rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[o.jsx(Ut,{type:"button",variant:"outline",onClick:e,disabled:y,ref:h,children:"Cancel"}),o.jsx(Ut,{type:"submit",variant:"primary",disabled:y,children:y?"Creating...":"Create Structure"})]})]})]})})]})},$ve={danger:{icon:ls,iconBg:"bg-red-100",iconColor:"text-red-600",headerBg:"from-red-50 to-red-100",confirmButton:"bg-red-600 hover:bg-red-700 focus:ring-red-500"},warning:{icon:Jh,iconBg:"bg-yellow-100",iconColor:"text-yellow-600",headerBg:"from-yellow-50 to-yellow-100",confirmButton:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"},info:{icon:y_,iconBg:"bg-primary-100",iconColor:"text-primary-600",headerBg:"from-primary-50 to-primary-100",confirmButton:"bg-primary-600 hover:bg-primary-700 focus:ring-primary-500"}},rf=({isOpen:r,onClose:e,onConfirm:t,title:n,message:a,variant:s="info",confirmText:i="Confirm",cancelText:l="Cancel",isLoading:c=!1})=>{const u=$ve[s],A=u.icon,h=()=>{c||t()},p=m=>{m.key==="Escape"&&!c&&e(),m.key==="Enter"&&!c&&h()};return r?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:m=>{m.target===m.currentTarget&&!c&&e()},onKeyDown:p,role:"presentation",children:o.jsxs("div",{role:"alertdialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-scale-in",children:[o.jsxs("div",{className:Cr("flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r",u.headerBg),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:Cr("w-10 h-10 rounded-lg flex items-center justify-center",u.iconBg),children:o.jsx(A,{className:Cr("w-6 h-6",u.iconColor)})}),o.jsx("h2",{id:"confirm-dialog-title",className:"text-xl font-bold text-gray-900",children:n})]}),!c&&o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors","aria-label":"Close dialog",children:o.jsx(Fr,{className:"w-5 h-5 text-gray-600"})})]}),o.jsx("div",{className:"p-6",children:o.jsx("p",{id:"confirm-dialog-description",className:"text-gray-700 leading-relaxed",children:a})}),o.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[o.jsx("button",{onClick:e,disabled:c,className:"px-4 py-2.5 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px]",children:l}),o.jsx("button",{onClick:h,disabled:c,className:Cr("px-4 py-2.5 text-white rounded-lg transition-all font-medium shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px] focus:outline-none focus:ring-2 focus:ring-offset-2",u.confirmButton,c&&"cursor-wait"),children:c?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):i})]})]})}):null};function S3(){const{user:r}=hf();return B.useMemo(()=>{if(!r)return{canAddProject:!1,canAddResearch:!1,canAddBusinessContact:!1,canAddTimesheet:!1,canExportTimesheet:!1,canAddTeamMember:!1,canEditTeamMember:!1,canDeleteTeamMember:!1,canAddOrRemoveInventory:!1,canAddMaintenanceDates:!1,canAddOrRemovePC:!1,canCheckoutEquipment:!1,canAssignPC:!1,canAccessFinance:!1,canUploadPO:!1,canApproveInvoices:!1,canEditInvoices:!1,canDeletePO:!1,canDeleteInvoices:!1,canViewBaseCost:!1,canViewAnalytics:!1,canManageProjectRates:!1,isAuthenticated:!1,roleInfo:null,roles:[],highestRole:"engineer"};const t=r.roles||[r.role],n=t.includes("admin")?"admin":t.reduce((s,i)=>{const l={engineer:1,"senior-engineer":2,"principal-engineer":3,manager:3,"managing-director":4,admin:5};return(l[i]||0)>(l[s]||0)?i:s},t[0]);return{...AC(t),isAuthenticated:!0,roleInfo:w_(n),roles:t,highestRole:n}},[r])}const Vve=()=>{const{projects:r,loading:e,fetchProjects:t}=os(),{clients:n,fetchClients:a}=ff(),{companies:s,fetchCompanies:i}=Fu(),{teamMembers:l,fetchTeamMembers:c}=fo(),{canAddProject:u}=S3(),[A,h]=B.useState(""),[p,m]=B.useState("all"),[y,g]=B.useState("projectCode"),[v,b]=B.useState("asc"),[N,C]=B.useState(!1),[E,_]=B.useState(!1),[P,O]=B.useState(!1),[D,k]=B.useState(null),[H,L]=B.useState(!1),[Q,R]=B.useState(null),[K,ee]=B.useState(!1),[X,ae]=B.useState(null),[Y,de]=B.useState(new Set),[pe,Z]=B.useState({isOpen:!1});B.useEffect(()=>{t(),a(),i(),c()},[]);const I=B.useCallback(()=>{if(!u){xe.error(bd("add project","senior-engineer"));return}C(!0)},[u]),z=B.useCallback(Se=>{const Te=r.find(J=>J.id===Se);Te&&(k(Te),O(!0))},[r]),V=B.useCallback(Se=>{if(!u){xe.error(bd("edit project","senior-engineer"));return}const Te=r.find(J=>J.id===Se);Te&&(k(Te),_(!0))},[u,r]),q=B.useCallback(Se=>{y===Se?b(Te=>Te==="asc"?"desc":"asc"):(g(Se),b("asc"))},[y]),ne=Se=>y!==Se?o.jsx(Vp,{className:"w-4 h-4 ml-1 inline-block"}):v==="asc"?o.jsx(_0,{className:"w-4 h-4 ml-1 inline-block"}):o.jsx(Kl,{className:"w-4 h-4 ml-1 inline-block"}),ce=async Se=>{if(!D){xe.error("No project selected");return}try{Se.status&&Se.status!==D.status&&await os.getState().updateProject(D.id,{status:Se.status,inquiryDate:Se.inquiryDate,poReceivedDate:Se.poReceivedDate,completionDate:Se.completionDate});const Te={};Se.title&&(Te.title=Se.title),Se.plannedHours!==void 0&&(Te.plannedHours=Se.plannedHours),Se.categories!==void 0&&(Te.categories=Se.categories),Se.leadEngineerId&&(Te.leadEngineerId=Se.leadEngineerId),Se.managerId&&(Te.managerId=Se.managerId),Object.keys(Te).length>0&&await os.getState().updateProject(D.id,Te),xe.success(`Project ${D.projectCode} updated successfully!`),t(!0),_(!1),k(null)}catch(Te){throw Rt.error("Failed to update project:",Te),xe.error(Te?.message||"Failed to update project"),Te}},Be=B.useCallback((Se,Te)=>{if(!u){xe.error(bd("delete project","senior-engineer"));return}Z({isOpen:!0,projectId:Se,projectCode:Te})},[u]),Ae=B.useCallback(async()=>{if(!(!pe.projectId||!pe.projectCode))try{await os.getState().deleteProject(pe.projectId),xe.success(`Project ${pe.projectCode} deleted successfully`),t(),Z({isOpen:!1})}catch(Se){Rt.error("Failed to delete project:",Se),xe.error("Failed to delete project: "+(Se instanceof Error?Se.message:String(Se)))}},[pe.projectId,pe.projectCode,t]),ye=B.useMemo(()=>r.filter(Se=>{const Te=A===""||Se.projectCode.toLowerCase().includes(A.toLowerCase())||Se.title.toLowerCase().includes(A.toLowerCase()),J=p==="all"||Se.status===p;return Te&&J}).sort((Se,Te)=>{const J=Je=>{switch(y){case"projectCode":return Je.projectCode.toLowerCase();case"title":return Je.title.toLowerCase();case"client":return(n.find(ze=>ze.id===Je.companyId)?.name||"").toLowerCase();case"engineer":return(Je.engineerName||Je.leadEngineer?.name||l.find(ze=>ze.userId===Je.leadEngineerId)?.name||l.find(ze=>ze.userId===Je.engineerId)?.name||"").toLowerCase();case"status":return Je.status;case"hours":return Je.actualHours||0;default:return Je.projectCode.toLowerCase()}},Le=J(Se),He=J(Te);return typeof Le=="string"&&typeof He=="string"?v==="asc"?Le.localeCompare(He):He.localeCompare(Le):v==="asc"?Le-He:He-Le}),[r,A,p,y,v,n,l]),Pe=B.useMemo(()=>{const Se=ye.filter(J=>!J.isVariationOrder),Te=ye.filter(J=>J.isVariationOrder).reduce((J,Le)=>{const He=Le.parentProjectId||"";return J[He]||(J[He]=[]),J[He].push(Le),J},{});return{parents:Se,vosByParent:Te}},[ye]),je=B.useMemo(()=>({total:r.length,preLim:r.filter(Se=>Se.status==="pre-lim").length,ongoing:r.filter(Se=>Se.status==="ongoing").length,completed:r.filter(Se=>Se.status==="completed").length}),[r]);return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Projects"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all your engineering projects and track progress"})]}),u&&o.jsxs("button",{onClick:I,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(ei,{className:"w-4 h-4"}),"New Project"]})]})}),o.jsx(Vr,{variant:"stat",padding:"sm",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(Do,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:A,onChange:Se=>h(Se.target.value),placeholder:"Search by project code or title...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),o.jsx("div",{children:o.jsxs("div",{className:"relative",children:[o.jsx(pg,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:p,onChange:Se=>m(Se.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pre-lim",children:"Preliminary"}),o.jsx("option",{value:"ongoing",children:"Ongoing"}),o.jsx("option",{value:"completed",children:"Completed"})]})]})})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(pd,{title:"Total Projects",value:je.total,color:"gray",onClick:()=>m("all"),active:p==="all"}),o.jsx(pd,{title:"Preliminary",value:je.preLim,color:"yellow",onClick:()=>m("pre-lim"),active:p==="pre-lim"}),o.jsx(pd,{title:"Ongoing",value:je.ongoing,color:"green",onClick:()=>m("ongoing"),active:p==="ongoing"}),o.jsx(pd,{title:"Completed",value:je.completed,color:"gray",onClick:()=>m("completed"),active:p==="completed"})]}),o.jsxs(Vr,{variant:"stat",padding:"none",className:"overflow-hidden",children:[o.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:o.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[p==="all"&&`All Projects (${ye.length})`,p==="pre-lim"&&`Preliminary Projects (${ye.length})`,p==="ongoing"&&`Ongoing Projects (${ye.length})`,p==="completed"&&`Completed Projects (${ye.length})`]})}),e?o.jsx("div",{className:"px-6 py-8",children:o.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(Se=>o.jsx("div",{className:"animate-pulse",children:o.jsxs("div",{className:"grid grid-cols-7 gap-4",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded col-span-2"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded"})]})},Se))})}):ye.length===0?o.jsxs("div",{className:"px-6 py-16 text-center",children:[o.jsx("div",{className:"text-gray-400 mb-4",children:o.jsx(Nu,{className:"w-12 h-12 mx-auto opacity-50"})}),o.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"No projects found"}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:A||p!=="all"?"Try adjusting your search or filters":"Get started by creating your first project"}),u&&!A&&p==="all"&&o.jsxs("button",{onClick:()=>C(!0),className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(ei,{className:"w-4 h-4"}),"Create First Project"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>q("projectCode"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Project Code ",ne("projectCode")]}),o.jsxs("th",{onClick:()=>q("title"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Title ",ne("title")]}),o.jsxs("th",{onClick:()=>q("client"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Company ",ne("client")]}),o.jsxs("th",{onClick:()=>q("engineer"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Engineer ",ne("engineer")]}),o.jsxs("th",{onClick:()=>q("status"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Status ",ne("status")]}),o.jsxs("th",{onClick:()=>q("hours"),className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Hours ",ne("hours")]}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Pe.parents.map(Se=>{let Te=s.find(Je=>Je.id===Se.companyId);!Te&&Se.companyId&&(Te=n.find(Je=>Je.id===Se.companyId));const J=Pe.vosByParent[Se.id]||[],Le=J.length>0,He=Y.has(Se.id);return o.jsxs(ws.Fragment,{children:[o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[Le&&o.jsx("button",{onClick:()=>{const Je=new Set(Y);He?Je.delete(Se.id):Je.add(Se.id),de(Je)},className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:He?"Expand VOs":"Collapse VOs",children:o.jsx(gA,{className:`w-4 h-4 transition-transform ${He?"":"rotate-90"}`})}),Se.projectType==="structure_container"&&o.jsx("span",{title:"Structure Container",children:o.jsx(tee,{className:"w-4 h-4 text-amber-600"})}),Se.projectType==="structure_child"&&o.jsx("span",{title:"Structure",children:o.jsx(iee,{className:"w-4 h-4 text-orange-600"})}),Se.isVariationOrder&&o.jsx("span",{className:"text-blue-400 text-sm",children:""}),!Se.projectType&&!Se.isVariationOrder&&o.jsx("span",{title:"Project",children:o.jsx(Nu,{className:"w-4 h-4 text-gray-400"})}),o.jsx("button",{onClick:()=>z(Se.id),className:"text-primary-600 hover:text-primary-700 hover:underline transition-colors cursor-pointer",title:`View details for project ${Se.projectCode}`,"aria-label":`View details for project ${Se.projectCode}`,children:Se.projectCode}),Le&&o.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[J.length," VO",J.length>1?"s":""]}),Se.projectType==="structure_container"&&Se.structureStats&&o.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:[Se.structureStats.totalStructures," structure",Se.structureStats.totalStructures!==1?"s":""]}),Se.projectType==="structure_child"&&o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Structure"})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:o.jsx("div",{className:"max-w-xs truncate",title:Se.title,children:Se.title})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Te?.name||Se.companyName||"Unknown"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Se.engineerName||Se.leadEngineer?.name||l.find(Je=>Je.userId===Se.leadEngineerId)?.name||l.find(Je=>Je.userId===Se.engineerId)?.name||"Unassigned"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Se.status==="pre-lim"?"bg-blue-100 text-blue-800":Se.status==="ongoing"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Se.status==="pre-lim"?"Preliminary":Se.status==="ongoing"?"Ongoing":"Completed"}),Se.projectType==="structure_container"&&Se.structureStats&&o.jsxs("span",{className:"text-xs text-gray-500",children:["Auto: ",Se.structureStats.ongoingCount+Se.structureStats.completedCount," of ",Se.structureStats.totalStructures]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:o.jsxs("div",{className:"flex flex-col items-end gap-1.5",children:[o.jsxs("div",{className:"font-medium",children:[Se.actualHours||0," hrs"]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["of ",Se.plannedHours," planned"]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 max-w-[100px] shadow-inner overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full transition-all duration-300 ease-in-out shadow-sm ${(Se.actualHours||0)>Se.plannedHours?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-green-500 to-green-600"}`,style:{width:`${Math.min(Math.max(Se.plannedHours>0?(Se.actualHours||0)/Se.plannedHours*100:0,2),100)}%`}})})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u&&Se.projectType==="structure_container"&&o.jsx("button",{onClick:()=>{ae(Se),ee(!0)},className:"p-2 text-gray-400 hover:text-amber-600 transition-colors",title:"Add Structure","aria-label":`Add structure to ${Se.projectCode}`,children:o.jsx(TZ,{className:"w-4 h-4"})}),u&&!Se.projectType&&o.jsx("button",{onClick:()=>{R(Se),L(!0)},className:"p-2 text-gray-400 hover:text-green-600 transition-colors",title:"Create Variation Order","aria-label":`Create VO for ${Se.projectCode}`,children:o.jsx(ei,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>z(Se.id),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"View Details","aria-label":`View details for project ${Se.projectCode}`,children:o.jsx(vi,{className:"w-4 h-4"})}),u&&o.jsx("button",{onClick:()=>V(Se.id),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"Edit Project","aria-label":`Edit project ${Se.projectCode}`,children:o.jsx(ZE,{className:"w-4 h-4"})}),u&&o.jsx("button",{onClick:()=>Be(Se.id,Se.projectCode),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Delete Project","aria-label":`Delete project ${Se.projectCode}`,children:o.jsx(Cs,{className:"w-4 h-4"})})]})})]}),!He&&J.map(Je=>{let at=s.find(ze=>ze.id===Je.companyId);return!at&&Je.companyId&&(at=n.find(ze=>ze.id===Je.companyId)),o.jsxs("tr",{className:"bg-blue-50 hover:bg-blue-100 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2 pl-8",children:[o.jsx("span",{className:"text-blue-400",children:""}),o.jsx("button",{onClick:()=>z(Je.id),className:"text-primary-600 hover:text-primary-700 hover:underline transition-colors cursor-pointer",title:`View details for VO ${Je.projectCode}`,"aria-label":`View details for VO ${Je.projectCode}`,children:Je.projectCode}),o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-200 text-blue-800",children:"VO"})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:o.jsx("div",{className:"max-w-xs truncate",title:Je.title,children:Je.title})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:at?.name||Je.companyName||"Unknown"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Je.engineerName||Je.leadEngineer?.name||l.find(ze=>ze.userId===Je.leadEngineerId)?.name||l.find(ze=>ze.userId===Je.engineerId)?.name||"Unassigned"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Je.status==="pre-lim"?"bg-blue-100 text-blue-800":Je.status==="ongoing"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Je.status==="pre-lim"?"Preliminary":Je.status==="ongoing"?"Ongoing":"Completed"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:o.jsxs("div",{className:"flex flex-col items-end gap-1.5",children:[o.jsxs("div",{className:"font-medium",children:[Je.actualHours||0," hrs"]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["of ",Je.plannedHours," planned"]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 max-w-[100px] shadow-inner overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full transition-all duration-300 ease-in-out shadow-sm ${(Je.actualHours||0)>Je.plannedHours?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-green-500 to-green-600"}`,style:{width:`${Math.min(Math.max(Je.plannedHours>0?(Je.actualHours||0)/Je.plannedHours*100:0,2),100)}%`}})})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>z(Je.id),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"View Details","aria-label":`View details for VO ${Je.projectCode}`,children:o.jsx(vi,{className:"w-4 h-4"})}),u&&o.jsx("button",{onClick:()=>V(Je.id),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"Edit VO","aria-label":`Edit VO ${Je.projectCode}`,children:o.jsx(ZE,{className:"w-4 h-4"})}),u&&o.jsx("button",{onClick:()=>Be(Je.id,Je.projectCode),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Delete VO","aria-label":`Delete VO ${Je.projectCode}`,children:o.jsx(Cs,{className:"w-4 h-4"})})]})})]},Je.id)})]},Se.id)})})]})})]}),o.jsx(Uve,{isOpen:N,onClose:()=>{C(!1),t()}}),o.jsx(zve,{isOpen:E,onClose:()=>{_(!1),k(null)},project:D,onSave:ce}),o.jsx(E_,{isOpen:P,onClose:()=>{O(!1),k(null)},project:D}),o.jsx(Qve,{isOpen:H,onClose:()=>{L(!1),R(null),t()},parentProject:Q}),o.jsx(Kve,{isOpen:K,onClose:()=>{ee(!1),ae(null)},container:X,onStructureCreated:()=>{t()}}),o.jsx(rf,{isOpen:pe.isOpen,onClose:()=>Z({isOpen:!1}),onConfirm:Ae,title:"Delete Project",message:`Are you sure you want to delete Project ${pe.projectCode}? This action cannot be undone.`,variant:"danger",confirmText:"Delete Project",cancelText:"Cancel"})]})})},qve={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-6xl",full:"max-w-[95vw] h-[90vh]"},Gve={gradient:"bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",white:"bg-white dark:bg-gray-800",dark:"bg-gray-900 text-white dark:bg-gray-950"},Ev=({isOpen:r,onClose:e,title:t,description:n,children:a,size:s="lg",icon:i,footer:l,showCloseButton:c=!0,isLoading:u=!1,preventBackdropClose:A=!1,hasUnsavedChanges:h=!1,className:p,headerVariant:m="gradient",loadingText:y="Processing..."})=>{const g=B.useRef(null),v=B.useRef(null),[b,N]=B.useState(!1),C=`modal-title-${ws.useId()}`,E=n?`modal-description-${ws.useId()}`:void 0,_=B.useCallback(()=>{u||(h?N(!0):e())},[u,h,e]),P=B.useCallback(H=>{H.key==="Escape"&&_()},[_]),O=B.useCallback(H=>{if(H.key!=="Tab"||!g.current)return;const L=g.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),Q=L[0],R=L[L.length-1];H.shiftKey?document.activeElement===Q&&(H.preventDefault(),R?.focus()):document.activeElement===R&&(H.preventDefault(),Q?.focus())},[]);B.useEffect(()=>(r&&(v.current=document.activeElement,document.addEventListener("keydown",P),document.addEventListener("keydown",O),document.body.style.overflow="hidden",setTimeout(()=>{const H=document.activeElement;if(!(g.current?.contains(H)&&(H?.tagName==="INPUT"||H?.tagName==="SELECT"||H?.tagName==="TEXTAREA"))){const Q=g.current?.querySelectorAll("input, select, textarea, button"),R=Array.from(Q||[]).find(K=>K.tagName==="INPUT"||K.tagName==="SELECT"||K.tagName==="TEXTAREA");R?R.focus():g.current?.focus()}},0)),()=>{document.removeEventListener("keydown",P),document.removeEventListener("keydown",O),document.body.style.overflow="",!r&&v.current&&v.current.focus()}),[r,P,O]);const D=H=>{H.target===H.currentTarget&&!A&&_()};if(B.useEffect(()=>{r||N(!1)},[r]),!r)return null;const k=m==="dark";return o.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:D,role:"presentation",children:o.jsxs("div",{ref:g,role:"dialog","aria-modal":"true","aria-labelledby":C,"aria-describedby":E,tabIndex:-1,className:Cr("bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-h-[90vh] overflow-hidden flex flex-col animate-scale-in","max-w-[95vw]",`md:${qve[s]}`,s==="full"&&"h-[90vh]",p),children:[b&&o.jsx("div",{className:"absolute inset-0 bg-black/50 z-20 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-sm w-full",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center",children:o.jsx(Jh,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Unsaved Changes"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"You have unsaved changes that will be lost."})]})]}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Keep Editing"}),o.jsx("button",{onClick:()=>{N(!1),e()},className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors",children:"Discard Changes"})]})]})}),o.jsxs("div",{className:Cr("flex items-center justify-between p-4 md:p-6 border-b border-gray-200 dark:border-gray-700",Gve[m]),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[i&&o.jsx("div",{className:Cr("w-10 h-10 rounded-lg flex items-center justify-center",k?"bg-white/10":"bg-primary-100 dark:bg-primary-900/30"),"aria-hidden":"true",children:i}),o.jsxs("div",{children:[o.jsx("h2",{id:C,className:Cr("text-lg md:text-xl font-bold",k?"text-white":"text-gray-900 dark:text-white"),children:t}),n&&o.jsx("p",{id:E,className:Cr("text-sm",k?"text-gray-300":"text-gray-600 dark:text-gray-400"),children:n})]})]}),c&&!u&&o.jsx("button",{onClick:_,className:Cr("p-2 md:p-3 rounded-lg transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center",k?"hover:bg-white/10 text-gray-300 hover:text-white":"hover:bg-primary-200 dark:hover:bg-gray-700"),"aria-label":"Close dialog",children:o.jsx(Fr,{className:Cr("w-5 h-5",k?"":"text-gray-600 dark:text-gray-400"),"aria-hidden":"true"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto relative",children:[a,u&&o.jsx("div",{className:"absolute inset-0 bg-white/75 dark:bg-gray-800/75 flex items-center justify-center z-10",children:o.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-primary-200 dark:border-primary-800 border-t-primary-600 dark:border-t-primary-400 rounded-full animate-spin"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y})]})})]}),l&&o.jsx("div",{className:"flex items-center justify-between p-4 md:p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:l})]})})},Wve=({isOpen:r,onClose:e})=>{const{createCompany:t}=Fu(),[n,a]=B.useState(!1),[s,i]=B.useState({name:"",company_type:[],industry:"",website:"",address:""}),l=["client","vendor","customer","supplier"],c=h=>{i(p=>({...p,company_type:p.company_type.includes(h)?p.company_type.filter(m=>m!==h):[...p.company_type,h]}))},u=async h=>{if(h.preventDefault(),!s.name.trim())return;a(!0);const p=await t(s);a(!1),p&&A()},A=()=>{i({name:"",company_type:[],industry:"",website:"",address:""}),e()};return o.jsx(Ev,{isOpen:r,onClose:A,title:"Add New Company",icon:o.jsx(Xh,{className:"w-5 h-5 text-primary-600"}),size:"md",children:o.jsxs("form",{onSubmit:u,className:"space-y-6 p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"company-name",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Company Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Zs,{id:"company-name",type:"text",value:s.name,onChange:h=>i({...s,name:h.target.value}),placeholder:"Enter company name",required:!0,disabled:n})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Company Type"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:l.map(h=>o.jsxs("label",{className:"flex items-center gap-2 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:s.company_type.includes(h),onChange:()=>c(h),disabled:n,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:h})]},h))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"industry",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Industry"}),o.jsx(Zs,{id:"industry",type:"text",value:s.industry,onChange:h=>i({...s,industry:h.target.value}),placeholder:"e.g., Manufacturing, Technology, Healthcare",disabled:n})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Website"}),o.jsx(Zs,{id:"website",type:"url",value:s.website,onChange:h=>i({...s,website:h.target.value}),placeholder:"https://www.example.com",disabled:n})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Address"}),o.jsx("textarea",{id:"address",value:s.address,onChange:h=>i({...s,address:h.target.value}),placeholder:"Enter company address",rows:3,disabled:n,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all disabled:bg-gray-50 disabled:cursor-not-allowed resize-none"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(Ut,{type:"button",variant:"outline",onClick:A,disabled:n,className:"flex-1",children:"Cancel"}),o.jsx(Ut,{type:"submit",variant:"primary",disabled:n,className:"flex-1",children:n?"Adding...":"Add Company"})]})]})})},Yve=({isOpen:r,onClose:e,companyId:t,companyName:n})=>{const{createContact:a}=Fu(),[s,i]=B.useState(!1),[l,c]=B.useState({name:"",email:"",phone:"",position:""}),u=async h=>{if(h.preventDefault(),!l.name.trim()||!l.email.trim())return;i(!0);const p=await a({company_id:t,...l});i(!1),p&&A()},A=()=>{c({name:"",email:"",phone:"",position:""}),e()};return o.jsx(Ev,{isOpen:r,onClose:A,title:`Add Contact - ${n}`,icon:o.jsx(Ny,{className:"w-5 h-5 text-primary-600"}),size:"md",children:o.jsxs("form",{onSubmit:u,className:"space-y-6 p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"contact-name",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Contact Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Zs,{id:"contact-name",type:"text",value:l.name,onChange:h=>c({...l,name:h.target.value}),placeholder:"Enter contact name",required:!0,disabled:s})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Zs,{id:"email",type:"email",value:l.email,onChange:h=>c({...l,email:h.target.value}),placeholder:"contact@example.com",required:!0,disabled:s})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Phone"}),o.jsx(Zs,{id:"phone",type:"tel",value:l.phone,onChange:h=>c({...l,phone:h.target.value}),placeholder:"+60 12-345 6789",disabled:s})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"position",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Position"}),o.jsx(Zs,{id:"position",type:"text",value:l.position,onChange:h=>c({...l,position:h.target.value}),placeholder:"e.g., CEO, Project Manager, Engineer",disabled:s})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(Ut,{type:"button",variant:"outline",onClick:A,disabled:s,className:"flex-1",children:"Cancel"}),o.jsx(Ut,{type:"submit",variant:"primary",disabled:s,className:"flex-1",children:s?"Adding...":"Add Contact"})]})]})})},Xve=()=>{const{companies:r,fetchCompanies:e,deleteCompany:t,deleteContact:n}=Fu(),[a,s]=B.useState(!1),[i,l]=B.useState(!1),[c,u]=B.useState(null),[A,h]=B.useState(null),[p,m]=B.useState("");B.useEffect(()=>{e()},[]);const y=B.useCallback(()=>{s(!1)},[]),g=B.useCallback(()=>{l(!1),u(null)},[]),v=_=>{u(_),l(!0)},b=async(_,P)=>{window.confirm(`Are you sure you want to delete "${P}"? This will also delete all associated contacts.`)&&await t(_)},N=async(_,P)=>{window.confirm(`Are you sure you want to delete "${P}"?`)&&await n(_)},C=_=>{h(A===_?null:_)},E=B.useMemo(()=>{const _=p.toLowerCase();return r.filter(P=>{const O=P.name.toLowerCase().includes(_),D=P.contacts.some(k=>k.name.toLowerCase().includes(_)||k.email.toLowerCase().includes(_));return O||D})},[r,p]);return o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Companies & Contacts"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your business contacts and company information"})]}),o.jsx(Ut,{variant:"primary",onClick:()=>s(!0),icon:o.jsx(ei,{className:"w-4 h-4"}),children:"Add Company"})]})}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:o.jsx("input",{type:"text",placeholder:"Search companies or contacts...",value:p,onChange:_=>m(_.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})}),E.length===0?o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-12 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:p?"No companies found":"No companies yet"}),o.jsx("p",{className:"text-gray-600 mb-6",children:p?"Try adjusting your search query":"Get started by adding your first company"}),!p&&o.jsx(Ut,{variant:"primary",onClick:()=>s(!0),icon:o.jsx(ei,{className:"w-4 h-4"}),children:"Add First Company"})]}):o.jsx("div",{className:"space-y-4",children:E.map(_=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[o.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>C(_.id),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:_.name}),o.jsxs("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs font-medium rounded-full",children:[_.contacts.length," ",_.contacts.length===1?"contact":"contacts"]})]}),o.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 ml-8",children:[_.industry&&o.jsxs("span",{className:"flex items-center gap-1.5",children:[o.jsx(Cu,{className:"w-4 h-4"}),_.industry]}),_.website&&o.jsx("a",{href:_.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",onClick:P=>P.stopPropagation(),children:_.website})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ut,{variant:"outline",size:"sm",onClick:P=>{P.stopPropagation(),v(_)},icon:o.jsx(Ny,{className:"w-4 h-4"}),children:"Add Contact"}),o.jsx(Ut,{variant:"ghost",size:"sm",onClick:P=>{P.stopPropagation(),b(_.id,_.name)},icon:o.jsx(Cs,{className:"w-4 h-4"}),className:"text-red-600 hover:text-red-700 hover:bg-red-50"})]})]})}),A===_.id&&o.jsx("div",{className:"border-t border-gray-100 bg-gray-50",children:_.contacts.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(Ny,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"No contacts yet for this company"}),o.jsx(Ut,{variant:"primary",size:"sm",onClick:()=>v(_),icon:o.jsx(ei,{className:"w-4 h-4"}),children:"Add First Contact"})]}):o.jsx("div",{className:"p-6 space-y-3",children:_.contacts.map(P=>o.jsx("div",{className:"bg-white rounded-xl p-4 hover:shadow-sm transition-shadow",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:P.name}),P.position&&o.jsxs("span",{className:"text-sm text-gray-600",children:[" ",P.position]})]}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gg,{className:"w-4 h-4"}),o.jsx("a",{href:`mailto:${P.email}`,className:"text-primary-600 hover:underline",children:P.email})]}),P.phone&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(uC,{className:"w-4 h-4"}),o.jsx("a",{href:`tel:${P.phone}`,className:"text-primary-600 hover:underline",children:P.phone})]})]})]}),o.jsx(Ut,{variant:"ghost",size:"sm",onClick:()=>N(P.id,P.name),icon:o.jsx(Cs,{className:"w-4 h-4"}),className:"text-red-600 hover:text-red-700 hover:bg-red-50"})]})},P.id))})})]},_.id))})]}),o.jsx(Wve,{isOpen:a,onClose:y}),c&&o.jsx(Yve,{isOpen:i,onClose:g,companyId:c.id,companyName:c.name})]})},Jve=30*1e3,nf=Ic((r,e)=>({researchProjects:[],researchTimesheets:[],loading:!1,lastFetched:null,fetchResearchProjects:async(t=!1)=>{const{lastFetched:n,loading:a}=e(),s=Date.now();if(!a&&!(!t&&n&&s-n<Jve)){r({loading:!0});try{const i=await wr.getAllResearchProjects();r({researchProjects:Array.isArray(i)?i:[],lastFetched:Date.now()})}catch(i){console.error("Error fetching research projects:",i)}finally{r({loading:!1})}}},fetchResearchTimesheets:async t=>{r({loading:!0});try{const n=await wr.getResearchTimesheets(t);r({researchTimesheets:Array.isArray(n)?n:[]})}catch(n){console.error("Error fetching research timesheets:",n)}finally{r({loading:!1})}},addResearchProject:async t=>{try{const n=await wr.createResearchProject(t);r(a=>({researchProjects:[n,...a.researchProjects],lastFetched:Date.now()}))}catch(n){throw console.error("Error creating research project:",n),n}},updateResearchProject:async(t,n)=>{try{const a=await wr.updateResearchProject(t,n);r(s=>({researchProjects:s.researchProjects.map(i=>i.id===t?{...i,...a}:i),lastFetched:Date.now()}))}catch(a){throw console.error("Error updating research project:",a),a}},deleteResearchProject:async t=>{try{await wr.deleteResearchProject(t),r(n=>({researchProjects:n.researchProjects.filter(a=>a.id!==t),lastFetched:Date.now()}))}catch(n){throw console.error("Error deleting research project:",n),n}},logTimesheetHours:async(t,n)=>{try{const a=await wr.logResearchTimesheet({...n,projectId:t});r(s=>({researchTimesheets:[a,...s.researchTimesheets]})),e().fetchResearchProjects(!0)}catch(a){throw console.error("Error logging timesheet hours:",a),a}},approveTimesheetEntry:async(t,n)=>{try{await wr.approveResearchTimesheet(t,n),r(a=>({researchTimesheets:a.researchTimesheets.map(s=>s.id===t?{...s,status:"approved",approvedBy:n}:s)}))}catch(a){throw console.error("Error approving timesheet entry:",a),a}},deleteTimesheetEntry:async t=>{try{await wr.deleteResearchTimesheet(t),r(n=>({researchTimesheets:n.researchTimesheets.filter(a=>a.id!==t)})),e().fetchResearchProjects(!0)}catch(n){throw console.error("Error deleting timesheet entry:",n),n}}})),Zve=({isOpen:r,onClose:e,onSubmit:t})=>{const{teamMembers:n}=fo(),[a,s]=B.useState({researchCode:"",title:"",description:"",status:"planning",startDate:new Date().toISOString().split("T")[0],endDate:"",leadResearcherId:"",leadResearcherName:"",budget:0,plannedHours:0}),[i,l]=B.useState({}),c=()=>{const p={};return a.title.trim()||(p.title="Project title is required"),a.description.trim()||(p.description="Description is required"),a.startDate||(p.startDate="Start date is required"),a.leadResearcherId||(p.leadResearcherId="Lead researcher is required"),l(p),Object.keys(p).length===0},u=p=>{p.preventDefault(),c()&&(t({researchCode:a.researchCode,title:a.title,description:a.description,status:a.status,startDate:a.startDate,plannedEndDate:a.endDate||void 0,leadResearcherId:a.leadResearcherId,leadResearcherName:a.leadResearcherName,budget:a.budget||void 0,plannedHours:a.plannedHours||void 0}),s({researchCode:"",title:"",description:"",status:"planning",startDate:new Date().toISOString().split("T")[0],endDate:"",leadResearcherId:"",leadResearcherName:"",budget:0,plannedHours:0}),l({}))},A=(p,m)=>{s(y=>({...y,[p]:m})),i[p]&&l(y=>{const g={...y};return delete g[p],g})},h=p=>{const m=n.find(g=>g.id===p),y=m?.userId||p;A("leadResearcherId",y),m&&A("leadResearcherName",m.name)};return r?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full max-h-screen overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(T0,{className:"w-5 h-5 text-cyan-600"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"New Research Project"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Fr,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Research Code"}),o.jsx("input",{type:"text",value:a.researchCode,onChange:p=>A("researchCode",p.target.value.toUpperCase()),placeholder:"e.g., R26001",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 font-mono"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: RYYXXX (R=Research, YY=Year, XXX=Number)"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:a.title,onChange:p=>A("title",p.target.value),placeholder:"Enter project title",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 ${i.title?"border-red-300 bg-red-50":"border-gray-300"}`}),i.title&&o.jsx("p",{className:"text-red-600 text-sm mt-1 font-medium",children:i.title})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{value:a.description,onChange:p=>A("description",p.target.value),placeholder:"Enter project description",rows:3,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none ${i.description?"border-red-300 bg-red-50":"border-gray-300"}`}),i.description&&o.jsx("p",{className:"text-red-600 text-sm mt-1 font-medium",children:i.description})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{value:a.status,onChange:p=>A("status",p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-white",children:[o.jsx("option",{value:"planning",children:"Planning"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"on-hold",children:"On Hold"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"archived",children:"Archived"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lead Researcher ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:a.leadResearcherId,onChange:p=>h(p.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-white ${i.leadResearcherId?"border-red-300 bg-red-50":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Select a team member"}),n.map(p=>o.jsx("option",{value:p.userId||p.id,children:p.name},p.id))]}),i.leadResearcherId&&o.jsx("p",{className:"text-red-600 text-sm mt-1 font-medium",children:i.leadResearcherId})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Start Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",value:a.startDate,onChange:p=>A("startDate",p.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 ${i.startDate?"border-red-300 bg-red-50":"border-gray-300"}`}),i.startDate&&o.jsx("p",{className:"text-red-600 text-sm mt-1 font-medium",children:i.startDate})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date (Optional)"}),o.jsx("input",{type:"date",value:a.endDate,onChange:p=>A("endDate",p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned Hours (Optional)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",value:a.plannedHours,onChange:p=>A("plannedHours",parseFloat(p.target.value)||0),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget (Optional)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:a.budget,onChange:p=>A("budget",parseFloat(p.target.value)||0),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx(Ut,{onClick:e,variant:"outline",className:"flex-1",children:"Cancel"}),o.jsx(Ut,{onClick:u,className:"flex-1",children:"Create Project"})]})]})]})}):null},e1e=({isOpen:r,onClose:e,onSubmit:t,project:n})=>{const{teamMembers:a}=fo(),[s,i]=B.useState({title:n.title,description:n.description||"",status:n.status,plannedEndDate:n.plannedEndDate||"",leadResearcherId:n.leadResearcherId,leadResearcherName:n.leadResearcherName||"",budget:n.budget||0,plannedHours:n.plannedHours||0,researchCode:n.researchCode||""}),[l,c]=B.useState({});B.useEffect(()=>{r&&(i({title:n.title,description:n.description||"",status:n.status,plannedEndDate:n.plannedEndDate||"",leadResearcherId:n.leadResearcherId,leadResearcherName:n.leadResearcherName||"",budget:n.budget||0,plannedHours:n.plannedHours||0,researchCode:n.researchCode||""}),c({}))},[r,n]);const u=()=>{const m={};return s.title.trim()||(m.title="Project title is required"),s.description.trim()||(m.description="Description is required"),s.leadResearcherId||(m.leadResearcherId="Lead researcher is required"),c(m),Object.keys(m).length===0},A=m=>{m.preventDefault(),u()&&(t(n.id,{title:s.title,description:s.description,status:s.status,plannedEndDate:s.plannedEndDate||void 0,leadResearcherId:s.leadResearcherId,leadResearcherName:s.leadResearcherName,budget:s.budget||void 0,plannedHours:s.plannedHours||void 0,researchCode:s.researchCode}),e())},h=(m,y)=>{i(g=>({...g,[m]:y})),l[m]&&c(g=>{const v={...g};return delete v[m],v})},p=m=>{const y=a.find(v=>v.id===m),g=y?.userId||m;h("leadResearcherId",g),y&&h("leadResearcherName",y.name)};return r?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full max-h-screen overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(T0,{className:"w-5 h-5 text-cyan-600"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Research Project"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Fr,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Research Code"}),o.jsx("input",{type:"text",value:s.researchCode,onChange:m=>h("researchCode",m.target.value.toUpperCase()),placeholder:"e.g., R25001",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Title"}),o.jsx("input",{type:"text",value:s.title,onChange:m=>h("title",m.target.value),placeholder:"Enter project title",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"}),l.title&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.title})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:s.description,onChange:m=>h("description",m.target.value),placeholder:"Enter project description",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none"}),l.description&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.description})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{value:s.status,onChange:m=>h("status",m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-white",children:[o.jsx("option",{value:"planning",children:"Planning"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"on-hold",children:"On Hold"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"archived",children:"Archived"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Researcher"}),o.jsxs("select",{value:s.leadResearcherId,onChange:m=>p(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 bg-white",children:[o.jsx("option",{value:"",children:"Select a team member"}),a.map(m=>o.jsx("option",{value:m.userId||m.id,children:m.name},m.id))]}),l.leadResearcherId&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.leadResearcherId})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned End Date (Optional)"}),o.jsx("input",{type:"date",value:s.plannedEndDate,onChange:m=>h("plannedEndDate",m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Planned Hours (Optional)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",value:s.plannedHours,onChange:m=>h("plannedHours",parseFloat(m.target.value)||0),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget (Optional)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:s.budget,onChange:m=>h("budget",parseFloat(m.target.value)||0),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx(Ut,{onClick:e,variant:"outline",className:"flex-1",children:"Cancel"}),o.jsx(Ut,{onClick:A,className:"flex-1",children:"Update Project"})]})]})]})}):null};function _o(){const r=localStorage.getItem("currentUser");if(!r||r.trim()==="undefined"||r.trim()==="null")return console.warn("Invalid user data in localStorage (null/undefined), using default"),{displayName:"User",email:"user@mycae.com.my",userId:"1",id:"1",name:"User",role:"engineer"};if(r)try{const n=JSON.parse(r);if(!n||typeof n!="object")return console.error("Invalid user object after parsing:",r),localStorage.removeItem("currentUser"),{displayName:"User",email:"user@mycae.com.my",userId:"1",id:"1",name:"User",role:"engineer"};const a=n.id||n.userId||"1",s=n.name||n.displayName||"User";return{displayName:s,email:n.email||"user@mycae.com.my",userId:a,id:a,name:s,role:n.role||n.roles&&n.roles[0]||"engineer",roles:n.roles||(n.role?[n.role]:["engineer"]),department:n.department||"engineering"}}catch(n){console.error("Error parsing user from localStorage:",n),localStorage.removeItem("currentUser")}const e=localStorage.getItem("user_id")||"1",t=localStorage.getItem("user_name")||"User";return{displayName:t,email:localStorage.getItem("user_email")||"user@mycae.com.my",userId:e,id:e,name:t,role:localStorage.getItem("user_role")||"engineer"}}const t1e=()=>{const{researchProjects:r,loading:e,fetchResearchProjects:t,deleteResearchProject:n,updateResearchProject:a}=nf(),{fetchTeamMembers:s}=fo(),i=_o(),l=i&&ol(i.role||"engineer","canAddProject"),[c,u]=B.useState(""),[A,h]=B.useState("all"),[p,m]=B.useState("researchCode"),[y,g]=B.useState("asc"),[v,b]=B.useState(!1),[N,C]=B.useState(!1),[E,_]=B.useState(!1),[P,O]=B.useState(null),[D,k]=B.useState({isOpen:!1});B.useEffect(()=>{t(),s()},[s]);const H=()=>{if(!l){xe.error(bd("add research project","senior-engineer"));return}b(!0)},L=pe=>{O(pe),C(!0)},Q=pe=>{O(pe),_(!0)},R=async(pe,Z)=>{if(!l){xe.error(bd("delete research project","senior-engineer"));return}k({isOpen:!0,projectId:pe,title:Z})},K=B.useCallback(pe=>{p===pe?g(Z=>Z==="asc"?"desc":"asc"):(m(pe),g("asc"))},[p]),ee=pe=>p!==pe?o.jsx(Vp,{className:"w-4 h-4 ml-1 inline-block"}):y==="asc"?o.jsx(_0,{className:"w-4 h-4 ml-1 inline-block"}):o.jsx(Kl,{className:"w-4 h-4 ml-1 inline-block"}),X=async()=>{if(D.projectId)try{await n(D.projectId),xe.success("Research project deleted successfully"),t(),k({isOpen:!1})}catch(pe){Rt.error("Failed to delete research project:",pe),xe.error("Failed to delete research project")}},ae=B.useMemo(()=>r.filter(pe=>{const Z=c===""||pe.title.toLowerCase().includes(c.toLowerCase())||pe.description?.toLowerCase().includes(c.toLowerCase()),I=A==="all"||pe.status===A;return Z&&I}).sort((pe,Z)=>{const I=q=>{switch(p){case"researchCode":return(q.researchCode||"").toLowerCase();case"title":return q.title.toLowerCase();case"leadResearcher":return(q.leadResearcherName||"").toLowerCase();case"status":return{planning:0,"in-progress":1,"on-hold":2,completed:3,archived:4}[q.status]??5;case"hours":return q.totalHoursLogged||0;case"startDate":return new Date(q.startDate).getTime();default:return(q.researchCode||"").toLowerCase()}},z=I(pe),V=I(Z);if(typeof z=="string"&&typeof V=="string")return y==="asc"?z.localeCompare(V):V.localeCompare(z);{const q=typeof z=="number"?z:0,ne=typeof V=="number"?V:0;return y==="asc"?q-ne:ne-q}}),[r,c,A,p,y]),Y=pe=>{switch(pe){case"planning":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-green-100 text-green-800";case"on-hold":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-gray-100 text-gray-800";case"archived":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},de=pe=>{switch(pe){case"planning":return"Planning";case"in-progress":return"In Progress";case"on-hold":return"On Hold";case"completed":return"Completed";case"archived":return"Archived";default:return pe}};return o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Research Projects"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and track research initiatives and timesheet hours"})]}),l&&o.jsxs("button",{onClick:H,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(ei,{className:"w-4 h-4"}),"New Project"]})]})}),o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(Do,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:c,onChange:pe=>u(pe.target.value),placeholder:"Search research projects...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),o.jsx("div",{children:o.jsxs("div",{className:"relative",children:[o.jsx(pg,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:A,onChange:pe=>h(pe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"planning",children:"Planning"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"on-hold",children:"On Hold"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"archived",children:"Archived"})]})]})})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsxs("button",{onClick:()=>h("all"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${A==="all"?"ring-2 ring-primary-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Total Projects"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.length})]}),o.jsxs("button",{onClick:()=>h("planning"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${A==="planning"?"ring-2 ring-blue-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Planning"}),o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:r.filter(pe=>pe.status==="planning").length})]}),o.jsxs("button",{onClick:()=>h("in-progress"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${A==="in-progress"?"ring-2 ring-green-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"In Progress"}),o.jsx("div",{className:"text-3xl font-bold text-green-600",children:r.filter(pe=>pe.status==="in-progress").length})]}),o.jsxs("button",{onClick:()=>h("completed"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${A==="completed"?"ring-2 ring-gray-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Completed"}),o.jsx("div",{className:"text-3xl font-bold text-gray-600",children:r.filter(pe=>pe.status==="completed").length})]}),o.jsxs("button",{onClick:()=>h("on-hold"),className:`bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-left transition-all hover:shadow-md hover:scale-105 ${A==="on-hold"?"ring-2 ring-yellow-500 ring-offset-2":""}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"On Hold"}),o.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:r.filter(pe=>pe.status==="on-hold").length})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-gray-200 border-t-primary-600 rounded-full animate-spin"})}),o.jsx("p",{className:"text-gray-600 mt-4",children:"Loading research projects..."})]}):ae.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-500 text-lg",children:"No research projects found"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Create a new project to get started"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>K("researchCode"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Code ",ee("researchCode")]}),o.jsxs("th",{onClick:()=>K("title"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Title ",ee("title")]}),o.jsxs("th",{onClick:()=>K("leadResearcher"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Lead Researcher ",ee("leadResearcher")]}),o.jsxs("th",{onClick:()=>K("status"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Status ",ee("status")]}),o.jsxs("th",{onClick:()=>K("hours"),className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Hours ",ee("hours")]}),o.jsxs("th",{onClick:()=>K("startDate"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",children:["Start Date ",ee("startDate")]}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ae.map(pe=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-primary-600",children:pe.researchCode||"N/A"}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:o.jsx("div",{className:"max-w-xs truncate",title:pe.title,children:pe.title})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:pe.leadResearcherName||"TBD"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Y(pe.status)}`,children:de(pe.status)})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-right",children:[pe.totalHoursLogged?.toFixed(1)||"0.0"," hrs"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(pe.startDate).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>L(pe),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"View details",children:o.jsx(vi,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Q(pe),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"Edit project",children:o.jsx(ZE,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>R(pe.id,pe.title),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Delete project",children:o.jsx(Cs,{className:"w-4 h-4"})})]})})]},pe.id))})]})})})]}),v&&o.jsx(Zve,{isOpen:v,onClose:()=>b(!1),onSubmit:async pe=>{try{await nf.getState().addResearchProject(pe),xe.success("Research project created successfully"),b(!1),t()}catch{xe.error("Failed to create research project")}}}),N&&P&&o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:()=>{C(!1),O(null)}}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:P.title}),o.jsx("p",{className:"text-gray-600 mb-4",children:P.description}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Status"}),o.jsx("p",{className:"text-lg",children:de(P.status)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Hours"}),o.jsxs("p",{className:"text-lg",children:[P.totalHoursLogged?.toFixed(1)||"0.0"," hrs"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Start Date"}),o.jsx("p",{className:"text-lg",children:new Date(P.startDate).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Lead Researcher"}),o.jsx("p",{className:"text-lg",children:P.leadResearcherName||"TBD"})]})]}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsx("button",{onClick:()=>{C(!1),O(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})]})})]}),E&&P&&o.jsx(e1e,{isOpen:E,onClose:()=>{_(!1),O(null)},project:P,onSubmit:async(pe,Z)=>{try{await a(pe,Z),xe.success("Research project updated successfully!"),_(!1),O(null),t()}catch(I){xe.error("Failed to update research project"),Rt.error("Update error:",I)}}}),o.jsx(rf,{isOpen:D.isOpen,onClose:()=>k({isOpen:!1}),onConfirm:X,title:"Delete Research Project",message:`Are you sure you want to delete "${D.title}"? This action cannot be undone.`,variant:"danger",confirmText:"Delete",cancelText:"Cancel"})]})},r1e=({isOpen:r,onClose:e,onSuccess:t})=>{const[n,a]=B.useState({name:"",email:"",phone:"",role:"engineer",department:"engineering"}),[s,i]=B.useState(!1),[l,c]=B.useState(null),[u,A]=B.useState(!1),h=async m=>{if(m.preventDefault(),!n.name||!n.email){xe.error("Please fill in all required fields");return}i(!0);try{const y={name:n.name,email:n.email,phone:n.phone,role:n.role,department:n.department,employment_type:"full-time",status:"active"},g=await wr.createTeamMember(y);g&&(g.tempPassword?c({tempPassword:g.tempPassword,name:n.name,email:n.email,message:g.message,emailStatus:g.emailStatus,emailError:g.emailError}):(xe.success(`Team member ${n.name} added successfully!`),a({name:"",email:"",phone:"",role:"engineer",department:"engineering"}),t&&t(),e()))}catch(y){const g=y?.response?.data?.error||(Array.isArray(y?.response?.data?.errors)?y.response.data.errors[0]?.msg:"")||y?.message||"Failed to add team member";Rt.error("Error adding team member:",g),xe.error(g)}finally{i(!1)}};if(!r)return null;const p=()=>{c(null),a({name:"",email:"",phone:"",role:"engineer",department:"engineering"}),t&&t(),e()};return l?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-green-50 to-green-100",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:" Team Member Created"}),o.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:`border rounded-lg p-4 ${l.emailStatus==="sent"?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[o.jsx("p",{className:`text-sm ${l.emailStatus==="sent"?"text-green-800":"text-yellow-800"}`,children:l.message}),l.emailStatus==="failed"&&l.emailError&&o.jsxs("p",{className:"text-xs text-yellow-700 mt-2",children:["Error: ",l.emailError]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Team Member Name"}),o.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Email Address"}),o.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.email})]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:" Email Sent:"})," Login credentials have been sent to ",l.email,". The user must change their password on first login."]})}),o.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:o.jsx("button",{onClick:p,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Done"})})]})]})})]}):o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Team Member"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:h,className:"p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx($l,{className:"w-4 h-4 inline mr-1"}),"Full Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:n.name,onChange:m=>a({...n,name:m.target.value}),placeholder:"e.g., John Doe",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(gg,{className:"w-4 h-4 inline mr-1"}),"Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"email",value:n.email,onChange:m=>a({...n,email:m.target.value}),placeholder:"john@mycae.com.my",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(uC,{className:"w-4 h-4 inline mr-1"}),"Phone"]}),o.jsx("input",{type:"tel",value:n.phone,onChange:m=>a({...n,phone:m.target.value}),placeholder:"+60 12-345 6789",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),o.jsxs("select",{value:n.role,onChange:m=>a({...n,role:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"engineer",children:"Engineer"}),o.jsx("option",{value:"senior-engineer",children:"Senior Engineer"}),o.jsx("option",{value:"principal-engineer",children:"Principal Engineer"}),o.jsx("option",{value:"manager",children:"Manager"}),o.jsx("option",{value:"managing-director",children:"Managing Director"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Cu,{className:"w-4 h-4 inline mr-1"}),"Department"]}),o.jsxs("select",{value:n.department,onChange:m=>a({...n,department:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"engineering",children:"Engineering"}),o.jsx("option",{value:"project-management",children:"Project Management"})]})]})]})]}),o.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:" Active:"})," This team member will be created with a user account and saved to the database."]})}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",disabled:s,children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Adding...":"Add Team Member"})]})]})]})})]})},BK=r=>Array.from({length:10},(e,t)=>{const n=String(t+1).padStart(2,"0");return{id:`${r}-${n}`,gender:r,path:`/assets/avatars/${r}/${r}-${n}.svg`,alt:`${r.charAt(0).toUpperCase()+r.slice(1)} Avatar ${t+1}`}}),EK=BK("male"),n1e=BK("female"),jK=[...EK,...n1e],_K=r=>jK.find(t=>t.id===r)?.path||EK[0].path,a1e=({selectedAvatar:r,onSelect:e,size:t="md"})=>{const n={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-20 h-20"};return o.jsxs("div",{className:"avatar-picker",children:[o.jsx("div",{className:"overflow-x-auto pb-2",children:o.jsx("div",{className:"flex gap-3 min-w-max",children:jK.map(a=>o.jsx("button",{type:"button",onClick:()=>e(a.id),className:Cr("rounded-full border-4 transition-all hover:scale-110 flex-shrink-0",r===a.id?"border-blue-500 ring-2 ring-blue-300":"border-gray-200 hover:border-gray-400"),children:o.jsx("img",{src:_K(a.id),alt:a.alt,className:Cr("rounded-full",n[t])})},a.id))})}),o.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Scroll right to see more avatars "})]})},s1e=({isOpen:r,onClose:e,onSuccess:t,teamMemberId:n,initialData:a})=>{const{user:s}=hf(),{updateTeamMember:i}=fo(),[l,c]=B.useState({name:a?.name||"",email:a?.email||"",phone:a?.phone||"",roles:a?.roles||[a?.role||"engineer"],department:a?.department||"engineering",avatar:a?.avatar||"male-01"}),[u,A]=B.useState(!1),[h,p]=B.useState(!0),[m,y]=B.useState("");B.useEffect(()=>{if(a&&r){const v={name:a.name||"",email:a.email||"",phone:a.phone||"",roles:a.roles||[a.role||"engineer"],department:a.department||"engineering",avatar:a.avatar||"male-01"};if(c(v),a.user_id===s?.id||a.email===s?.email)p(!0),y("");else{const N=s?.roles||[s?.role||"engineer"];ol(N,"canEditTeamMember")?(p(!0),y("")):(p(!1),y("Only Principal Engineers, Managers, Managing Directors, and Admins can edit team members"))}}},[a,s,r]);const g=async v=>{if(v.preventDefault(),!h){xe.error(m);return}if(!l.name||!l.email||!n){xe.error("Please fill in all required fields");return}A(!0);try{if(Rt.debug("EDIT TEAM MEMBER START"),Rt.debug("Team Member ID:",n),!n){xe.error("Team member ID is missing"),A(!1);return}const b=a?.user_id===s?.id||a?.email===s?.email,N={name:l.name,email:l.email,phone:l.phone,department:l.department,avatar:l.avatar};b||(N.roles=l.roles),Rt.debug("Form Data being sent:",N),Rt.debug("Is editing self:",b),await i(n,N),Rt.debug("Team member updated successfully"),xe.success("Team member updated successfully!"),e(),t&&(Rt.debug("Calling onSuccess callback"),t()),Rt.debug("EDIT TEAM MEMBER END")}catch(b){Rt.error("Error in edit team member:",b),Rt.error("Error response:",b?.response),Rt.error("Error response data:",b?.response?.data);const N=b?.response?.data?.error||(Array.isArray(b?.response?.data?.errors)?b.response.data.errors[0]?.msg:"")||b?.message||"Failed to update team member";Rt.error("Error updating team member:",N),xe.error(N)}finally{A(!1)}};return r?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Team Member"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),!h&&o.jsxs("div",{className:"m-6 p-4 bg-red-50 border border-red-200 rounded-lg flex gap-3",children:[o.jsx(ls,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-red-800",children:m}),o.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Contact a Principal Engineer, Manager, Managing Director, or Admin to make changes"})]})]}),o.jsxs("form",{onSubmit:g,className:"p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx($l,{className:"w-4 h-4 inline mr-1"}),"Full Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:l.name,onChange:v=>c({...l,name:v.target.value}),placeholder:"e.g., John Doe",disabled:!h||u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Avatar"}),o.jsx(a1e,{selectedAvatar:l.avatar,onSelect:v=>c({...l,avatar:v})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(gg,{className:"w-4 h-4 inline mr-1"}),"Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"email",value:l.email,onChange:v=>c({...l,email:v.target.value}),placeholder:"john@mycae.com.my",disabled:!h||u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(uC,{className:"w-4 h-4 inline mr-1"}),"Phone"]}),o.jsx("input",{type:"tel",value:l.phone,onChange:v=>c({...l,phone:v.target.value}),placeholder:"+60 12-345 6789",disabled:!h||u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Roles ",o.jsx("span",{className:"text-gray-500 text-xs",children:"(Select one or more)"})]}),o.jsx("div",{className:"space-y-2",children:[{value:"engineer",label:"Engineer"},{value:"senior-engineer",label:"Senior Engineer"},{value:"principal-engineer",label:"Principal Engineer"},{value:"manager",label:"Manager"},{value:"managing-director",label:"Managing Director"},{value:"admin",label:"Admin"}].map(v=>o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:l.roles.includes(v.value),onChange:b=>{const N=v.value;b.target.checked?c({...l,roles:[...l.roles,N]}):l.roles.length>1&&c({...l,roles:l.roles.filter(C=>C!==N)})},disabled:!h||u||l.roles.length===1&&l.roles.includes(v.value),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsx("span",{className:`text-sm ${!h||u?"text-gray-400":"text-gray-700"}`,children:v.label})]},v.value))}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"At least one role must be selected"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Cu,{className:"w-4 h-4 inline mr-1"}),"Department"]}),o.jsxs("select",{value:l.department,onChange:v=>c({...l,department:v.target.value}),disabled:!h||u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[o.jsx("option",{value:"engineering",children:"Engineering"}),o.jsx("option",{value:"project-management",children:"Project Management"})]})]})]})]}),h&&o.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:" Info:"})," Changes will be saved to the team member's profile."]})}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",disabled:u,children:"Cancel"}),o.jsx("button",{type:"submit",disabled:!h||u,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving...":"Save Changes"})]})]})]})})]}):null},i1e=r=>({engineer:"Engineer","senior-engineer":"Senior Engineer","principal-engineer":"Principal Engineer",manager:"Manager","managing-director":"Managing Director",admin:"Admin"})[r]||r,o1e=()=>{const{teamMembers:r,fetchTeamMembers:e,deleteTeamMember:t,reactivateTeamMember:n}=fo(),[a,s]=B.useState(""),[i,l]=B.useState("all"),[c,u]=B.useState("active"),[A,h]=B.useState(!1),[p,m]=B.useState(!1),[y,g]=B.useState(null),[v,b]=B.useState({isOpen:!1}),N=_o(),C=N?.role||"engineer",E=N?.roles||[C],_=AC(E);B.useEffect(()=>{e({status:c==="all"?void 0:c})},[e,c]);const P=()=>{if(!_.canAddTeamMember){xe.error("You need Principal Engineer level or higher to add team members");return}h(!0)},O=R=>{if(!_.canEditTeamMember){xe.error("You do not have permission to edit team members");return}if(C==="senior-engineer"&&N?.department&&R?.department&&N.department!==R.department){xe.error("Senior Engineers can only edit team members in their own department");return}g(R),m(!0)},D=async R=>{if(!_.canDeleteTeamMember){xe.error("You do not have permission to delete team members");return}if(C==="senior-engineer"&&N?.department&&R?.department&&N.department!==R.department){xe.error("Senior Engineers can only delete team members in their own department");return}b({isOpen:!0,action:"deactivate",memberName:R?.name,memberId:R.id})},k=async()=>{if(!(!v.memberId||!v.action))try{v.action==="deactivate"?(await t(v.memberId),xe.success(`${v.memberName||"Team member"} has been deactivated successfully`)):v.action==="reactivate"&&(await n(v.memberId),xe.success(`${v.memberName||"Team member"} has been reactivated successfully`)),e({status:c==="all"?void 0:c}),b({isOpen:!1})}catch{xe.error(`Failed to ${v.action} team member`)}},H=async R=>{if(!_.canDeleteTeamMember){xe.error("You do not have permission to reactivate team members");return}b({isOpen:!0,action:"reactivate",memberName:R?.name,memberId:R.id})},L=r.filter(R=>{const K=a===""||R.name&&R.name.toLowerCase().includes(a.toLowerCase())||R.department&&R.department.toLowerCase().includes(a.toLowerCase()),ee=i==="all"||R.role===i;return K&&ee}),Q=R=>{switch(R){case"engineer":return"bg-blue-100 text-blue-800";case"senior-engineer":return"bg-indigo-100 text-indigo-800";case"principal-engineer":return"bg-purple-100 text-purple-800";case"manager":return"bg-green-100 text-green-800";case"managing-director":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx(J7,{title:"Team",description:"Manage your team members and track their workload",action:_.canAddTeamMember?o.jsxs("button",{onClick:P,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(ei,{className:"w-4 h-4"}),"Add Team Member"]}):void 0}),o.jsx(Vr,{variant:"stat",padding:"sm",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Do,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:a,onChange:R=>s(R.target.value),placeholder:"Search by name or department...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsx("div",{children:o.jsxs("select",{value:i,onChange:R=>l(R.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"All Roles"}),o.jsx("option",{value:"engineer",children:"Engineers"}),o.jsx("option",{value:"senior-engineer",children:"Senior Engineers"}),o.jsx("option",{value:"principal-engineer",children:"Principal Engineers"}),o.jsx("option",{value:"manager",children:"Managers"}),o.jsx("option",{value:"managing-director",children:"Managing Directors"})]})}),o.jsx("div",{children:o.jsxs("select",{value:c,onChange:R=>u(R.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"active",children:"Active Members"}),o.jsx("option",{value:"inactive",children:"Inactive Members"}),o.jsx("option",{value:"all",children:"All Members"})]})})]})}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[o.jsx(pd,{title:"Total",value:r.length,color:"gray"}),o.jsx(pd,{title:"Engineers",value:r.filter(R=>R.role==="engineer").length,color:"blue"}),o.jsx(pd,{title:"Senior Eng",value:r.filter(R=>R.role==="senior-engineer").length,color:"indigo"}),o.jsx(pd,{title:"Principal Eng",value:r.filter(R=>R.role==="principal-engineer").length,color:"purple"}),o.jsx(pd,{title:"Managers",value:r.filter(R=>R.role==="manager").length,color:"green"}),o.jsx(pd,{title:"Man. Directors",value:r.filter(R=>R.role==="managing-director").length,color:"red"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.map(R=>o.jsxs(Vr,{variant:"stat",className:"hover:shadow-lg transition-shadow",children:[o.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:_K(R.avatar||"male-01"),alt:R.name,className:`w-16 h-16 rounded-full ${R.status==="inactive"?"opacity-50 grayscale":""}`}),R.status==="inactive"&&o.jsx("div",{className:"absolute -bottom-1 -right-1 bg-gray-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Inactive"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:R.name}),o.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(R.roles||[R.role]).map(K=>o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Q(K)}`,children:i1e(K)},K))})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[o.jsx(Cu,{className:"w-4 h-4"}),o.jsx("span",{children:R.department})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(gg,{className:"w-4 h-4"}),o.jsx("a",{href:`mailto:${R.email}`,className:"hover:text-primary-600 transition-colors truncate",children:R.email})]}),R.phone&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(uC,{className:"w-4 h-4"}),o.jsx("a",{href:`tel:${R.phone}`,className:"hover:text-primary-600 transition-colors",children:R.phone})]})]}),R.certifications&&R.certifications.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[o.jsx(lZ,{className:"w-4 h-4"}),o.jsx("span",{className:"font-medium",children:"Certifications"})]}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[R.certifications.slice(0,2).map((K,ee)=>o.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",title:K,children:K.length>25?K.substring(0,25)+"...":K},ee)),R.certifications.length>2&&o.jsxs("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:["+",R.certifications.length-2," more"]})]})]}),o.jsx("div",{className:"mt-4 flex gap-2",children:R.status==="active"?o.jsxs(o.Fragment,{children:[_.canEditTeamMember&&o.jsxs("button",{onClick:()=>O(R),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm font-medium",children:[o.jsx(Oo,{className:"w-4 h-4"}),"Edit"]}),_.canDeleteTeamMember&&o.jsxs("button",{onClick:()=>D(R),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm font-medium",children:[o.jsx(Cs,{className:"w-4 h-4"}),"Deactivate"]})]}):o.jsx(o.Fragment,{children:_.canDeleteTeamMember&&o.jsxs("button",{onClick:()=>H(R),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm font-medium",children:[o.jsx(dC,{className:"w-4 h-4"}),"Reactivate"]})})})]},R.id))}),o.jsx(r1e,{isOpen:A,onClose:()=>h(!1),onSuccess:()=>{e(),h(!1)}}),y&&o.jsx(s1e,{isOpen:p,onClose:()=>{m(!1),g(null)},teamMemberId:y.id,initialData:{id:y.id,name:y.name,email:y.email,phone:y.phone,role:y.role,department:y.department},onSuccess:()=>{e(),m(!1),g(null)}}),o.jsx(rf,{isOpen:v.isOpen,onClose:()=>b({isOpen:!1}),onConfirm:k,title:v.action==="deactivate"?"Deactivate Team Member":"Reactivate Team Member",message:v.action==="deactivate"?`Are you sure you want to deactivate ${v.memberName||"this team member"}? This will mark them as inactive.`:`Are you sure you want to reactivate ${v.memberName||"this team member"}?`,variant:v.action==="deactivate"?"warning":"info",confirmText:v.action==="deactivate"?"Deactivate":"Reactivate",cancelText:"Cancel"})]})})};var N2={};N2.version="0.18.5";var TK=1252,l1e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],kK=function(r){l1e.indexOf(r)!=-1&&(TK=r)};function c1e(){kK(1252)}var Ly=function(r){kK(r)};function u1e(){Ly(1200),c1e()}var db=function(e){return String.fromCharCode(e)},ML=function(e){return String.fromCharCode(e)},S2,Qh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function My(r){for(var e="",t=0,n=0,a=0,s=0,i=0,l=0,c=0,u=0;u<r.length;)t=r.charCodeAt(u++),s=t>>2,n=r.charCodeAt(u++),i=(t&3)<<4|n>>4,a=r.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),e+=Qh.charAt(s)+Qh.charAt(i)+Qh.charAt(l)+Qh.charAt(c);return e}function kA(r){var e="",t=0,n=0,a=0,s=0,i=0,l=0,c=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<r.length;)s=Qh.indexOf(r.charAt(u++)),i=Qh.indexOf(r.charAt(u++)),t=s<<2|i>>4,e+=String.fromCharCode(t),l=Qh.indexOf(r.charAt(u++)),n=(i&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(n)),c=Qh.indexOf(r.charAt(u++)),a=(l&3)<<6|c,c!==64&&(e+=String.fromCharCode(a));return e}var En=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),KA=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function M0(r){return En?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function RL(r){return En?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var bu=function(e){return En?KA(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function JC(r){if(typeof ArrayBuffer>"u")return bu(r);for(var e=new ArrayBuffer(r.length),t=new Uint8Array(e),n=0;n!=r.length;++n)t[n]=r.charCodeAt(n)&255;return e}function jv(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function d1e(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}var Hi=En?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:KA(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),a=0;for(e=0,t=0;e<r.length;t+=a,++e)if(a=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function A1e(r){for(var e=[],t=0,n=r.length+250,a=M0(r.length+255),s=0;s<r.length;++s){var i=r.charCodeAt(s);if(i<128)a[t++]=i;else if(i<2048)a[t++]=192|i>>6&31,a[t++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var l=r.charCodeAt(++s)&1023;a[t++]=240|i>>8&7,a[t++]=128|i>>2&63,a[t++]=128|l>>6&15|(i&3)<<4,a[t++]=128|l&63}else a[t++]=224|i>>12&15,a[t++]=128|i>>6&63,a[t++]=128|i&63;t>n&&(e.push(a.slice(0,t)),t=0,a=M0(65535),n=65530)}return e.push(a.slice(0,t)),Hi(e)}var ly=/\u0000/g,Ab=/[\u0001-\u0006]/g;function kp(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function wu(r,e){var t=""+r;return t.length>=e?t:is("0",e-t.length)+t}function B3(r,e){var t=""+r;return t.length>=e?t:is(" ",e-t.length)+t}function B2(r,e){var t=""+r;return t.length>=e?t:t+is(" ",e-t.length)}function h1e(r,e){var t=""+Math.round(r);return t.length>=e?t:is("0",e-t.length)+t}function f1e(r,e){var t=""+r;return t.length>=e?t:is("0",e-t.length)+t}var UL=Math.pow(2,32);function Jm(r,e){if(r>UL||r<-UL)return h1e(r,e);var t=Math.round(r);return f1e(t,e)}function E2(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var QL=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],MB=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function m1e(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var cs={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},HL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},p1e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function j2(r,e,t){for(var n=r<0?-1:1,a=r*n,s=0,i=1,l=0,c=1,u=0,A=0,h=Math.floor(a);u<e&&(h=Math.floor(a),l=h*i+s,A=h*u+c,!(a-h<5e-8));)a=1/(a-h),s=i,i=l,c=u,u=A;if(A>e&&(u>e?(A=c,l=s):(A=u,l=i)),!t)return[0,n*l,A];var p=Math.floor(n*l/A);return[p,n*l-p*A,A]}function hb(r,e,t){if(r>2958465||r<0)return null;var n=r|0,a=Math.floor(86400*(r-n)),s=0,i=[],l={D:n,T:a,u:86400*(r-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)i=t?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=t?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),t&&(s=C1e(c,i))}return l.y=i[0],l.m=i[1],l.d=i[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var FK=new Date(1899,11,31,0,0,0),g1e=FK.getTime(),x1e=new Date(1900,2,1,0,0,0);function OK(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=x1e&&(t+=1440*60*1e3),(t-(g1e+(r.getTimezoneOffset()-FK.getTimezoneOffset())*6e4))/(1440*60*1e3)}function E3(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function y1e(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function v1e(r){var e=r<0?12:11,t=E3(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function b1e(r){var e=E3(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function w1e(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=v1e(r):e===10?t=r.toFixed(10).substr(0,12):t=b1e(r),E3(y1e(t.toUpperCase()))}function c4(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):w1e(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return af(14,OK(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function C1e(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function N1e(r,e,t,n){var a="",s=0,i=0,l=t.y,c,u=0;switch(r){case 98:l=t.y+543;case 121:switch(e.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:c=t.m,u=e.length;break;case 3:return MB[t.m-1][1];case 5:return MB[t.m-1][0];default:return MB[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=t.d,u=e.length;break;case 3:return QL[t.q][0];default:return QL[t.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(t.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=t.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=t.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?wu(t.S,e.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(t.S+t.u)),s>=60*i&&(s=0),e==="s"?s===0?"0":""+s/i:(a=wu(s,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=t.D*24+t.H;break;case"[m]":case"[mm]":c=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":c=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:c=l,u=1;break}var A=u>0?wu(c,u):"";return A}function Hh(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var DK=/%/g;function S1e(r,e,t){var n=e.replace(DK,""),a=e.length-n.length;return bA(r,n,t*Math.pow(10,2*a))+is("%",a)}function B1e(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return bA(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function PK(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+PK(r,-e);var a=r.indexOf(".");a===-1&&(a=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),t=(e/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),t.indexOf("e")===-1){var i=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(i-t.length+s):t+="E+"+(i-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,a)+"."+t.substr(2+a),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,A){return c+u+A.substr(0,(a+s)%a)+"."+A.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var IK=/# (\?+)( ?)\/( ?)(\d+)/;function E1e(r,e,t){var n=parseInt(r[4],10),a=Math.round(e*n),s=Math.floor(a/n),i=a-s*n,l=n;return t+(s===0?"":""+s)+" "+(i===0?is(" ",r[1].length+1+r[4].length):B3(i,r[1].length)+r[2]+"/"+r[3]+wu(l,r[4].length))}function j1e(r,e,t){return t+(e===0?"":""+e)+is(" ",r[1].length+2+r[4].length)}var LK=/^#*0*\.([0#]+)/,MK=/\).*[0#]/,RK=/\(###\) ###\\?-####/;function No(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function zL(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function KL(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function _1e(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function T1e(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function Cc(r,e,t){if(r.charCodeAt(0)===40&&!e.match(MK)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Cc("n",n,t):"("+Cc("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return B1e(r,e,t);if(e.indexOf("%")!==-1)return S1e(r,e,t);if(e.indexOf("E")!==-1)return PK(e,t);if(e.charCodeAt(0)===36)return"$"+Cc(r,e.substr(e.charAt(1)==" "?2:1),t);var a,s,i,l,c=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+Jm(c,e.length);if(e.match(/^[#?]+$/))return a=Jm(t,0),a==="0"&&(a=""),a.length>e.length?a:No(e.substr(0,e.length-a.length))+a;if(s=e.match(IK))return E1e(s,c,u);if(e.match(/^#+0+$/))return u+Jm(c,e.length-e.indexOf("0"));if(s=e.match(LK))return a=zL(t,s[1].length).replace(/^([^\.]+)$/,"$1."+No(s[1])).replace(/\.$/,"."+No(s[1])).replace(/\.(\d*)$/,function(y,g){return"."+g+is("0",No(s[1]).length-g.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+zL(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Hh(Jm(c,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Cc(r,e,-t):Hh(""+(Math.floor(t)+_1e(t,s[1].length)))+"."+wu(KL(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Cc(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=kp(Cc(r,e.replace(/[\\-]/g,""),t)),i=0,kp(kp(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return i<a.length?a.charAt(i++):y==="0"?"0":""}));if(e.match(RK))return a=Cc(r,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var A="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=j2(c,Math.pow(10,i)-1,!1),a=""+u,A=bA("n",s[1],l[1]),A.charAt(A.length-1)==" "&&(A=A.substr(0,A.length-1)+"0"),a+=A+s[2]+"/"+s[3],A=B2(l[2],i),A.length<s[4].length&&(A=No(s[4].substr(s[4].length-A.length))+A),a+=A,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=j2(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?B3(l[1],i)+s[2]+"/"+s[3]+B2(l[2],i):is(" ",2*i+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=Jm(t,0),e.length<=a.length?a:No(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var h=e.indexOf(".")-i,p=e.length-a.length-h;return No(e.substr(0,h)+a+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return i=KL(t,s[1].length),t<0?"-"+Cc(r,e,-t):Hh(T1e(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?wu(0,3-y.length):"")+y})+"."+wu(i,s[1].length);switch(e){case"###,##0.00":return Cc(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var m=Hh(Jm(c,0));return m!=="0"?u+m:"";case"###,###.00":return Cc(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Cc(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function k1e(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return bA(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function F1e(r,e,t){var n=e.replace(DK,""),a=e.length-n.length;return bA(r,n,t*Math.pow(10,2*a))+is("%",a)}function UK(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+UK(r,-e);var a=r.indexOf(".");a===-1&&(a=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),t=(e/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!t.match(/[Ee]/)){var i=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(i-t.length+s):t+="E+"+(i-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,A){return c+u+A.substr(0,(a+s)%a)+"."+A.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function ud(r,e,t){if(r.charCodeAt(0)===40&&!e.match(MK)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ud("n",n,t):"("+ud("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return k1e(r,e,t);if(e.indexOf("%")!==-1)return F1e(r,e,t);if(e.indexOf("E")!==-1)return UK(e,t);if(e.charCodeAt(0)===36)return"$"+ud(r,e.substr(e.charAt(1)==" "?2:1),t);var a,s,i,l,c=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+wu(c,e.length);if(e.match(/^[#?]+$/))return a=""+t,t===0&&(a=""),a.length>e.length?a:No(e.substr(0,e.length-a.length))+a;if(s=e.match(IK))return j1e(s,c,u);if(e.match(/^#+0+$/))return u+wu(c,e.length-e.indexOf("0"));if(s=e.match(LK))return a=(""+t).replace(/^([^\.]+)$/,"$1."+No(s[1])).replace(/\.$/,"."+No(s[1])),a=a.replace(/\.(\d*)$/,function(y,g){return"."+g+is("0",No(s[1]).length-g.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Hh(""+c);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ud(r,e,-t):Hh(""+t)+"."+is("0",s[1].length);if(s=e.match(/^#,#*,#0/))return ud(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=kp(ud(r,e.replace(/[\\-]/g,""),t)),i=0,kp(kp(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return i<a.length?a.charAt(i++):y==="0"?"0":""}));if(e.match(RK))return a=ud(r,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var A="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=j2(c,Math.pow(10,i)-1,!1),a=""+u,A=bA("n",s[1],l[1]),A.charAt(A.length-1)==" "&&(A=A.substr(0,A.length-1)+"0"),a+=A+s[2]+"/"+s[3],A=B2(l[2],i),A.length<s[4].length&&(A=No(s[4].substr(s[4].length-A.length))+A),a+=A,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=j2(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?B3(l[1],i)+s[2]+"/"+s[3]+B2(l[2],i):is(" ",2*i+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=""+t,e.length<=a.length?a:No(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var h=e.indexOf(".")-i,p=e.length-a.length-h;return No(e.substr(0,h)+a+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+ud(r,e,-t):Hh(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?wu(0,3-y.length):"")+y})+"."+wu(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=Hh(""+c);return m!=="0"?u+m:"";default:if(e.match(/\.[0#?]*$/))return ud(r,e.slice(0,e.lastIndexOf(".")),t)+No(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function bA(r,e,t){return(t|0)===t?ud(r,e,t):Cc(r,e,t)}function O1e(r){for(var e=[],t=!1,n=0,a=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(a,n-a),a=n+1}if(e[e.length]=r.substr(a),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var QK=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function HK(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":E2(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(QK))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function D1e(r,e,t,n){for(var a=[],s="",i=0,l="",c="t",u,A,h,p="H";i<r.length;)switch(l=r.charAt(i)){case"G":if(!E2(r,i))throw new Error("unrecognized character "+l+" in "+r);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(h=r.charCodeAt(++i))!==34&&i<r.length;)s+=String.fromCharCode(h);a[a.length]={t:"t",v:s},++i;break;case"\\":var m=r.charAt(++i),y=m==="("||m===")"?m:"t";a[a.length]={t:y,v:m},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:e},++i;break;case"B":case"b":if(r.charAt(i+1)==="1"||r.charAt(i+1)==="2"){if(u==null&&(u=hb(e,t,r.charAt(i+1)==="2"),u==null))return"";a[a.length]={t:"X",v:r.substr(i,2)},c=l,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=hb(e,t),u==null))return"";for(s=l;++i<r.length&&r.charAt(i).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=p),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(u==null&&(u=hb(e,t)),r.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",p="h",i+=3):r.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",i+=5,p="h"):r.substr(i,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",i+=5,p="h"):(g.t="t",++i),u==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(s=l;r.charAt(i++)!=="]"&&i<r.length;)s+=r.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(QK)){if(u==null&&(u=hb(e,t),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",HK(r)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++i<r.length&&(l=r.charAt(i))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++i<r.length&&"0#?.,E+-%".indexOf(l=r.charAt(i))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;r.charAt(++i)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++i,(r.charAt(i)==" "||r.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;i<r.length&&"0123456789".indexOf(r.charAt(++i))>-1;)s+=r.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+r);a[a.length]={t:"t",v:l},++i;break}var v=0,b=0,N;for(i=a.length-1,c="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=p,c="h",v<1&&(v=1);break;case"s":(N=a[i].v.match(/\.0+$/))&&(b=Math.max(b,N[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[i].t;break;case"m":c==="s"&&(a[i].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[i].v.match(/[Hh]/)&&(v=1),v<2&&a[i].v.match(/[Mm]/)&&(v=2),v<3&&a[i].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var C="",E;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=N1e(a[i].t.charCodeAt(0),a[i].v,u,b),a[i].t="t";break;case"n":case"?":for(E=i+1;a[E]!=null&&((l=a[E].t)==="?"||l==="D"||(l===" "||l==="t")&&a[E+1]!=null&&(a[E+1].t==="?"||a[E+1].t==="t"&&a[E+1].v==="/")||a[i].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[E].v==="/"||a[E].v===" "&&a[E+1]!=null&&a[E+1].t=="?"));)a[i].v+=a[E].v,a[E]={v:"",t:";"},++E;C+=a[i].v,i=E-1;break;case"G":a[i].t="t",a[i].v=c4(e,t);break}var _="",P,O;if(C.length>0){C.charCodeAt(0)==40?(P=e<0&&C.charCodeAt(0)===45?-e:e,O=bA("n",C,P)):(P=e<0&&n>1?-e:e,O=bA("n",C,P),P<0&&a[0]&&a[0].t=="t"&&(O=O.substr(1),a[0].v="-"+a[0].v)),E=O.length-1;var D=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){D=i;break}var k=a.length;if(D===a.length&&O.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(E>=a[i].v.length-1?(E-=a[i].v.length,a[i].v=O.substr(E+1,a[i].v.length)):E<0?a[i].v="":(a[i].v=O.substr(0,E+1),E=-1),a[i].t="t",k=i);E>=0&&k<a.length&&(a[k].v=O.substr(0,E+1)+a[k].v)}else if(D!==a.length&&O.indexOf("E")===-1){for(E=O.indexOf(".")-1,i=D;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(A=a[i].v.indexOf(".")>-1&&i===D?a[i].v.indexOf(".")-1:a[i].v.length-1,_=a[i].v.substr(A+1);A>=0;--A)E>=0&&(a[i].v.charAt(A)==="0"||a[i].v.charAt(A)==="#")&&(_=O.charAt(E--)+_);a[i].v=_,a[i].t="t",k=i}for(E>=0&&k<a.length&&(a[k].v=O.substr(0,E+1)+a[k].v),E=O.indexOf(".")+1,i=D;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==D)){for(A=a[i].v.indexOf(".")>-1&&i===D?a[i].v.indexOf(".")+1:0,_=a[i].v.substr(0,A);A<a[i].v.length;++A)E<O.length&&(_+=O.charAt(E++));a[i].v=_,a[i].t="t",k=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(P=n>1&&e<0&&i>0&&a[i-1].v==="-"?-e:e,a[i].v=bA(a[i].t,a[i].v,P),a[i].t="t");var H="";for(i=0;i!==a.length;++i)a[i]!=null&&(H+=a[i].v);return H}var $L=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function VL(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function P1e(r,e){var t=O1e(r),n=t.length,a=t[n-1].indexOf("@");if(n<4&&a>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||a>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=a>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=a>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=a>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var i=t[0].match($L),l=t[1].match($L);return VL(e,i)?[n,t[0]]:VL(e,l)?[n,t[1]]:[n,t[i!=null&&l!=null?2:1]]}return[n,s]}function af(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:cs)[r],n==null&&(n=t.table&&t.table[HL[r]]||cs[HL[r]]),n==null&&(n=p1e[r]||"General");break}if(E2(n,0))return c4(e,t);e instanceof Date&&(e=OK(e,t.date1904));var a=P1e(n,e);if(E2(a[1]))return c4(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return D1e(a[1],e,t,a[0])}function zK(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(cs[t]==null){e<0&&(e=t);continue}if(cs[t]==r){e=t;break}}e<0&&(e=391)}return cs[e]=r,e}function ZC(r){for(var e=0;e!=392;++e)r[e]!==void 0&&zK(r[e],e)}function e5(){cs=m1e()}var KK=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function I1e(r){var e=typeof r=="number"?cs[r]:r;return e=e.replace(KK,"(\\d+)"),new RegExp("^"+e+"$")}function L1e(r,e,t){var n=-1,a=-1,s=-1,i=-1,l=-1,c=-1;(e.match(KK)||[]).forEach(function(h,p){var m=parseInt(t[p+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":i=m;break;case"s":c=m;break;case"m":i>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var A=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?A:u+"T"+A}var M1e=(function(){var r={};r.version="1.2.0";function e(){for(var O=0,D=new Array(256),k=0;k!=256;++k)O=k,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,D[k]=O;return typeof Int32Array<"u"?new Int32Array(D):D}var t=e();function n(O){var D=0,k=0,H=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(H=0;H!=256;++H)L[H]=O[H];for(H=0;H!=256;++H)for(k=O[H],D=256+H;D<4096;D+=256)k=L[D]=k>>>8^O[k&255];var Q=[];for(H=1;H!=16;++H)Q[H-1]=typeof Int32Array<"u"?L.subarray(H*256,H*256+256):L.slice(H*256,H*256+256);return Q}var a=n(t),s=a[0],i=a[1],l=a[2],c=a[3],u=a[4],A=a[5],h=a[6],p=a[7],m=a[8],y=a[9],g=a[10],v=a[11],b=a[12],N=a[13],C=a[14];function E(O,D){for(var k=D^-1,H=0,L=O.length;H<L;)k=k>>>8^t[(k^O.charCodeAt(H++))&255];return~k}function _(O,D){for(var k=D^-1,H=O.length-15,L=0;L<H;)k=C[O[L++]^k&255]^N[O[L++]^k>>8&255]^b[O[L++]^k>>16&255]^v[O[L++]^k>>>24]^g[O[L++]]^y[O[L++]]^m[O[L++]]^p[O[L++]]^h[O[L++]]^A[O[L++]]^u[O[L++]]^c[O[L++]]^l[O[L++]]^i[O[L++]]^s[O[L++]]^t[O[L++]];for(H+=15;L<H;)k=k>>>8^t[(k^O[L++])&255];return~k}function P(O,D){for(var k=D^-1,H=0,L=O.length,Q=0,R=0;H<L;)Q=O.charCodeAt(H++),Q<128?k=k>>>8^t[(k^Q)&255]:Q<2048?(k=k>>>8^t[(k^(192|Q>>6&31))&255],k=k>>>8^t[(k^(128|Q&63))&255]):Q>=55296&&Q<57344?(Q=(Q&1023)+64,R=O.charCodeAt(H++)&1023,k=k>>>8^t[(k^(240|Q>>8&7))&255],k=k>>>8^t[(k^(128|Q>>2&63))&255],k=k>>>8^t[(k^(128|R>>6&15|(Q&3)<<4))&255],k=k>>>8^t[(k^(128|R&63))&255]):(k=k>>>8^t[(k^(224|Q>>12&15))&255],k=k>>>8^t[(k^(128|Q>>6&63))&255],k=k>>>8^t[(k^(128|Q&63))&255]);return~k}return r.table=t,r.bstr=E,r.buf=_,r.str=P,r})(),ta=(function(){var e={};e.version="1.2.1";function t(se,we){for(var he=se.split("/"),fe=we.split("/"),ge=0,Ne=0,Ke=Math.min(he.length,fe.length);ge<Ke;++ge){if(Ne=he[ge].length-fe[ge].length)return Ne;if(he[ge]!=fe[ge])return he[ge]<fe[ge]?-1:1}return he.length-fe.length}function n(se){if(se.charAt(se.length-1)=="/")return se.slice(0,-1).indexOf("/")===-1?se:n(se.slice(0,-1));var we=se.lastIndexOf("/");return we===-1?se:se.slice(0,we+1)}function a(se){if(se.charAt(se.length-1)=="/")return a(se.slice(0,-1));var we=se.lastIndexOf("/");return we===-1?se:se.slice(we+1)}function s(se,we){typeof we=="string"&&(we=new Date(we));var he=we.getHours();he=he<<6|we.getMinutes(),he=he<<5|we.getSeconds()>>>1,se.write_shift(2,he);var fe=we.getFullYear()-1980;fe=fe<<4|we.getMonth()+1,fe=fe<<5|we.getDate(),se.write_shift(2,fe)}function i(se){var we=se.read_shift(2)&65535,he=se.read_shift(2)&65535,fe=new Date,ge=he&31;he>>>=5;var Ne=he&15;he>>>=4,fe.setMilliseconds(0),fe.setFullYear(he+1980),fe.setMonth(Ne-1),fe.setDate(ge);var Ke=we&31;we>>>=5;var st=we&63;return we>>>=6,fe.setHours(we),fe.setMinutes(st),fe.setSeconds(Ke<<1),fe}function l(se){Ml(se,0);for(var we={},he=0;se.l<=se.length-4;){var fe=se.read_shift(2),ge=se.read_shift(2),Ne=se.l+ge,Ke={};fe===21589&&(he=se.read_shift(1),he&1&&(Ke.mtime=se.read_shift(4)),ge>5&&(he&2&&(Ke.atime=se.read_shift(4)),he&4&&(Ke.ctime=se.read_shift(4))),Ke.mtime&&(Ke.mt=new Date(Ke.mtime*1e3))),se.l=Ne,we[fe]=Ke}return we}var c;function u(){return c||(c={})}function A(se,we){if(se[0]==80&&se[1]==75)return pr(se,we);if((se[0]|32)==109&&(se[1]|32)==105)return hr(se,we);if(se.length<512)throw new Error("CFB file size "+se.length+" < 512");var he=3,fe=512,ge=0,Ne=0,Ke=0,st=0,Ve=0,qe=[],We=se.slice(0,512);Ml(We,0);var St=h(We);switch(he=St[0],he){case 3:fe=512;break;case 4:fe=4096;break;case 0:if(St[1]==0)return pr(se,we);default:throw new Error("Major Version: Expected 3 or 4 saw "+he)}fe!==512&&(We=se.slice(0,fe),Ml(We,28));var kt=se.slice(0,fe);p(We,he);var Mt=We.read_shift(4,"i");if(he===3&&Mt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Mt);We.l+=4,Ke=We.read_shift(4,"i"),We.l+=4,We.chk("00100000","Mini Stream Cutoff Size: "),st=We.read_shift(4,"i"),ge=We.read_shift(4,"i"),Ve=We.read_shift(4,"i"),Ne=We.read_shift(4,"i");for(var _t=-1,Dt=0;Dt<109&&(_t=We.read_shift(4,"i"),!(_t<0));++Dt)qe[Dt]=_t;var Gt=m(se,fe);v(Ve,Ne,Gt,fe,qe);var Cn=N(Gt,Ke,qe,fe);Cn[Ke].name="!Directory",ge>0&&st!==R&&(Cn[st].name="!MiniFAT"),Cn[qe[0]].name="!FAT",Cn.fat_addrs=qe,Cn.ssz=fe;var qr={},Tn=[],Si=[],pl=[];C(Ke,Cn,Gt,Tn,ge,qr,Si,st),y(Si,pl,Tn),Tn.shift();var gl={FileIndex:Si,FullPaths:pl};return we&&we.raw&&(gl.raw={header:kt,sectors:Gt}),gl}function h(se){if(se[se.l]==80&&se[se.l+1]==75)return[0,0];se.chk(K,"Header Signature: "),se.l+=16;var we=se.read_shift(2,"u");return[se.read_shift(2,"u"),we]}function p(se,we){var he=9;switch(se.l+=2,he=se.read_shift(2)){case 9:if(we!=3)throw new Error("Sector Shift: Expected 9 saw "+he);break;case 12:if(we!=4)throw new Error("Sector Shift: Expected 12 saw "+he);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+he)}se.chk("0600","Mini Sector Shift: "),se.chk("000000000000","Reserved: ")}function m(se,we){for(var he=Math.ceil(se.length/we)-1,fe=[],ge=1;ge<he;++ge)fe[ge-1]=se.slice(ge*we,(ge+1)*we);return fe[he-1]=se.slice(he*we),fe}function y(se,we,he){for(var fe=0,ge=0,Ne=0,Ke=0,st=0,Ve=he.length,qe=[],We=[];fe<Ve;++fe)qe[fe]=We[fe]=fe,we[fe]=he[fe];for(;st<We.length;++st)fe=We[st],ge=se[fe].L,Ne=se[fe].R,Ke=se[fe].C,qe[fe]===fe&&(ge!==-1&&qe[ge]!==ge&&(qe[fe]=qe[ge]),Ne!==-1&&qe[Ne]!==Ne&&(qe[fe]=qe[Ne])),Ke!==-1&&(qe[Ke]=fe),ge!==-1&&fe!=qe[fe]&&(qe[ge]=qe[fe],We.lastIndexOf(ge)<st&&We.push(ge)),Ne!==-1&&fe!=qe[fe]&&(qe[Ne]=qe[fe],We.lastIndexOf(Ne)<st&&We.push(Ne));for(fe=1;fe<Ve;++fe)qe[fe]===fe&&(Ne!==-1&&qe[Ne]!==Ne?qe[fe]=qe[Ne]:ge!==-1&&qe[ge]!==ge&&(qe[fe]=qe[ge]));for(fe=1;fe<Ve;++fe)if(se[fe].type!==0){if(st=fe,st!=qe[st])do st=qe[st],we[fe]=we[st]+"/"+we[fe];while(st!==0&&qe[st]!==-1&&st!=qe[st]);qe[fe]=-1}for(we[0]+="/",fe=1;fe<Ve;++fe)se[fe].type!==2&&(we[fe]+="/")}function g(se,we,he){for(var fe=se.start,ge=se.size,Ne=[],Ke=fe;he&&ge>0&&Ke>=0;)Ne.push(we.slice(Ke*Q,Ke*Q+Q)),ge-=Q,Ke=s0(he,Ke*4);return Ne.length===0?dt(0):Hi(Ne).slice(0,se.size)}function v(se,we,he,fe,ge){var Ne=R;if(se===R){if(we!==0)throw new Error("DIFAT chain shorter than expected")}else if(se!==-1){var Ke=he[se],st=(fe>>>2)-1;if(!Ke)return;for(var Ve=0;Ve<st&&(Ne=s0(Ke,Ve*4))!==R;++Ve)ge.push(Ne);v(s0(Ke,fe-4),we-1,he,fe,ge)}}function b(se,we,he,fe,ge){var Ne=[],Ke=[];ge||(ge=[]);var st=fe-1,Ve=0,qe=0;for(Ve=we;Ve>=0;){ge[Ve]=!0,Ne[Ne.length]=Ve,Ke.push(se[Ve]);var We=he[Math.floor(Ve*4/fe)];if(qe=Ve*4&st,fe<4+qe)throw new Error("FAT boundary crossed: "+Ve+" 4 "+fe);if(!se[We])break;Ve=s0(se[We],qe)}return{nodes:Ne,data:eM([Ke])}}function N(se,we,he,fe){var ge=se.length,Ne=[],Ke=[],st=[],Ve=[],qe=fe-1,We=0,St=0,kt=0,Mt=0;for(We=0;We<ge;++We)if(st=[],kt=We+we,kt>=ge&&(kt-=ge),!Ke[kt]){Ve=[];var _t=[];for(St=kt;St>=0;){_t[St]=!0,Ke[St]=!0,st[st.length]=St,Ve.push(se[St]);var Dt=he[Math.floor(St*4/fe)];if(Mt=St*4&qe,fe<4+Mt)throw new Error("FAT boundary crossed: "+St+" 4 "+fe);if(!se[Dt]||(St=s0(se[Dt],Mt),_t[St]))break}Ne[kt]={nodes:st,data:eM([Ve])}}return Ne}function C(se,we,he,fe,ge,Ne,Ke,st){for(var Ve=0,qe=fe.length?2:0,We=we[se].data,St=0,kt=0,Mt;St<We.length;St+=128){var _t=We.slice(St,St+128);Ml(_t,64),kt=_t.read_shift(2),Mt=F3(_t,0,kt-qe),fe.push(Mt);var Dt={name:Mt,type:_t.read_shift(1),color:_t.read_shift(1),L:_t.read_shift(4,"i"),R:_t.read_shift(4,"i"),C:_t.read_shift(4,"i"),clsid:_t.read_shift(16),state:_t.read_shift(4,"i"),start:0,size:0},Gt=_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2);Gt!==0&&(Dt.ct=E(_t,_t.l-8));var Cn=_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2);Cn!==0&&(Dt.mt=E(_t,_t.l-8)),Dt.start=_t.read_shift(4,"i"),Dt.size=_t.read_shift(4,"i"),Dt.size<0&&Dt.start<0&&(Dt.size=Dt.type=0,Dt.start=R,Dt.name=""),Dt.type===5?(Ve=Dt.start,ge>0&&Ve!==R&&(we[Ve].name="!StreamData")):Dt.size>=4096?(Dt.storage="fat",we[Dt.start]===void 0&&(we[Dt.start]=b(he,Dt.start,we.fat_addrs,we.ssz)),we[Dt.start].name=Dt.name,Dt.content=we[Dt.start].data.slice(0,Dt.size)):(Dt.storage="minifat",Dt.size<0?Dt.size=0:Ve!==R&&Dt.start!==R&&we[Ve]&&(Dt.content=g(Dt,we[Ve].data,(we[st]||{}).data))),Dt.content&&Ml(Dt.content,0),Ne[Mt]=Dt,Ke.push(Dt)}}function E(se,we){return new Date((Ql(se,we+4)/1e7*Math.pow(2,32)+Ql(se,we)/1e7-11644473600)*1e3)}function _(se,we){return u(),A(c.readFileSync(se),we)}function P(se,we){var he=we&&we.type;switch(he||En&&Buffer.isBuffer(se)&&(he="buffer"),he||"base64"){case"file":return _(se,we);case"base64":return A(bu(kA(se)),we);case"binary":return A(bu(se),we)}return A(se,we)}function O(se,we){var he=we||{},fe=he.root||"Root Entry";if(se.FullPaths||(se.FullPaths=[]),se.FileIndex||(se.FileIndex=[]),se.FullPaths.length!==se.FileIndex.length)throw new Error("inconsistent CFB structure");se.FullPaths.length===0&&(se.FullPaths[0]=fe+"/",se.FileIndex[0]={name:fe,type:5}),he.CLSID&&(se.FileIndex[0].clsid=he.CLSID),D(se)}function D(se){var we="Sh33tJ5";if(!ta.find(se,"/"+we)){var he=dt(4);he[0]=55,he[1]=he[3]=50,he[2]=54,se.FileIndex.push({name:we,type:2,content:he,size:4,L:69,R:69,C:69}),se.FullPaths.push(se.FullPaths[0]+we),k(se)}}function k(se,we){O(se);for(var he=!1,fe=!1,ge=se.FullPaths.length-1;ge>=0;--ge){var Ne=se.FileIndex[ge];switch(Ne.type){case 0:fe?he=!0:(se.FileIndex.pop(),se.FullPaths.pop());break;case 1:case 2:case 5:fe=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(he=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(he=!0);break;default:he=!0;break}}if(!(!he&&!we)){var Ke=new Date(1987,1,19),st=0,Ve=Object.create?Object.create(null):{},qe=[];for(ge=0;ge<se.FullPaths.length;++ge)Ve[se.FullPaths[ge]]=!0,se.FileIndex[ge].type!==0&&qe.push([se.FullPaths[ge],se.FileIndex[ge]]);for(ge=0;ge<qe.length;++ge){var We=n(qe[ge][0]);fe=Ve[We],fe||(qe.push([We,{name:a(We).replace("/",""),type:1,clsid:X,ct:Ke,mt:Ke,content:null}]),Ve[We]=!0)}for(qe.sort(function(Mt,_t){return t(Mt[0],_t[0])}),se.FullPaths=[],se.FileIndex=[],ge=0;ge<qe.length;++ge)se.FullPaths[ge]=qe[ge][0],se.FileIndex[ge]=qe[ge][1];for(ge=0;ge<qe.length;++ge){var St=se.FileIndex[ge],kt=se.FullPaths[ge];if(St.name=a(kt).replace("/",""),St.L=St.R=St.C=-(St.color=1),St.size=St.content?St.content.length:0,St.start=0,St.clsid=St.clsid||X,ge===0)St.C=qe.length>1?1:-1,St.size=0,St.type=5;else if(kt.slice(-1)=="/"){for(st=ge+1;st<qe.length&&n(se.FullPaths[st])!=kt;++st);for(St.C=st>=qe.length?-1:st,st=ge+1;st<qe.length&&n(se.FullPaths[st])!=n(kt);++st);St.R=st>=qe.length?-1:st,St.type=1}else n(se.FullPaths[ge+1]||"")==n(kt)&&(St.R=ge+1),St.type=2}}}function H(se,we){var he=we||{};if(he.fileType=="mad")return ba(se,he);if(k(se),he.fileType==="zip")return Nt(se,he);var fe=(function(Mt){for(var _t=0,Dt=0,Gt=0;Gt<Mt.FileIndex.length;++Gt){var Cn=Mt.FileIndex[Gt];if(Cn.content){var qr=Cn.content.length;qr>0&&(qr<4096?_t+=qr+63>>6:Dt+=qr+511>>9)}}for(var Tn=Mt.FullPaths.length+3>>2,Si=_t+7>>3,pl=_t+127>>7,gl=Si+Dt+Tn+pl,mo=gl+127>>7,Lu=mo<=109?0:Math.ceil((mo-109)/127);gl+mo+Lu+127>>7>mo;)Lu=++mo<=109?0:Math.ceil((mo-109)/127);var Aa=[1,Lu,mo,pl,Tn,Dt,_t,0];return Mt.FileIndex[0].size=_t<<6,Aa[7]=(Mt.FileIndex[0].start=Aa[0]+Aa[1]+Aa[2]+Aa[3]+Aa[4]+Aa[5])+(Aa[6]+7>>3),Aa})(se),ge=dt(fe[7]<<9),Ne=0,Ke=0;{for(Ne=0;Ne<8;++Ne)ge.write_shift(1,ee[Ne]);for(Ne=0;Ne<8;++Ne)ge.write_shift(2,0);for(ge.write_shift(2,62),ge.write_shift(2,3),ge.write_shift(2,65534),ge.write_shift(2,9),ge.write_shift(2,6),Ne=0;Ne<3;++Ne)ge.write_shift(2,0);for(ge.write_shift(4,0),ge.write_shift(4,fe[2]),ge.write_shift(4,fe[0]+fe[1]+fe[2]+fe[3]-1),ge.write_shift(4,0),ge.write_shift(4,4096),ge.write_shift(4,fe[3]?fe[0]+fe[1]+fe[2]-1:R),ge.write_shift(4,fe[3]),ge.write_shift(-4,fe[1]?fe[0]-1:R),ge.write_shift(4,fe[1]),Ne=0;Ne<109;++Ne)ge.write_shift(-4,Ne<fe[2]?fe[1]+Ne:-1)}if(fe[1])for(Ke=0;Ke<fe[1];++Ke){for(;Ne<236+Ke*127;++Ne)ge.write_shift(-4,Ne<fe[2]?fe[1]+Ne:-1);ge.write_shift(-4,Ke===fe[1]-1?R:Ke+1)}var st=function(Mt){for(Ke+=Mt;Ne<Ke-1;++Ne)ge.write_shift(-4,Ne+1);Mt&&(++Ne,ge.write_shift(-4,R))};for(Ke=Ne=0,Ke+=fe[1];Ne<Ke;++Ne)ge.write_shift(-4,ae.DIFSECT);for(Ke+=fe[2];Ne<Ke;++Ne)ge.write_shift(-4,ae.FATSECT);st(fe[3]),st(fe[4]);for(var Ve=0,qe=0,We=se.FileIndex[0];Ve<se.FileIndex.length;++Ve)We=se.FileIndex[Ve],We.content&&(qe=We.content.length,!(qe<4096)&&(We.start=Ke,st(qe+511>>9)));for(st(fe[6]+7>>3);ge.l&511;)ge.write_shift(-4,ae.ENDOFCHAIN);for(Ke=Ne=0,Ve=0;Ve<se.FileIndex.length;++Ve)We=se.FileIndex[Ve],We.content&&(qe=We.content.length,!(!qe||qe>=4096)&&(We.start=Ke,st(qe+63>>6)));for(;ge.l&511;)ge.write_shift(-4,ae.ENDOFCHAIN);for(Ne=0;Ne<fe[4]<<2;++Ne){var St=se.FullPaths[Ne];if(!St||St.length===0){for(Ve=0;Ve<17;++Ve)ge.write_shift(4,0);for(Ve=0;Ve<3;++Ve)ge.write_shift(4,-1);for(Ve=0;Ve<12;++Ve)ge.write_shift(4,0);continue}We=se.FileIndex[Ne],Ne===0&&(We.start=We.size?We.start-1:R);var kt=Ne===0&&he.root||We.name;if(qe=2*(kt.length+1),ge.write_shift(64,kt,"utf16le"),ge.write_shift(2,qe),ge.write_shift(1,We.type),ge.write_shift(1,We.color),ge.write_shift(-4,We.L),ge.write_shift(-4,We.R),ge.write_shift(-4,We.C),We.clsid)ge.write_shift(16,We.clsid,"hex");else for(Ve=0;Ve<4;++Ve)ge.write_shift(4,0);ge.write_shift(4,We.state||0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,We.start),ge.write_shift(4,We.size),ge.write_shift(4,0)}for(Ne=1;Ne<se.FileIndex.length;++Ne)if(We=se.FileIndex[Ne],We.size>=4096)if(ge.l=We.start+1<<9,En&&Buffer.isBuffer(We.content))We.content.copy(ge,ge.l,0,We.size),ge.l+=We.size+511&-512;else{for(Ve=0;Ve<We.size;++Ve)ge.write_shift(1,We.content[Ve]);for(;Ve&511;++Ve)ge.write_shift(1,0)}for(Ne=1;Ne<se.FileIndex.length;++Ne)if(We=se.FileIndex[Ne],We.size>0&&We.size<4096)if(En&&Buffer.isBuffer(We.content))We.content.copy(ge,ge.l,0,We.size),ge.l+=We.size+63&-64;else{for(Ve=0;Ve<We.size;++Ve)ge.write_shift(1,We.content[Ve]);for(;Ve&63;++Ve)ge.write_shift(1,0)}if(En)ge.l=ge.length;else for(;ge.l<ge.length;)ge.write_shift(1,0);return ge}function L(se,we){var he=se.FullPaths.map(function(Ve){return Ve.toUpperCase()}),fe=he.map(function(Ve){var qe=Ve.split("/");return qe[qe.length-(Ve.slice(-1)=="/"?2:1)]}),ge=!1;we.charCodeAt(0)===47?(ge=!0,we=he[0].slice(0,-1)+we):ge=we.indexOf("/")!==-1;var Ne=we.toUpperCase(),Ke=ge===!0?he.indexOf(Ne):fe.indexOf(Ne);if(Ke!==-1)return se.FileIndex[Ke];var st=!Ne.match(Ab);for(Ne=Ne.replace(ly,""),st&&(Ne=Ne.replace(Ab,"!")),Ke=0;Ke<he.length;++Ke)if((st?he[Ke].replace(Ab,"!"):he[Ke]).replace(ly,"")==Ne||(st?fe[Ke].replace(Ab,"!"):fe[Ke]).replace(ly,"")==Ne)return se.FileIndex[Ke];return null}var Q=64,R=-2,K="d0cf11e0a1b11ae1",ee=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",ae={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:R,FREESECT:-1,HEADER_SIGNATURE:K,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Y(se,we,he){u();var fe=H(se,he);c.writeFileSync(we,fe)}function de(se){for(var we=new Array(se.length),he=0;he<se.length;++he)we[he]=String.fromCharCode(se[he]);return we.join("")}function pe(se,we){var he=H(se,we);switch(we&&we.type||"buffer"){case"file":return u(),c.writeFileSync(we.filename,he),he;case"binary":return typeof he=="string"?he:de(he);case"base64":return My(typeof he=="string"?he:de(he));case"buffer":if(En)return Buffer.isBuffer(he)?he:KA(he);case"array":return typeof he=="string"?bu(he):he}return he}var Z;function I(se){try{var we=se.InflateRaw,he=new we;if(he._processChunk(new Uint8Array([3,0]),he._finishFlushFlag),he.bytesRead)Z=se;else throw new Error("zlib does not expose bytesRead")}catch(fe){console.error("cannot use native zlib: "+(fe.message||fe))}}function z(se,we){if(!Z)return Yr(se,we);var he=Z.InflateRaw,fe=new he,ge=fe._processChunk(se.slice(se.l),fe._finishFlushFlag);return se.l+=fe.bytesRead,ge}function V(se){return Z?Z.deflateRawSync(se):ot(se)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ce=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Be(se){var we=(se<<1|se<<11)&139536|(se<<5|se<<15)&558144;return(we>>16|we>>8|we)&255}for(var Ae=typeof Uint8Array<"u",ye=Ae?new Uint8Array(256):[],Pe=0;Pe<256;++Pe)ye[Pe]=Be(Pe);function je(se,we){var he=ye[se&255];return we<=8?he>>>8-we:(he=he<<8|ye[se>>8&255],we<=16?he>>>16-we:(he=he<<8|ye[se>>16&255],he>>>24-we))}function Se(se,we){var he=we&7,fe=we>>>3;return(se[fe]|(he<=6?0:se[fe+1]<<8))>>>he&3}function Te(se,we){var he=we&7,fe=we>>>3;return(se[fe]|(he<=5?0:se[fe+1]<<8))>>>he&7}function J(se,we){var he=we&7,fe=we>>>3;return(se[fe]|(he<=4?0:se[fe+1]<<8))>>>he&15}function Le(se,we){var he=we&7,fe=we>>>3;return(se[fe]|(he<=3?0:se[fe+1]<<8))>>>he&31}function He(se,we){var he=we&7,fe=we>>>3;return(se[fe]|(he<=1?0:se[fe+1]<<8))>>>he&127}function Je(se,we,he){var fe=we&7,ge=we>>>3,Ne=(1<<he)-1,Ke=se[ge]>>>fe;return he<8-fe||(Ke|=se[ge+1]<<8-fe,he<16-fe)||(Ke|=se[ge+2]<<16-fe,he<24-fe)||(Ke|=se[ge+3]<<24-fe),Ke&Ne}function at(se,we,he){var fe=we&7,ge=we>>>3;return fe<=5?se[ge]|=(he&7)<<fe:(se[ge]|=he<<fe&255,se[ge+1]=(he&7)>>8-fe),we+3}function ze(se,we,he){var fe=we&7,ge=we>>>3;return he=(he&1)<<fe,se[ge]|=he,we+1}function mt(se,we,he){var fe=we&7,ge=we>>>3;return he<<=fe,se[ge]|=he&255,he>>>=8,se[ge+1]=he,we+8}function Et(se,we,he){var fe=we&7,ge=we>>>3;return he<<=fe,se[ge]|=he&255,he>>>=8,se[ge+1]=he&255,se[ge+2]=he>>>8,we+16}function Me(se,we){var he=se.length,fe=2*he>we?2*he:we+5,ge=0;if(he>=we)return se;if(En){var Ne=RL(fe);if(se.copy)se.copy(Ne);else for(;ge<se.length;++ge)Ne[ge]=se[ge];return Ne}else if(Ae){var Ke=new Uint8Array(fe);if(Ke.set)Ke.set(se);else for(;ge<he;++ge)Ke[ge]=se[ge];return Ke}return se.length=fe,se}function vt(se){for(var we=new Array(se),he=0;he<se;++he)we[he]=0;return we}function De(se,we,he){var fe=1,ge=0,Ne=0,Ke=0,st=0,Ve=se.length,qe=Ae?new Uint16Array(32):vt(32);for(Ne=0;Ne<32;++Ne)qe[Ne]=0;for(Ne=Ve;Ne<he;++Ne)se[Ne]=0;Ve=se.length;var We=Ae?new Uint16Array(Ve):vt(Ve);for(Ne=0;Ne<Ve;++Ne)qe[ge=se[Ne]]++,fe<ge&&(fe=ge),We[Ne]=0;for(qe[0]=0,Ne=1;Ne<=fe;++Ne)qe[Ne+16]=st=st+qe[Ne-1]<<1;for(Ne=0;Ne<Ve;++Ne)st=se[Ne],st!=0&&(We[Ne]=qe[st+16]++);var St=0;for(Ne=0;Ne<Ve;++Ne)if(St=se[Ne],St!=0)for(st=je(We[Ne],fe)>>fe-St,Ke=(1<<fe+4-St)-1;Ke>=0;--Ke)we[st|Ke<<St]=St&15|Ne<<4;return fe}var it=Ae?new Uint16Array(512):vt(512),wt=Ae?new Uint16Array(32):vt(32);if(!Ae){for(var Bt=0;Bt<512;++Bt)it[Bt]=0;for(Bt=0;Bt<32;++Bt)wt[Bt]=0}(function(){for(var se=[],we=0;we<32;we++)se.push(5);De(se,wt,32);var he=[];for(we=0;we<=143;we++)he.push(8);for(;we<=255;we++)he.push(9);for(;we<=279;we++)he.push(7);for(;we<=287;we++)he.push(8);De(he,it,288)})();var Ee=(function(){for(var we=Ae?new Uint8Array(32768):[],he=0,fe=0;he<ce.length-1;++he)for(;fe<ce[he+1];++fe)we[fe]=he;for(;fe<32768;++fe)we[fe]=29;var ge=Ae?new Uint8Array(259):[];for(he=0,fe=0;he<ne.length-1;++he)for(;fe<ne[he+1];++fe)ge[fe]=he;function Ne(st,Ve){for(var qe=0;qe<st.length;){var We=Math.min(65535,st.length-qe),St=qe+We==st.length;for(Ve.write_shift(1,+St),Ve.write_shift(2,We),Ve.write_shift(2,~We&65535);We-- >0;)Ve[Ve.l++]=st[qe++]}return Ve.l}function Ke(st,Ve){for(var qe=0,We=0,St=Ae?new Uint16Array(32768):[];We<st.length;){var kt=Math.min(65535,st.length-We);if(kt<10){for(qe=at(Ve,qe,+(We+kt==st.length)),qe&7&&(qe+=8-(qe&7)),Ve.l=qe/8|0,Ve.write_shift(2,kt),Ve.write_shift(2,~kt&65535);kt-- >0;)Ve[Ve.l++]=st[We++];qe=Ve.l*8;continue}qe=at(Ve,qe,+(We+kt==st.length)+2);for(var Mt=0;kt-- >0;){var _t=st[We];Mt=(Mt<<5^_t)&32767;var Dt=-1,Gt=0;if((Dt=St[Mt])&&(Dt|=We&-32768,Dt>We&&(Dt-=32768),Dt<We))for(;st[Dt+Gt]==st[We+Gt]&&Gt<250;)++Gt;if(Gt>2){_t=ge[Gt],_t<=22?qe=mt(Ve,qe,ye[_t+1]>>1)-1:(mt(Ve,qe,3),qe+=5,mt(Ve,qe,ye[_t-23]>>5),qe+=3);var Cn=_t<8?0:_t-4>>2;Cn>0&&(Et(Ve,qe,Gt-ne[_t]),qe+=Cn),_t=we[We-Dt],qe=mt(Ve,qe,ye[_t]>>3),qe-=3;var qr=_t<4?0:_t-2>>1;qr>0&&(Et(Ve,qe,We-Dt-ce[_t]),qe+=qr);for(var Tn=0;Tn<Gt;++Tn)St[Mt]=We&32767,Mt=(Mt<<5^st[We])&32767,++We;kt-=Gt-1}else _t<=143?_t=_t+48:qe=ze(Ve,qe,1),qe=mt(Ve,qe,ye[_t]),St[Mt]=We&32767,++We}qe=mt(Ve,qe,0)-1}return Ve.l=(qe+7)/8|0,Ve.l}return function(Ve,qe){return Ve.length<8?Ne(Ve,qe):Ke(Ve,qe)}})();function ot(se){var we=dt(50+Math.floor(se.length*1.1)),he=Ee(se,we);return we.slice(0,he)}var ct=Ae?new Uint16Array(32768):vt(32768),Zt=Ae?new Uint16Array(32768):vt(32768),It=Ae?new Uint16Array(128):vt(128),Tt=1,cr=1;function Br(se,we){var he=Le(se,we)+257;we+=5;var fe=Le(se,we)+1;we+=5;var ge=J(se,we)+4;we+=4;for(var Ne=0,Ke=Ae?new Uint8Array(19):vt(19),st=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ve=1,qe=Ae?new Uint8Array(8):vt(8),We=Ae?new Uint8Array(8):vt(8),St=Ke.length,kt=0;kt<ge;++kt)Ke[q[kt]]=Ne=Te(se,we),Ve<Ne&&(Ve=Ne),qe[Ne]++,we+=3;var Mt=0;for(qe[0]=0,kt=1;kt<=Ve;++kt)We[kt]=Mt=Mt+qe[kt-1]<<1;for(kt=0;kt<St;++kt)(Mt=Ke[kt])!=0&&(st[kt]=We[Mt]++);var _t=0;for(kt=0;kt<St;++kt)if(_t=Ke[kt],_t!=0){Mt=ye[st[kt]]>>8-_t;for(var Dt=(1<<7-_t)-1;Dt>=0;--Dt)It[Mt|Dt<<_t]=_t&7|kt<<3}var Gt=[];for(Ve=1;Gt.length<he+fe;)switch(Mt=It[He(se,we)],we+=Mt&7,Mt>>>=3){case 16:for(Ne=3+Se(se,we),we+=2,Mt=Gt[Gt.length-1];Ne-- >0;)Gt.push(Mt);break;case 17:for(Ne=3+Te(se,we),we+=3;Ne-- >0;)Gt.push(0);break;case 18:for(Ne=11+He(se,we),we+=7;Ne-- >0;)Gt.push(0);break;default:Gt.push(Mt),Ve<Mt&&(Ve=Mt);break}var Cn=Gt.slice(0,he),qr=Gt.slice(he);for(kt=he;kt<286;++kt)Cn[kt]=0;for(kt=fe;kt<30;++kt)qr[kt]=0;return Tt=De(Cn,ct,286),cr=De(qr,Zt,30),we}function zt(se,we){if(se[0]==3&&!(se[1]&3))return[M0(we),2];for(var he=0,fe=0,ge=RL(we||1<<18),Ne=0,Ke=ge.length>>>0,st=0,Ve=0;(fe&1)==0;){if(fe=Te(se,he),he+=3,fe>>>1)fe>>1==1?(st=9,Ve=5):(he=Br(se,he),st=Tt,Ve=cr);else{he&7&&(he+=8-(he&7));var qe=se[he>>>3]|se[(he>>>3)+1]<<8;if(he+=32,qe>0)for(!we&&Ke<Ne+qe&&(ge=Me(ge,Ne+qe),Ke=ge.length);qe-- >0;)ge[Ne++]=se[he>>>3],he+=8;continue}for(;;){!we&&Ke<Ne+32767&&(ge=Me(ge,Ne+32767),Ke=ge.length);var We=Je(se,he,st),St=fe>>>1==1?it[We]:ct[We];if(he+=St&15,St>>>=4,(St>>>8&255)===0)ge[Ne++]=St;else{if(St==256)break;St-=257;var kt=St<8?0:St-4>>2;kt>5&&(kt=0);var Mt=Ne+ne[St];kt>0&&(Mt+=Je(se,he,kt),he+=kt),We=Je(se,he,Ve),St=fe>>>1==1?wt[We]:Zt[We],he+=St&15,St>>>=4;var _t=St<4?0:St-2>>1,Dt=ce[St];for(_t>0&&(Dt+=Je(se,he,_t),he+=_t),!we&&Ke<Mt&&(ge=Me(ge,Mt+100),Ke=ge.length);Ne<Mt;)ge[Ne]=ge[Ne-Dt],++Ne}}}return we?[ge,he+7>>>3]:[ge.slice(0,Ne),he+7>>>3]}function Yr(se,we){var he=se.slice(se.l||0),fe=zt(he,we);return se.l+=fe[1],fe[0]}function nr(se,we){if(se)typeof console<"u"&&console.error(we);else throw new Error(we)}function pr(se,we){var he=se;Ml(he,0);var fe=[],ge=[],Ne={FileIndex:fe,FullPaths:ge};O(Ne,{root:we.root});for(var Ke=he.length-4;(he[Ke]!=80||he[Ke+1]!=75||he[Ke+2]!=5||he[Ke+3]!=6)&&Ke>=0;)--Ke;he.l=Ke+4,he.l+=4;var st=he.read_shift(2);he.l+=6;var Ve=he.read_shift(4);for(he.l=Ve,Ke=0;Ke<st;++Ke){he.l+=20;var qe=he.read_shift(4),We=he.read_shift(4),St=he.read_shift(2),kt=he.read_shift(2),Mt=he.read_shift(2);he.l+=8;var _t=he.read_shift(4),Dt=l(he.slice(he.l+St,he.l+St+kt));he.l+=St+kt+Mt;var Gt=he.l;he.l=_t+4,pt(he,qe,We,Ne,Dt),he.l=Gt}return Ne}function pt(se,we,he,fe,ge){se.l+=2;var Ne=se.read_shift(2),Ke=se.read_shift(2),st=i(se);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var Ve=se.read_shift(4),qe=se.read_shift(4),We=se.read_shift(4),St=se.read_shift(2),kt=se.read_shift(2),Mt="",_t=0;_t<St;++_t)Mt+=String.fromCharCode(se[se.l++]);if(kt){var Dt=l(se.slice(se.l,se.l+kt));(Dt[21589]||{}).mt&&(st=Dt[21589].mt),((ge||{})[21589]||{}).mt&&(st=ge[21589].mt)}se.l+=kt;var Gt=se.slice(se.l,se.l+qe);switch(Ke){case 8:Gt=z(se,We);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ke)}var Cn=!1;Ne&8&&(Ve=se.read_shift(4),Ve==134695760&&(Ve=se.read_shift(4),Cn=!0),qe=se.read_shift(4),We=se.read_shift(4)),qe!=we&&nr(Cn,"Bad compressed size: "+we+" != "+qe),We!=he&&nr(Cn,"Bad uncompressed size: "+he+" != "+We),ca(fe,Mt,Gt,{unsafe:!0,mt:st})}function Nt(se,we){var he=we||{},fe=[],ge=[],Ne=dt(1),Ke=he.compression?8:0,st=0,Ve=0,qe=0,We=0,St=0,kt=se.FullPaths[0],Mt=kt,_t=se.FileIndex[0],Dt=[],Gt=0;for(Ve=1;Ve<se.FullPaths.length;++Ve)if(Mt=se.FullPaths[Ve].slice(kt.length),_t=se.FileIndex[Ve],!(!_t.size||!_t.content||Mt=="Sh33tJ5")){var Cn=We,qr=dt(Mt.length);for(qe=0;qe<Mt.length;++qe)qr.write_shift(1,Mt.charCodeAt(qe)&127);qr=qr.slice(0,qr.l),Dt[St]=M1e.buf(_t.content,0);var Tn=_t.content;Ke==8&&(Tn=V(Tn)),Ne=dt(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,st),Ne.write_shift(2,Ke),_t.mt?s(Ne,_t.mt):Ne.write_shift(4,0),Ne.write_shift(-4,Dt[St]),Ne.write_shift(4,Tn.length),Ne.write_shift(4,_t.content.length),Ne.write_shift(2,qr.length),Ne.write_shift(2,0),We+=Ne.length,fe.push(Ne),We+=qr.length,fe.push(qr),We+=Tn.length,fe.push(Tn),Ne=dt(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,st),Ne.write_shift(2,Ke),Ne.write_shift(4,0),Ne.write_shift(-4,Dt[St]),Ne.write_shift(4,Tn.length),Ne.write_shift(4,_t.content.length),Ne.write_shift(2,qr.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,Cn),Gt+=Ne.l,ge.push(Ne),Gt+=qr.length,ge.push(qr),++St}return Ne=dt(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,St),Ne.write_shift(2,St),Ne.write_shift(4,Gt),Ne.write_shift(4,We),Ne.write_shift(2,0),Hi([Hi(fe),Hi(ge),Ne])}var Qt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Kt(se,we){if(se.ctype)return se.ctype;var he=se.name||"",fe=he.match(/\.([^\.]+)$/);return fe&&Qt[fe[1]]||we&&(fe=(he=we).match(/[\.\\]([^\.\\])+$/),fe&&Qt[fe[1]])?Qt[fe[1]]:"application/octet-stream"}function jn(se){for(var we=My(se),he=[],fe=0;fe<we.length;fe+=76)he.push(we.slice(fe,fe+76));return he.join(`\r
`)+`\r
`}function Or(se){var we=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(qe){var We=qe.charCodeAt(0).toString(16).toUpperCase();return"="+(We.length==1?"0"+We:We)});we=we.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),we.charAt(0)==`
`&&(we="=0D"+we.slice(1)),we=we.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var he=[],fe=we.split(`\r
`),ge=0;ge<fe.length;++ge){var Ne=fe[ge];if(Ne.length==0){he.push("");continue}for(var Ke=0;Ke<Ne.length;){var st=76,Ve=Ne.slice(Ke,Ke+st);Ve.charAt(st-1)=="="?st--:Ve.charAt(st-2)=="="?st-=2:Ve.charAt(st-3)=="="&&(st-=3),Ve=Ne.slice(Ke,Ke+st),Ke+=st,Ke<Ne.length&&(Ve+="="),he.push(Ve)}}return he.join(`\r
`)}function Rs(se){for(var we=[],he=0;he<se.length;++he){for(var fe=se[he];he<=se.length&&fe.charAt(fe.length-1)=="=";)fe=fe.slice(0,fe.length-1)+se[++he];we.push(fe)}for(var ge=0;ge<we.length;++ge)we[ge]=we[ge].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return bu(we.join(`\r
`))}function Ga(se,we,he){for(var fe="",ge="",Ne="",Ke,st=0;st<10;++st){var Ve=we[st];if(!Ve||Ve.match(/^\s*$/))break;var qe=Ve.match(/^(.*?):\s*([^\s].*)$/);if(qe)switch(qe[1].toLowerCase()){case"content-location":fe=qe[2].trim();break;case"content-type":Ne=qe[2].trim();break;case"content-transfer-encoding":ge=qe[2].trim();break}}switch(++st,ge.toLowerCase()){case"base64":Ke=bu(kA(we.slice(st).join("")));break;case"quoted-printable":Ke=Rs(we.slice(st));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ge)}var We=ca(se,fe.slice(he.length),Ke,{unsafe:!0});Ne&&(We.ctype=Ne)}function hr(se,we){if(de(se.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var he=we&&we.root||"",fe=(En&&Buffer.isBuffer(se)?se.toString("binary"):de(se)).split(`\r
`),ge=0,Ne="";for(ge=0;ge<fe.length;++ge)if(Ne=fe[ge],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),he||(he=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,he.length)!=he))for(;he.length>0&&(he=he.slice(0,he.length-1),he=he.slice(0,he.lastIndexOf("/")+1),Ne.slice(0,he.length)!=he););var Ke=(fe[1]||"").match(/boundary="(.*?)"/);if(!Ke)throw new Error("MAD cannot find boundary");var st="--"+(Ke[1]||""),Ve=[],qe=[],We={FileIndex:Ve,FullPaths:qe};O(We);var St,kt=0;for(ge=0;ge<fe.length;++ge){var Mt=fe[ge];Mt!==st&&Mt!==st+"--"||(kt++&&Ga(We,fe.slice(St,ge),he),St=ge)}return We}function ba(se,we){var he=we||{},fe=he.boundary||"SheetJS";fe="------="+fe;for(var ge=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+fe.slice(2)+'"',"","",""],Ne=se.FullPaths[0],Ke=Ne,st=se.FileIndex[0],Ve=1;Ve<se.FullPaths.length;++Ve)if(Ke=se.FullPaths[Ve].slice(Ne.length),st=se.FileIndex[Ve],!(!st.size||!st.content||Ke=="Sh33tJ5")){Ke=Ke.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Gt){return"_x"+Gt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Gt){return"_u"+Gt.charCodeAt(0).toString(16)+"_"});for(var qe=st.content,We=En&&Buffer.isBuffer(qe)?qe.toString("binary"):de(qe),St=0,kt=Math.min(1024,We.length),Mt=0,_t=0;_t<=kt;++_t)(Mt=We.charCodeAt(_t))>=32&&Mt<128&&++St;var Dt=St>=kt*4/5;ge.push(fe),ge.push("Content-Location: "+(he.root||"file:///C:/SheetJS/")+Ke),ge.push("Content-Transfer-Encoding: "+(Dt?"quoted-printable":"base64")),ge.push("Content-Type: "+Kt(st,Ke)),ge.push(""),ge.push(Dt?Or(We):jn(We))}return ge.push(fe+`--\r
`),ge.join(`\r
`)}function Wa(se){var we={};return O(we,se),we}function ca(se,we,he,fe){var ge=fe&&fe.unsafe;ge||O(se);var Ne=!ge&&ta.find(se,we);if(!Ne){var Ke=se.FullPaths[0];we.slice(0,Ke.length)==Ke?Ke=we:(Ke.slice(-1)!="/"&&(Ke+="/"),Ke=(Ke+we).replace("//","/")),Ne={name:a(we),type:2},se.FileIndex.push(Ne),se.FullPaths.push(Ke),ge||ta.utils.cfb_gc(se)}return Ne.content=he,Ne.size=he?he.length:0,fe&&(fe.CLSID&&(Ne.clsid=fe.CLSID),fe.mt&&(Ne.mt=fe.mt),fe.ct&&(Ne.ct=fe.ct)),Ne}function Bs(se,we){O(se);var he=ta.find(se,we);if(he){for(var fe=0;fe<se.FileIndex.length;++fe)if(se.FileIndex[fe]==he)return se.FileIndex.splice(fe,1),se.FullPaths.splice(fe,1),!0}return!1}function _n(se,we,he){O(se);var fe=ta.find(se,we);if(fe){for(var ge=0;ge<se.FileIndex.length;++ge)if(se.FileIndex[ge]==fe)return se.FileIndex[ge].name=a(he),se.FullPaths[ge]=he,!0}return!1}function wa(se){k(se,!0)}return e.find=L,e.read=P,e.parse=A,e.write=pe,e.writeFile=Y,e.utils={cfb_new:Wa,cfb_add:ca,cfb_del:Bs,cfb_mov:_n,cfb_gc:wa,ReadShift:uy,CheckField:l$,prep_blob:Ml,bconcat:Hi,use_zlib:I,_deflateRaw:ot,_inflateRaw:Yr,consts:ae},e})();function R1e(r){return typeof r=="string"?JC(r):Array.isArray(r)?d1e(r):r}function _v(r,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=JC(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(r,e)}var n=t=="utf8"?Uy(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,r);if(typeof Blob<"u"){var a=new Blob([R1e(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,r);if(typeof saveAs<"u")return saveAs(a,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:r,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=r,i.href=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(r);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=jv(e)),l.write(e),l.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+r)}function Vi(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function qL(r,e){for(var t=[],n=Vi(r),a=0;a!==n.length;++a)t[r[n[a]][e]]==null&&(t[r[n[a]][e]]=n[a]);return t}function j3(r){for(var e=[],t=Vi(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}function t5(r){for(var e=[],t=Vi(r),n=0;n!==t.length;++n)e[r[t[n]]]=parseInt(t[n],10);return e}function U1e(r){for(var e=[],t=Vi(r),n=0;n!==t.length;++n)e[r[t[n]]]==null&&(e[r[t[n]]]=[]),e[r[t[n]]].push(t[n]);return e}var _2=new Date(1899,11,30,0,0,0);function hl(r,e){var t=r.getTime(),n=_2.getTime()+(r.getTimezoneOffset()-_2.getTimezoneOffset())*6e4;return(t-n)/(1440*60*1e3)}var $K=new Date,Q1e=_2.getTime()+($K.getTimezoneOffset()-_2.getTimezoneOffset())*6e4,GL=$K.getTimezoneOffset();function VK(r){var e=new Date;return e.setTime(r*24*60*60*1e3+Q1e),e.getTimezoneOffset()!==GL&&e.setTime(e.getTime()+(e.getTimezoneOffset()-GL)*6e4),e}var WL=new Date("2017-02-19T19:06:09.000Z"),qK=isNaN(WL.getFullYear())?new Date("2/19/17"):WL,H1e=qK.getFullYear()==2017;function ko(r,e){var t=new Date(r);if(H1e)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(qK.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var a=r.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return r.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function r5(r,e){if(En&&Buffer.isBuffer(r))return r.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var n=[],a=0;a!=r.length;++a)n.push(String.fromCharCode(r[a]));return n.join("")}function fl(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=fl(r[t]));return e}function is(r,e){for(var t="";t.length<e;)t+=r;return t}function wA(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return t=-t,s}),!isNaN(e=Number(n)))?e/t:e}var z1e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ry(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),a=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var i=r.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&z1e.indexOf(i)==-1)return t}else if(i.match(/[a-z]/))return t;return n<0||n>8099?t:(a>0||s>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}function $r(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return En?n=KA(t):n=A1e(t),ta.utils.cfb_add(r,e,n)}ta.utils.cfb_add(r,e,t)}else r.file(e,t)}function _3(){return ta.utils.cfb_new()}var Ms=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,K1e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},T3=j3(K1e),k3=/[&<>'"]/g,$1e=/[\u0000-\u0008\u000b-\u001f]/g;function zn(r){var e=r+"";return e.replace(k3,function(t){return T3[t]}).replace($1e,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function YL(r){return zn(r).replace(/ /g,"_x0020_")}var GK=/[\u0000-\u001f]/g;function V1e(r){var e=r+"";return e.replace(k3,function(t){return T3[t]}).replace(/\n/g,"<br/>").replace(GK,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function q1e(r){var e=r+"";return e.replace(k3,function(t){return T3[t]}).replace(GK,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function G1e(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function W1e(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function RB(r){for(var e="",t=0,n=0,a=0,s=0,i=0,l=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(a=r.charCodeAt(t++),n>191&&n<224){i=(n&31)<<6,i|=a&63,e+=String.fromCharCode(i);continue}if(s=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=r.charCodeAt(t++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function XL(r){var e=M0(2*r.length),t,n,a=1,s=0,i=0,l;for(n=0;n<r.length;n+=a)a=1,(l=r.charCodeAt(n))<128?t=l:l<224?(t=(l&31)*64+(r.charCodeAt(n+1)&63),a=2):l<240?(t=(l&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),a=3):(a=4,t=(l&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,i=55296+(t>>>10&1023),t=56320+(t&1023)),i!==0&&(e[s++]=i&255,e[s++]=i>>>8,i=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function JL(r){return KA(r,"binary").toString("utf8")}var fb="foo bar baz",cy=En&&(JL(fb)==RB(fb)&&JL||XL(fb)==RB(fb)&&XL)||RB,Uy=En?function(r){return KA(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,a=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Y1e=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<r.length;++a)n=n.replace(r[a][0],r[a][1]);return n}})(),WK=/(^\s|\s$|\n)/;function zi(r,e){return"<"+r+(e.match(WK)?' xml:space="preserve"':"")+">"+e+"</"+r+">"}function Qy(r){return Vi(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function Ot(r,e,t){return"<"+r+(t!=null?Qy(t):"")+(e!=null?(e.match(WK)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function u4(r,e){try{return r.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function X1e(r,e){switch(typeof r){case"string":var t=Ot("vt:lpwstr",zn(r));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Ot((r|0)==r?"vt:i4":"vt:r8",zn(String(r)));case"boolean":return Ot("vt:bool",r?"true":"false")}if(r instanceof Date)return Ot("vt:filetime",u4(r));throw new Error("Unable to serialize "+r)}var pi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},kg=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ul={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function J1e(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),a=r[e+6]&15,s=5;s>=0;--s)a=a*256+r[e+s];return n==2047?a==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),t*Math.pow(2,n-52)*a)}function Z1e(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,s=0,i=n?-e:e;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(e)?26985:0);for(var l=0;l<=5;++l,s/=256)r[t+l]=s&255;r[t+6]=(a&15)<<4|s&15,r[t+7]=a>>4|n}var ZL=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var a=0,s=r[0][n].length;a<s;a+=t)e.push.apply(e,r[0][n].slice(a,a+t));return e},eM=En?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:KA(e)})):ZL(r)}:ZL,tM=function(r,e,t){for(var n=[],a=e;a<t;a+=2)n.push(String.fromCharCode(Wx(r,a)));return n.join("").replace(ly,"")},F3=En?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(ly,""):tM(r,e,t)}:tM,rM=function(r,e,t){for(var n=[],a=e;a<e+t;++a)n.push(("0"+r[a].toString(16)).slice(-2));return n.join("")},YK=En?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):rM(r,e,t)}:rM,nM=function(r,e,t){for(var n=[],a=e;a<t;a++)n.push(String.fromCharCode(Ap(r,a)));return n.join("")},Tv=En?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):nM(e,t,n)}:nM,XK=function(r,e){var t=Ql(r,e);return t>0?Tv(r,e+4,e+4+t-1):""},JK=XK,ZK=function(r,e){var t=Ql(r,e);return t>0?Tv(r,e+4,e+4+t-1):""},e$=ZK,t$=function(r,e){var t=2*Ql(r,e);return t>0?Tv(r,e+4,e+4+t-1):""},r$=t$,n$=function(e,t){var n=Ql(e,t);return n>0?F3(e,t+4,t+4+n):""},a$=n$,s$=function(r,e){var t=Ql(r,e);return t>0?Tv(r,e+4,e+4+t):""},i$=s$,o$=function(r,e){return J1e(r,e)},T2=o$,O3=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};En&&(JK=function(e,t){if(!Buffer.isBuffer(e))return XK(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},e$=function(e,t){if(!Buffer.isBuffer(e))return ZK(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},r$=function(e,t){if(!Buffer.isBuffer(e))return t$(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},a$=function(e,t){if(!Buffer.isBuffer(e))return n$(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},i$=function(e,t){if(!Buffer.isBuffer(e))return s$(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},T2=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):o$(e,t)},O3=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Ap=function(r,e){return r[e]},Wx=function(r,e){return r[e+1]*256+r[e]},ebe=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},Ql=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},s0=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},tbe=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function uy(r,e){var t="",n,a,s=[],i,l,c,u;switch(e){case"dbcs":if(u=this.l,En&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(c=0;c<r;++c)t+=String.fromCharCode(Wx(this,u)),u+=2;r*=2;break;case"utf8":t=Tv(this,this.l,this.l+r);break;case"utf16le":r*=2,t=F3(this,this.l,this.l+r);break;case"wstr":return uy.call(this,r,"dbcs");case"lpstr-ansi":t=JK(this,this.l),r=4+Ql(this,this.l);break;case"lpstr-cp":t=e$(this,this.l),r=4+Ql(this,this.l);break;case"lpwstr":t=r$(this,this.l),r=4+2*Ql(this,this.l);break;case"lpp4":r=4+Ql(this,this.l),t=a$(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+Ql(this,this.l),t=i$(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(i=Ap(this,this.l+r++))!==0;)s.push(db(i));t=s.join("");break;case"_wstr":for(r=0,t="";(i=Wx(this,this.l+r))!==0;)s.push(db(i)),r+=2;r+=2,t=s.join("");break;case"dbcs-cont":for(t="",u=this.l,c=0;c<r;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Ap(this,u),this.l=u+1,l=uy.call(this,r-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(db(Wx(this,u))),u+=2}t=s.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",u=this.l,c=0;c!=r;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Ap(this,u),this.l=u+1,l=uy.call(this,r-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(db(Ap(this,u))),u+=1}t=s.join("");break;default:switch(r){case 1:return n=Ap(this,this.l),this.l++,n;case 2:return n=(e==="i"?ebe:Wx)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?s0:tbe)(this,this.l),this.l+=4,n):(a=Ql(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return r==8?a=T2(this,this.l):a=T2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;r=8;case 16:t=YK(this,this.l,r);break}}return this.l+=r,t}var rbe=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},nbe=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},abe=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function sbe(r,e,t){var n=0,a=0;if(t==="dbcs"){for(a=0;a!=e.length;++a)abe(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(t==="hex"){for(;a<r;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+r,this.length);for(a=0;a<Math.min(e.length,r);++a){var i=e.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,rbe(this,e,this.l);break;case 8:if(n=8,t==="f"){Z1e(this,e,this.l);break}case 16:break;case-4:n=4,nbe(this,e,this.l);break}return this.l+=n,this}function l$(r,e){var t=YK(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function Ml(r,e){r.l=e,r.read_shift=uy,r.chk=l$,r.write_shift=sbe}function Sd(r,e){r.l+=e}function dt(r){var e=M0(r);return Ml(e,0),e}function dl(){var r=[],e=En?256:2048,t=function(u){var A=dt(u);return Ml(A,0),A},n=t(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=t(Math.max(u+1,e)))},i=function(){return a(),Hi(r)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:l,end:i,_bufs:r}}function Ct(r,e,t,n){var a=+e,s;if(!isNaN(a)){n||(n=JNe[a].p||(t||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var i=r.next(s);a<=127?i.write_shift(1,a):(i.write_shift(1,(a&127)+128),i.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)i.write_shift(1,(n&127)+128),n>>=7;else{i.write_shift(1,n);break}n>0&&O3(t)&&r.push(t)}}function dy(r,e,t){var n=fl(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function aM(r,e,t){var n=fl(r);return n.s=dy(n.s,e.s,t),n.e=dy(n.e,e.s,t),n}function Ay(r,e){if(r.cRel&&r.c<0)for(r=fl(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=fl(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=$n(r);return!r.cRel&&r.cRel!=null&&(t=lbe(t)),!r.rRel&&r.rRel!=null&&(t=ibe(t)),t}function UB(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+uo(r.s.c)+":"+(r.e.cRel?"":"$")+uo(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+$i(r.s.r)+":"+(r.e.rRel?"":"$")+$i(r.e.r):Ay(r.s,e.biff)+":"+Ay(r.e,e.biff)}function D3(r){return parseInt(obe(r),10)-1}function $i(r){return""+(r+1)}function ibe(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function obe(r){return r.replace(/\$(\d+)$/,"$1")}function P3(r){for(var e=cbe(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function uo(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function lbe(r){return r.replace(/^([A-Z])/,"$$$1")}function cbe(r){return r.replace(/^\$([A-Z])/,"$1")}function ube(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function xi(r){for(var e=0,t=0,n=0;n<r.length;++n){var a=r.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(t=26*t+(a-64))}return{c:t-1,r:e-1}}function $n(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function Xl(r){var e=r.indexOf(":");return e==-1?{s:xi(r),e:xi(r)}:{s:xi(r.slice(0,e)),e:xi(r.slice(e+1))}}function Ls(r,e){return typeof e>"u"||typeof e=="number"?Ls(r.s,r.e):(typeof r!="string"&&(r=$n(r)),typeof e!="string"&&(e=$n(e)),r==e?r:r+":"+e)}function va(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,a=0,s=r.length;for(t=0;n<s&&!((a=r.charCodeAt(n)-64)<1||a>26);++n)t=26*t+a;for(e.s.c=--t,t=0;n<s&&!((a=r.charCodeAt(n)-48)<0||a>9);++n)t=10*t+a;if(e.s.r=--t,n===s||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=s&&!((a=r.charCodeAt(n)-64)<1||a>26);++n)t=26*t+a;for(e.e.c=--t,t=0;n!=s&&!((a=r.charCodeAt(n)-48)<0||a>9);++n)t=10*t+a;return e.e.r=--t,e}function sM(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=af(r.z,t?hl(e):e)}catch{}try{return r.w=af((r.XF||{}).numFmtId||(t?14:0),t?hl(e):e)}catch{return""+e}}function FA(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?kv[r.v]||r.v:e==null?sM(r,r.v):sM(r,e))}function X0(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function c$(r,e,t){var n=t||{},a=r?Array.isArray(r):n.dense,s=r||(a?[]:{}),i=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?xi(n.origin):n.origin;i=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var A=va(s["!ref"]);u.s.c=A.s.c,u.s.r=A.s.r,u.e.c=Math.max(u.e.c,A.e.c),u.e.r=Math.max(u.e.r,A.e.r),i==-1&&(u.e.r=i=A.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[h].length;++p)if(!(typeof e[h][p]>"u")){var m={v:e[h][p]},y=i+h,g=l+p;if(u.s.r>y&&(u.s.r=y),u.s.c>g&&(u.s.c=g),u.e.r<y&&(u.e.r=y),u.e.c<g&&(u.e.c=g),e[h][p]&&typeof e[h][p]=="object"&&!Array.isArray(e[h][p])&&!(e[h][p]instanceof Date))m=e[h][p];else if(Array.isArray(m.v)&&(m.f=e[h][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||cs[14],n.cellDates?(m.t="d",m.w=af(m.z,hl(m.v))):(m.t="n",m.v=hl(m.v),m.w=af(m.z,m.v))):m.t="s";if(a)s[y]||(s[y]=[]),s[y][g]&&s[y][g].z&&(m.z=s[y][g].z),s[y][g]=m;else{var v=$n({c:g,r:y});s[v]&&s[v].z&&(m.z=s[v].z),s[v]=m}}}return u.s.c<1e7&&(s["!ref"]=Ls(u)),s}function Fg(r,e){return c$(null,r,e)}function dbe(r){return r.read_shift(4,"i")}function Bu(r,e){return e||(e=dt(4)),e.write_shift(4,r),e}function Ao(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function yi(r,e){var t=!1;return e==null&&(t=!0,e=dt(4+2*r.length)),e.write_shift(4,r.length),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}function Abe(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function hbe(r,e){return e||(e=dt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function I3(r,e){var t=r.l,n=r.read_shift(1),a=Ao(r),s=[],i={t:a,h:a};if((n&1)!==0){for(var l=r.read_shift(4),c=0;c!=l;++c)s.push(Abe(r));i.r=s}else i.r=[{ich:0,ifnt:0}];return r.l=t+e,i}function fbe(r,e){var t=!1;return e==null&&(t=!0,e=dt(15+4*r.t.length)),e.write_shift(1,0),yi(r.t,e),t?e.slice(0,e.l):e}var mbe=I3;function pbe(r,e){var t=!1;return e==null&&(t=!0,e=dt(23+4*r.t.length)),e.write_shift(1,1),yi(r.t,e),e.write_shift(4,1),hbe({},e),t?e.slice(0,e.l):e}function Rc(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function J0(r,e){return e==null&&(e=dt(8)),e.write_shift(-4,r.c),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}function Z0(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}function em(r,e){return e==null&&(e=dt(4)),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}var gbe=Ao,u$=yi;function L3(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}function k2(r,e){var t=!1;return e==null&&(t=!0,e=dt(127)),e.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}var xbe=Ao,d4=L3,M3=k2;function d$(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var a=n===0?T2([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):s0(e,0)>>2;return t?a/100:a}function A$(r,e){e==null&&(e=dt(4));var t=0,n=0,a=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,t=1),n)e.write_shift(-4,((t?a:r)<<2)+(t+2));else throw new Error("unsupported RkNumber "+r)}function h$(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}function ybe(r,e){return e||(e=dt(16)),e.write_shift(4,r.s.r),e.write_shift(4,r.e.r),e.write_shift(4,r.s.c),e.write_shift(4,r.e.c),e}var tm=h$,Og=ybe;function Dg(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function R0(r,e){return(e||dt(8)).write_shift(8,r,"f")}function vbe(r){var e={},t=r.read_shift(1),n=t>>>1,a=r.read_shift(1),s=r.read_shift(2,"i"),i=r.read_shift(1),l=r.read_shift(1),c=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var u=_be[a];u&&(e.rgb=pM(u));break;case 2:e.rgb=pM([i,l,c]);break;case 3:e.theme=a;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function F2(r,e){if(e||(e=dt(8)),!r||r.auto)return e.write_shift(4,0),e.write_shift(4,0),e;r.index!=null?(e.write_shift(1,2),e.write_shift(1,r.index)):r.theme!=null?(e.write_shift(1,6),e.write_shift(1,r.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=r.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!r.rgb||r.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=r.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function bbe(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function wbe(r,e){e||(e=dt(2));var t=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var f$=2,Dl=3,mb=11,O2=19,pb=64,Cbe=65,Nbe=71,Sbe=4108,Bbe=4126,Li=80,iM={1:{n:"CodePage",t:f$},2:{n:"Category",t:Li},3:{n:"PresentationFormat",t:Li},4:{n:"ByteCount",t:Dl},5:{n:"LineCount",t:Dl},6:{n:"ParagraphCount",t:Dl},7:{n:"SlideCount",t:Dl},8:{n:"NoteCount",t:Dl},9:{n:"HiddenCount",t:Dl},10:{n:"MultimediaClipCount",t:Dl},11:{n:"ScaleCrop",t:mb},12:{n:"HeadingPairs",t:Sbe},13:{n:"TitlesOfParts",t:Bbe},14:{n:"Manager",t:Li},15:{n:"Company",t:Li},16:{n:"LinksUpToDate",t:mb},17:{n:"CharacterCount",t:Dl},19:{n:"SharedDoc",t:mb},22:{n:"HyperlinksChanged",t:mb},23:{n:"AppVersion",t:Dl,p:"version"},24:{n:"DigSig",t:Cbe},26:{n:"ContentType",t:Li},27:{n:"ContentStatus",t:Li},28:{n:"Language",t:Li},29:{n:"Version",t:Li},255:{},2147483648:{n:"Locale",t:O2},2147483651:{n:"Behavior",t:O2},1919054434:{}},oM={1:{n:"CodePage",t:f$},2:{n:"Title",t:Li},3:{n:"Subject",t:Li},4:{n:"Author",t:Li},5:{n:"Keywords",t:Li},6:{n:"Comments",t:Li},7:{n:"Template",t:Li},8:{n:"LastAuthor",t:Li},9:{n:"RevNumber",t:Li},10:{n:"EditTime",t:pb},11:{n:"LastPrinted",t:pb},12:{n:"CreatedDate",t:pb},13:{n:"ModifiedDate",t:pb},14:{n:"PageCount",t:Dl},15:{n:"WordCount",t:Dl},16:{n:"CharCount",t:Dl},17:{n:"Thumbnail",t:Nbe},18:{n:"Application",t:Li},19:{n:"DocSecurity",t:Dl},255:{},2147483648:{n:"Locale",t:O2},2147483651:{n:"Behavior",t:O2},1919054434:{}};function Ebe(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var jbe=Ebe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),_be=fl(jbe),kv={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Tbe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},gb={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function m$(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function p$(r,e){var t=U1e(Tbe),n=[],a;n[n.length]=Ms,n[n.length]=Ot("Types",null,{xmlns:pi.CT,"xmlns:xsd":pi.xsd,"xmlns:xsi":pi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Ot("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){r[c]&&r[c].length>0&&(a=r[c][0],n[n.length]=Ot("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:gb[c][e.bookType]||gb[c].xlsx}))},i=function(c){(r[c]||[]).forEach(function(u){n[n.length]=Ot("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:gb[c][e.bookType]||gb[c].xlsx})})},l=function(c){(r[c]||[]).forEach(function(u){n[n.length]=Ot("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:t[c][0]})})};return s("workbooks"),i("sheets"),i("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),i("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var yn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function g$(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function Fp(r){var e=[Ms,Ot("Relationships",null,{xmlns:pi.RELS})];return Vi(r["!id"]).forEach(function(t){e[e.length]=Ot("Relationship",null,r["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Rn(r,e,t,n,a,s){if(a||(a={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),e<0)for(e=r["!idx"];r["!id"]["rId"+e];++e);if(r["!idx"]=e+1,a.Id="rId"+e,a.Type=n,a.Target=t,[yn.HLINK,yn.XPATH,yn.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),r["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return r["!id"][a.Id]=a,r[("/"+a.Target).replace("//","/")]=a,e}function kbe(r){var e=[Ms];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<r.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+r[t][0]+'" manifest:media-type="'+r[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function lM(r,e,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function Fbe(r,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Obe(r){var e=[Ms];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=r.length;++t)e.push(lM(r[t][0],r[t][1])),e.push(Fbe("",r[t][0]));return e.push(lM("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function x$(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+N2.version+"</meta:generator></office:meta></office:document-meta>"}var S0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function QB(r,e,t,n,a){a[r]!=null||e==null||e===""||(a[r]=e,e=zn(e),n[n.length]=t?Ot(r,e,t):zi(r,e))}function y$(r,e){var t=e||{},n=[Ms,Ot("cp:coreProperties",null,{"xmlns:cp":pi.CORE_PROPS,"xmlns:dc":pi.dc,"xmlns:dcterms":pi.dcterms,"xmlns:dcmitype":pi.dcmitype,"xmlns:xsi":pi.xsi})],a={};if(!r&&!t.Props)return n.join("");r&&(r.CreatedDate!=null&&QB("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:u4(r.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),r.ModifiedDate!=null&&QB("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:u4(r.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=S0.length;++s){var i=S0[s],l=t.Props&&t.Props[i[1]]!=null?t.Props[i[1]]:r?r[i[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&QB(i[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Op=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],v$=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function b$(r){var e=[],t=Ot;return r||(r={}),r.Application="SheetJS",e[e.length]=Ms,e[e.length]=Ot("Properties",null,{xmlns:pi.EXT_PROPS,"xmlns:vt":pi.vt}),Op.forEach(function(n){if(r[n[1]]!==void 0){var a;switch(n[2]){case"string":a=zn(String(r[n[1]]));break;case"bool":a=r[n[1]]?"true":"false";break}a!==void 0&&(e[e.length]=t(n[0],a))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",r.SheetNames.map(function(n){return"<vt:lpstr>"+zn(n)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function w$(r){var e=[Ms,Ot("Properties",null,{xmlns:pi.CUST_PROPS,"xmlns:vt":pi.vt})];if(!r)return e.join("");var t=1;return Vi(r).forEach(function(a){++t,e[e.length]=Ot("property",X1e(r[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:zn(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var cM={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Dbe(r,e){var t=[];return Vi(cM).map(function(n){for(var a=0;a<S0.length;++a)if(S0[a][1]==n)return S0[a];for(a=0;a<Op.length;++a)if(Op[a][1]==n)return Op[a];throw n}).forEach(function(n){if(r[n[1]]!=null){var a=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:r[n[1]];n[2]==="date"&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"Z")),typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),t.push(zi(cM[n[1]]||n[1],a))}}),Ot("DocumentProperties",t.join(""),{xmlns:Ul.o})}function Pbe(r,e){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return r&&Vi(r).forEach(function(s){if(Object.prototype.hasOwnProperty.call(r,s)){for(var i=0;i<S0.length;++i)if(s==S0[i][1])return;for(i=0;i<Op.length;++i)if(s==Op[i][1])return;for(i=0;i<t.length;++i)if(s==t[i])return;var l=r[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(Ot(YL(s),l,{"dt:dt":c}))}}),e&&Vi(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(r&&Object.prototype.hasOwnProperty.call(r,s))){var i=e[s],l="string";typeof i=="number"?(l="float",i=String(i)):i===!0||i===!1?(l="boolean",i=i?"1":"0"):i instanceof Date?(l="dateTime.tz",i=i.toISOString()):i=String(i),a.push(Ot(YL(s),i,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Ul.o+'">'+a.join("")+"</"+n+">"}function Ibe(r){var e=typeof r=="string"?new Date(Date.parse(r)):r,t=e.getTime()/1e3+11644473600,n=t%Math.pow(2,32),a=(t-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var i=dt(8);return i.write_shift(4,n),i.write_shift(4,a),i}function uM(r,e){var t=dt(4),n=dt(4);switch(t.write_shift(4,r==80?31:r),r){case 3:n.write_shift(-4,e);break;case 5:n=dt(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=Ibe(e);break;case 31:case 80:for(n=dt(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+e)}return Hi([t,n])}var C$=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Lbe(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function dM(r,e,t){var n=dt(8),a=[],s=[],i=8,l=0,c=dt(8),u=dt(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),s.push(c),a.push(u),i+=8+c.length,!e){u=dt(8),u.write_shift(4,0),a.unshift(u);var A=[dt(4)];for(A[0].write_shift(4,r.length),l=0;l<r.length;++l){var h=r[l][0];for(c=dt(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);A.push(c)}c=Hi(A),s.unshift(c),i+=8+c.length}for(l=0;l<r.length;++l)if(!(e&&!e[r[l][0]])&&!(C$.indexOf(r[l][0])>-1||v$.indexOf(r[l][0])>-1)&&r[l][1]!=null){var p=r[l][1],m=0;if(e){m=+e[r[l][0]];var y=t[m];if(y.p=="version"&&typeof p=="string"){var g=p.split(".");p=(+g[0]<<16)+(+g[1]||0)}c=uM(y.t,p)}else{var v=Lbe(p);v==-1&&(v=31,p=String(p)),c=uM(v,p)}s.push(c),u=dt(8),u.write_shift(4,e?m:2+l),a.push(u),i+=8+c.length}var b=8*(s.length+1);for(l=0;l<s.length;++l)a[l].write_shift(4,b),b+=s[l].length;return n.write_shift(4,i),n.write_shift(4,s.length),Hi([n].concat(a).concat(s))}function AM(r,e,t,n,a,s){var i=dt(a?68:48),l=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,ta.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,a?2:1),i.write_shift(16,e,"hex"),i.write_shift(4,a?68:48);var c=dM(r,t,n);if(l.push(c),a){var u=dM(a,null,null);i.write_shift(16,s,"hex"),i.write_shift(4,68+c.length),l.push(u)}return Hi(l)}function Mbe(r,e){e||(e=dt(r));for(var t=0;t<r;++t)e.write_shift(1,0);return e}function Rbe(r,e){return r.read_shift(e)===1}function So(r,e){return e||(e=dt(2)),e.write_shift(2,+!!r),e}function N$(r){return r.read_shift(2,"u")}function Bc(r,e){return e||(e=dt(2)),e.write_shift(2,r),e}function S$(r,e,t){return t||(t=dt(2)),t.write_shift(1,e=="e"?+r:+!!r),t.write_shift(1,e=="e"?1:0),t}function B$(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),a="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=r.read_shift(1);s&&(a="dbcs-cont")}else t.biff==12&&(a="wstr");t.biff>=2&&t.biff<=5&&(a="cpstr");var i=n?r.read_shift(n,a):"";return i}function Ube(r){var e=r.t||"",t=dt(3);t.write_shift(2,e.length),t.write_shift(1,1);var n=dt(2*e.length);n.write_shift(2*e.length,e,"utf16le");var a=[t,n];return Hi(a)}function Qbe(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var a=r.read_shift(1);return a===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function Hbe(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):Qbe(r,n,t)}function zbe(r,e,t){if(t.biff>5)return Hbe(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function E$(r,e,t){return t||(t=dt(3+2*r.length)),t.write_shift(2,r.length),t.write_shift(1,1),t.write_shift(31,r,"utf16le"),t}function hM(r,e){e||(e=dt(6+r.length*2)),e.write_shift(4,1+r.length);for(var t=0;t<r.length;++t)e.write_shift(2,r.charCodeAt(t));return e.write_shift(2,0),e}function Kbe(r){var e=dt(512),t=0,n=r.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var i=[8,6815827,6619237,4849780,83];for(t=0;t<i.length;++t)e.write_shift(4,i[t]);if(s==28)n=n.slice(1),hM(n,e);else if(s&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<i.length;++t)e.write_shift(1,parseInt(i[t],16));var l=a>-1?n.slice(0,a):n;for(e.write_shift(4,2*(l.length+1)),t=0;t<l.length;++t)e.write_shift(2,l.charCodeAt(t));e.write_shift(2,0),s&8&&hM(a>-1?n.slice(a+1):"",e)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<i.length;++t)e.write_shift(1,parseInt(i[t],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,n.length-3*c+1),t=0;t<n.length-3*c;++t)e.write_shift(1,n.charCodeAt(t+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function U0(r,e,t,n){return n||(n=dt(6)),n.write_shift(2,r),n.write_shift(2,e),n.write_shift(2,t||0),n}function $be(r,e,t){var n=t.biff>8?4:2,a=r.read_shift(n),s=r.read_shift(n,"i"),i=r.read_shift(n,"i");return[a,s,i]}function Vbe(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),a=r.read_shift(2);return{s:{c:n,r:e},e:{c:a,r:t}}}function j$(r,e){return e||(e=dt(8)),e.write_shift(2,r.s.r),e.write_shift(2,r.e.r),e.write_shift(2,r.s.c),e.write_shift(2,r.e.c),e}function R3(r,e,t){var n=1536,a=16;switch(t.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=dt(a);return s.write_shift(2,n),s.write_shift(2,e),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function qbe(r,e){var t=!e||e.biff==8,n=dt(t?112:54);for(n.write_shift(e.biff==8?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}function Gbe(r,e){var t=!e||e.biff>=8?2:1,n=dt(8+t*r.name.length);n.write_shift(4,r.pos),n.write_shift(1,r.hs||0),n.write_shift(1,r.dt),n.write_shift(1,r.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(t*r.name.length,r.name,e.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Wbe(r,e){var t=dt(8);t.write_shift(4,r.Count),t.write_shift(4,r.Unique);for(var n=[],a=0;a<r.length;++a)n[a]=Ube(r[a]);var s=Hi([t].concat(n));return s.parts=[t.length].concat(n.map(function(i){return i.length})),s}function Ybe(){var r=dt(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function Xbe(r){var e=dt(18),t=1718;return r&&r.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function Jbe(r,e){var t=r.name||"Arial",n=e&&e.biff==5,a=n?15+t.length:16+2*t.length,s=dt(a);return s.write_shift(2,r.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),s}function Zbe(r,e,t,n){var a=dt(10);return U0(r,e,n,a),a.write_shift(4,t),a}function ewe(r,e,t,n,a){var s=!a||a.biff==8,i=dt(8+ +s+(1+s)*t.length);return U0(r,e,n,i),i.write_shift(2,t.length),s&&i.write_shift(1,1),i.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),i}function twe(r,e,t,n){var a=t&&t.biff==5;n||(n=dt(a?3+e.length:5+2*e.length)),n.write_shift(2,r),n.write_shift(a?1:2,e.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function rwe(r,e){var t=e.biff==8||!e.biff?4:2,n=dt(2*t+6);return n.write_shift(t,r.s.r),n.write_shift(t,r.e.r+1),n.write_shift(2,r.s.c),n.write_shift(2,r.e.c+1),n.write_shift(2,0),n}function fM(r,e,t,n){var a=t&&t.biff==5;n||(n=dt(a?16:20)),n.write_shift(2,0),r.style?(n.write_shift(2,r.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,r.numFmtId||0),n.write_shift(2,e<<4));var s=0;return r.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function nwe(r){var e=dt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function awe(r,e,t,n,a,s){var i=dt(8);return U0(r,e,n,i),S$(t,s,i),i}function swe(r,e,t,n){var a=dt(14);return U0(r,e,n,a),R0(t,a),a}function iwe(r,e,t){if(t.biff<8)return owe(r,e,t);for(var n=[],a=r.l+e,s=r.read_shift(t.biff>8?4:2);s--!==0;)n.push($be(r,t.biff>8?12:6,t));if(r.l!=a)throw new Error("Bad ExternSheet: "+r.l+" != "+a);return n}function owe(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=B$(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function lwe(r){var e=dt(2+r.length*8);e.write_shift(2,r.length);for(var t=0;t<r.length;++t)j$(r[t],e);return e}function cwe(r){var e=dt(24),t=xi(r[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(n[a],16));return Hi([e,Kbe(r[1])])}function uwe(r){var e=r[1].Tooltip,t=dt(10+2*(e.length+1));t.write_shift(2,2048);var n=xi(r[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var a=0;a<e.length;++a)t.write_shift(2,e.charCodeAt(a));return t.write_shift(2,0),t}function dwe(r){return r||(r=dt(4)),r.write_shift(2,1),r.write_shift(2,1),r}function Awe(r,e,t){if(!t.cellStyles)return Sd(r,e);var n=t&&t.biff>=12?4:2,a=r.read_shift(n),s=r.read_shift(n),i=r.read_shift(n),l=r.read_shift(n),c=r.read_shift(2);n==2&&(r.l+=2);var u={s:a,e:s,w:i,ixfe:l,flags:c};return(t.biff>=5||!t.biff)&&(u.level=c>>8&7),u}function hwe(r,e){var t=dt(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,r.width*256),t.write_shift(2,0);var n=0;return r.hidden&&(n|=1),t.write_shift(1,n),n=r.level||0,t.write_shift(1,n),t.write_shift(2,0),t}function fwe(r){for(var e=dt(2*r),t=0;t<r;++t)e.write_shift(2,t+1);return e}function mwe(r,e,t){var n=dt(15);return Ov(n,r,e),n.write_shift(8,t,"f"),n}function pwe(r,e,t){var n=dt(9);return Ov(n,r,e),n.write_shift(2,t),n}var gwe=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=j3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(l,c){var u=[],A=M0(1);switch(c.type){case"base64":A=bu(kA(l));break;case"binary":A=bu(l);break;case"buffer":case"array":A=l;break}Ml(A,0);var h=A.read_shift(1),p=!!(h&136),m=!1,y=!1;switch(h){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var g=0,v=521;h==2&&(g=A.read_shift(2)),A.l+=3,h!=2&&(g=A.read_shift(4)),g>1048576&&(g=1e6),h!=2&&(v=A.read_shift(2));var b=A.read_shift(2),N=c.codepage||1252;h!=2&&(A.l+=16,A.read_shift(1),A[A.l]!==0&&(N=r[A[A.l]]),A.l+=1,A.l+=2),y&&(A.l+=36);for(var C=[],E={},_=Math.min(A.length,h==2?521:v-10-(m?264:0)),P=y?32:11;A.l<_&&A[A.l]!=13;)switch(E={},E.name=S2.utils.decode(N,A.slice(A.l,A.l+P)).replace(/[\u0000\r\n].*$/g,""),A.l+=P,E.type=String.fromCharCode(A.read_shift(1)),h!=2&&!y&&(E.offset=A.read_shift(4)),E.len=A.read_shift(1),h==2&&(E.offset=A.read_shift(2)),E.dec=A.read_shift(1),E.name.length&&C.push(E),h!=2&&(A.l+=y?13:14),E.type){case"B":(!m||E.len!=8)&&c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(A[A.l]!==13&&(A.l=v-1),A.read_shift(1)!==13)throw new Error("DBF Terminator not found "+A.l+" "+A[A.l]);A.l=v;var O=0,D=0;for(u[0]=[],D=0;D!=C.length;++D)u[0][D]=C[D].name;for(;g-- >0;){if(A[A.l]===42){A.l+=b;continue}for(++A.l,u[++O]=[],D=0,D=0;D!=C.length;++D){var k=A.slice(A.l,A.l+C[D].len);A.l+=C[D].len,Ml(k,0);var H=S2.utils.decode(N,k);switch(C[D].type){case"C":H.trim().length&&(u[O][D]=H.replace(/\s+$/,""));break;case"D":H.length===8?u[O][D]=new Date(+H.slice(0,4),+H.slice(4,6)-1,+H.slice(6,8)):u[O][D]=H;break;case"F":u[O][D]=parseFloat(H.trim());break;case"+":case"I":u[O][D]=y?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(H.trim().toUpperCase()){case"Y":case"T":u[O][D]=!0;break;case"N":case"F":u[O][D]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+H+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[O][D]="##MEMO##"+(y?parseInt(H.trim(),10):k.read_shift(4));break;case"N":H=H.replace(/\u0000/g,"").trim(),H&&H!="."&&(u[O][D]=+H||0);break;case"@":u[O][D]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":u[O][D]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":u[O][D]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[O][D]=-k.read_shift(-8,"f");break;case"B":if(m&&C[D].len==8){u[O][D]=k.read_shift(8,"f");break}case"G":case"P":k.l+=C[D].len;break;case"0":if(C[D].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[D].type)}}}if(h!=2&&A.l<A.length&&A[A.l++]!=26)throw new Error("DBF EOF Marker missing "+(A.l-1)+" of "+A.length+" "+A[A.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=C,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var A=Fg(t(l,u),u);return A["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,A}function a(l,c){try{return X0(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(l,c){var u=c||{};if(+u.codepage>=0&&Ly(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var A=dl(),h=M2(l,{header:1,raw:!0,cellDates:!0}),p=h[0],m=h.slice(1),y=l["!cols"]||[],g=0,v=0,b=0,N=1;for(g=0;g<p.length;++g){if(((y[g]||{}).DBF||{}).name){p[g]=y[g].DBF.name,++b;continue}if(p[g]!=null){if(++b,typeof p[g]=="number"&&(p[g]=p[g].toString(10)),typeof p[g]!="string")throw new Error("DBF Invalid column name "+p[g]+" |"+typeof p[g]+"|");if(p.indexOf(p[g])!==g){for(v=0;v<1024;++v)if(p.indexOf(p[g]+"_"+v)==-1){p[g]+="_"+v;break}}}}var C=va(l["!ref"]),E=[],_=[],P=[];for(g=0;g<=C.e.c-C.s.c;++g){var O="",D="",k=0,H=[];for(v=0;v<m.length;++v)m[v][g]!=null&&H.push(m[v][g]);if(H.length==0||p[g]==null){E[g]="?";continue}for(v=0;v<H.length;++v){switch(typeof H[v]){case"number":D="B";break;case"string":D="C";break;case"boolean":D="L";break;case"object":D=H[v]instanceof Date?"D":"C";break;default:D="C"}k=Math.max(k,String(H[v]).length),O=O&&O!=D?"C":D}k>250&&(k=250),D=((y[g]||{}).DBF||{}).type,D=="C"&&y[g].DBF.len>k&&(k=y[g].DBF.len),O=="B"&&D=="N"&&(O="N",P[g]=y[g].DBF.dec,k=y[g].DBF.len),_[g]=O=="C"||D=="N"?k:s[O]||0,N+=_[g],E[g]=O}var L=A.next(32);for(L.write_shift(4,318902576),L.write_shift(4,m.length),L.write_shift(2,296+32*b),L.write_shift(2,N),g=0;g<4;++g)L.write_shift(4,0);for(L.write_shift(4,0|(+e[TK]||3)<<8),g=0,v=0;g<p.length;++g)if(p[g]!=null){var Q=A.next(32),R=(p[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Q.write_shift(1,R,"sbcs"),Q.write_shift(1,E[g]=="?"?"C":E[g],"sbcs"),Q.write_shift(4,v),Q.write_shift(1,_[g]||s[E[g]]||0),Q.write_shift(1,P[g]||0),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(1,0),Q.write_shift(4,0),Q.write_shift(4,0),v+=_[g]||s[E[g]]||0}var K=A.next(264);for(K.write_shift(4,13),g=0;g<65;++g)K.write_shift(4,0);for(g=0;g<m.length;++g){var ee=A.next(N);for(ee.write_shift(1,0),v=0;v<p.length;++v)if(p[v]!=null)switch(E[v]){case"L":ee.write_shift(1,m[g][v]==null?63:m[g][v]?84:70);break;case"B":ee.write_shift(8,m[g][v]||0,"f");break;case"N":var X="0";for(typeof m[g][v]=="number"&&(X=m[g][v].toFixed(P[v]||0)),b=0;b<_[v]-X.length;++b)ee.write_shift(1,32);ee.write_shift(1,X,"sbcs");break;case"D":m[g][v]?(ee.write_shift(4,("0000"+m[g][v].getFullYear()).slice(-4),"sbcs"),ee.write_shift(2,("00"+(m[g][v].getMonth()+1)).slice(-2),"sbcs"),ee.write_shift(2,("00"+m[g][v].getDate()).slice(-2),"sbcs")):ee.write_shift(8,"00000000","sbcs");break;case"C":var ae=String(m[g][v]!=null?m[g][v]:"").slice(0,_[v]);for(ee.write_shift(1,ae,"sbcs"),b=0;b<_[v]-ae.length;++b)ee.write_shift(1,32);break}}return A.next(1).write_shift(1,26),A.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}})(),xwe=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Vi(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(p,m){var y=r[m];return typeof y=="number"?ML(y):y},n=function(p,m,y){var g=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return g==59?p:ML(g)};r["|"]=254;function a(p,m){switch(m.type){case"base64":return s(kA(p),m);case"binary":return s(p,m);case"buffer":return s(En&&Buffer.isBuffer(p)?p.toString("binary"):jv(p),m);case"array":return s(r5(p),m)}throw new Error("Unrecognized type "+m.type)}function s(p,m){var y=p.split(/[\n\r]+/),g=-1,v=-1,b=0,N=0,C=[],E=[],_=null,P={},O=[],D=[],k=[],H=0,L;for(+m.codepage>=0&&Ly(+m.codepage);b!==y.length;++b){H=0;var Q=y[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),R=Q.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),K=R[0],ee;if(Q.length>0)switch(K){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":R[1].charAt(0)=="P"&&E.push(Q.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,ae=!1,Y=!1,de=!1,pe=-1,Z=-1;for(N=1;N<R.length;++N)switch(R[N].charAt(0)){case"A":break;case"X":v=parseInt(R[N].slice(1))-1,ae=!0;break;case"Y":for(g=parseInt(R[N].slice(1))-1,ae||(v=0),L=C.length;L<=g;++L)C[L]=[];break;case"K":ee=R[N].slice(1),ee.charAt(0)==='"'?ee=ee.slice(1,ee.length-1):ee==="TRUE"?ee=!0:ee==="FALSE"?ee=!1:isNaN(wA(ee))?isNaN(Ry(ee).getDate())||(ee=ko(ee)):(ee=wA(ee),_!==null&&HK(_)&&(ee=VK(ee))),X=!0;break;case"E":de=!0;var I=p2e(R[N].slice(1),{r:g,c:v});C[g][v]=[C[g][v],I];break;case"S":Y=!0,C[g][v]=[C[g][v],"S5S"];break;case"G":break;case"R":pe=parseInt(R[N].slice(1))-1;break;case"C":Z=parseInt(R[N].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+Q)}if(X&&(C[g][v]&&C[g][v].length==2?C[g][v][0]=ee:C[g][v]=ee,_=null),Y){if(de)throw new Error("SYLK shared formula cannot have own formula");var z=pe>-1&&C[pe][Z];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");C[g][v][1]=g2e(z[1],{r:g-pe,c:v-Z})}break;case"F":var V=0;for(N=1;N<R.length;++N)switch(R[N].charAt(0)){case"X":v=parseInt(R[N].slice(1))-1,++V;break;case"Y":for(g=parseInt(R[N].slice(1))-1,L=C.length;L<=g;++L)C[L]=[];break;case"M":H=parseInt(R[N].slice(1))/20;break;case"F":break;case"G":break;case"P":_=E[parseInt(R[N].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=R[N].slice(1).split(" "),L=parseInt(k[0],10);L<=parseInt(k[1],10);++L)H=parseInt(k[2],10),D[L-1]=H===0?{hidden:!0}:{wch:H},U3(D[L-1]);break;case"C":v=parseInt(R[N].slice(1))-1,D[v]||(D[v]={});break;case"R":g=parseInt(R[N].slice(1))-1,O[g]||(O[g]={}),H>0?(O[g].hpt=H,O[g].hpx=O$(H)):H===0&&(O[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+Q)}V<1&&(_=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+Q)}}return O.length>0&&(P["!rows"]=O),D.length>0&&(P["!cols"]=D),m&&m.sheetRows&&(C=C.slice(0,m.sheetRows)),[C,P]}function i(p,m){var y=a(p,m),g=y[0],v=y[1],b=Fg(g,m);return Vi(v).forEach(function(N){b[N]=v[N]}),b}function l(p,m){return X0(i(p,m),m)}function c(p,m,y,g){var v="C;Y"+(y+1)+";X"+(g+1)+";K";switch(p.t){case"n":v+=p.v||0,p.f&&!p.F&&(v+=";E"+H3(p.f,{r:y,c:g}));break;case"b":v+=p.v?"TRUE":"FALSE";break;case"e":v+=p.w||p.v;break;case"d":v+='"'+(p.w||p.v)+'"';break;case"s":v+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(p,m){m.forEach(function(y,g){var v="F;W"+(g+1)+" "+(g+1)+" ";y.hidden?v+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=D2(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=P2(y.wpx)),typeof y.wch=="number"&&(v+=Math.round(y.wch))),v.charAt(v.length-1)!=" "&&p.push(v)})}function A(p,m){m.forEach(function(y,g){var v="F;";y.hidden?v+="M0;":y.hpt?v+="M"+20*y.hpt+";":y.hpx&&(v+="M"+20*I2(y.hpx)+";"),v.length>2&&p.push(v+"R"+(g+1))})}function h(p,m){var y=["ID;PWXL;N;E"],g=[],v=va(p["!ref"]),b,N=Array.isArray(p),C=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),p["!cols"]&&u(y,p["!cols"]),p["!rows"]&&A(y,p["!rows"]),y.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var E=v.s.r;E<=v.e.r;++E)for(var _=v.s.c;_<=v.e.c;++_){var P=$n({r:E,c:_});b=N?(p[E]||[])[_]:p[P],!(!b||b.v==null&&(!b.f||b.F))&&g.push(c(b,p,E,_))}return y.join(C)+C+g.join(C)+C+"E"+C}return{to_workbook:l,to_sheet:i,from_sheet:h}})(),ywe=(function(){function r(s,i){switch(i.type){case"base64":return e(kA(s),i);case"binary":return e(s,i);case"buffer":return e(En&&Buffer.isBuffer(s)?s.toString("binary"):jv(s),i);case"array":return e(r5(s),i)}throw new Error("Unrecognized type "+i.type)}function e(s,i){for(var l=s.split(`
`),c=-1,u=-1,A=0,h=[];A!==l.length;++A){if(l[A].trim()==="BOT"){h[++c]=[],u=0;continue}if(!(c<0)){var p=l[A].trim().split(","),m=p[0],y=p[1];++A;for(var g=l[A]||"";(g.match(/["]/g)||[]).length&1&&A<l.length-1;)g+=`
`+l[++A];switch(g=g.trim(),+m){case-1:if(g==="BOT"){h[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?h[c][u]=!0:g==="FALSE"?h[c][u]=!1:isNaN(wA(y))?isNaN(Ry(y).getDate())?h[c][u]=y:h[c][u]=ko(y):h[c][u]=wA(y),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),h[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return i&&i.sheetRows&&(h=h.slice(0,i.sheetRows)),h}function t(s,i){return Fg(r(s,i),i)}function n(s,i){return X0(t(s,i),i)}var a=(function(){var s=function(c,u,A,h,p){c.push(u),c.push(A+","+h),c.push('"'+p.replace(/"/g,'""')+'"')},i=function(c,u,A,h){c.push(u+","+A),c.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var u=[],A=va(c["!ref"]),h,p=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,A.e.r-A.s.r+1,""),s(u,"TUPLES",0,A.e.c-A.s.c+1,""),s(u,"DATA",0,0,"");for(var m=A.s.r;m<=A.e.r;++m){i(u,-1,0,"BOT");for(var y=A.s.c;y<=A.e.c;++y){var g=$n({r:m,c:y});if(h=p?(c[m]||[])[y]:c[g],!h){i(u,1,0,"");continue}switch(h.t){case"n":var v=h.w;!v&&h.v!=null&&(v=h.v),v==null?h.f&&!h.F?i(u,1,0,"="+h.f):i(u,1,0,""):i(u,0,v,"V");break;case"b":i(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=af(h.z||cs[14],hl(ko(h.v)))),i(u,0,h.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var b=`\r
`,N=u.join(b);return N}})();return{to_workbook:n,to_sheet:t,from_sheet:a}})(),_$=(function(){function r(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(h,p){for(var m=h.split(`
`),y=-1,g=-1,v=0,b=[];v!==m.length;++v){var N=m[v].trim().split(":");if(N[0]==="cell"){var C=xi(N[1]);if(b.length<=C.r)for(y=b.length;y<=C.r;++y)b[y]||(b[y]=[]);switch(y=C.r,g=C.c,N[2]){case"t":b[y][g]=r(N[3]);break;case"v":b[y][g]=+N[3];break;case"vtf":var E=N[N.length-1];case"vtc":N[3]==="nl"?b[y][g]=!!+N[4]:b[y][g]=+N[4],N[2]=="vtf"&&(b[y][g]=[b[y][g],E])}}}return p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),b}function n(h,p){return Fg(t(h,p),p)}function a(h,p){return X0(n(h,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var p=[],m=[],y,g="",v=Xl(h["!ref"]),b=Array.isArray(h),N=v.s.r;N<=v.e.r;++N)for(var C=v.s.c;C<=v.e.c;++C)if(g=$n({r:N,c:C}),y=b?(h[N]||[])[C]:h[g],!(!y||y.v==null||y.t==="z")){switch(m=["cell",g,"t"],y.t){case"s":case"str":m.push(e(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=e(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var E=hl(ko(y.v));m[2]="vtc",m[3]="nd",m[4]=""+E,m[5]=y.w||af(y.z||cs[14],E);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function A(h){return[s,i,l,i,u(h),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:A}})(),vwe=(function(){function r(A,h,p,m,y){y.raw?h[p][m]=A:A===""||(A==="TRUE"?h[p][m]=!0:A==="FALSE"?h[p][m]=!1:isNaN(wA(A))?isNaN(Ry(A).getDate())?h[p][m]=A:h[p][m]=ko(A):h[p][m]=wA(A))}function e(A,h){var p=h||{},m=[];if(!A||A.length===0)return m;for(var y=A.split(/[\r\n]/),g=y.length-1;g>=0&&y[g].length===0;)--g;for(var v=10,b=0,N=0;N<=g;++N)b=y[N].indexOf(" "),b==-1?b=y[N].length:b++,v=Math.max(v,b);for(N=0;N<=g;++N){m[N]=[];var C=0;for(r(y[N].slice(0,v).trim(),m,N,C,p),C=1;C<=(y[N].length-v)/10+1;++C)r(y[N].slice(v+(C-1)*10,v+C*10).trim(),m,N,C,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(A){for(var h={},p=!1,m=0,y=0;m<A.length;++m)(y=A.charCodeAt(m))==34?p=!p:!p&&y in t&&(h[y]=(h[y]||0)+1);y=[];for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&y.push([h[m],m]);if(!y.length){h=n;for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&y.push([h[m],m])}return y.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),t[y.pop()[1]]||44}function s(A,h){var p=h||{},m="",y=p.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};A.slice(0,4)=="sep="?A.charCodeAt(5)==13&&A.charCodeAt(6)==10?(m=A.charAt(4),A=A.slice(7)):A.charCodeAt(5)==13||A.charCodeAt(5)==10?(m=A.charAt(4),A=A.slice(6)):m=a(A.slice(0,1024)):p&&p.FS?m=p.FS:m=a(A.slice(0,1024));var v=0,b=0,N=0,C=0,E=0,_=m.charCodeAt(0),P=!1,O=0,D=A.charCodeAt(0);A=A.replace(/\r\n/mg,`
`);var k=p.dateNF!=null?I1e(p.dateNF):null;function H(){var L=A.slice(C,E),Q={};if(L.charAt(0)=='"'&&L.charAt(L.length-1)=='"'&&(L=L.slice(1,-1).replace(/""/g,'"')),L.length===0)Q.t="z";else if(p.raw)Q.t="s",Q.v=L;else if(L.trim().length===0)Q.t="s",Q.v=L;else if(L.charCodeAt(0)==61)L.charCodeAt(1)==34&&L.charCodeAt(L.length-1)==34?(Q.t="s",Q.v=L.slice(2,-1).replace(/""/g,'"')):x2e(L)?(Q.t="n",Q.f=L.slice(1)):(Q.t="s",Q.v=L);else if(L=="TRUE")Q.t="b",Q.v=!0;else if(L=="FALSE")Q.t="b",Q.v=!1;else if(!isNaN(N=wA(L)))Q.t="n",p.cellText!==!1&&(Q.w=L),Q.v=N;else if(!isNaN(Ry(L).getDate())||k&&L.match(k)){Q.z=p.dateNF||cs[14];var R=0;k&&L.match(k)&&(L=L1e(L,p.dateNF,L.match(k)||[]),R=1),p.cellDates?(Q.t="d",Q.v=ko(L,R)):(Q.t="n",Q.v=hl(ko(L,R))),p.cellText!==!1&&(Q.w=af(Q.z,Q.v instanceof Date?hl(Q.v):Q.v)),p.cellNF||delete Q.z}else Q.t="s",Q.v=L;if(Q.t=="z"||(p.dense?(y[v]||(y[v]=[]),y[v][b]=Q):y[$n({c:b,r:v})]=Q),C=E+1,D=A.charCodeAt(C),g.e.c<b&&(g.e.c=b),g.e.r<v&&(g.e.r=v),O==_)++b;else if(b=0,++v,p.sheetRows&&p.sheetRows<=v)return!0}e:for(;E<A.length;++E)switch(O=A.charCodeAt(E)){case 34:D===34&&(P=!P);break;case _:case 10:case 13:if(!P&&H())break e;break}return E-C>0&&H(),y["!ref"]=Ls(g),y}function i(A,h){return!(h&&h.PRN)||h.FS||A.slice(0,4)=="sep="||A.indexOf("	")>=0||A.indexOf(",")>=0||A.indexOf(";")>=0?s(A,h):Fg(e(A,h),h)}function l(A,h){var p="",m=h.type=="string"?[0,0,0,0]:FSe(A,h);switch(h.type){case"base64":p=kA(A);break;case"binary":p=A;break;case"buffer":h.codepage==65001?p=A.toString("utf8"):h.codepage&&typeof S2<"u"||(p=En&&Buffer.isBuffer(A)?A.toString("binary"):jv(A));break;case"array":p=r5(A);break;case"string":p=A;break;default:throw new Error("Unrecognized type "+h.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=cy(p.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?p=cy(p):h.type=="binary"&&typeof S2<"u",p.slice(0,19)=="socialcalc:version:"?_$.to_sheet(h.type=="string"?p:cy(p),h):i(p,h)}function c(A,h){return X0(l(A,h),h)}function u(A){for(var h=[],p=va(A["!ref"]),m,y=Array.isArray(A),g=p.s.r;g<=p.e.r;++g){for(var v=[],b=p.s.c;b<=p.e.c;++b){var N=$n({r:g,c:b});if(m=y?(A[g]||[])[b]:A[N],!m||m.v==null){v.push("          ");continue}for(var C=(m.w||(FA(m),m.w)||"").slice(0,10);C.length<10;)C+=" ";v.push(C+(b===0?" ":""))}h.push(v.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}})(),mM=(function(){function r(I,z,V){if(I){Ml(I,I.l||0);for(var q=V.Enum||pe;I.l<I.length;){var ne=I.read_shift(2),ce=q[ne]||q[65535],Be=I.read_shift(2),Ae=I.l+Be,ye=ce.f&&ce.f(I,Be,V);if(I.l=Ae,z(ye,ce,ne))return}}}function e(I,z){switch(z.type){case"base64":return t(bu(kA(I)),z);case"binary":return t(bu(I),z);case"buffer":case"array":return t(I,z)}throw"Unsupported type "+z.type}function t(I,z){if(!I)return I;var V=z||{},q=V.dense?[]:{},ne="Sheet1",ce="",Be=0,Ae={},ye=[],Pe=[],je={s:{r:0,c:0},e:{r:0,c:0}},Se=V.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)V.Enum=pe,r(I,function(He,Je,at){switch(at){case 0:V.vers=He,He>=4096&&(V.qpro=!0);break;case 6:je=He;break;case 204:He&&(ce=He);break;case 222:ce=He;break;case 15:case 51:V.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:at==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=V.dateNF||cs[14],V.cellDates&&(He[1].t="d",He[1].v=VK(He[1].v))),V.qpro&&He[3]>Be&&(q["!ref"]=Ls(je),Ae[ne]=q,ye.push(ne),q=V.dense?[]:{},je={s:{r:0,c:0},e:{r:0,c:0}},Be=He[3],ne=ce||"Sheet"+(Be+1),ce="");var ze=V.dense?(q[He[0].r]||[])[He[0].c]:q[$n(He[0])];if(ze){ze.t=He[1].t,ze.v=He[1].v,He[1].z!=null&&(ze.z=He[1].z),He[1].f!=null&&(ze.f=He[1].f);break}V.dense?(q[He[0].r]||(q[He[0].r]=[]),q[He[0].r][He[0].c]=He[1]):q[$n(He[0])]=He[1];break}},V);else if(I[2]==26||I[2]==14)V.Enum=Z,I[2]==14&&(V.qpro=!0,I.l=0),r(I,function(He,Je,at){switch(at){case 204:ne=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>Be&&(q["!ref"]=Ls(je),Ae[ne]=q,ye.push(ne),q=V.dense?[]:{},je={s:{r:0,c:0},e:{r:0,c:0}},Be=He[3],ne="Sheet"+(Be+1)),Se>0&&He[0].r>=Se)break;V.dense?(q[He[0].r]||(q[He[0].r]=[]),q[He[0].r][He[0].c]=He[1]):q[$n(He[0])]=He[1],je.e.c<He[0].c&&(je.e.c=He[0].c),je.e.r<He[0].r&&(je.e.r=He[0].r);break;case 27:He[14e3]&&(Pe[He[14e3][0]]=He[14e3][1]);break;case 1537:Pe[He[0]]=He[1],He[0]==Be&&(ne=He[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(q["!ref"]=Ls(je),Ae[ce||ne]=q,ye.push(ce||ne),!Pe.length)return{SheetNames:ye,Sheets:Ae};for(var Te={},J=[],Le=0;Le<Pe.length;++Le)Ae[ye[Le]]?(J.push(Pe[Le]||ye[Le]),Te[Pe[Le]]=Ae[Pe[Le]]||Ae[ye[Le]]):(J.push(Pe[Le]),Te[Pe[Le]]={"!ref":"A1"});return{SheetNames:J,Sheets:Te}}function n(I,z){var V=z||{};if(+V.codepage>=0&&Ly(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var q=dl(),ne=va(I["!ref"]),ce=Array.isArray(I),Be=[];Pt(q,0,s(1030)),Pt(q,6,c(ne));for(var Ae=Math.min(ne.e.r,8191),ye=ne.s.r;ye<=Ae;++ye)for(var Pe=$i(ye),je=ne.s.c;je<=ne.e.c;++je){ye===ne.s.r&&(Be[je]=uo(je));var Se=Be[je]+Pe,Te=ce?(I[ye]||[])[je]:I[Se];if(!(!Te||Te.t=="z"))if(Te.t=="n")(Te.v|0)==Te.v&&Te.v>=-32768&&Te.v<=32767?Pt(q,13,m(ye,je,Te.v)):Pt(q,14,g(ye,je,Te.v));else{var J=FA(Te);Pt(q,15,h(ye,je,J.slice(0,239)))}}return Pt(q,1),q.end()}function a(I,z){var V=z||{};if(+V.codepage>=0&&Ly(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var q=dl();Pt(q,0,i(I));for(var ne=0,ce=0;ne<I.SheetNames.length;++ne)(I.Sheets[I.SheetNames[ne]]||{})["!ref"]&&Pt(q,27,de(I.SheetNames[ne],ce++));var Be=0;for(ne=0;ne<I.SheetNames.length;++ne){var Ae=I.Sheets[I.SheetNames[ne]];if(!(!Ae||!Ae["!ref"])){for(var ye=va(Ae["!ref"]),Pe=Array.isArray(Ae),je=[],Se=Math.min(ye.e.r,8191),Te=ye.s.r;Te<=Se;++Te)for(var J=$i(Te),Le=ye.s.c;Le<=ye.e.c;++Le){Te===ye.s.r&&(je[Le]=uo(Le));var He=je[Le]+J,Je=Pe?(Ae[Te]||[])[Le]:Ae[He];if(!(!Je||Je.t=="z"))if(Je.t=="n")Pt(q,23,H(Te,Le,Be,Je.v));else{var at=FA(Je);Pt(q,22,O(Te,Le,Be,at.slice(0,239)))}}++Be}}return Pt(q,1),q.end()}function s(I){var z=dt(2);return z.write_shift(2,I),z}function i(I){var z=dt(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var V=0,q=0,ne=0,ce=0;ce<I.SheetNames.length;++ce){var Be=I.SheetNames[ce],Ae=I.Sheets[Be];if(!(!Ae||!Ae["!ref"])){++ne;var ye=Xl(Ae["!ref"]);V<ye.e.r&&(V=ye.e.r),q<ye.e.c&&(q=ye.e.c)}}return V>8191&&(V=8191),z.write_shift(2,V),z.write_shift(1,ne),z.write_shift(1,q),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function l(I,z,V){var q={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&V.qpro?(q.s.c=I.read_shift(1),I.l++,q.s.r=I.read_shift(2),q.e.c=I.read_shift(1),I.l++,q.e.r=I.read_shift(2),q):(q.s.c=I.read_shift(2),q.s.r=I.read_shift(2),z==12&&V.qpro&&(I.l+=2),q.e.c=I.read_shift(2),q.e.r=I.read_shift(2),z==12&&V.qpro&&(I.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function c(I){var z=dt(8);return z.write_shift(2,I.s.c),z.write_shift(2,I.s.r),z.write_shift(2,I.e.c),z.write_shift(2,I.e.r),z}function u(I,z,V){var q=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(q[0].c=I.read_shift(1),q[3]=I.read_shift(1),q[0].r=I.read_shift(2),I.l+=2):(q[2]=I.read_shift(1),q[0].c=I.read_shift(2),q[0].r=I.read_shift(2)),q}function A(I,z,V){var q=I.l+z,ne=u(I,z,V);if(ne[1].t="s",V.vers==20768){I.l++;var ce=I.read_shift(1);return ne[1].v=I.read_shift(ce,"utf8"),ne}return V.qpro&&I.l++,ne[1].v=I.read_shift(q-I.l,"cstr"),ne}function h(I,z,V){var q=dt(7+V.length);q.write_shift(1,255),q.write_shift(2,z),q.write_shift(2,I),q.write_shift(1,39);for(var ne=0;ne<q.length;++ne){var ce=V.charCodeAt(ne);q.write_shift(1,ce>=128?95:ce)}return q.write_shift(1,0),q}function p(I,z,V){var q=u(I,z,V);return q[1].v=I.read_shift(2,"i"),q}function m(I,z,V){var q=dt(7);return q.write_shift(1,255),q.write_shift(2,z),q.write_shift(2,I),q.write_shift(2,V,"i"),q}function y(I,z,V){var q=u(I,z,V);return q[1].v=I.read_shift(8,"f"),q}function g(I,z,V){var q=dt(13);return q.write_shift(1,255),q.write_shift(2,z),q.write_shift(2,I),q.write_shift(8,V,"f"),q}function v(I,z,V){var q=I.l+z,ne=u(I,z,V);if(ne[1].v=I.read_shift(8,"f"),V.qpro)I.l=q;else{var ce=I.read_shift(2);E(I.slice(I.l,I.l+ce),ne),I.l+=ce}return ne}function b(I,z,V){var q=z&32768;return z&=-32769,z=(q?I:0)+(z>=8192?z-16384:z),(q?"":"$")+(V?uo(z):$i(z))}var N={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(I,z){Ml(I,0);for(var V=[],q=0,ne="",ce="",Be="",Ae="";I.l<I.length;){var ye=I[I.l++];switch(ye){case 0:V.push(I.read_shift(8,"f"));break;case 1:ce=b(z[0].c,I.read_shift(2),!0),ne=b(z[0].r,I.read_shift(2),!1),V.push(ce+ne);break;case 2:{var Pe=b(z[0].c,I.read_shift(2),!0),je=b(z[0].r,I.read_shift(2),!1);ce=b(z[0].c,I.read_shift(2),!0),ne=b(z[0].r,I.read_shift(2),!1),V.push(Pe+je+":"+ce+ne)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(I.read_shift(2));break;case 6:{for(var Se="";ye=I[I.l++];)Se+=String.fromCharCode(ye);V.push('"'+Se.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:Ae=V.pop(),Be=V.pop(),V.push(["AND","OR"][ye-20]+"("+Be+","+Ae+")");break;default:if(ye<32&&C[ye])Ae=V.pop(),Be=V.pop(),V.push(Be+C[ye]+Ae);else if(N[ye]){if(q=N[ye][1],q==69&&(q=I[I.l++]),q>V.length){console.error("WK1 bad formula parse 0x"+ye.toString(16)+":|"+V.join("|")+"|");return}var Te=V.slice(-q);V.length-=q,V.push(N[ye][0]+"("+Te.join(",")+")")}else return ye<=7?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=24?console.error("WK1 unsupported op "+ye.toString(16)):ye<=30?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=115?console.error("WK1 unsupported function opcode "+ye.toString(16)):console.error("WK1 unrecognized opcode "+ye.toString(16))}}V.length==1?z[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function _(I){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=I.read_shift(2),z[3]=I[I.l++],z[0].c=I[I.l++],z}function P(I,z){var V=_(I);return V[1].t="s",V[1].v=I.read_shift(z-4,"cstr"),V}function O(I,z,V,q){var ne=dt(6+q.length);ne.write_shift(2,I),ne.write_shift(1,V),ne.write_shift(1,z),ne.write_shift(1,39);for(var ce=0;ce<q.length;++ce){var Be=q.charCodeAt(ce);ne.write_shift(1,Be>=128?95:Be)}return ne.write_shift(1,0),ne}function D(I,z){var V=_(I);V[1].v=I.read_shift(2);var q=V[1].v>>1;if(V[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return V[1].v=q,V}function k(I,z){var V=_(I),q=I.read_shift(4),ne=I.read_shift(4),ce=I.read_shift(2);if(ce==65535)return q===0&&ne===3221225472?(V[1].t="e",V[1].v=15):q===0&&ne===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var Be=ce&32768;return ce=(ce&32767)-16446,V[1].v=(1-Be*2)*(ne*Math.pow(2,ce+32)+q*Math.pow(2,ce)),V}function H(I,z,V,q){var ne=dt(14);if(ne.write_shift(2,I),ne.write_shift(1,V),ne.write_shift(1,z),q==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var ce=0,Be=0,Ae=0,ye=0;return q<0&&(ce=1,q=-q),Be=Math.log2(q)|0,q/=Math.pow(2,Be-31),ye=q>>>0,(ye&2147483648)==0&&(q/=2,++Be,ye=q>>>0),q-=ye,ye|=2147483648,ye>>>=0,q*=Math.pow(2,32),Ae=q>>>0,ne.write_shift(4,Ae),ne.write_shift(4,ye),Be+=16383+(ce?32768:0),ne.write_shift(2,Be),ne}function L(I,z){var V=k(I);return I.l+=z-14,V}function Q(I,z){var V=_(I),q=I.read_shift(4);return V[1].v=q>>6,V}function R(I,z){var V=_(I),q=I.read_shift(8,"f");return V[1].v=q,V}function K(I,z){var V=R(I);return I.l+=z-10,V}function ee(I,z){return I[I.l+z-1]==0?I.read_shift(z,"cstr"):""}function X(I,z){var V=I[I.l++];V>z-1&&(V=z-1);for(var q="";q.length<V;)q+=String.fromCharCode(I[I.l++]);return q}function ae(I,z,V){if(!(!V.qpro||z<21)){var q=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var ne=I.read_shift(z-21,"cstr");return[q,ne]}}function Y(I,z){for(var V={},q=I.l+z;I.l<q;){var ne=I.read_shift(2);if(ne==14e3){for(V[ne]=[0,""],V[ne][0]=I.read_shift(2);I[I.l];)V[ne][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return V}function de(I,z){var V=dt(5+I.length);V.write_shift(2,14e3),V.write_shift(2,z);for(var q=0;q<I.length;++q){var ne=I.charCodeAt(q);V[V.l++]=ne>127?95:ne}return V[V.l++]=0,V}var pe={0:{n:"BOF",f:N$},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:A},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:A},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ee},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:D},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Y},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:Q},38:{n:"??"},39:{n:"NUMBER27",f:R},40:{n:"FORMULA28",f:K},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ae},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}})(),bwe=/^\s|\s$|[\t\n\r]/;function T$(r,e){if(!e.bookSST)return"";var t=[Ms];t[t.length]=Ot("sst",null,{xmlns:kg[0],count:r.Count,uniqueCount:r.Unique});for(var n=0;n!=r.length;++n)if(r[n]!=null){var a=r[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(bwe)&&(s+=' xml:space="preserve"'),s+=">"+zn(a.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function wwe(r){return[r.read_shift(4),r.read_shift(4)]}function Cwe(r,e){return e||(e=dt(8)),e.write_shift(4,r.Count),e.write_shift(4,r.Unique),e}var Nwe=fbe;function Swe(r){var e=dl();Ct(e,159,Cwe(r));for(var t=0;t<r.length;++t)Ct(e,19,Nwe(r[t]));return Ct(e,160),e.end()}function Bwe(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function k$(r){var e=0,t,n=Bwe(r),a=n.length+1,s,i,l,c,u;for(t=M0(a),t[0]=n.length,s=1;s!=a;++s)t[s]=n[s-1];for(s=a-1;s>=0;--s)i=t[s],l=(e&16384)===0?0:1,c=e<<1&32767,u=l|c,e=u^i;return e^52811}var Ewe=(function(){function r(a,s){switch(s.type){case"base64":return e(kA(a),s);case"binary":return e(a,s);case"buffer":return e(En&&Buffer.isBuffer(a)?a.toString("binary"):jv(a),s);case"array":return e(r5(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){var i=s||{},l=i.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(A,h){Array.isArray(l)&&(l[h]=[]);for(var p=/\\\w+\b/g,m=0,y,g=-1;y=p.exec(A);){switch(y[0]){case"\\cell":var v=A.slice(m,p.lastIndex-y[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var b={v,t:"s"};Array.isArray(l)?l[h][g]=b:l[$n({r:h,c:g})]=b}break}m=p.lastIndex}g>u.e.c&&(u.e.c=g)}),l["!ref"]=Ls(u),l}function t(a,s){return X0(r(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=va(a["!ref"]),l,c=Array.isArray(a),u=i.s.r;u<=i.e.r;++u){s.push("\\trowd\\trautofit1");for(var A=i.s.c;A<=i.e.c;++A)s.push("\\cellx"+(A+1));for(s.push("\\pard\\intbl"),A=i.s.c;A<=i.e.c;++A){var h=$n({r:u,c:A});l=c?(a[u]||[])[A]:a[h],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(FA(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}})();function pM(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}var jwe=6,CA=jwe;function D2(r){return Math.floor((r+Math.round(128/CA)/256)*CA)}function P2(r){return Math.floor((r-5)/CA*100+.5)/100}function A4(r){return Math.round((r*CA+5)/CA*256)/256}function U3(r){r.width?(r.wpx=D2(r.width),r.wch=P2(r.wpx),r.MDW=CA):r.wpx?(r.wch=P2(r.wpx),r.width=A4(r.wch),r.MDW=CA):typeof r.wch=="number"&&(r.width=A4(r.wch),r.wpx=D2(r.width),r.MDW=CA),r.customWidth&&delete r.customWidth}var _we=96,F$=_we;function I2(r){return r*96/F$}function O$(r){return r*F$/96}function Twe(r){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)r[n]!=null&&(e[e.length]=Ot("numFmt",null,{numFmtId:n,formatCode:zn(r[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Ot("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function kwe(r){var e=[];return e[e.length]=Ot("cellXfs",null),r.forEach(function(t){e[e.length]=Ot("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Ot("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function D$(r,e){var t=[Ms,Ot("styleSheet",null,{xmlns:kg[0],"xmlns:vt":pi.vt})],n;return r.SSF&&(n=Twe(r.SSF))!=null&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=kwe(e.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function Fwe(r,e){var t=r.read_shift(2),n=Ao(r);return[t,n]}function Owe(r,e,t){t||(t=dt(6+4*e.length)),t.write_shift(2,r),yi(e,t);var n=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),n}function Dwe(r,e,t){var n={};n.sz=r.read_shift(2)/20;var a=bbe(r);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=r.read_shift(2);switch(s===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=r.read_shift(1);i!=0&&(n.underline=i);var l=r.read_shift(1);l>0&&(n.family=l);var c=r.read_shift(1);switch(c>0&&(n.charset=c),r.l++,n.color=vbe(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ao(r),n}function Pwe(r,e){e||(e=dt(153)),e.write_shift(2,r.sz*20),wbe(r,e),e.write_shift(2,r.bold?700:400);var t=0;r.vertAlign=="superscript"?t=1:r.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,r.underline||0),e.write_shift(1,r.family||0),e.write_shift(1,r.charset||0),e.write_shift(1,0),F2(r.color,e);var n=0;return n=2,e.write_shift(1,n),yi(r.name,e),e.length>e.l?e.slice(0,e.l):e}var Iwe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],HB,Lwe=Sd;function gM(r,e){e||(e=dt(84)),HB||(HB=j3(Iwe));var t=HB[r.patternType];t==null&&(t=40),e.write_shift(4,t);var n=0;if(t!=40)for(F2({auto:1},e),F2({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Mwe(r,e){var t=r.l+e,n=r.read_shift(2),a=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:a}}function P$(r,e,t){t||(t=dt(16)),t.write_shift(2,e||0),t.write_shift(2,r.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var n=0;return t.write_shift(1,n),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Dx(r,e){return e||(e=dt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Rwe=Sd;function Uwe(r,e){return e||(e=dt(51)),e.write_shift(1,0),Dx(null,e),Dx(null,e),Dx(null,e),Dx(null,e),Dx(null,e),e.length>e.l?e.slice(0,e.l):e}function Qwe(r,e){return e||(e=dt(52)),e.write_shift(4,r.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),k2(r.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Hwe(r,e,t){var n=dt(2052);return n.write_shift(4,r),k2(e,n),k2(t,n),n.length>n.l?n.slice(0,n.l):n}function zwe(r,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&++t}),t!=0&&(Ct(r,615,Bu(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&Ct(r,44,Owe(a,e[a]))}),Ct(r,616))}}function Kwe(r){var e=1;Ct(r,611,Bu(e)),Ct(r,43,Pwe({sz:12,color:{theme:1},name:"Calibri",family:2})),Ct(r,612)}function $we(r){var e=2;Ct(r,603,Bu(e)),Ct(r,45,gM({patternType:"none"})),Ct(r,45,gM({patternType:"gray125"})),Ct(r,604)}function Vwe(r){var e=1;Ct(r,613,Bu(e)),Ct(r,46,Uwe()),Ct(r,614)}function qwe(r){var e=1;Ct(r,626,Bu(e)),Ct(r,47,P$({numFmtId:0},65535)),Ct(r,627)}function Gwe(r,e){Ct(r,617,Bu(e.length)),e.forEach(function(t){Ct(r,47,P$(t,0))}),Ct(r,618)}function Wwe(r){var e=1;Ct(r,619,Bu(e)),Ct(r,48,Qwe({xfId:0,name:"Normal"})),Ct(r,620)}function Ywe(r){var e=0;Ct(r,505,Bu(e)),Ct(r,506)}function Xwe(r){var e=0;Ct(r,508,Hwe(e,"TableStyleMedium9","PivotStyleMedium4")),Ct(r,509)}function Jwe(r,e){var t=dl();return Ct(t,278),zwe(t,r.SSF),Kwe(t),$we(t),Vwe(t),qwe(t),Gwe(t,e.cellXfs),Wwe(t),Ywe(t),Xwe(t),Ct(t,279),t.end()}function I$(r,e){if(e&&e.themeXLSX)return e.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var t=[Ms];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function Zwe(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:Ao(r)}}function e2e(r){var e=dt(12+2*r.name.length);return e.write_shift(4,r.flags),e.write_shift(4,r.version),yi(r.name,e),e.slice(0,e.l)}function t2e(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function r2e(r){var e=dt(4+8*r.length);e.write_shift(4,r.length);for(var t=0;t<r.length;++t)e.write_shift(4,r[t][0]),e.write_shift(4,r[t][1]);return e}function n2e(r,e){var t=dt(8+2*e.length);return t.write_shift(4,r),yi(e,t),t.slice(0,t.l)}function a2e(r){return r.l+=4,r.read_shift(4)!=0}function s2e(r,e){var t=dt(8);return t.write_shift(4,r),t.write_shift(4,1),t}function i2e(){var r=dl();return Ct(r,332),Ct(r,334,Bu(1)),Ct(r,335,e2e({name:"XLDAPR",version:12e4,flags:3496657072})),Ct(r,336),Ct(r,339,n2e(1,"XLDAPR")),Ct(r,52),Ct(r,35,Bu(514)),Ct(r,4096,Bu(0)),Ct(r,4097,Bc(1)),Ct(r,36),Ct(r,53),Ct(r,340),Ct(r,337,s2e(1)),Ct(r,51,r2e([[1,0]])),Ct(r,338),Ct(r,333),r.end()}function L$(){var r=[Ms];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function o2e(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=$n(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Np=1024;function M$(r,e){for(var t=[21600,21600],n=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),a=[Ot("xml",null,{"xmlns:v":Ul.v,"xmlns:o":Ul.o,"xmlns:x":Ul.x,"xmlns:mv":Ul.mv}).replace(/\/>/,">"),Ot("o:shapelayout",Ot("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),Ot("v:shapetype",[Ot("v:stroke",null,{joinstyle:"miter"}),Ot("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:n})];Np<r*1e3;)Np+=1e3;return e.forEach(function(s){var i=xi(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Ot("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Ot("v:fill",c,l),A={on:"t",obscured:"t"};++Np,a=a.concat(["<v:shape"+Qy({id:"_x0000_s"+Np,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Ot("v:shadow",null,A),Ot("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",zi("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),zi("x:AutoFill","False"),zi("x:Row",String(i.r)),zi("x:Column",String(i.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function R$(r){var e=[Ms,Ot("comments",null,{xmlns:kg[0]})],t=[];return e.push("<authors>"),r.forEach(function(n){n[1].forEach(function(a){var s=zn(a.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),a.T&&a.ID&&t.indexOf("tc="+a.ID)==-1&&(t.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),r.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=t.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=t.indexOf(zn(c.a))),s.push(c.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)e.push(zi("t",zn(s[0]||"")));else{for(var i=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)i+=`Reply:
    `+s[l]+`
`;e.push(zi("t",zn(i)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function l2e(r,e,t){var n=[Ms,Ot("ThreadedComments",null,{xmlns:pi.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(a){var s="";(a[1]||[]).forEach(function(i,l){if(!i.T){delete i.ID;return}i.a&&e.indexOf(i.a)==-1&&e.push(i.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};l==0?s=c.id:c.parentId=s,i.ID=c.id,i.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(i.a)).slice(-12)+"}"),n.push(Ot("threadedComment",zi("text",i.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function c2e(r){var e=[Ms,Ot("personList",null,{xmlns:pi.TCMNT,"xmlns:x":kg[0]}).replace(/[\/]>/,">")];return r.forEach(function(t,n){e.push(Ot("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function u2e(r){var e={};e.iauthor=r.read_shift(4);var t=tm(r);return e.rfx=t.s,e.ref=$n(t.s),r.l+=16,e}function d2e(r,e){return e==null&&(e=dt(36)),e.write_shift(4,r[1].iauthor),Og(r[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var A2e=Ao;function h2e(r){return yi(r.slice(0,54))}function f2e(r){var e=dl(),t=[];return Ct(e,628),Ct(e,630),r.forEach(function(n){n[1].forEach(function(a){t.indexOf(a.a)>-1||(t.push(a.a.slice(0,54)),Ct(e,632,h2e(a.a)))})}),Ct(e,631),Ct(e,633),r.forEach(function(n){n[1].forEach(function(a){a.iauthor=t.indexOf(a.a);var s={s:xi(n[0]),e:xi(n[0])};Ct(e,635,d2e([s,a])),a.t&&a.t.length>0&&Ct(e,637,pbe(a)),Ct(e,636),delete a.iauthor})}),Ct(e,634),Ct(e,629),e.end()}function m2e(r,e){e.FullPaths.forEach(function(t,n){if(n!=0){var a=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&ta.utils.cfb_add(r,a,e.FileIndex[n].content)}})}var U$=["xlsb","xlsm","xlam","biff8","xla"],p2e=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,a,s,i){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,A=i.length>0?parseInt(i,10)|0:0;return l?A+=e.c:--A,c?u+=e.r:--u,a+(l?"":"$")+uo(A)+(c?"":"$")+$i(u)}return function(a,s){return e=s,a.replace(r,t)}})(),Q3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,H3=(function(){return function(e,t){return e.replace(Q3,function(n,a,s,i,l,c){var u=P3(i)-(s?0:t.c),A=D3(c)-(l?0:t.r),h=A==0?"":l?A+1:"["+A+"]",p=u==0?"":s?u+1:"["+u+"]";return a+"R"+h+"C"+p})}})();function g2e(r,e){return r.replace(Q3,function(t,n,a,s,i,l){return n+(a=="$"?a+s:uo(P3(s)+e.c))+(i=="$"?i+l:$i(D3(l)+e.r))})}function x2e(r){return r.length!=1}function Fs(r){r.l+=1}function sf(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function Q$(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return H$(r);t.biff==12&&(n=4)}var a=r.read_shift(n),s=r.read_shift(n),i=sf(r),l=sf(r);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function H$(r){var e=sf(r),t=sf(r),n=r.read_shift(1),a=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:a,cRel:t[1],rRel:t[2]}}}function y2e(r,e,t){if(t.biff<8)return H$(r);var n=r.read_shift(t.biff==12?4:2),a=r.read_shift(t.biff==12?4:2),s=sf(r),i=sf(r);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function z$(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return v2e(r);var n=r.read_shift(t&&t.biff==12?4:2),a=sf(r);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function v2e(r){var e=sf(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function b2e(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function w2e(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return C2e(r);var a=r.read_shift(n>=12?4:2),s=r.read_shift(2),i=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:l}}function C2e(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:a,rRel:n}}function N2e(r,e,t){var n=(r[r.l++]&96)>>5,a=Q$(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,a]}function S2e(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}var i=Q$(r,s,t);return[n,a,i]}function B2e(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function E2e(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}return r.l+=s,[n,a]}function j2e(r,e,t){var n=(r[r.l++]&96)>>5,a=y2e(r,e-1,t);return[n,a]}function _2e(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function xM(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function T2e(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(r.read_shift(t&&t.biff==2?1:2));return a}function k2e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function F2e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function O2e(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function D2e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function K$(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function P2e(r){return r.read_shift(2),K$(r)}function I2e(r){return r.read_shift(2),K$(r)}function L2e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=z$(r,0,t);return[n,a]}function M2e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=w2e(r,0,t);return[n,a]}function R2e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var s=z$(r,0,t);return[n,a,s]}function U2e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=r.read_shift(t&&t.biff<=3?1:2);return[UCe[a],q$[a],n]}function Q2e(r,e,t){var n=r[r.l++],a=r.read_shift(1),s=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:H2e(r);return[a,(s[0]===0?q$:RCe)[s[1]]]}function H2e(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function z2e(r,e,t){r.l+=t&&t.biff==2?3:4}function K2e(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function $2e(r){return r.l++,kv[r.read_shift(1)]}function V2e(r){return r.l++,r.read_shift(2)}function q2e(r){return r.l++,r.read_shift(1)!==0}function G2e(r){return r.l++,Dg(r)}function W2e(r,e,t){return r.l++,B$(r,e-1,t)}function Y2e(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Rbe(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=kv[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=Dg(r);break;case 2:t[1]=zbe(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function X2e(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((t.biff==12?tm:Vbe)(r));return a}function J2e(r,e,t){var n=0,a=0;t.biff==12?(n=r.read_shift(4),a=r.read_shift(4)):(a=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var l=0;l!=a;++l)i[s][l]=Y2e(r,t.biff);return i}function Z2e(r,e,t){var n=r.read_shift(1)>>>5&3,a=!t||t.biff>=8?4:2,s=r.read_shift(a);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,s]}function eCe(r,e,t){if(t.biff==5)return tCe(r);var n=r.read_shift(1)>>>5&3,a=r.read_shift(2),s=r.read_shift(4);return[n,a,s]}function tCe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function rCe(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function nCe(r,e,t){var n=r.read_shift(1)>>>5&3,a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function aCe(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function sCe(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return r.l+=s,[n,a]}var iCe=Sd,oCe=Sd,lCe=Sd;function Fv(r,e,t){return r.l+=2,[b2e(r)]}function z3(r){return r.l+=6,[]}var cCe=Fv,uCe=z3,dCe=z3,ACe=Fv;function $$(r){return r.l+=2,[N$(r),r.read_shift(2)&1]}var hCe=Fv,fCe=$$,mCe=z3,pCe=Fv,gCe=Fv,xCe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function yCe(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),a=r.read_shift(2),s=r.read_shift(2),i=xCe[t>>2&31];return{ixti:e,coltype:t&3,rt:i,idx:n,c:a,C:s}}function vCe(r){return r.l+=2,[r.read_shift(4)]}function bCe(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function wCe(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function CCe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function NCe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function SCe(r){return r.l+=4,[0,0]}var yM={1:{n:"PtgExp",f:K2e},2:{n:"PtgTbl",f:lCe},3:{n:"PtgAdd",f:Fs},4:{n:"PtgSub",f:Fs},5:{n:"PtgMul",f:Fs},6:{n:"PtgDiv",f:Fs},7:{n:"PtgPower",f:Fs},8:{n:"PtgConcat",f:Fs},9:{n:"PtgLt",f:Fs},10:{n:"PtgLe",f:Fs},11:{n:"PtgEq",f:Fs},12:{n:"PtgGe",f:Fs},13:{n:"PtgGt",f:Fs},14:{n:"PtgNe",f:Fs},15:{n:"PtgIsect",f:Fs},16:{n:"PtgUnion",f:Fs},17:{n:"PtgRange",f:Fs},18:{n:"PtgUplus",f:Fs},19:{n:"PtgUminus",f:Fs},20:{n:"PtgPercent",f:Fs},21:{n:"PtgParen",f:Fs},22:{n:"PtgMissArg",f:Fs},23:{n:"PtgStr",f:W2e},26:{n:"PtgSheet",f:bCe},27:{n:"PtgEndSheet",f:wCe},28:{n:"PtgErr",f:$2e},29:{n:"PtgBool",f:q2e},30:{n:"PtgInt",f:V2e},31:{n:"PtgNum",f:G2e},32:{n:"PtgArray",f:_2e},33:{n:"PtgFunc",f:U2e},34:{n:"PtgFuncVar",f:Q2e},35:{n:"PtgName",f:Z2e},36:{n:"PtgRef",f:L2e},37:{n:"PtgArea",f:N2e},38:{n:"PtgMemArea",f:rCe},39:{n:"PtgMemErr",f:iCe},40:{n:"PtgMemNoMem",f:oCe},41:{n:"PtgMemFunc",f:nCe},42:{n:"PtgRefErr",f:aCe},43:{n:"PtgAreaErr",f:B2e},44:{n:"PtgRefN",f:M2e},45:{n:"PtgAreaN",f:j2e},46:{n:"PtgMemAreaN",f:CCe},47:{n:"PtgMemNoMemN",f:NCe},57:{n:"PtgNameX",f:eCe},58:{n:"PtgRef3d",f:R2e},59:{n:"PtgArea3d",f:S2e},60:{n:"PtgRefErr3d",f:sCe},61:{n:"PtgAreaErr3d",f:E2e},255:{}},BCe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},ECe={1:{n:"PtgElfLel",f:$$},2:{n:"PtgElfRw",f:pCe},3:{n:"PtgElfCol",f:cCe},6:{n:"PtgElfRwV",f:gCe},7:{n:"PtgElfColV",f:ACe},10:{n:"PtgElfRadical",f:hCe},11:{n:"PtgElfRadicalS",f:mCe},13:{n:"PtgElfColS",f:uCe},15:{n:"PtgElfColSV",f:dCe},16:{n:"PtgElfRadicalLel",f:fCe},25:{n:"PtgList",f:yCe},29:{n:"PtgSxName",f:vCe},255:{}},jCe={0:{n:"PtgAttrNoop",f:SCe},1:{n:"PtgAttrSemi",f:D2e},2:{n:"PtgAttrIf",f:F2e},4:{n:"PtgAttrChoose",f:T2e},8:{n:"PtgAttrGoto",f:k2e},16:{n:"PtgAttrSum",f:z2e},32:{n:"PtgAttrBaxcel",f:xM},33:{n:"PtgAttrBaxcel",f:xM},64:{n:"PtgAttrSpace",f:P2e},65:{n:"PtgAttrSpaceSemi",f:I2e},128:{n:"PtgAttrIfError",f:O2e},255:{}};function _Ce(r,e,t,n){if(n.biff<8)return Sd(r,e);for(var a=r.l+e,s=[],i=0;i!==t.length;++i)switch(t[i][0]){case"PtgArray":t[i][1]=J2e(r,0,n),s.push(t[i][1]);break;case"PtgMemArea":t[i][2]=X2e(r,t[i][1],n),s.push(t[i][2]);break;case"PtgExp":n&&n.biff==12&&(t[i][1][1]=r.read_shift(4),s.push(t[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[i][0]}return e=a-r.l,e!==0&&s.push(Sd(r,e)),s}function TCe(r,e,t){for(var n=r.l+e,a,s,i=[];n!=r.l;)e=n-r.l,s=r[r.l],a=yM[s]||yM[BCe[s]],(s===24||s===25)&&(a=(s===24?ECe:jCe)[r[r.l+1]]),!a||!a.f?Sd(r,e):i.push([a.n,a.f(r,e,t)]);return i}function kCe(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],a=[],s=0;s<n.length;++s){var i=n[s];i?i[0]===2?a.push('"'+i[1].replace(/"/g,'""')+'"'):a.push(i[1]):a.push("")}e.push(a.join(","))}return e.join(";")}var FCe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function OCe(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function V$(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(t.biff>8)switch(r[n[0]][0]){case 357:return a=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?a:a+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return r[n[0]][0][3]?(a=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function vM(r,e,t){var n=V$(r,e,t);return n=="#REF"?n:OCe(n,t)}function ig(r,e,t,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0}},l=[],c,u,A,h=0,p=0,m,y="";if(!r[0]||!r[0][0])return"";for(var g=-1,v="",b=0,N=r[0].length;b<N;++b){var C=r[0][b];switch(C[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),g>=0){switch(r[0][g][1][0]){case 0:v=is(" ",r[0][g][1][1]);break;case 1:v=is("\r",r[0][g][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][g][1][0])}u=u+v,g=-1}l.push(u+FCe[C[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":A=dy(C[1][1],i,a),l.push(Ay(A,s));break;case"PtgRefN":A=t?dy(C[1][1],t,a):C[1][1],l.push(Ay(A,s));break;case"PtgRef3d":h=C[1][1],A=dy(C[1][2],i,a),y=vM(n,h,a),l.push(y+"!"+Ay(A,s));break;case"PtgFunc":case"PtgFuncVar":var E=C[1][0],_=C[1][1];E||(E=0),E&=127;var P=E==0?[]:l.slice(-E);l.length-=E,_==="User"&&(_=P.shift()),l.push(_+"("+P.join(",")+")");break;case"PtgBool":l.push(C[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(C[1]);break;case"PtgNum":l.push(String(C[1]));break;case"PtgStr":l.push('"'+C[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(C[1]);break;case"PtgAreaN":m=aM(C[1][1],t?{s:t}:i,a),l.push(UB(m,a));break;case"PtgArea":m=aM(C[1][1],i,a),l.push(UB(m,a));break;case"PtgArea3d":h=C[1][1],m=C[1][2],y=vM(n,h,a),l.push(y+"!"+UB(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=C[1][2];var O=(n.names||[])[p-1]||(n[0]||[])[p],D=O?O.Name:"SH33TJSNAME"+String(p);D&&D.slice(0,6)=="_xlfn."&&!a.xlfn&&(D=D.slice(6)),l.push(D);break;case"PtgNameX":var k=C[1][1];p=C[1][2];var H;if(a.biff<=5)k<0&&(k=-k),n[k]&&(H=n[k][p]);else{var L="";if(((n[k]||[])[0]||[])[0]==14849||(((n[k]||[])[0]||[])[0]==1025?n[k][p]&&n[k][p].itab>0&&(L=n.SheetNames[n[k][p].itab-1]+"!"):L=n.SheetNames[p-1]+"!"),n[k]&&n[k][p])L+=n[k][p].Name;else if(n[0]&&n[0][p])L+=n[0][p].Name;else{var Q=(V$(n,k,a)||"").split(";;");Q[p-1]?L=Q[p-1]:L+="SH33TJSERRX"}l.push(L);break}H||(H={Name:"SH33TJSERRY"}),l.push(H.Name);break;case"PtgParen":var R="(",K=")";if(g>=0){switch(v="",r[0][g][1][0]){case 2:R=is(" ",r[0][g][1][1])+R;break;case 3:R=is("\r",r[0][g][1][1])+R;break;case 4:K=is(" ",r[0][g][1][1])+K;break;case 5:K=is("\r",r[0][g][1][1])+K;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][g][1][0])}g=-1}l.push(R+l.pop()+K);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":A={c:C[1][1],r:C[1][0]};var ee={c:t.c,r:t.r};if(n.sharedf[$n(A)]){var X=n.sharedf[$n(A)];l.push(ig(X,i,ee,n,a))}else{var ae=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(A.c<u[0].s.c||A.c>u[0].e.c)&&!(A.r<u[0].s.r||A.r>u[0].e.r)){l.push(ig(u[1],i,ee,n,a)),ae=!0;break}ae||l.push(C[1])}break;case"PtgArray":l.push("{"+kCe(C[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+C[1].idx+"[#"+C[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(C));default:throw new Error("Unrecognized Formula Token: "+String(C))}var Y=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&Y.indexOf(r[0][b][0])==-1){C=r[0][g];var de=!0;switch(C[1][0]){case 4:de=!1;case 0:v=is(" ",C[1][1]);break;case 5:de=!1;case 1:v=is("\r",C[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+C[1][0])}l.push((de?v:"")+l.pop()+(de?"":v)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function DCe(r){if(r==null){var e=dt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof r=="number")return R0(r);return R0(0)}function PCe(r,e,t,n,a){var s=U0(e,t,a),i=DCe(r.v),l=dt(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=dt(r.bf.length),A=0;A<r.bf.length;++A)u[A]=r.bf[A];var h=Hi([s,i,l,u]);return h}function n5(r,e,t){var n=r.read_shift(4),a=TCe(r,n,t),s=r.read_shift(4),i=s>0?_Ce(r,s,a,t):null;return[a,i]}var ICe=n5,a5=n5,LCe=n5,MCe=n5,RCe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},q$={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},UCe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function QCe(r){var e="of:="+r.replace(Q3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function HCe(r){return r.replace(/\./,"!")}var hy=typeof Map<"u";function K3(r,e,t){var n=0,a=r.length;if(t){if(hy?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=hy?t.get(e):t[e];n<s.length;++n)if(r[s[n]].t===e)return r.Count++,s[n]}}else for(;n<a;++n)if(r[n].t===e)return r.Count++,n;return r[a]={t:e},r.Count++,r.Unique++,t&&(hy?(t.has(e)||t.set(e,[]),t.get(e).push(a)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(a))),a}function s5(r,e){var t={min:r+1,max:r+1},n=-1;return e.MDW&&(CA=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?n=P2(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(t.width=A4(n),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function G$(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function yf(r,e,t){var n=t.revssf[e.z!=null?e.z:"General"],a=60,s=r.length;if(n==null&&t.ssf){for(;a<392;++a)if(t.ssf[a]==null){zK(e.z,a),t.ssf[a]=e.z,t.revssf[e.z]=n=a;break}}for(a=0;a!=s;++a)if(r[a].numFmtId===n)return a;return r[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function zCe(r,e,t){if(r&&r["!ref"]){var n=va(r["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+r["!ref"])}}function KCe(r){if(r.length===0)return"";for(var e='<mergeCells count="'+r.length+'">',t=0;t!=r.length;++t)e+='<mergeCell ref="'+Ls(r[t])+'"/>';return e+"</mergeCells>"}function $Ce(r,e,t,n,a){var s=!1,i={},l=null;if(n.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[t];try{e.Workbook&&(c=e.Workbook.Sheets[t].CodeName||c)}catch{}s=!0,i.codeName=Uy(zn(c))}if(r&&r["!outline"]){var u={summaryBelow:1,summaryRight:1};r["!outline"].above&&(u.summaryBelow=0),r["!outline"].left&&(u.summaryRight=0),l=(l||"")+Ot("outlinePr",null,u)}!s&&!l||(a[a.length]=Ot("sheetPr",l,i))}var VCe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],qCe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function GCe(r){var e={sheet:1};return VCe.forEach(function(t){r[t]!=null&&r[t]&&(e[t]="1")}),qCe.forEach(function(t){r[t]!=null&&!r[t]&&(e[t]="0")}),r.password&&(e.password=k$(r.password).toString(16).toUpperCase()),Ot("sheetProtection",null,e)}function WCe(r){return G$(r),Ot("pageMargins",null,r)}function YCe(r,e){for(var t=["<cols>"],n,a=0;a!=e.length;++a)(n=e[a])&&(t[t.length]=Ot("col",null,s5(a,n)));return t[t.length]="</cols>",t.join("")}function XCe(r,e,t,n){var a=typeof r.ref=="string"?r.ref:Ls(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,i=Xl(a);i.s.r==i.e.r&&(i.e.r=Xl(e["!ref"]).e.r,a=Ls(i));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+t.SheetNames[n]+"'!"+a;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+a}),Ot("autoFilter",null,{ref:a})}function JCe(r,e,t,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ot("sheetViews",Ot("sheetView",null,a),{})}function ZCe(r,e,t,n){if(r.c&&t["!comments"].push([e,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var a="",s=r.t,i=r.v;if(r.t!=="z")switch(r.t){case"b":a=r.v?"1":"0";break;case"n":a=""+r.v;break;case"e":a=kv[r.v];break;case"d":n&&n.cellDates?a=ko(r.v,-1).toISOString():(r=fl(r),r.t="n",a=""+(r.v=hl(ko(r.v)))),typeof r.z>"u"&&(r.z=cs[14]);break;default:a=r.v;break}var l=zi("v",zn(a)),c={r:e},u=yf(n.cellXfs,r,n);switch(u!==0&&(c.s=u),r.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=zi("v",""+K3(n.Strings,r.v,n.revStrings)),c.t="s";break}c.t="str";break}if(r.t!=s&&(r.t=s,r.v=i),typeof r.f=="string"&&r.f){var A=r.F&&r.F.slice(0,e.length)==e?{t:"array",ref:r.F}:null;l=Ot("f",zn(r.f),A)+(r.v!=null?l:"")}return r.l&&t["!links"].push([e,r.l]),r.D&&(c.cm=1),Ot("c",l,c)}function e5e(r,e,t,n){var a=[],s=[],i=va(r["!ref"]),l="",c,u="",A=[],h=0,p=0,m=r["!rows"],y=Array.isArray(r),g={r:u},v,b=-1;for(p=i.s.c;p<=i.e.c;++p)A[p]=uo(p);for(h=i.s.r;h<=i.e.r;++h){for(s=[],u=$i(h),p=i.s.c;p<=i.e.c;++p){c=A[p]+u;var N=y?(r[h]||[])[p]:r[c];N!==void 0&&(l=ZCe(N,c,r,e))!=null&&s.push(l)}(s.length>0||m&&m[h])&&(g={r:u},m&&m[h]&&(v=m[h],v.hidden&&(g.hidden=1),b=-1,v.hpx?b=I2(v.hpx):v.hpt&&(b=v.hpt),b>-1&&(g.ht=b,g.customHeight=1),v.level&&(g.outlineLevel=v.level)),a[a.length]=Ot("row",s.join(""),g))}if(m)for(;h<m.length;++h)m&&m[h]&&(g={r:h+1},v=m[h],v.hidden&&(g.hidden=1),b=-1,v.hpx?b=I2(v.hpx):v.hpt&&(b=v.hpt),b>-1&&(g.ht=b,g.customHeight=1),v.level&&(g.outlineLevel=v.level),a[a.length]=Ot("row","",g));return a.join("")}function W$(r,e,t,n){var a=[Ms,Ot("worksheet",null,{xmlns:kg[0],"xmlns:r":pi.r})],s=t.SheetNames[r],i=0,l="",c=t.Sheets[s];c==null&&(c={});var u=c["!ref"]||"A1",A=va(u);if(A.e.c>16383||A.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");A.e.c=Math.min(A.e.c,16383),A.e.r=Math.min(A.e.c,1048575),u=Ls(A)}n||(n={}),c["!comments"]=[];var h=[];$Ce(c,t,r,e,a),a[a.length]=Ot("dimension",null,{ref:u}),a[a.length]=JCe(c,e,r,t),e.sheetFormat&&(a[a.length]=Ot("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=YCe(c,c["!cols"])),a[i=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=e5e(c,e),l.length>0&&(a[a.length]=l)),a.length>i+1&&(a[a.length]="</sheetData>",a[i]=a[i].replace("/>",">")),c["!protect"]&&(a[a.length]=GCe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=XCe(c["!autofilter"],c,t,r)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=KCe(c["!merges"]));var p=-1,m,y=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(y=Rn(n,-1,zn(g[1].Target).replace(/#.*$/,""),yn.HLINK),m["r:id"]="rId"+y),(p=g[1].Target.indexOf("#"))>-1&&(m.location=zn(g[1].Target.slice(p+1))),g[1].Tooltip&&(m.tooltip=zn(g[1].Tooltip)),a[a.length]=Ot("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=WCe(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=zi("ignoredErrors",Ot("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(y=Rn(n,-1,"../drawings/drawing"+(r+1)+".xml",yn.DRAW),a[a.length]=Ot("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=h),c["!comments"].length>0&&(y=Rn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",yn.VML),a[a.length]=Ot("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function t5e(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var a=r.read_shift(2);r.l+=1;var s=r.read_shift(1);return r.l=n,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=a/20),t}function r5e(r,e,t){var n=dt(145),a=(t["!rows"]||[])[r]||{};n.write_shift(4,r),n.write_shift(4,0);var s=320;a.hpx?s=I2(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var i=0;a.level&&(i|=a.level),a.hidden&&(i|=16),(a.hpx||a.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r,c:0},A=0;A<16;++A)if(!(e.s.c>A+1<<10||e.e.c<A<<10)){for(var h=-1,p=-1,m=A<<10;m<A+1<<10;++m){u.c=m;var y=Array.isArray(t)?(t[u.r]||[])[u.c]:t[$n(u)];y&&(h<0&&(h=m),p=m)}h<0||(++l,n.write_shift(4,h),n.write_shift(4,p))}var g=n.l;return n.l=c,n.write_shift(4,l),n.l=g,n.length>n.l?n.slice(0,n.l):n}function n5e(r,e,t,n){var a=r5e(n,t,e);(a.length>17||(e["!rows"]||[])[n])&&Ct(r,0,a)}var a5e=tm,s5e=Og;function i5e(){}function o5e(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=gbe(r),t}function l5e(r,e,t){t==null&&(t=dt(84+4*r.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),t.write_shift(1,n);for(var a=1;a<3;++a)t.write_shift(1,0);return F2({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),u$(r,t),t.slice(0,t.l)}function c5e(r){var e=Rc(r);return[e]}function u5e(r,e,t){return t==null&&(t=dt(8)),J0(e,t)}function d5e(r){var e=Z0(r);return[e]}function A5e(r,e,t){return t==null&&(t=dt(4)),em(e,t)}function h5e(r){var e=Rc(r),t=r.read_shift(1);return[e,t,"b"]}function f5e(r,e,t){return t==null&&(t=dt(9)),J0(e,t),t.write_shift(1,r.v?1:0),t}function m5e(r){var e=Z0(r),t=r.read_shift(1);return[e,t,"b"]}function p5e(r,e,t){return t==null&&(t=dt(5)),em(e,t),t.write_shift(1,r.v?1:0),t}function g5e(r){var e=Rc(r),t=r.read_shift(1);return[e,t,"e"]}function x5e(r,e,t){return t==null&&(t=dt(9)),J0(e,t),t.write_shift(1,r.v),t}function y5e(r){var e=Z0(r),t=r.read_shift(1);return[e,t,"e"]}function v5e(r,e,t){return t==null&&(t=dt(8)),em(e,t),t.write_shift(1,r.v),t.write_shift(2,0),t.write_shift(1,0),t}function b5e(r){var e=Rc(r),t=r.read_shift(4);return[e,t,"s"]}function w5e(r,e,t){return t==null&&(t=dt(12)),J0(e,t),t.write_shift(4,e.v),t}function C5e(r){var e=Z0(r),t=r.read_shift(4);return[e,t,"s"]}function N5e(r,e,t){return t==null&&(t=dt(8)),em(e,t),t.write_shift(4,e.v),t}function S5e(r){var e=Rc(r),t=Dg(r);return[e,t,"n"]}function B5e(r,e,t){return t==null&&(t=dt(16)),J0(e,t),R0(r.v,t),t}function E5e(r){var e=Z0(r),t=Dg(r);return[e,t,"n"]}function j5e(r,e,t){return t==null&&(t=dt(12)),em(e,t),R0(r.v,t),t}function _5e(r){var e=Rc(r),t=d$(r);return[e,t,"n"]}function T5e(r,e,t){return t==null&&(t=dt(12)),J0(e,t),A$(r.v,t),t}function k5e(r){var e=Z0(r),t=d$(r);return[e,t,"n"]}function F5e(r,e,t){return t==null&&(t=dt(8)),em(e,t),A$(r.v,t),t}function O5e(r){var e=Rc(r),t=I3(r);return[e,t,"is"]}function D5e(r){var e=Rc(r),t=Ao(r);return[e,t,"str"]}function P5e(r,e,t){return t==null&&(t=dt(12+4*r.v.length)),J0(e,t),yi(r.v,t),t.length>t.l?t.slice(0,t.l):t}function I5e(r){var e=Z0(r),t=Ao(r);return[e,t,"str"]}function L5e(r,e,t){return t==null&&(t=dt(8+4*r.v.length)),em(e,t),yi(r.v,t),t.length>t.l?t.slice(0,t.l):t}function M5e(r,e,t){var n=r.l+e,a=Rc(r);a.r=t["!row"];var s=r.read_shift(1),i=[a,s,"b"];if(t.cellFormula){r.l+=2;var l=a5(r,n-r.l,t);i[3]=ig(l,null,a,t.supbooks,t)}else r.l=n;return i}function R5e(r,e,t){var n=r.l+e,a=Rc(r);a.r=t["!row"];var s=r.read_shift(1),i=[a,s,"e"];if(t.cellFormula){r.l+=2;var l=a5(r,n-r.l,t);i[3]=ig(l,null,a,t.supbooks,t)}else r.l=n;return i}function U5e(r,e,t){var n=r.l+e,a=Rc(r);a.r=t["!row"];var s=Dg(r),i=[a,s,"n"];if(t.cellFormula){r.l+=2;var l=a5(r,n-r.l,t);i[3]=ig(l,null,a,t.supbooks,t)}else r.l=n;return i}function Q5e(r,e,t){var n=r.l+e,a=Rc(r);a.r=t["!row"];var s=Ao(r),i=[a,s,"str"];if(t.cellFormula){r.l+=2;var l=a5(r,n-r.l,t);i[3]=ig(l,null,a,t.supbooks,t)}else r.l=n;return i}var H5e=tm,z5e=Og;function K5e(r,e){return e==null&&(e=dt(4)),e.write_shift(4,r),e}function $5e(r,e){var t=r.l+e,n=tm(r),a=L3(r),s=Ao(r),i=Ao(r),l=Ao(r);r.l=t;var c={rfx:n,relId:a,loc:s,display:l};return i&&(c.Tooltip=i),c}function V5e(r,e){var t=dt(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));Og({s:xi(r[0]),e:xi(r[0])},t),M3("rId"+e,t);var n=r[1].Target.indexOf("#"),a=n==-1?"":r[1].Target.slice(n+1);return yi(a||"",t),yi(r[1].Tooltip||"",t),yi("",t),t.slice(0,t.l)}function q5e(){}function G5e(r,e,t){var n=r.l+e,a=h$(r),s=r.read_shift(1),i=[a];if(i[2]=s,t.cellFormula){var l=ICe(r,n-r.l,t);i[1]=l}else r.l=n;return i}function W5e(r,e,t){var n=r.l+e,a=tm(r),s=[a];if(t.cellFormula){var i=MCe(r,n-r.l,t);s[1]=i,r.l=n}else r.l=n;return s}function Y5e(r,e,t){t==null&&(t=dt(18));var n=s5(r,e);t.write_shift(-4,r),t.write_shift(-4,r),t.write_shift(4,(n.width||10)*256),t.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),t.write_shift(2,a),t}var Y$=["left","right","top","bottom","header","footer"];function X5e(r){var e={};return Y$.forEach(function(t){e[t]=Dg(r)}),e}function J5e(r,e){return e==null&&(e=dt(48)),G$(r),Y$.forEach(function(t){R0(r[t],e)}),e}function Z5e(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function eNe(r,e,t){t==null&&(t=dt(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function tNe(r){var e=dt(24);return e.write_shift(4,4),e.write_shift(4,1),Og(r,e),e}function rNe(r,e){return e==null&&(e=dt(66)),e.write_shift(2,r.password?k$(r.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,r[t[0]]!=null&&!r[t[0]]?1:0):e.write_shift(4,r[t[0]]!=null&&r[t[0]]?0:1)}),e}function nNe(){}function aNe(){}function sNe(r,e,t,n,a,s,i){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=fl(e),e.z=e.z||cs[14],e.v=hl(ko(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var c={r:t,c:n};switch(c.s=yf(a.cellXfs,e,a),e.l&&s["!links"].push([$n(c),e.l]),e.c&&s["!comments"].push([$n(c),e.c]),e.t){case"s":case"str":return a.bookSST?(l=K3(a.Strings,e.v,a.revStrings),c.t="s",c.v=l,i?Ct(r,18,N5e(e,c)):Ct(r,7,w5e(e,c))):(c.t="str",i?Ct(r,17,L5e(e,c)):Ct(r,6,P5e(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?i?Ct(r,13,F5e(e,c)):Ct(r,2,T5e(e,c)):i?Ct(r,16,j5e(e,c)):Ct(r,5,B5e(e,c)),!0;case"b":return c.t="b",i?Ct(r,15,p5e(e,c)):Ct(r,4,f5e(e,c)),!0;case"e":return c.t="e",i?Ct(r,14,v5e(e,c)):Ct(r,3,x5e(e,c)),!0}return i?Ct(r,12,A5e(e,c)):Ct(r,1,u5e(e,c)),!0}function iNe(r,e,t,n){var a=va(e["!ref"]||"A1"),s,i="",l=[];Ct(r,145);var c=Array.isArray(e),u=a.e.r;e["!rows"]&&(u=Math.max(a.e.r,e["!rows"].length-1));for(var A=a.s.r;A<=u;++A){i=$i(A),n5e(r,e,a,A);var h=!1;if(A<=a.e.r)for(var p=a.s.c;p<=a.e.c;++p){A===a.s.r&&(l[p]=uo(p)),s=l[p]+i;var m=c?(e[A]||[])[p]:e[s];if(!m){h=!1;continue}h=sNe(r,m,A,p,n,e,h)}}Ct(r,146)}function oNe(r,e){!e||!e["!merges"]||(Ct(r,177,K5e(e["!merges"].length)),e["!merges"].forEach(function(t){Ct(r,176,z5e(t))}),Ct(r,178))}function lNe(r,e){!e||!e["!cols"]||(Ct(r,390),e["!cols"].forEach(function(t,n){t&&Ct(r,60,Y5e(n,t))}),Ct(r,391))}function cNe(r,e){!e||!e["!ref"]||(Ct(r,648),Ct(r,649,tNe(va(e["!ref"]))),Ct(r,650))}function uNe(r,e,t){e["!links"].forEach(function(n){if(n[1].Target){var a=Rn(t,-1,n[1].Target.replace(/#.*$/,""),yn.HLINK);Ct(r,494,V5e(n,a))}}),delete e["!links"]}function dNe(r,e,t,n){if(e["!comments"].length>0){var a=Rn(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",yn.VML);Ct(r,551,M3("rId"+a)),e["!legacy"]=a}}function ANe(r,e,t,n){if(e["!autofilter"]){var a=e["!autofilter"],s=typeof a.ref=="string"?a.ref:Ls(a.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var i=t.Workbook.Names,l=Xl(s);l.s.r==l.e.r&&(l.e.r=Xl(e["!ref"]).e.r,s=Ls(l));for(var c=0;c<i.length;++c){var u=i[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+t.SheetNames[n]+"'!"+s;break}}c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+s}),Ct(r,161,Og(va(s))),Ct(r,162)}}function hNe(r,e,t){Ct(r,133),Ct(r,137,eNe(e,t)),Ct(r,138),Ct(r,134)}function fNe(r,e){e["!protect"]&&Ct(r,535,rNe(e["!protect"]))}function mNe(r,e,t,n){var a=dl(),s=t.SheetNames[r],i=t.Sheets[s]||{},l=s;try{t&&t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}var c=va(i["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],Ct(a,129),(t.vbaraw||i["!outline"])&&Ct(a,147,l5e(l,i["!outline"])),Ct(a,148,s5e(c)),hNe(a,i,t.Workbook),lNe(a,i),iNe(a,i,r,e),fNe(a,i),ANe(a,i,t,r),oNe(a,i),uNe(a,i,n),i["!margins"]&&Ct(a,476,J5e(i["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&cNe(a,i),dNe(a,i,r,n),Ct(a,130),a.end()}function pNe(r,e){r.l+=10;var t=Ao(r);return{name:t}}var gNe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function xNe(r){return!r.Workbook||!r.Workbook.WBProps?"false":W1e(r.Workbook.WBProps.date1904)?"true":"false"}var yNe="][*?/\\".split("");function X$(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return yNe.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function vNe(r,e,t){r.forEach(function(n,a){X$(n);for(var s=0;s<a;++s)if(n==r[s])throw new Error("Duplicate Sheet Name: "+n);if(t){var i=e&&e[a]&&e[a].CodeName||n;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function bNe(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var e=r.Workbook&&r.Workbook.Sheets||[];vNe(r.SheetNames,e,!!r.vbaraw);for(var t=0;t<r.SheetNames.length;++t)zCe(r.Sheets[r.SheetNames[t]],r.SheetNames[t],t)}function J$(r){var e=[Ms];e[e.length]=Ot("workbook",null,{xmlns:kg[0],"xmlns:r":pi.r});var t=r.Workbook&&(r.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(gNe.forEach(function(l){r.Workbook.WBProps[l[0]]!=null&&r.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=r.Workbook.WBProps[l[0]])}),r.Workbook.WBProps.CodeName&&(n.codeName=r.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Ot("workbookPr",null,n);var a=r.Workbook&&r.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=r.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==r.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=r.SheetNames.length;++s){var i={name:zn(r.SheetNames[s].slice(0,31))};if(i.sheetId=""+(s+1),i["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}e[e.length]=Ot("sheet",null,i)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(e[e.length]=Ot("definedName",zn(l.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function wNe(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=d4(r),t.name=Ao(r),t}function CNe(r,e){return e||(e=dt(127)),e.write_shift(4,r.Hidden),e.write_shift(4,r.iTabID),M3(r.strRelID,e),yi(r.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function NNe(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var a=e>8?Ao(r):"";return a.length>0&&(t.CodeName=a),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function SNe(r,e){e||(e=dt(72));var t=0;return r&&r.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),u$(r&&r.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function BNe(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var a=r.read_shift(4),s=xbe(r),i=LCe(r,0,t),l=L3(r);r.l=n;var c={Name:s,Ptg:i};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function ENe(r,e){Ct(r,143);for(var t=0;t!=e.SheetNames.length;++t){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,a={Hidden:n,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Ct(r,156,CNe(a))}Ct(r,144)}function jNe(r,e){e||(e=dt(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return yi("SheetJS",e),yi(N2.version,e),yi(N2.version,e),yi("7262",e),e.length>e.l?e.slice(0,e.l):e}function _Ne(r,e){e||(e=dt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,r),e.write_shift(4,r);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function TNe(r,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,n=0,a=-1,s=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&a==-1?a=n:t[n].Hidden==1&&s==-1&&(s=n);s>a||(Ct(r,135),Ct(r,158,_Ne(a)),Ct(r,136))}}function kNe(r,e){var t=dl();return Ct(t,131),Ct(t,128,jNe()),Ct(t,153,SNe(r.Workbook&&r.Workbook.WBProps||null)),TNe(t,r),ENe(t,r),Ct(t,132),t.end()}function FNe(r,e,t){return(e.slice(-4)===".bin"?kNe:J$)(r)}function ONe(r,e,t,n,a){return(e.slice(-4)===".bin"?mNe:W$)(r,t,n,a)}function DNe(r,e,t){return(e.slice(-4)===".bin"?Jwe:D$)(r,t)}function PNe(r,e,t){return(e.slice(-4)===".bin"?Swe:T$)(r,t)}function INe(r,e,t){return(e.slice(-4)===".bin"?f2e:R$)(r)}function LNe(r){return(r.slice(-4)===".bin"?i2e:L$)()}function MNe(r,e){var t=[];return r.Props&&t.push(Dbe(r.Props,e)),r.Custprops&&t.push(Pbe(r.Props,r.Custprops)),t.join("")}function RNe(){return""}function UNe(r,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,a){var s=[];s.push(Ot("NumberFormat",null,{"ss:Format":zn(cs[n.numFmtId])}));var i={"ss:ID":"s"+(21+a)};t.push(Ot("Style",s.join(""),i))}),Ot("Styles",t.join(""))}function Z$(r){return Ot("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+H3(r.Ref,{r:0,c:0})})}function QNe(r){if(!((r||{}).Workbook||{}).Names)return"";for(var e=r.Workbook.Names,t=[],n=0;n<e.length;++n){var a=e[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||t.push(Z$(a)))}return Ot("Names",t.join(""))}function HNe(r,e,t,n){if(!r||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],i=0;i<a.length;++i){var l=a[i];l.Sheet==t&&(l.Name.match(/^_xlfn\./)||s.push(Z$(l)))}return s.join("")}function zNe(r,e,t,n){if(!r)return"";var a=[];if(r["!margins"]&&(a.push("<PageSetup>"),r["!margins"].header&&a.push(Ot("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&a.push(Ot("Footer",null,{"x:Margin":r["!margins"].footer})),a.push(Ot("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)a.push(Ot("Visible",n.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==t&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),r["!protect"]&&(a.push(zi("ProtectContents","True")),r["!protect"].objects&&a.push(zi("ProtectObjects","True")),r["!protect"].scenarios&&a.push(zi("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?a.push(zi("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&a.push(zi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){r["!protect"][i[0]]&&a.push("<"+i[1]+"/>")})),a.length==0?"":Ot("WorksheetOptions",a.join(""),{xmlns:Ul.x})}function KNe(r){return r.map(function(e){var t=G1e(e.t||""),n=Ot("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ot("Comment",n,{"ss:Author":e.a})}).join("")}function $Ne(r,e,t,n,a,s,i){if(!r||r.v==null&&r.f==null)return"";var l={};if(r.f&&(l["ss:Formula"]="="+zn(H3(r.f,i))),r.F&&r.F.slice(0,e.length)==e){var c=xi(r.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==i.r?"":"["+(c.r-i.r)+"]")+"C"+(c.c==i.c?"":"["+(c.c-i.c)+"]")}if(r.l&&r.l.Target&&(l["ss:HRef"]=zn(r.l.Target),r.l.Tooltip&&(l["x:HRefScreenTip"]=zn(r.l.Tooltip))),t["!merges"])for(var u=t["!merges"],A=0;A!=u.length;++A)u[A].s.c!=i.c||u[A].s.r!=i.r||(u[A].e.c>u[A].s.c&&(l["ss:MergeAcross"]=u[A].e.c-u[A].s.c),u[A].e.r>u[A].s.r&&(l["ss:MergeDown"]=u[A].e.r-u[A].s.r));var h="",p="";switch(r.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",p=String(r.v);break;case"b":h="Boolean",p=r.v?"1":"0";break;case"e":h="Error",p=kv[r.v];break;case"d":h="DateTime",p=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||cs[14]);break;case"s":h="String",p=q1e(r.v||"");break}var m=yf(n.cellXfs,r,n);l["ss:StyleID"]="s"+(21+m),l["ss:Index"]=i.c+1;var y=r.v!=null?p:"",g=r.t=="z"?"":'<Data ss:Type="'+h+'">'+y+"</Data>";return(r.c||[]).length>0&&(g+=KNe(r.c)),Ot("Cell",g,l)}function VNe(r,e){var t='<Row ss:Index="'+(r+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=O$(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function qNe(r,e,t,n){if(!r["!ref"])return"";var a=va(r["!ref"]),s=r["!merges"]||[],i=0,l=[];r["!cols"]&&r["!cols"].forEach(function(v,b){U3(v);var N=!!v.width,C=s5(b,v),E={"ss:Index":b+1};N&&(E["ss:Width"]=D2(C.width)),v.hidden&&(E["ss:Hidden"]="1"),l.push(Ot("Column",null,E))});for(var c=Array.isArray(r),u=a.s.r;u<=a.e.r;++u){for(var A=[VNe(u,(r["!rows"]||[])[u])],h=a.s.c;h<=a.e.c;++h){var p=!1;for(i=0;i!=s.length;++i)if(!(s[i].s.c>h)&&!(s[i].s.r>u)&&!(s[i].e.c<h)&&!(s[i].e.r<u)){(s[i].s.c!=h||s[i].s.r!=u)&&(p=!0);break}if(!p){var m={r:u,c:h},y=$n(m),g=c?(r[u]||[])[h]:r[y];A.push($Ne(g,y,r,e,t,n,m))}}A.push("</Row>"),A.length>2&&l.push(A.join(""))}return l.join("")}function GNe(r,e,t){var n=[],a=t.SheetNames[r],s=t.Sheets[a],i=s?HNe(s,e,r,t):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=s?qNe(s,e,r,t):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(zNe(s,e,r,t)),n.join("")}function WNe(r,e){e||(e={}),r.SSF||(r.SSF=fl(cs)),r.SSF&&(e5(),ZC(r.SSF),e.revssf=t5(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF,e.cellXfs=[],yf(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(MNe(r,e)),t.push(RNe()),t.push(""),t.push("");for(var n=0;n<r.SheetNames.length;++n)t.push(Ot("Worksheet",GNe(n,e,r),{"ss:Name":zn(r.SheetNames[n])}));return t[2]=UNe(r,e),t[3]=QNe(r),Ms+Ot("Workbook",t.join(""),{xmlns:Ul.ss,"xmlns:o":Ul.o,"xmlns:x":Ul.x,"xmlns:ss":Ul.ss,"xmlns:dt":Ul.dt,"xmlns:html":Ul.html})}var zB={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function YNe(r,e){var t=[],n=[],a=[],s=0,i,l=qL(iM,"n"),c=qL(oM,"n");if(r.Props)for(i=Vi(r.Props),s=0;s<i.length;++s)(Object.prototype.hasOwnProperty.call(l,i[s])?t:Object.prototype.hasOwnProperty.call(c,i[s])?n:a).push([i[s],r.Props[i[s]]]);if(r.Custprops)for(i=Vi(r.Custprops),s=0;s<i.length;++s)Object.prototype.hasOwnProperty.call(r.Props||{},i[s])||(Object.prototype.hasOwnProperty.call(l,i[s])?t:Object.prototype.hasOwnProperty.call(c,i[s])?n:a).push([i[s],r.Custprops[i[s]]]);var u=[];for(s=0;s<a.length;++s)C$.indexOf(a[s][0])>-1||v$.indexOf(a[s][0])>-1||a[s][1]!=null&&u.push(a[s]);n.length&&ta.utils.cfb_add(e,"/SummaryInformation",AM(n,zB.SI,c,oM)),(t.length||u.length)&&ta.utils.cfb_add(e,"/DocumentSummaryInformation",AM(t,zB.DSI,l,iM,u.length?u:null,zB.UDI))}function XNe(r,e){var t=e||{},n=ta.utils.cfb_new({root:"R"}),a="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":a="/Workbook",t.biff=8;break;case"biff5":a="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return ta.utils.cfb_add(n,a,eV(r,t)),t.biff==8&&(r.Props||r.Custprops)&&YNe(r,n),t.biff==8&&r.vbaraw&&m2e(n,ta.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),n}var JNe={0:{f:t5e},1:{f:c5e},2:{f:_5e},3:{f:g5e},4:{f:h5e},5:{f:S5e},6:{f:D5e},7:{f:b5e},8:{f:Q5e},9:{f:U5e},10:{f:M5e},11:{f:R5e},12:{f:d5e},13:{f:k5e},14:{f:y5e},15:{f:m5e},16:{f:E5e},17:{f:I5e},18:{f:C5e},19:{f:I3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:BNe},40:{},42:{},43:{f:Dwe},44:{f:Fwe},45:{f:Lwe},46:{f:Rwe},47:{f:Mwe},48:{},49:{f:dbe},50:{},51:{f:t2e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Awe},62:{f:O5e},63:{f:o2e},64:{f:nNe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Sd,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Z5e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:o5e},148:{f:a5e,p:16},151:{f:q5e},152:{},153:{f:NNe},154:{},155:{},156:{f:wNe},157:{},158:{},159:{T:1,f:wwe},160:{T:-1},161:{T:1,f:tm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:H5e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Zwe},336:{T:-1},337:{f:a2e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:d4},357:{},358:{},359:{},360:{T:1},361:{},362:{f:iwe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:G5e},427:{f:W5e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:X5e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:i5e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:$5e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:d4},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:A2e},633:{T:1},634:{T:-1},635:{T:1,f:u2e},636:{T:-1},637:{f:mbe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:pNe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:aNe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Pt(r,e,t,n){var a=e;if(!isNaN(a)){var s=n||(t||[]).length||0,i=r.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&O3(t)&&r.push(t)}}function ZNe(r,e,t,n){var a=(t||[]).length||0;if(a<=8224)return Pt(r,e,t,a);var s=e;if(!isNaN(s)){for(var i=t.parts||[],l=0,c=0,u=0;u+(i[l]||8224)<=8224;)u+=i[l]||8224,l++;var A=r.next(4);for(A.write_shift(2,s),A.write_shift(2,u),r.push(t.slice(c,c+u)),c+=u;c<a;){for(A=r.next(4),A.write_shift(2,60),u=0;u+(i[l]||8224)<=8224;)u+=i[l]||8224,l++;A.write_shift(2,u),r.push(t.slice(c,c+u)),c+=u}}}function Ov(r,e,t){return r||(r=dt(7)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,0),r.write_shift(1,0),r}function eSe(r,e,t,n){var a=dt(9);return Ov(a,r,e),S$(t,n||"b",a),a}function tSe(r,e,t){var n=dt(8+2*t.length);return Ov(n,r,e),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function rSe(r,e,t,n){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?hl(ko(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?Pt(r,2,pwe(t,n,a)):Pt(r,3,mwe(t,n,a));return;case"b":case"e":Pt(r,5,eSe(t,n,e.v,e.t));return;case"s":case"str":Pt(r,4,tSe(t,n,(e.v||"").slice(0,255)));return}Pt(r,1,Ov(null,t,n))}function nSe(r,e,t,n){var a=Array.isArray(e),s=va(e["!ref"]||"A1"),i,l="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),i=Ls(s)}for(var u=s.s.r;u<=s.e.r;++u){l=$i(u);for(var A=s.s.c;A<=s.e.c;++A){u===s.s.r&&(c[A]=uo(A)),i=c[A]+l;var h=a?(e[u]||[])[A]:e[i];h&&rSe(r,h,u,A)}}}function aSe(r,e){for(var t=e||{},n=dl(),a=0,s=0;s<r.SheetNames.length;++s)r.SheetNames[s]==t.sheet&&(a=s);if(a==0&&t.sheet&&r.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Pt(n,t.biff==4?1033:t.biff==3?521:9,R3(r,16,t)),nSe(n,r.Sheets[r.SheetNames[a]],a,t),Pt(n,10),n.end()}function sSe(r,e,t){Pt(r,49,Jbe({sz:12,name:"Arial"},t))}function iSe(r,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&Pt(r,1054,twe(a,e[a],t))})}function oSe(r,e){var t=dt(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Pt(r,2151,t),t=dt(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),j$(va(e["!ref"]||"A1"),t),t.write_shift(4,4),Pt(r,2152,t)}function lSe(r,e){for(var t=0;t<16;++t)Pt(r,224,fM({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Pt(r,224,fM(n,0,e))})}function cSe(r,e){for(var t=0;t<e["!links"].length;++t){var n=e["!links"][t];Pt(r,440,cwe(n)),n[1].Tooltip&&Pt(r,2048,uwe(n))}delete e["!links"]}function uSe(r,e){if(e){var t=0;e.forEach(function(n,a){++t<=256&&n&&Pt(r,125,hwe(s5(a,n),a))})}}function dSe(r,e,t,n,a){var s=16+yf(a.cellXfs,e,a);if(e.v==null&&!e.bf){Pt(r,513,U0(t,n,s));return}if(e.bf)Pt(r,6,PCe(e,t,n,a,s));else switch(e.t){case"d":case"n":var i=e.t=="d"?hl(ko(e.v)):e.v;Pt(r,515,swe(t,n,i,s));break;case"b":case"e":Pt(r,517,awe(t,n,e.v,s,a,e.t));break;case"s":case"str":if(a.bookSST){var l=K3(a.Strings,e.v,a.revStrings);Pt(r,253,Zbe(t,n,l,s))}else Pt(r,516,ewe(t,n,(e.v||"").slice(0,255),s,a));break;default:Pt(r,513,U0(t,n,s))}}function ASe(r,e,t){var n=dl(),a=t.SheetNames[r],s=t.Sheets[a]||{},i=(t||{}).Workbook||{},l=(i.Sheets||[])[r]||{},c=Array.isArray(s),u=e.biff==8,A,h="",p=[],m=va(s["!ref"]||"A1"),y=u?65536:16384;if(m.e.c>255||m.e.r>=y){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,y-1)}Pt(n,2057,R3(t,16,e)),Pt(n,13,Bc(1)),Pt(n,12,Bc(100)),Pt(n,15,So(!0)),Pt(n,17,So(!1)),Pt(n,16,R0(.001)),Pt(n,95,So(!0)),Pt(n,42,So(!1)),Pt(n,43,So(!1)),Pt(n,130,Bc(1)),Pt(n,128,nwe()),Pt(n,131,So(!1)),Pt(n,132,So(!1)),u&&uSe(n,s["!cols"]),Pt(n,512,rwe(m,e)),u&&(s["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){h=$i(g);for(var v=m.s.c;v<=m.e.c;++v){g===m.s.r&&(p[v]=uo(v)),A=p[v]+h;var b=c?(s[g]||[])[v]:s[A];b&&(dSe(n,b,g,v,e),u&&b.l&&s["!links"].push([A,b.l]))}}var N=l.CodeName||l.name||a;return u&&Pt(n,574,Xbe((i.Views||[])[0])),u&&(s["!merges"]||[]).length&&Pt(n,229,lwe(s["!merges"])),u&&cSe(n,s),Pt(n,442,E$(N)),u&&oSe(n,s),Pt(n,10),n.end()}function hSe(r,e,t){var n=dl(),a=(r||{}).Workbook||{},s=a.Sheets||[],i=a.WBProps||{},l=t.biff==8,c=t.biff==5;if(Pt(n,2057,R3(r,5,t)),t.bookType=="xla"&&Pt(n,135),Pt(n,225,l?Bc(1200):null),Pt(n,193,Mbe(2)),c&&Pt(n,191),c&&Pt(n,192),Pt(n,226),Pt(n,92,qbe("SheetJS",t)),Pt(n,66,Bc(l?1200:1252)),l&&Pt(n,353,Bc(0)),l&&Pt(n,448),Pt(n,317,fwe(r.SheetNames.length)),l&&r.vbaraw&&Pt(n,211),l&&r.vbaraw){var u=i.CodeName||"ThisWorkbook";Pt(n,442,E$(u))}Pt(n,156,Bc(17)),Pt(n,25,So(!1)),Pt(n,18,So(!1)),Pt(n,19,Bc(0)),l&&Pt(n,431,So(!1)),l&&Pt(n,444,Bc(0)),Pt(n,61,Ybe()),Pt(n,64,So(!1)),Pt(n,141,Bc(0)),Pt(n,34,So(xNe(r)=="true")),Pt(n,14,So(!0)),l&&Pt(n,439,So(!1)),Pt(n,218,Bc(0)),sSe(n,r,t),iSe(n,r.SSF,t),lSe(n,t),l&&Pt(n,352,So(!1));var A=n.end(),h=dl();l&&Pt(h,140,dwe()),l&&t.Strings&&ZNe(h,252,Wbe(t.Strings)),Pt(h,10);var p=h.end(),m=dl(),y=0,g=0;for(g=0;g<r.SheetNames.length;++g)y+=(l?12:11)+(l?2:1)*r.SheetNames[g].length;var v=A.length+y+p.length;for(g=0;g<r.SheetNames.length;++g){var b=s[g]||{};Pt(m,133,Gbe({pos:v,hs:b.Hidden||0,dt:0,name:r.SheetNames[g]},t)),v+=e[g].length}var N=m.end();if(y!=N.length)throw new Error("BS8 "+y+" != "+N.length);var C=[];return A.length&&C.push(A),N.length&&C.push(N),p.length&&C.push(p),Hi(C)}function fSe(r,e){var t=e||{},n=[];r&&!r.SSF&&(r.SSF=fl(cs)),r&&r.SSF&&(e5(),ZC(r.SSF),t.revssf=t5(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,$3(t),t.cellXfs=[],yf(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var a=0;a<r.SheetNames.length;++a)n[n.length]=ASe(a,t,r);return n.unshift(hSe(r,n,t)),Hi(n)}function eV(r,e){for(var t=0;t<=r.SheetNames.length;++t){var n=r.Sheets[r.SheetNames[t]];if(!(!n||!n["!ref"])){var a=Xl(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return fSe(r,e);case 4:case 3:case 2:return aSe(r,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function mSe(r,e,t,n){for(var a=r["!merges"]||[],s=[],i=e.s.c;i<=e.e.c;++i){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>t||a[u].s.c>i)&&!(a[u].e.r<t||a[u].e.c<i)){if(a[u].s.r<t||a[u].s.c<i){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var A=$n({r:t,c:i}),h=n.dense?(r[t]||[])[i]:r[A],p=h&&h.v!=null&&(h.h||V1e(h.w||(FA(h),h.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?p='<span contenteditable="true">'+p+"</span>":h&&(m["data-t"]=h&&h.t||"z",h.v!=null&&(m["data-v"]=h.v),h.z!=null&&(m["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+h.l.Target+'">'+p+"</a>")),m.id=(n.id||"sjs")+"-"+A,s.push(Ot("td",p,m))}}var y="<tr>";return y+s.join("")+"</tr>"}var pSe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',gSe="</body></html>";function xSe(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function tV(r,e){var t=e||{},n=t.header!=null?t.header:pSe,a=t.footer!=null?t.footer:gSe,s=[n],i=Xl(r["!ref"]);t.dense=Array.isArray(r),s.push(xSe(r,i,t));for(var l=i.s.r;l<=i.e.r;++l)s.push(mSe(r,i,l,t));return s.push("</table>"+a),s.join("")}function rV(r,e,t){var n=t||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?xi(n.origin):n.origin;a=i.r,s=i.c}var l=e.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(r["!ref"]){var A=Xl(r["!ref"]);u.s.r=Math.min(u.s.r,A.s.r),u.s.c=Math.min(u.s.c,A.s.c),u.e.r=Math.max(u.e.r,A.e.r),u.e.c=Math.max(u.e.c,A.e.c),a==-1&&(u.e.r=a=A.e.r+1)}var h=[],p=0,m=r["!rows"]||(r["!rows"]=[]),y=0,g=0,v=0,b=0,N=0,C=0;for(r["!cols"]||(r["!cols"]=[]);y<l.length&&g<c;++y){var E=l[y];if(bM(E)){if(n.display)continue;m[g]={hidden:!0}}var _=E.children;for(v=b=0;v<_.length;++v){var P=_[v];if(!(n.display&&bM(P))){var O=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):Y1e(P.innerHTML),D=P.getAttribute("data-z")||P.getAttribute("z");for(p=0;p<h.length;++p){var k=h[p];k.s.c==b+s&&k.s.r<g+a&&g+a<=k.e.r&&(b=k.e.c+1-s,p=-1)}C=+P.getAttribute("colspan")||1,((N=+P.getAttribute("rowspan")||1)>1||C>1)&&h.push({s:{r:g+a,c:b+s},e:{r:g+a+(N||1)-1,c:b+s+(C||1)-1}});var H={t:"s",v:O},L=P.getAttribute("data-t")||P.getAttribute("t")||"";O!=null&&(O.length==0?H.t=L||"z":n.raw||O.trim().length==0||L=="s"||(O==="TRUE"?H={t:"b",v:!0}:O==="FALSE"?H={t:"b",v:!1}:isNaN(wA(O))?isNaN(Ry(O).getDate())||(H={t:"d",v:ko(O)},n.cellDates||(H={t:"n",v:hl(H.v)}),H.z=n.dateNF||cs[14]):H={t:"n",v:wA(O)})),H.z===void 0&&D!=null&&(H.z=D);var Q="",R=P.getElementsByTagName("A");if(R&&R.length)for(var K=0;K<R.length&&!(R[K].hasAttribute("href")&&(Q=R[K].getAttribute("href"),Q.charAt(0)!="#"));++K);Q&&Q.charAt(0)!="#"&&(H.l={Target:Q}),n.dense?(r[g+a]||(r[g+a]=[]),r[g+a][b+s]=H):r[$n({c:b+s,r:g+a})]=H,u.e.c<b+s&&(u.e.c=b+s),b+=C}}++g}return h.length&&(r["!merges"]=(r["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,g-1+a),r["!ref"]=Ls(u),g>=c&&(r["!fullref"]=Ls((u.e.r=l.length-y+g-1+a,u))),r}function nV(r,e){var t=e||{},n=t.dense?[]:{};return rV(n,r,e)}function ySe(r,e){return X0(nV(r,e),e)}function bM(r){var e="",t=vSe(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function vSe(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var bSe=(function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Qy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return Ms+e}})(),wM=(function(){var r=function(s){return zn(s).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,n=function(s,i,l){var c=[];c.push('      <table:table table:name="'+zn(i.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,A=0,h=Xl(s["!ref"]||"A1"),p=s["!merges"]||[],m=0,y=Array.isArray(s);if(s["!cols"])for(A=0;A<=h.e.c;++A)c.push("        <table:table-column"+(s["!cols"][A]?' table:style-name="co'+s["!cols"][A].ods+'"':"")+`></table:table-column>
`);var g="",v=s["!rows"]||[];for(u=0;u<h.s.r;++u)g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=h.e.r;++u){for(g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+g+`>
`),A=0;A<h.s.c;++A)c.push(e);for(;A<=h.e.c;++A){var b=!1,N={},C="";for(m=0;m!=p.length;++m)if(!(p[m].s.c>A)&&!(p[m].s.r>u)&&!(p[m].e.c<A)&&!(p[m].e.r<u)){(p[m].s.c!=A||p[m].s.r!=u)&&(b=!0),N["table:number-columns-spanned"]=p[m].e.c-p[m].s.c+1,N["table:number-rows-spanned"]=p[m].e.r-p[m].s.r+1;break}if(b){c.push(t);continue}var E=$n({r:u,c:A}),_=y?(s[u]||[])[A]:s[E];if(_&&_.f&&(N["table:formula"]=zn(QCe(_.f)),_.F&&_.F.slice(0,E.length)==E)){var P=Xl(_.F);N["table:number-matrix-columns-spanned"]=P.e.c-P.s.c+1,N["table:number-matrix-rows-spanned"]=P.e.r-P.s.r+1}if(!_){c.push(e);continue}switch(_.t){case"b":C=_.v?"TRUE":"FALSE",N["office:value-type"]="boolean",N["office:boolean-value"]=_.v?"true":"false";break;case"n":C=_.w||String(_.v||0),N["office:value-type"]="float",N["office:value"]=_.v||0;break;case"s":case"str":C=_.v==null?"":_.v,N["office:value-type"]="string";break;case"d":C=_.w||ko(_.v).toISOString(),N["office:value-type"]="date",N["office:date-value"]=ko(_.v).toISOString(),N["table:style-name"]="ce1";break;default:c.push(e);continue}var O=r(C);if(_.l&&_.l.Target){var D=_.l.Target;D=D.charAt(0)=="#"?"#"+HCe(D.slice(1)):D,D.charAt(0)!="#"&&!D.match(/^\w+:/)&&(D="../"+D),O=Ot("text:a",O,{"xlink:href":D.replace(/&/g,"&amp;")})}c.push("          "+Ot("table:table-cell",Ot("text:p",O,{}),N)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(s,i){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var A=0;A<u["!cols"].length;++A)if(u["!cols"][A]){var h=u["!cols"][A];if(h.width==null&&h.wpx==null&&h.wch==null)continue;U3(h),h.ods=l;var p=u["!cols"][A].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),s.push(`  </style:style>
`),++l}}});var c=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var A=0;A<u["!rows"].length;++A)if(u["!rows"][A]){u["!rows"][A].ods=c;var h=u["!rows"][A].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(i,l){var c=[Ms],u=Qy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),A=Qy({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+A+`>
`),c.push(x$().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,i),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=i.SheetNames.length;++h)c.push(n(i.Sheets[i.SheetNames[h]],i,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function aV(r,e){if(e.bookType=="fods")return wM(r,e);var t=_3(),n="",a=[],s=[];return n="mimetype",$r(t,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",$r(t,n,wM(r,e)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",$r(t,n,bSe(r,e)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",$r(t,n,Ms+x$()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",$r(t,n,Obe(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",$r(t,n,kbe(a)),t}function L2(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function wSe(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):bu(Uy(r))}function CSe(r,e){e:for(var t=0;t<=r.length-e.length;++t){for(var n=0;n<e.length;++n)if(r[t+n]!=e[n])continue e;return!0}return!1}function of(r){var e=r.reduce(function(a,s){return a+s.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(a){t.set(a,n),n+=a.length}),t}function NSe(r,e,t){var n=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,a=t/Math.pow(10,n-6176);r[e+15]|=n>>7,r[e+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)r[e+s]=a&255;r[e+15]|=t>=0?0:128}function Hy(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function Ln(r){var e=new Uint8Array(7);e[0]=r&127;var t=1;e:if(r>127){if(e[t-1]|=128,e[t]=r>>7&127,++t,r<=16383||(e[t-1]|=128,e[t]=r>>14&127,++t,r<=2097151)||(e[t-1]|=128,e[t]=r>>21&127,++t,r<=268435455)||(e[t-1]|=128,e[t]=r/256>>>21&127,++t,r<=34359738367)||(e[t-1]|=128,e[t]=r/65536>>>21&127,++t,r<=4398046511103))break e;e[t-1]|=128,e[t]=r/16777216>>>21&127,++t}return e.slice(0,t)}function Dp(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function Ys(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],a=Hy(r,t),s=a&7;a=Math.floor(a/8);var i=0,l;if(a==0)break;switch(s){case 0:{for(var c=t[0];r[t[0]++]>=128;);l=r.slice(c,t[0])}break;case 5:i=4,l=r.slice(t[0],t[0]+i),t[0]+=i;break;case 1:i=8,l=r.slice(t[0],t[0]+i),t[0]+=i;break;case 2:i=Hy(r,t),l=r.slice(t[0],t[0]+i),t[0]+=i;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};e[a]==null?e[a]=[u]:e[a].push(u)}return e}function Pi(r){var e=[];return r.forEach(function(t,n){t.forEach(function(a){a.data&&(e.push(Ln(n*8+a.type)),a.type==2&&e.push(Ln(a.data.length)),e.push(a.data))})}),of(e)}function hu(r){for(var e,t=[],n=[0];n[0]<r.length;){var a=Hy(r,n),s=Ys(r.slice(n[0],n[0]+a));n[0]+=a;var i={id:Dp(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Ys(l.data),u=Dp(c[3][0].data);i.messages.push({meta:c,data:r.slice(n[0],n[0]+u)}),n[0]+=u}),(e=s[3])!=null&&e[0]&&(i.merge=Dp(s[3][0].data)>>>0>0),t.push(i)}return t}function Zm(r){var e=[];return r.forEach(function(t){var n=[];n[1]=[{data:Ln(t.id),type:0}],n[2]=[],t.merge!=null&&(n[3]=[{data:Ln(+!!t.merge),type:0}]);var a=[];t.messages.forEach(function(i){a.push(i.data),i.meta[3]=[{type:0,data:Ln(i.data.length)}],n[2].push({data:Pi(i.meta),type:2})});var s=Pi(n);e.push(Ln(s.length)),e.push(s),a.forEach(function(i){return e.push(i)})}),of(e)}function SSe(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=Hy(e,t),a=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var i=e[t[0]++]>>2;if(i<60)++i;else{var l=i-59;i=e[t[0]],l>1&&(i|=e[t[0]+1]<<8),l>2&&(i|=e[t[0]+2]<<16),l>3&&(i|=e[t[0]+3]<<24),i>>>=0,i++,t[0]+=l}a.push(e.slice(t[0],t[0]+i)),t[0]+=i;continue}else{var c=0,u=0;if(s==1?(u=(e[t[0]]>>2&7)+4,c=(e[t[0]++]&224)<<3,c|=e[t[0]++]):(u=(e[t[0]++]>>2)+1,s==2?(c=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(c=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),a=[of(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var A=of(a);if(A.length!=n)throw new Error("Unexpected length: ".concat(A.length," != ").concat(n));return A}function fu(r){for(var e=[],t=0;t<r.length;){var n=r[t++],a=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(SSe(n,r.slice(t,t+a))),t+=a}if(t!==r.length)throw new Error("data is not a valid framed stream!");return of(e)}function ep(r){for(var e=[],t=0;t<r.length;){var n=Math.min(r.length-t,268435455),a=new Uint8Array(4);e.push(a);var s=Ln(n),i=s.length;e.push(s),n<=60?(i++,e.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(r.slice(t,t+n)),i+=n,a[0]=0,a[1]=i&255,a[2]=i>>8&255,a[3]=i>>16&255,t+=n}return of(e)}function KB(r,e){var t=new Uint8Array(32),n=L2(t),a=12,s=0;switch(t[0]=5,r.t){case"n":t[1]=2,NSe(t,a,r.v),s|=1,a+=16;break;case"b":t[1]=6,n.setFloat64(a,r.v?1:0,!0),s|=2,a+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[1]=3,n.setUint32(a,e.indexOf(r.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(8,s,!0),t.slice(0,a)}function $B(r,e){var t=new Uint8Array(32),n=L2(t),a=12,s=0;switch(t[0]=3,r.t){case"n":t[2]=2,n.setFloat64(a,r.v,!0),s|=32,a+=8;break;case"b":t[2]=6,n.setFloat64(a,r.v?1:0,!0),s|=32,a+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[2]=3,n.setUint32(a,e.indexOf(r.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(4,s,!0),t.slice(0,a)}function Eh(r){var e=Ys(r);return Hy(e[1][0].data)}function BSe(r,e,t){var n,a,s,i;if(!((n=r[6])!=null&&n[0])||!((a=r[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((i=(s=r[8])==null?void 0:s[0])==null?void 0:i.data)&&Dp(r[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=L2(r[7][0].data),A=0,h=[],p=L2(r[4][0].data),m=0,y=[],g=0;g<e.length;++g){if(e[g]==null){u.setUint16(g*2,65535,!0),p.setUint16(g*2,65535);continue}u.setUint16(g*2,A,!0),p.setUint16(g*2,m,!0);var v,b;switch(typeof e[g]){case"string":v=KB({t:"s",v:e[g]},t),b=$B({t:"s",v:e[g]},t);break;case"number":v=KB({t:"n",v:e[g]},t),b=$B({t:"n",v:e[g]},t);break;case"boolean":v=KB({t:"b",v:e[g]},t),b=$B({t:"b",v:e[g]},t);break;default:throw new Error("Unsupported value "+e[g])}h.push(v),A+=v.length,y.push(b),m+=b.length,++c}for(r[2][0].data=Ln(c);g<r[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),p.setUint16(g*2,65535,!0);return r[6][0].data=of(h),r[3][0].data=of(y),c}function ESe(r,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Xl(t["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Ls(n)));var s=M2(t,{range:n,header:1}),i=["~Sh33tJ5~"];s.forEach(function(z){return z.forEach(function(V){typeof V=="string"&&i.push(V)})});var l={},c=[],u=ta.read(e.numbers,{type:"base64"});u.FileIndex.map(function(z,V){return[z,u.FullPaths[V]]}).forEach(function(z){var V=z[0],q=z[1];if(V.type==2&&V.name.match(/\.iwa/)){var ne=V.content,ce=fu(ne),Be=hu(ce);Be.forEach(function(Ae){c.push(Ae.id),l[Ae.id]={deps:[],location:q,type:Dp(Ae.messages[0].meta[1][0].data)}})}}),c.sort(function(z,V){return z-V});var A=c.filter(function(z){return z>1}).map(function(z){return[z,Ln(z)]});u.FileIndex.map(function(z,V){return[z,u.FullPaths[V]]}).forEach(function(z){var V=z[0];if(z[1],!!V.name.match(/\.iwa/)){var q=hu(fu(V.content));q.forEach(function(ne){ne.messages.forEach(function(ce){A.forEach(function(Be){ne.messages.some(function(Ae){return Dp(Ae.meta[1][0].data)!=11006&&CSe(Ae.data,Be[1])})&&l[Be[0]].deps.push(ne.id)})})})}});for(var h=ta.find(u,l[1].location),p=hu(fu(h.content)),m,y=0;y<p.length;++y){var g=p[y];g.id==1&&(m=g)}var v=Eh(Ys(m.messages[0].data)[1][0].data);for(h=ta.find(u,l[v].location),p=hu(fu(h.content)),y=0;y<p.length;++y)g=p[y],g.id==v&&(m=g);for(v=Eh(Ys(m.messages[0].data)[2][0].data),h=ta.find(u,l[v].location),p=hu(fu(h.content)),y=0;y<p.length;++y)g=p[y],g.id==v&&(m=g);for(v=Eh(Ys(m.messages[0].data)[2][0].data),h=ta.find(u,l[v].location),p=hu(fu(h.content)),y=0;y<p.length;++y)g=p[y],g.id==v&&(m=g);var b=Ys(m.messages[0].data);{b[6][0].data=Ln(n.e.r+1),b[7][0].data=Ln(n.e.c+1);var N=Eh(b[46][0].data),C=ta.find(u,l[N].location),E=hu(fu(C.content));{for(var _=0;_<E.length&&E[_].id!=N;++_);if(E[_].id!=N)throw"Bad ColumnRowUIDMapArchive";var P=Ys(E[_].messages[0].data);P[1]=[],P[2]=[],P[3]=[];for(var O=0;O<=n.e.c;++O){var D=[];D[1]=D[2]=[{type:0,data:Ln(O+420690)}],P[1].push({type:2,data:Pi(D)}),P[2].push({type:0,data:Ln(O)}),P[3].push({type:0,data:Ln(O)})}P[4]=[],P[5]=[],P[6]=[];for(var k=0;k<=n.e.r;++k)D=[],D[1]=D[2]=[{type:0,data:Ln(k+726270)}],P[4].push({type:2,data:Pi(D)}),P[5].push({type:0,data:Ln(k)}),P[6].push({type:0,data:Ln(k)});E[_].messages[0].data=Pi(P)}C.content=ep(Zm(E)),C.size=C.content.length,delete b[46];var H=Ys(b[4][0].data);{H[7][0].data=Ln(n.e.r+1);var L=Ys(H[1][0].data),Q=Eh(L[2][0].data);C=ta.find(u,l[Q].location),E=hu(fu(C.content));{if(E[0].id!=Q)throw"Bad HeaderStorageBucket";var R=Ys(E[0].messages[0].data);for(k=0;k<s.length;++k){var K=Ys(R[2][0].data);K[1][0].data=Ln(k),K[4][0].data=Ln(s[k].length),R[2][k]={type:R[2][0].type,data:Pi(K)}}E[0].messages[0].data=Pi(R)}C.content=ep(Zm(E)),C.size=C.content.length;var ee=Eh(H[2][0].data);C=ta.find(u,l[ee].location),E=hu(fu(C.content));{if(E[0].id!=ee)throw"Bad HeaderStorageBucket";for(R=Ys(E[0].messages[0].data),O=0;O<=n.e.c;++O)K=Ys(R[2][0].data),K[1][0].data=Ln(O),K[4][0].data=Ln(n.e.r+1),R[2][O]={type:R[2][0].type,data:Pi(K)};E[0].messages[0].data=Pi(R)}C.content=ep(Zm(E)),C.size=C.content.length;var X=Eh(H[4][0].data);(function(){for(var z=ta.find(u,l[X].location),V=hu(fu(z.content)),q,ne=0;ne<V.length;++ne){var ce=V[ne];ce.id==X&&(q=ce)}var Be=Ys(q.messages[0].data);{Be[3]=[];var Ae=[];i.forEach(function(je,Se){Ae[1]=[{type:0,data:Ln(Se)}],Ae[2]=[{type:0,data:Ln(1)}],Ae[3]=[{type:2,data:wSe(je)}],Be[3].push({type:2,data:Pi(Ae)})})}q.messages[0].data=Pi(Be);var ye=Zm(V),Pe=ep(ye);z.content=Pe,z.size=z.content.length})();var ae=Ys(H[3][0].data);{var Y=ae[1][0];delete ae[2];var de=Ys(Y.data);{var pe=Eh(de[2][0].data);(function(){for(var z=ta.find(u,l[pe].location),V=hu(fu(z.content)),q,ne=0;ne<V.length;++ne){var ce=V[ne];ce.id==pe&&(q=ce)}var Be=Ys(q.messages[0].data);{delete Be[6],delete ae[7];var Ae=new Uint8Array(Be[5][0].data);Be[5]=[];for(var ye=0,Pe=0;Pe<=n.e.r;++Pe){var je=Ys(Ae);ye+=BSe(je,s[Pe],i),je[1][0].data=Ln(Pe),Be[5].push({data:Pi(je),type:2})}Be[1]=[{type:0,data:Ln(n.e.c+1)}],Be[2]=[{type:0,data:Ln(n.e.r+1)}],Be[3]=[{type:0,data:Ln(ye)}],Be[4]=[{type:0,data:Ln(n.e.r+1)}]}q.messages[0].data=Pi(Be);var Se=Zm(V),Te=ep(Se);z.content=Te,z.size=z.content.length})()}Y.data=Pi(de)}H[3][0].data=Pi(ae)}b[4][0].data=Pi(H)}m.messages[0].data=Pi(b);var Z=Zm(p),I=ep(Z);return h.content=I,h.size=h.content.length,u}function jSe(r){return function(t){for(var n=0;n!=r.length;++n){var a=r[n];t[a[0]]===void 0&&(t[a[0]]=a[1]),a[2]==="n"&&(t[a[0]]=Number(t[a[0]]))}}}function $3(r){jSe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function _Se(r,e){return e.bookType=="ods"?aV(r,e):e.bookType=="numbers"?ESe(r,e):e.bookType=="xlsb"?TSe(r,e):kSe(r,e)}function TSe(r,e){Np=1024,r&&!r.SSF&&(r.SSF=fl(cs)),r&&r.SSF&&(e5(),ZC(r.SSF),e.revssf=t5(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,hy?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",n=U$.indexOf(e.bookType)>-1,a=m$();$3(e=e||{});var s=_3(),i="",l=0;if(e.cellXfs=[],yf(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),i="docProps/core.xml",$r(s,i,y$(r.Props,e)),a.coreprops.push(i),Rn(e.rels,2,i,yn.CORE_PROPS),i="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var c=[],u=0;u<r.SheetNames.length;++u)(r.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(r.SheetNames[u]);r.Props.SheetNames=c}for(r.Props.Worksheets=r.Props.SheetNames.length,$r(s,i,b$(r.Props)),a.extprops.push(i),Rn(e.rels,3,i,yn.EXT_PROPS),r.Custprops!==r.Props&&Vi(r.Custprops||{}).length>0&&(i="docProps/custom.xml",$r(s,i,w$(r.Custprops)),a.custprops.push(i),Rn(e.rels,4,i,yn.CUST_PROPS)),l=1;l<=r.SheetNames.length;++l){var A={"!id":{}},h=r.Sheets[r.SheetNames[l-1]],p=(h||{})["!type"]||"sheet";if(i="xl/worksheets/sheet"+l+"."+t,$r(s,i,ONe(l-1,i,e,r,A)),a.sheets.push(i),Rn(e.wbrels,-1,"worksheets/sheet"+l+"."+t,yn.WS[0]),h){var m=h["!comments"],y=!1,g="";m&&m.length>0&&(g="xl/comments"+l+"."+t,$r(s,g,INe(m,g)),a.comments.push(g),Rn(A,-1,"../comments"+l+"."+t,yn.CMNT),y=!0),h["!legacy"]&&y&&$r(s,"xl/drawings/vmlDrawing"+l+".vml",M$(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}A["!id"].rId1&&$r(s,g$(i),Fp(A))}return e.Strings!=null&&e.Strings.length>0&&(i="xl/sharedStrings."+t,$r(s,i,PNe(e.Strings,i,e)),a.strs.push(i),Rn(e.wbrels,-1,"sharedStrings."+t,yn.SST)),i="xl/workbook."+t,$r(s,i,FNe(r,i)),a.workbooks.push(i),Rn(e.rels,1,i,yn.WB),i="xl/theme/theme1.xml",$r(s,i,I$(r.Themes,e)),a.themes.push(i),Rn(e.wbrels,-1,"theme/theme1.xml",yn.THEME),i="xl/styles."+t,$r(s,i,DNe(r,i,e)),a.styles.push(i),Rn(e.wbrels,-1,"styles."+t,yn.STY),r.vbaraw&&n&&(i="xl/vbaProject.bin",$r(s,i,r.vbaraw),a.vba.push(i),Rn(e.wbrels,-1,"vbaProject.bin",yn.VBA)),i="xl/metadata."+t,$r(s,i,LNe(i)),a.metadata.push(i),Rn(e.wbrels,-1,"metadata."+t,yn.XLMETA),$r(s,"[Content_Types].xml",p$(a,e)),$r(s,"_rels/.rels",Fp(e.rels)),$r(s,"xl/_rels/workbook."+t+".rels",Fp(e.wbrels)),delete e.revssf,delete e.ssf,s}function kSe(r,e){Np=1024,r&&!r.SSF&&(r.SSF=fl(cs)),r&&r.SSF&&(e5(),ZC(r.SSF),e.revssf=t5(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,hy?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",n=U$.indexOf(e.bookType)>-1,a=m$();$3(e=e||{});var s=_3(),i="",l=0;if(e.cellXfs=[],yf(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),i="docProps/core.xml",$r(s,i,y$(r.Props,e)),a.coreprops.push(i),Rn(e.rels,2,i,yn.CORE_PROPS),i="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var c=[],u=0;u<r.SheetNames.length;++u)(r.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(r.SheetNames[u]);r.Props.SheetNames=c}r.Props.Worksheets=r.Props.SheetNames.length,$r(s,i,b$(r.Props)),a.extprops.push(i),Rn(e.rels,3,i,yn.EXT_PROPS),r.Custprops!==r.Props&&Vi(r.Custprops||{}).length>0&&(i="docProps/custom.xml",$r(s,i,w$(r.Custprops)),a.custprops.push(i),Rn(e.rels,4,i,yn.CUST_PROPS));var A=["SheetJ5"];for(e.tcid=0,l=1;l<=r.SheetNames.length;++l){var h={"!id":{}},p=r.Sheets[r.SheetNames[l-1]],m=(p||{})["!type"]||"sheet";if(i="xl/worksheets/sheet"+l+"."+t,$r(s,i,W$(l-1,e,r,h)),a.sheets.push(i),Rn(e.wbrels,-1,"worksheets/sheet"+l+"."+t,yn.WS[0]),p){var y=p["!comments"],g=!1,v="";if(y&&y.length>0){var b=!1;y.forEach(function(N){N[1].forEach(function(C){C.T==!0&&(b=!0)})}),b&&(v="xl/threadedComments/threadedComment"+l+"."+t,$r(s,v,l2e(y,A,e)),a.threadedcomments.push(v),Rn(h,-1,"../threadedComments/threadedComment"+l+"."+t,yn.TCMNT)),v="xl/comments"+l+"."+t,$r(s,v,R$(y)),a.comments.push(v),Rn(h,-1,"../comments"+l+"."+t,yn.CMNT),g=!0}p["!legacy"]&&g&&$r(s,"xl/drawings/vmlDrawing"+l+".vml",M$(l,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&$r(s,g$(i),Fp(h))}return e.Strings!=null&&e.Strings.length>0&&(i="xl/sharedStrings."+t,$r(s,i,T$(e.Strings,e)),a.strs.push(i),Rn(e.wbrels,-1,"sharedStrings."+t,yn.SST)),i="xl/workbook."+t,$r(s,i,J$(r)),a.workbooks.push(i),Rn(e.rels,1,i,yn.WB),i="xl/theme/theme1.xml",$r(s,i,I$(r.Themes,e)),a.themes.push(i),Rn(e.wbrels,-1,"theme/theme1.xml",yn.THEME),i="xl/styles."+t,$r(s,i,D$(r,e)),a.styles.push(i),Rn(e.wbrels,-1,"styles."+t,yn.STY),r.vbaraw&&n&&(i="xl/vbaProject.bin",$r(s,i,r.vbaraw),a.vba.push(i),Rn(e.wbrels,-1,"vbaProject.bin",yn.VBA)),i="xl/metadata."+t,$r(s,i,L$()),a.metadata.push(i),Rn(e.wbrels,-1,"metadata."+t,yn.XLMETA),A.length>1&&(i="xl/persons/person.xml",$r(s,i,c2e(A)),a.people.push(i),Rn(e.wbrels,-1,"persons/person.xml",yn.PEOPLE)),$r(s,"[Content_Types].xml",p$(a,e)),$r(s,"_rels/.rels",Fp(e.rels)),$r(s,"xl/_rels/workbook."+t+".rels",Fp(e.wbrels)),delete e.revssf,delete e.ssf,s}function FSe(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=kA(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function sV(r,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return _v(e.file,ta.write(r,{type:En?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return ta.write(r,e)}function OSe(r,e){var t=fl(e||{}),n=_Se(r,t);return DSe(n,t)}function DSe(r,e){var t={},n=En?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=n;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var a=r.FullPaths?ta.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):r.generate(t);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(JC(a))}return e.password&&typeof encrypt_agile<"u"?sV(encrypt_agile(a,e.password),e):e.type==="file"?_v(e.file,a):e.type=="string"?cy(a):a}function PSe(r,e){var t=e||{},n=XNe(r,t);return sV(n,t)}function dd(r,e,t){t||(t="");var n=t+r;switch(e.type){case"base64":return My(Uy(n));case"binary":return Uy(n);case"string":return r;case"file":return _v(e.file,n,"utf8");case"buffer":return En?KA(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):dd(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function ISe(r,e){switch(e.type){case"base64":return My(r);case"binary":return r;case"string":return r;case"file":return _v(e.file,r,"binary");case"buffer":return En?KA(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function xb(r,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",n=0;n<r.length;++n)t+=String.fromCharCode(r[n]);return e.type=="base64"?My(t):e.type=="string"?cy(t):t;case"file":return _v(e.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+e.type)}}function iV(r,e){u1e(),bNe(r);var t=fl(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var n=iV(r,t);return t.type="array",JC(n)}var a=0;if(t.sheet&&(typeof t.sheet=="number"?a=t.sheet:a=r.SheetNames.indexOf(t.sheet),!r.SheetNames[a]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return dd(WNe(r,t),t);case"slk":case"sylk":return dd(xwe.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"htm":case"html":return dd(tV(r.Sheets[r.SheetNames[a]],t),t);case"txt":return ISe(oV(r.Sheets[r.SheetNames[a]],t),t);case"csv":return dd(V3(r.Sheets[r.SheetNames[a]],t),t,"\uFEFF");case"dif":return dd(ywe.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"dbf":return xb(gwe.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"prn":return dd(vwe.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"rtf":return dd(Ewe.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"eth":return dd(_$.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"fods":return dd(aV(r,t),t);case"wk1":return xb(mM.sheet_to_wk1(r.Sheets[r.SheetNames[a]],t),t);case"wk3":return xb(mM.book_to_wk3(r,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),xb(eV(r,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),PSe(r,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return OSe(r,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function LSe(r){if(!r.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=r.file.slice(r.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(r.bookType=t.slice(1)),r.bookType=e[r.bookType]||r.bookType}}function Dv(r,e,t){var n={};return n.type="file",n.file=e,LSe(n),iV(r,n)}function MSe(r,e,t,n,a,s,i,l){var c=$i(t),u=l.defval,A=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,p=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:t,enumerable:!1})}catch{p.__rowNum__=t}else p.__rowNum__=t;if(!i||r[t])for(var m=e.s.c;m<=e.e.c;++m){var y=i?r[t][m]:r[n[m]+c];if(y===void 0||y.t===void 0){if(u===void 0)continue;s[m]!=null&&(p[s[m]]=u);continue}var g=y.v;switch(y.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[m]!=null){if(g==null)if(y.t=="e"&&g===null)p[s[m]]=null;else if(u!==void 0)p[s[m]]=u;else if(A&&g===null)p[s[m]]=null;else continue;else p[s[m]]=A&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?g:FA(y,g,l);g!=null&&(h=!1)}}return{row:p,isempty:h}}function M2(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,a=1,s=[],i=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},A=u.range!=null?u.range:r["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof A){case"string":c=va(A);break;case"number":c=va(r["!ref"]),c.s.r=A;break;default:c=A}n>0&&(a=0);var h=$i(c.s.r),p=[],m=[],y=0,g=0,v=Array.isArray(r),b=c.s.r,N=0,C={};v&&!r[b]&&(r[b]=[]);var E=u.skipHidden&&r["!cols"]||[],_=u.skipHidden&&r["!rows"]||[];for(N=c.s.c;N<=c.e.c;++N)if(!(E[N]||{}).hidden)switch(p[N]=uo(N),t=v?r[b][N]:r[p[N]+h],n){case 1:s[N]=N-c.s.c;break;case 2:s[N]=p[N];break;case 3:s[N]=u.header[N-c.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),l=i=FA(t,null,u),g=C[i]||0,!g)C[i]=1;else{do l=i+"_"+g++;while(C[l]);C[i]=g,C[l]=1}s[N]=l}for(b=c.s.r+a;b<=c.e.r;++b)if(!(_[b]||{}).hidden){var P=MSe(r,c,b,p,n,s,v,u);(P.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[y++]=P.row)}return m.length=y,m}var CM=/"/g;function RSe(r,e,t,n,a,s,i,l){for(var c=!0,u=[],A="",h=$i(t),p=e.s.c;p<=e.e.c;++p)if(n[p]){var m=l.dense?(r[t]||[])[p]:r[n[p]+h];if(m==null)A="";else if(m.v!=null){c=!1,A=""+(l.rawNumbers&&m.t=="n"?m.v:FA(m,null,l));for(var y=0,g=0;y!==A.length;++y)if((g=A.charCodeAt(y))===a||g===s||g===34||l.forceQuotes){A='"'+A.replace(CM,'""')+'"';break}A=="ID"&&(A='"ID"')}else m.f!=null&&!m.F?(c=!1,A="="+m.f,A.indexOf(",")>=0&&(A='"'+A.replace(CM,'""')+'"')):A="";u.push(A)}return l.blankrows===!1&&c?null:u.join(i)}function V3(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var a=va(r["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),A="",h=[];n.dense=Array.isArray(r);for(var p=n.skipHidden&&r["!cols"]||[],m=n.skipHidden&&r["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(p[y]||{}).hidden||(h[y]=uo(y));for(var g=0,v=a.s.r;v<=a.e.r;++v)(m[v]||{}).hidden||(A=RSe(r,a,v,h,i,c,s,n),A!=null&&(n.strip&&(A=A.replace(u,"")),(A||n.blankrows!==!1)&&t.push((g++?l:"")+A)));return delete n.dense,t.join("")}function oV(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=V3(r,e);return t}function USe(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var a=va(r["!ref"]),s="",i=[],l,c=[],u=Array.isArray(r);for(l=a.s.c;l<=a.e.c;++l)i[l]=uo(l);for(var A=a.s.r;A<=a.e.r;++A)for(s=$i(A),l=a.s.c;l<=a.e.c;++l)if(e=i[l]+s,t=u?(r[A]||[])[l]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}c[c.length]=e+"="+n}return c}function lV(r,e,t){var n=t||{},a=+!n.skipHeader,s=r||{},i=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?xi(n.origin):n.origin;i=c.r,l=c.c}var u,A={s:{c:0,r:0},e:{c:l,r:i+e.length-1+a}};if(s["!ref"]){var h=va(s["!ref"]);A.e.c=Math.max(A.e.c,h.e.c),A.e.r=Math.max(A.e.r,h.e.r),i==-1&&(i=h.e.r+1,A.e.r=i+e.length-1+a)}else i==-1&&(i=0,A.e.r=e.length-1+a);var p=n.header||[],m=0;e.forEach(function(g,v){Vi(g).forEach(function(b){(m=p.indexOf(b))==-1&&(p[m=p.length]=b);var N=g[b],C="z",E="",_=$n({c:l+m,r:i+v+a});u=zy(s,_),N&&typeof N=="object"&&!(N instanceof Date)?s[_]=N:(typeof N=="number"?C="n":typeof N=="boolean"?C="b":typeof N=="string"?C="s":N instanceof Date?(C="d",n.cellDates||(C="n",N=hl(N)),E=n.dateNF||cs[14]):N===null&&n.nullError&&(C="e",N=0),u?(u.t=C,u.v=N,delete u.w,delete u.R,E&&(u.z=E)):s[_]=u={t:C,v:N},E&&(u.z=E))})}),A.e.c=Math.max(A.e.c,l+p.length-1);var y=$i(i);if(a)for(m=0;m<p.length;++m)s[uo(m+l)+y]={t:"s",v:p[m]};return s["!ref"]=Ls(A),s}function QSe(r,e){return lV(null,r,e)}function zy(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=xi(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?zy(r,$n(e)):zy(r,$n({r:e,c:t||0}))}function HSe(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function zSe(){return{SheetNames:[],Sheets:{}}}function KSe(r,e,t,n){var a=1;if(!t)for(;a<=65535&&r.SheetNames.indexOf(t="Sheet"+a)!=-1;++a,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||t;for(++a;a<=65535&&r.SheetNames.indexOf(t=i+a)!=-1;++a);}if(X$(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function $Se(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=HSe(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function VSe(r,e){return r.z=e,r}function cV(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function qSe(r,e,t){return cV(r,"#"+e,t)}function GSe(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function WSe(r,e,t,n){for(var a=typeof e!="string"?e:va(e),s=typeof e=="string"?e:Ls(e),i=a.s.r;i<=a.e.r;++i)for(var l=a.s.c;l<=a.e.c;++l){var c=zy(r,i,l);c.t="n",c.F=s,delete c.v,i==a.s.r&&l==a.s.c&&(c.f=t,n&&(c.D=!0))}return r}var Fo={encode_col:uo,encode_row:$i,encode_cell:$n,encode_range:Ls,decode_col:P3,decode_row:D3,split_cell:ube,decode_cell:xi,decode_range:Xl,format_cell:FA,sheet_add_aoa:c$,sheet_add_json:lV,sheet_add_dom:rV,aoa_to_sheet:Fg,json_to_sheet:QSe,table_to_sheet:nV,table_to_book:ySe,sheet_to_csv:V3,sheet_to_txt:oV,sheet_to_json:M2,sheet_to_html:tV,sheet_to_formulae:USe,sheet_to_row_object_array:M2,sheet_get_cell:zy,book_new:zSe,book_append_sheet:KSe,book_set_sheet_visibility:$Se,cell_set_number_format:VSe,cell_set_hyperlink:cV,cell_set_internal_link:qSe,cell_add_comment:GSe,sheet_set_array_formula:WSe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const YSe=({isOpen:r,onClose:e})=>{const{projects:t,addTimesheet:n}=os(),{researchProjects:a}=nf(),s=_o(),[i,l]=B.useState("project"),[c,u]=B.useState({date:new Date().toISOString().split("T")[0],projectId:"",researchId:"",workCategory:"",description:"",hours:0}),A=t,p=(Array.isArray(a)?a:[]).filter(g=>g.status==="planning"||g.status==="in-progress"),m=[{value:"engineering",label:"Engineering"},{value:"project-management",label:"Project Management (E.g.: Business/Site Discussion, Proposal Preparation or Quotations)"},{value:"measurement-site",label:"Measurement (Site)"},{value:"measurement-office",label:"Measurement (Office)"}],y=async g=>{if(g.preventDefault(),i==="project"&&!c.projectId){xe.error("Please select a project");return}if(i==="research"&&!c.researchId){xe.error("Please select a research project");return}if(i==="project"&&!c.workCategory){xe.error("Please select a work category");return}if(c.hours<=0){xe.error("Please enter a valid number of hours");return}let v="",b="";if(i==="project"?(v=t.find(C=>C.id===c.projectId)?.projectCode||"",b="Project"):(v=a.find(C=>C.id===c.researchId)?.id||"",b="Research"),i==="project"){const N={date:c.date,engineerId:s?.userId||"",projectId:c.projectId,workCategory:c.workCategory,description:c.description,hours:c.hours};try{await n(N),xe.success(` Timesheet Entry Created!
${b}: ${v}
Hours: ${c.hours} hrs
Project hours and finance analytics updated!`),u({date:new Date().toISOString().split("T")[0],projectId:"",researchId:"",workCategory:"",description:"",hours:0}),e()}catch(C){xe.error("Failed to create timesheet entry"),Rt.error("Error creating timesheet:",C)}}else{const N={projectId:c.researchId,teamMemberId:s?.userId||"",teamMemberName:s?.displayName||"",date:c.date,hoursLogged:c.hours,description:c.description,researchCategory:c.workCategory||"General",status:"approved"};try{await nf.getState().logTimesheetHours(c.researchId,N),xe.success(` Research Timesheet Entry Created!
Research: ${v}
Hours: ${c.hours} hrs`),u({date:new Date().toISOString().split("T")[0],projectId:"",researchId:"",workCategory:"",description:"",hours:0}),e()}catch(C){xe.error("Failed to create research timesheet entry"),Rt.error("Error:",C)}}};return r?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(ho,{className:"w-6 h-6 text-primary-600"}),"Add Timesheet Entry"]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Log your work hours"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:y,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-2 border-gray-200",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["What are you working on? ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>{l("project"),u(g=>({...g,researchId:""}))},className:`flex items-center justify-center gap-2 p-4 rounded-lg border-2 transition-all ${i==="project"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[o.jsx(Cu,{className:"w-5 h-5"}),o.jsx("span",{className:"font-semibold",children:"Project"})]}),o.jsxs("button",{type:"button",onClick:()=>{l("research"),u(g=>({...g,projectId:""}))},className:`flex items-center justify-center gap-2 p-4 rounded-lg border-2 transition-all ${i==="research"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[o.jsx(T0,{className:"w-5 h-5"}),o.jsx("span",{className:"font-semibold",children:"Research"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(so,{className:"w-4 h-4 inline mr-1"}),"Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",value:c.date,onChange:g=>u({...c,date:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(ho,{className:"w-4 h-4 inline mr-1"}),"Hours ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",value:c.hours,onChange:g=>u({...c,hours:parseFloat(g.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,step:"0.1",min:"0"})]})]}),i==="project"?o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Cu,{className:"w-4 h-4 inline mr-1"}),"Select Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:c.projectId,onChange:g=>u({...c,projectId:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Choose a project..."}),A.map(g=>o.jsxs("option",{value:g.id,children:[g.projectCode," - ",g.title]},g.id))]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Showing ",A.length," active projects"]})]}):o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(T0,{className:"w-4 h-4 inline mr-1"}),"Select Research Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:c.researchId,onChange:g=>u({...c,researchId:g.target.value}),className:"w-full px-4 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Choose a research project..."}),p.map(g=>o.jsxs("option",{value:g.id,children:[g.researchCode," - ",g.title]},g.id))]}),o.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["Showing ",p.length," active research projects"]})]}),i==="project"&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx($a,{className:"w-4 h-4 inline mr-1"}),"Work Category ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:c.workCategory,onChange:g=>u({...c,workCategory:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Select category..."}),m.map(g=>o.jsx("option",{value:g.value,children:g.label},g.value))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx($a,{className:"w-4 h-4 inline mr-1"}),"Description (Optional)"]}),o.jsx("textarea",{value:c.description,onChange:g=>u({...c,description:g.target.value}),placeholder:"Describe what you worked on...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold",children:s.displayName.charAt(0)})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.displayName}),o.jsx("p",{className:"text-xs text-gray-600",children:s.email}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This entry will be logged under your account"})]})]})}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsxs("p",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:" Auto-Sync Enabled:"})," When you add a timesheet entry, it automatically updates:"]}),o.jsxs("ul",{className:"text-xs text-green-700 mt-2 ml-4 space-y-1 list-disc",children:[o.jsx("li",{children:"Project actual hours"}),o.jsx("li",{children:"Finance base cost calculations"}),o.jsx("li",{children:"Timesheet reports"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:"Add Entry"})]})]})]})})]}):null},XSe=({isOpen:r,onClose:e,timesheet:t,onUpdate:n})=>{const{projects:a}=os(),[s,i]=B.useState({hours:0,workCategory:"engineering",description:""});B.useEffect(()=>{t&&i({hours:t.hours,workCategory:t.workCategory,description:t.description||""})},[t,r]);const l=A=>{if(A.preventDefault(),!s.hours||s.hours<=0){xe.error("Hours must be greater than 0");return}if(s.hours>24){xe.error("Hours cannot exceed 24 per day");return}if(!s.description.trim()){xe.error("Description is required");return}if(t){const h={...t,hours:s.hours,workCategory:s.workCategory,description:s.description};n&&n(h),xe.success("Timesheet updated successfully!"),e()}};if(!r||!t)return null;const c=[{value:"engineering",label:"Engineering"},{value:"project-management",label:"Project Management"},{value:"measurement-site",label:"Measurement (Site)"},{value:"measurement-office",label:"Measurement (Office)"}],u=a.find(A=>A.id===t.projectId);return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Timesheet Entry"}),o.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Fr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Project"}),o.jsxs("p",{className:"text-sm font-medium text-gray-900 mt-1",children:[u?.projectCode," - ",u?.title||"Unknown"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900 mt-1",children:new Date(t.date).toLocaleDateString()})]})]})}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hours Worked *"}),o.jsx("input",{type:"number",step:"0.5",min:"0.5",max:"24",value:s.hours,onChange:A=>i({...s,hours:parseFloat(A.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"8"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be between 0.5 and 24 hours"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Work Category *"}),o.jsx("select",{value:s.workCategory,onChange:A=>i({...s,workCategory:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:c.map(A=>o.jsx("option",{value:A.value,children:A.label},A.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),o.jsx("textarea",{value:s.description,onChange:A=>i({...s,description:A.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Describe what work was done..."})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:"Update Entry"})]})]})]})]})})},JSe=()=>{const{timesheets:r,projects:e,fetchTimesheets:t,fetchProjects:n,updateTimesheet:a,deleteTimesheet:s}=os(),{teamMembers:i,fetchTeamMembers:l}=fo(),{researchTimesheets:c,fetchResearchProjects:u,fetchResearchTimesheets:A}=nf(),[h,p]=B.useState("projects"),[m,y]=B.useState(""),[g,v]=B.useState(""),[b,N]=B.useState(""),[C,E]=B.useState(""),[_,P]=B.useState(!1),[O,D]=B.useState(!1),[k,H]=B.useState(null),[L,Q]=B.useState({isOpen:!1}),[R,K]=B.useState(!1),[ee,X]=B.useState(!1),[ae,Y]=B.useState("date"),[de,pe]=B.useState("desc"),[Z,I]=B.useState("date"),[z,V]=B.useState("desc"),q=B.useRef(null),ne=[g,b,C,m].filter(Boolean).length,ce=B.useCallback(()=>{const Ee={};g&&(Ee.engineerId=g),b&&(Ee.startDate=b),C&&(Ee.endDate=C),t(Object.keys(Ee).length>0?Ee:void 0)},[g,b,C,t]);B.useEffect(()=>{t(),n(),l(),u(),A();const Ee=new Date;y(`${Ee.getFullYear()}-${String(Ee.getMonth()+1).padStart(2,"0")}`)},[]),B.useEffect(()=>{ce()},[g,b,C]),B.useEffect(()=>{const Ee=ot=>{q.current&&!q.current.contains(ot.target)&&K(!1)};return document.addEventListener("mousedown",Ee),()=>document.removeEventListener("mousedown",Ee)},[]);const Be=B.useMemo(()=>(Array.isArray(r)?r:[]).filter(Ee=>{if(!m)return!0;const ot=new Date(Ee.date);return`${ot.getFullYear()}-${String(ot.getMonth()+1).padStart(2,"0")}`===m}).sort((Ee,ot)=>{const ct=Tt=>{switch(ae){case"date":return new Date(Tt.date).getTime();case"engineer":return(Tt.engineerName||"").toLowerCase();case"projectCode":return(Tt.projectCode||"").toLowerCase();case"projectName":return(e.find(Br=>Br.id===Tt.projectId)?.title||Tt.projectTitle||"").toLowerCase();case"category":return Te(Tt.workCategory).toLowerCase();case"hours":return Tt.hours||0;default:return new Date(Tt.date).getTime()}},Zt=ct(Ee),It=ct(ot);return typeof Zt=="string"&&typeof It=="string"?de==="asc"?Zt.localeCompare(It):It.localeCompare(Zt):de==="asc"?Zt-It:It-Zt}),[r,m,e,ae,de]),Ae=B.useMemo(()=>(Array.isArray(c)?c:[]).filter(Ee=>{if(!m)return!0;const ot=new Date(Ee.date);return`${ot.getFullYear()}-${String(ot.getMonth()+1).padStart(2,"0")}`===m}).sort((Ee,ot)=>{const ct=Tt=>{switch(Z){case"date":return new Date(Tt.date).getTime();case"researcher":return(Tt.teamMemberName||Tt.researcherName||"").toLowerCase();case"project":return(Tt.projectTitle||Tt.researchProjectTitle||"").toLowerCase();case"category":return(Tt.researchCategory||"").toLowerCase();case"hours":return Tt.hoursLogged||Tt.hours||0;case"status":return{completed:0,"in-progress":1,planning:2,"on-hold":3,archived:4}[Tt.status]??5;default:return new Date(Tt.date).getTime()}},Zt=ct(Ee),It=ct(ot);return typeof Zt=="string"&&typeof It=="string"?z==="asc"?Zt.localeCompare(It):It.localeCompare(Zt):z==="asc"?Zt-It:It-Zt}),[c,m,Z,z]),ye=Be.reduce((Ee,ot)=>Ee+parseFloat(ot.hours||0),0),Pe=Ae.reduce((Ee,ot)=>Ee+parseFloat(ot.hoursLogged||ot.hours||0),0),je=h==="projects"?Be:Ae,Se=h==="projects"?ye:Pe;je.length>0&&Se/je.length;const Te=Ee=>{switch(Ee){case"engineering":return"Engineering";case"project-management":return"Project Management";case"measurement-site":return"Measurement (Site)";case"measurement-office":return"Measurement (Office)";default:return Ee}},J=B.useCallback(Ee=>{ae===Ee?pe(ot=>ot==="asc"?"desc":"asc"):(Y(Ee),pe("asc"))},[ae]),Le=Ee=>ae!==Ee?o.jsx(Vp,{className:"w-4 h-4 ml-1 inline-block"}):de==="asc"?o.jsx(_0,{className:"w-4 h-4 ml-1 inline-block"}):o.jsx(Kl,{className:"w-4 h-4 ml-1 inline-block"}),He=B.useCallback(Ee=>{Z===Ee?V(ot=>ot==="asc"?"desc":"asc"):(I(Ee),V("asc"))},[Z]),Je=Ee=>Z!==Ee?o.jsx(Vp,{className:"w-4 h-4 ml-1 inline-block"}):z==="asc"?o.jsx(_0,{className:"w-4 h-4 ml-1 inline-block"}):o.jsx(Kl,{className:"w-4 h-4 ml-1 inline-block"}),at=()=>{P(!0)},ze=Ee=>{H(Ee),D(!0)},mt=async Ee=>{try{await a(Ee.id,{hours:Ee.hours,workCategory:Ee.workCategory,description:Ee.description}),xe.success(`Timesheet entry updated! Hours: ${Ee.hours}`),D(!1),H(null)}catch(ot){const ct=ot?.response?.data?.error||ot?.message||"Failed to update timesheet entry";xe.error(ct),Rt.error("Update error:",ot)}},Et=async Ee=>{Q({isOpen:!0,entryId:Ee,entryType:"project"})},Me=async()=>{if(!(!L.entryId||!L.entryType))try{L.entryType==="project"?(await s(L.entryId),xe.success("Timesheet entry deleted!")):L.entryType==="research"&&(await nf.getState().deleteTimesheetEntry(L.entryId),xe.success("Research timesheet entry deleted!")),Q({isOpen:!1})}catch(Ee){xe.error("Failed to delete timesheet entry"),Rt.error("Delete error:",Ee)}},vt=async Ee=>{Q({isOpen:!0,entryId:Ee,entryType:"research"})},De=Ee=>{let ot="all";return m?ot=m:b&&C?ot=`${b}-to-${C}`:b?ot=`from-${b}`:C&&(ot=`until-${C}`),`timesheets-${h==="projects"?"project":"research"}-${ot}.${Ee}`},it=()=>h==="projects"?Be.map(Ee=>{const ot=e.find(Zt=>Zt.id===Ee.projectId);return{Date:new Date(Ee.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),"Engineer Name":Ee.engineerName||"Unassigned","Project Code":Ee.projectCode||"N/A","Project Name":ot?.title||Ee.projectTitle||"N/A",Type:"Project","Work Category":Te(Ee.workCategory),Hours:Ee.hours,Description:Ee.description||""}}):Ae.map(Ee=>{const ot=new Date(Ee.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),ct=Ee.hoursLogged||Ee.hours||0;return{Date:ot,Researcher:Ee.teamMemberName||Ee.researcherName||"Unknown","Research Project":Ee.projectTitle||Ee.researchProjectTitle||"N/A",Type:"Research",Category:Ee.researchCategory||"-",Hours:ct,Status:Ee.status?.replace("-"," ")||"N/A",Description:Ee.description||""}}),wt=()=>{const Ee=it();if(Ee.length===0){xe.error("No data to export"),K(!1);return}const ot=Fo.json_to_sheet(Ee),ct=Fo.book_new();Fo.book_append_sheet(ct,ot,"Timesheets");const Zt=Object.keys(Ee[0]).map(It=>({wch:Math.max(It.length,...Ee.map(Tt=>String(Tt[It]||"").length))}));ot["!cols"]=Zt,Dv(ct,De("xlsx")),xe.success(`Exported ${Ee.length} entries to Excel`),K(!1)},Bt=()=>{const Ee=it();if(Ee.length===0){xe.error("No data to export"),K(!1);return}const ot=Object.keys(Ee[0]),ct=[ot.join(","),...Ee.map(Tt=>ot.map(cr=>{const Br=Tt[cr],zt=String(Br||"");return zt.includes(",")||zt.includes(`
`)||zt.includes('"')?`"${zt.replace(/"/g,'""')}"`:zt}).join(","))].join(`
`),Zt=new Blob([ct],{type:"text/csv;charset=utf-8;"}),It=document.createElement("a");It.href=URL.createObjectURL(Zt),It.download=De("csv"),It.click(),URL.revokeObjectURL(It.href),xe.success(`Exported ${Ee.length} entries to CSV`),K(!1)};return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Timesheets"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage time entries for projects and research"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>X(!ee),className:`inline-flex items-center justify-center gap-2 px-3 py-2 border rounded-lg transition-colors ${ee||ne>0?"bg-primary-50 border-primary-300 text-primary-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(pg,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Filters"}),ne>0&&o.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium bg-primary-600 text-white rounded-full",children:ne})]}),o.jsxs("div",{className:"relative",ref:q,children:[o.jsxs("button",{onClick:()=>K(!R),className:"inline-flex items-center justify-center gap-2 px-3 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx(LA,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Export"}),o.jsx(Kl,{className:`w-4 h-4 transition-transform ${R?"rotate-180":""}`})]}),R&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[o.jsxs("button",{onClick:wt,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[o.jsx(WZ,{className:"w-4 h-4 text-green-600"}),"Export to Excel"]}),o.jsxs("button",{onClick:Bt,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[o.jsx($a,{className:"w-4 h-4 text-blue-600"}),"Export to CSV"]})]})]}),o.jsxs("button",{onClick:at,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(ei,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Add Entry"})]})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:()=>p("projects"),className:`pb-2 font-medium transition-all flex items-center gap-2 ${h==="projects"?"border-b-2 border-primary-600 text-primary-600":"text-gray-500 hover:text-gray-900"}`,children:[o.jsx(Cu,{className:"w-4 h-4"}),"Projects"]}),o.jsxs("button",{onClick:()=>p("research"),className:`pb-2 font-medium transition-all flex items-center gap-2 ${h==="research"?"border-b-2 border-purple-600 text-purple-600":"text-gray-500 hover:text-gray-900"}`,children:[o.jsx(T0,{className:"w-4 h-4"}),"Research"]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("span",{className:"text-gray-600",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:je.length})," entries"]}),o.jsx("span",{className:"text-gray-300",children:""}),o.jsxs("span",{className:h==="projects"?"text-primary-600":"text-purple-600",children:[o.jsx("span",{className:"font-semibold",children:Se.toFixed(1)})," hrs"]})]})]}),ee&&o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-gray-600",children:"Engineer:"}),o.jsxs("select",{value:g,onChange:Ee=>v(Ee.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"All"}),(Array.isArray(i)?i:[]).map(Ee=>o.jsx("option",{value:Ee.userId||Ee.id,children:Ee.name},Ee.userId||Ee.id))]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-gray-600",children:"From:"}),o.jsx("input",{type:"date",value:b,onChange:Ee=>N(Ee.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-gray-600",children:"To:"}),o.jsx("input",{type:"date",value:C,onChange:Ee=>E(Ee.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-gray-600",children:"Month:"}),o.jsx("input",{type:"month",value:m,onChange:Ee=>y(Ee.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),ne>0&&o.jsxs("button",{onClick:()=>{v(""),N(""),E(""),y("")},className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx(Fr,{className:"w-3 h-3"}),"Clear all"]})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[h==="projects"?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>J("date"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Date ",Le("date")]}),o.jsxs("th",{onClick:()=>J("engineer"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Name ",Le("engineer")]}),o.jsxs("th",{onClick:()=>J("projectCode"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Project Code ",Le("projectCode")]}),o.jsxs("th",{onClick:()=>J("projectName"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Project Name ",Le("projectName")]}),o.jsxs("th",{onClick:()=>J("category"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Work Category ",Le("category")]}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-700",children:"Description"}),o.jsxs("th",{onClick:()=>J("hours"),className:"px-3 py-2 text-right text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Hours ",Le("hours")]}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold text-gray-700",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Be.map(Ee=>{const ot=e.find(Zt=>Zt.id===Ee.projectId),ct=new Date(Ee.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"});return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:ct}),o.jsx("td",{className:"px-3 py-2 text-sm font-medium text-gray-900",children:Ee.engineerName||"Unassigned"}),o.jsx("td",{className:"px-3 py-2 text-sm font-medium text-primary-600",children:Ee.projectCode||"N/A"}),o.jsx("td",{className:"px-3 py-2 text-sm text-gray-700",children:ot?.title||"N/A"}),o.jsx("td",{className:"px-3 py-2 text-sm text-gray-600",children:Te(Ee.workCategory)}),o.jsx("td",{className:"px-3 py-2 text-sm text-gray-600 max-w-xs truncate",title:Ee.description,children:Ee.description||"-"}),o.jsxs("td",{className:"px-3 py-2 text-sm text-right font-medium text-primary-600",children:[Ee.hours," hrs"]}),o.jsx("td",{className:"px-3 py-2 text-sm text-right",children:o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx("button",{onClick:()=>ze(Ee),className:"p-1.5 hover:bg-blue-100 text-blue-600 rounded transition-colors",title:"Edit entry",children:o.jsx(Oo,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Et(Ee.id),className:"p-1.5 hover:bg-red-100 text-red-600 rounded transition-colors",title:"Delete entry",children:o.jsx(Cs,{className:"w-4 h-4"})})]})})]},Ee.id)})}),o.jsx("tfoot",{className:"bg-gray-50 border-t border-gray-200",children:o.jsxs("tr",{children:[o.jsx("td",{colSpan:6,className:"px-3 py-2 text-right text-sm font-medium text-gray-700",children:"Total:"}),o.jsxs("td",{className:"px-3 py-2 text-right text-sm font-bold text-primary-700",children:[ye.toFixed(1)," hrs"]}),o.jsx("td",{className:"px-3 py-2"})]})})]})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>He("date"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Date ",Je("date")]}),o.jsxs("th",{onClick:()=>He("researcher"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Researcher ",Je("researcher")]}),o.jsxs("th",{onClick:()=>He("project"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Research Project ",Je("project")]}),o.jsxs("th",{onClick:()=>He("category"),className:"px-3 py-2 text-left text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Category ",Je("category")]}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-700",children:"Description"}),o.jsxs("th",{onClick:()=>He("hours"),className:"px-3 py-2 text-right text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Hours ",Je("hours")]}),o.jsxs("th",{onClick:()=>He("status"),className:"px-3 py-2 text-center text-xs font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",children:["Status ",Je("status")]}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold text-gray-700",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Ae.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:8,className:"px-3 py-12 text-center",children:[o.jsx(T0,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No research timesheet entries"}),o.jsx("p",{className:"text-gray-600",children:"No research timesheet entries found for the selected period."})]})}):Ae.map(Ee=>{const ot=new Date(Ee.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),ct=Ee.hoursLogged||Ee.hours||0;return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:ot}),o.jsx("td",{className:"px-3 py-2 text-sm font-medium text-gray-900",children:Ee.teamMemberName||Ee.researcherName||"Unknown"}),o.jsx("td",{className:"px-3 py-2 text-sm font-medium text-purple-600",children:Ee.projectTitle||Ee.researchProjectTitle||"N/A"}),o.jsx("td",{className:"px-3 py-2 text-sm text-gray-600",children:Ee.researchCategory||"-"}),o.jsx("td",{className:"px-3 py-2 text-sm text-gray-600 max-w-xs truncate",title:Ee.description,children:Ee.description||"-"}),o.jsxs("td",{className:"px-3 py-2 text-sm text-right font-medium text-purple-600",children:[ct," hrs"]}),o.jsx("td",{className:"px-3 py-2 text-sm text-center",children:o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium capitalize ${Ee.status==="completed"?"bg-green-100 text-green-800":Ee.status==="in-progress"?"bg-blue-100 text-blue-800":Ee.status==="planning"?"bg-yellow-100 text-yellow-800":Ee.status==="on-hold"?"bg-orange-100 text-orange-800":Ee.status==="archived"?"bg-gray-100 text-gray-800":"bg-gray-100 text-gray-600"}`,children:Ee.status?.replace("-"," ")||"N/A"})}),o.jsx("td",{className:"px-3 py-2 text-sm text-right",children:o.jsx("div",{className:"flex gap-1 justify-end",children:o.jsx("button",{onClick:()=>vt(Ee.id),className:"p-1.5 hover:bg-red-100 text-red-600 rounded transition-colors",title:"Delete entry",children:o.jsx(Cs,{className:"w-4 h-4"})})})})]},Ee.id)})}),Ae.length>0&&o.jsx("tfoot",{className:"bg-gray-50 border-t border-gray-200",children:o.jsxs("tr",{children:[o.jsx("td",{colSpan:5,className:"px-3 py-2 text-right text-sm font-medium text-gray-700",children:"Total:"}),o.jsxs("td",{className:"px-3 py-2 text-right text-sm font-bold text-purple-700",children:[Pe.toFixed(1)," hrs"]}),o.jsx("td",{colSpan:2,className:"px-3 py-2"})]})})]})}),h==="projects"&&Be.length===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(ho,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No timesheet entries"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Start tracking your time by adding your first entry"}),o.jsxs("button",{onClick:at,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(ei,{className:"w-4 h-4"}),"Add Entry"]})]})]}),o.jsx(YSe,{isOpen:_,onClose:()=>{P(!1),ce()}}),o.jsx(XSe,{isOpen:O,onClose:()=>{D(!1),H(null)},timesheet:k,onUpdate:mt}),o.jsx(rf,{isOpen:L.isOpen,onClose:()=>Q({isOpen:!1}),onConfirm:Me,title:"Delete Timesheet Entry",message:L.entryType==="research"?"Are you sure you want to delete this research timesheet entry? This cannot be undone.":"Are you sure you want to delete this timesheet entry? This cannot be undone.",variant:"danger",confirmText:"Delete",cancelText:"Cancel"})]})})},Un=({className:r,variant:e="default",size:t="md",isClickable:n=!1,children:a,...s})=>o.jsx("span",{className:Cr("inline-flex items-center justify-center rounded-full font-medium",{"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300":e==="default","bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":e==="success","bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":e==="warning","bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":e==="danger","bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":e==="info","px-2.5 py-2 text-xs":t==="sm"&&n,"px-3 py-2 text-sm":t==="md"&&n,"px-4 py-2.5 text-base":t==="lg"&&n,"px-2 py-0.5 text-xs":t==="sm"&&!n,"px-2.5 py-1 text-sm":t==="md"&&!n,"px-3 py-1.5 text-base":t==="lg"&&!n,"cursor-pointer hover:shadow-md transition-shadow":n},r),...s,children:a});function ZSe(r){return r.split(`
`).filter(t=>t.trim()).map(t=>{const n=[];let a="",s=!1;for(let i=0;i<t.length;i++){const l=t[i];l==='"'?s=!s:l===","&&!s?(n.push(a.trim()),a=""):a+=l}return n.push(a.trim()),n})}function eBe(r,e){const t={};if(e.forEach((l,c)=>{t[l]=r[c]}),!t.title||!t.sku)return{valid:!1,error:"Missing required fields: title or sku"};const n=parseInt(t.quantity);if(isNaN(n)||n<0)return{valid:!1,error:"Invalid quantity value"};const a=parseInt(t.minimumStock);if(isNaN(a)||a<0)return{valid:!1,error:"Invalid minimumStock value"};const s=parseFloat(t.cost||"0"),i=parseFloat(t.price||"0");return isNaN(s)||isNaN(i)?{valid:!1,error:"Invalid cost or price value"}:{valid:!0}}function tBe(r,e){const t={};e.forEach((a,s)=>{t[a]=r[s]});const n=_o();return{title:t.title,sku:t.sku,barcode:t.barcode||"",category:t.category||"Uncategorized",quantity:parseInt(t.quantity)||0,minimumStock:parseInt(t.minimumStock)||0,location:t.location||"",unitOfMeasure:t.unitOfMeasure||"Unit",cost:parseFloat(t.cost)||0,price:parseFloat(t.price)||0,supplier:t.supplier||"",status:t.status||"Active",notes:t.notes||"",lastCalibratedDate:t.lastCalibratedDate||void 0,lastUpdated:new Date().toISOString(),createdBy:n.displayName}}async function rBe(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=a=>{try{const s=a.target?.result,i=ZSe(s);if(i.length<2){e({success:!1,imported:0,failed:0,errors:[{row:0,error:"CSV file is empty or has no data rows"}]});return}const l=i[0],c=i.slice(1),u=[],A=[];c.forEach((h,p)=>{const m=eBe(h,l);if(!m.valid)u.push({row:p+2,error:m.error||"Unknown error"});else try{const y=tBe(h,l);A.push(y)}catch(y){u.push({row:p+2,error:`Failed to parse row: ${y}`})}}),e({success:A.length>0,imported:A.length,failed:u.length,errors:u.length>0?u:void 0})}catch(s){t(new Error(`Failed to process CSV file: ${s}`))}},n.onerror=()=>{t(new Error("Failed to read file"))},n.readAsText(r)})}function nBe({isOpen:r,onClose:e,onImport:t}){const[n,a]=B.useState(null),[s,i]=B.useState(!1),[l,c]=B.useState(null);if(!r)return null;const u=m=>{const y=m.target.files?.[0];y&&(a(y),c(null))},A=async()=>{if(n){i(!0);try{const m=await rBe(n);c(m),m.success&&await t(n)}catch(m){c({success:!1,imported:0,failed:0,errors:[{row:0,error:`Upload failed: ${m}`}]})}finally{i(!1)}}},h=()=>{a(null),c(null),e()},p=()=>{const m=document.createElement("a");m.href="/templates/inventory-bulk-upload-template.csv",m.download="inventory-bulk-upload-template.csv",m.click()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Bulk Import Inventory"}),o.jsx("button",{onClick:h,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"How to use bulk import:"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-blue-800",children:[o.jsx("li",{children:"Download the CSV template below"}),o.jsx("li",{children:"Fill in your inventory data (keep the header row)"}),o.jsx("li",{children:"Upload the completed CSV file"}),o.jsx("li",{children:"Review the validation results"})]})]}),o.jsx("div",{children:o.jsxs(Ut,{variant:"outline",onClick:p,className:"w-full",children:[o.jsx(LA,{className:"w-4 h-4 mr-2"}),"Download CSV Template"]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload CSV File"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[o.jsx("input",{type:"file",accept:".csv",onChange:u,className:"hidden",id:"csv-upload"}),o.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer flex flex-col items-center",children:[o.jsx(Po,{className:"w-12 h-12 text-gray-400 mb-2"}),o.jsx("span",{className:"text-sm text-gray-600",children:n?n.name:"Click to select CSV file"})]})]})]}),l&&o.jsx("div",{className:`border rounded-lg p-4 ${l.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[l.success?o.jsx(za,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):o.jsx(ls,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium mb-2 ${l.success?"text-green-900":"text-red-900"}`,children:l.success?"Validation Successful":"Validation Failed"}),o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("p",{className:l.success?"text-green-800":"text-red-800",children:[" ",l.imported," items ready to import"]}),l.failed>0&&o.jsxs("p",{className:"text-red-800",children:[" ",l.failed," items failed validation"]})]}),l.errors&&l.errors.length>0&&o.jsxs("div",{className:"mt-3 max-h-40 overflow-y-auto",children:[o.jsx("p",{className:"text-sm font-medium text-red-900 mb-1",children:"Errors:"}),o.jsx("ul",{className:"text-xs text-red-800 space-y-1",children:l.errors.map((m,y)=>o.jsxs("li",{children:["Row ",m.row,": ",m.error]},y))})]})]})]})})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t",children:[o.jsx(Ut,{variant:"outline",onClick:h,children:"Cancel"}),o.jsx(Ut,{onClick:A,disabled:!n||s,children:s?"Uploading...":"Import Items"})]})]})})}const aBe=({isOpen:r,onClose:e,onSubmit:t,initialData:n,isEditMode:a=!1})=>{const[s,i]=B.useState({title:"",sku:"",category:"",quantity:0,minimumStock:0,location:"",unitOfMeasure:"units",cost:0,price:0,supplier:"",status:"Available",barcode:"",notes:"",lastCalibratedDate:"",lastAction:"added",lastActionDate:new Date().toISOString()});B.useEffect(()=>{a&&n?i({title:n.title||"",sku:n.sku||"",category:n.category||"",quantity:n.quantity||0,minimumStock:n.minimumStock||0,location:n.location||"",unitOfMeasure:n.unitOfMeasure||"units",cost:n.cost||0,price:n.price||0,supplier:n.supplier||"",status:n.status||"Available",barcode:n.barcode||"",notes:n.notes||"",lastCalibratedDate:n.lastCalibratedDate||"",lastAction:n.lastAction||"added",lastActionDate:n.lastActionDate||new Date().toISOString()}):r||y()},[r,a,n]);const[l,c]=B.useState({}),u=["Chassis","Consumables","Data Acquisition Module","Dytran Impact Hammer","Electronics","Furniture","Impulse Force Hammer","IT Equipment","Laptop","Microphone","Office Supplies","Safety Equipment","Sound Level Meter","Tools & Equipment","Triaxial Vibration Sensor","Vibration Sensor","Other"],A=["In the office","On site"],h=["units","boxes","packs","pieces","sets","meters","kg","liters"],p=()=>{const b={};return s.title.trim()||(b.title="Item name is required"),s.sku.trim()||(b.sku="SKU is required"),s.category||(b.category="Category is required"),s.quantity<0&&(b.quantity="Quantity must be 0 or greater"),s.minimumStock<0&&(b.minimumStock="Minimum stock must be 0 or greater"),s.location||(b.location="Location is required"),c(b),Object.keys(b).length===0},m=b=>{b.preventDefault(),p()&&(t(s),y())},y=()=>{i({title:"",sku:"",category:"",quantity:0,minimumStock:0,location:"",unitOfMeasure:"units",cost:0,price:0,supplier:"",status:"Available",barcode:"",notes:"",lastCalibratedDate:"",lastAction:"added",lastActionDate:new Date().toISOString()}),c({}),e()},g=(b,N)=>{i(C=>({...C,[b]:N})),l[b]&&c(C=>({...C,[b]:""}))},v=o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-sm text-gray-500",children:["Fields marked with ",o.jsx("span",{className:"text-red-500",children:"*"})," are required"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Ut,{variant:"outline",onClick:y,children:"Cancel"}),o.jsx(Ut,{onClick:m,children:a?"Update Item":"Add Item"})]})]});return o.jsx(Ev,{isOpen:r,onClose:y,title:a?"Edit Item":"Add New Item",description:"Register a new equipment or item to inventory",icon:o.jsx(Eo,{className:"w-5 h-5 text-primary-600","aria-hidden":"true"}),size:"xl",footer:v,children:o.jsx("form",{onSubmit:m,className:"p-6",id:"add-item-form",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Item Name ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsx("input",{id:"item-title",type:"text",value:s.title,onChange:b=>g("title",b.target.value),"aria-invalid":l.title?"true":void 0,"aria-describedby":l.title?"title-error":void 0,"aria-required":"true",className:`w-full px-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.title?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Laptop Dell XPS 15"}),l.title&&o.jsx("p",{id:"title-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.title})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-sku",className:"block text-sm font-medium text-gray-700 mb-2",children:["SKU ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(dee,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500","aria-hidden":"true"}),o.jsx("input",{id:"item-sku",type:"text",value:s.sku,onChange:b=>g("sku",b.target.value),"aria-invalid":l.sku?"true":void 0,"aria-describedby":l.sku?"sku-error":void 0,"aria-required":"true",className:`w-full pl-10 pr-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.sku?"border-red-500":"border-gray-300"}`,placeholder:"e.g., LAP-DELL-001"})]}),l.sku&&o.jsx("p",{id:"sku-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.sku})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"item-barcode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Barcode (Optional)"}),o.jsxs("div",{className:"relative",children:[o.jsx(uZ,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500","aria-hidden":"true"}),o.jsx("input",{id:"item-barcode",type:"text",value:s.barcode,onChange:b=>g("barcode",b.target.value),className:"w-full pl-10 pr-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 1234567890123"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-category",className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsxs("select",{id:"item-category",value:s.category,onChange:b=>g("category",b.target.value),"aria-invalid":l.category?"true":void 0,"aria-describedby":l.category?"category-error":void 0,"aria-required":"true",className:`w-full px-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.category?"border-red-500":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Select category"}),u.map(b=>o.jsx("option",{value:b,children:b},b))]}),l.category&&o.jsx("p",{id:"category-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.category})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-quantity",className:"block text-sm font-medium text-gray-700 mb-2",children:["Quantity ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsx("input",{id:"item-quantity",type:"number",value:s.quantity,onChange:b=>g("quantity",parseInt(b.target.value)||0),"aria-invalid":l.quantity?"true":void 0,"aria-describedby":l.quantity?"quantity-error":void 0,"aria-required":"true",className:`w-full px-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.quantity?"border-red-500":"border-gray-300"}`,min:"0"}),l.quantity&&o.jsx("p",{id:"quantity-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.quantity})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"item-unit",className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit of Measure"}),o.jsx("select",{id:"item-unit",value:s.unitOfMeasure,onChange:b=>g("unitOfMeasure",b.target.value),className:"w-full px-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:h.map(b=>o.jsx("option",{value:b,children:b},b))})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-min-stock",className:"block text-sm font-medium text-gray-700 mb-2",children:["Minimum Stock Level ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsx("input",{id:"item-min-stock",type:"number",value:s.minimumStock,onChange:b=>g("minimumStock",parseInt(b.target.value)||0),"aria-invalid":l.minimumStock?"true":void 0,"aria-describedby":l.minimumStock?"min-stock-error":void 0,"aria-required":"true",className:`w-full px-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.minimumStock?"border-red-500":"border-gray-300"}`,min:"0"}),l.minimumStock&&o.jsx("p",{id:"min-stock-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.minimumStock})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-location",className:"block text-sm font-medium text-gray-700 mb-2",children:["Location ",o.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(c0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500","aria-hidden":"true"}),o.jsxs("select",{id:"item-location",value:s.location,onChange:b=>g("location",b.target.value),"aria-invalid":l.location?"true":void 0,"aria-describedby":l.location?"location-error":void 0,"aria-required":"true",className:`w-full pl-10 pr-4 py-2.5 min-h-[44px] border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${l.location?"border-red-500":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Select location"}),A.map(b=>o.jsx("option",{value:b,children:b},b))]})]}),l.location&&o.jsx("p",{id:"location-error",className:"text-red-500 text-xs mt-1",role:"alert",children:l.location})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"item-supplier",className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier (Optional)"}),o.jsx("input",{id:"item-supplier",type:"text",value:s.supplier,onChange:b=>g("supplier",b.target.value),className:"w-full px-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Dell Malaysia"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"item-status",className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{id:"item-status",value:s.status,onChange:b=>g("status",b.target.value),className:"w-full px-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"Available",children:"Available"}),o.jsx("option",{value:"Inactive",children:"Inactive (Temporary)"}),o.jsx("option",{value:"Discontinued",children:"Discontinued (Permanent)"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"item-lastCalibrated",className:"block text-sm font-medium text-gray-700 mb-2",children:["Last Calibrated",o.jsx("span",{className:"text-gray-400 ml-1 text-xs",children:"(Optional)"})]}),o.jsx("input",{type:"date",id:"item-lastCalibrated",value:s.lastCalibratedDate,onChange:b=>g("lastCalibratedDate",b.target.value),max:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2.5 min-h-[44px] border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter the date when this item was last calibrated (if known)"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{htmlFor:"item-notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),o.jsx("textarea",{id:"item-notes",value:s.notes,onChange:b=>g("notes",b.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,placeholder:"Additional information about this item..."})]})]})})})},sBe=({item:r,calibrationInfo:e})=>{const t=r.lastCalibratedDate||e?.lastCalibrated;if(!t)return o.jsx("span",{className:"text-gray-400 text-sm italic",children:"Not calibrated"});const n=e?.status||"none",a={recent:"text-green-600 bg-green-50","due-soon":"text-yellow-600 bg-yellow-50",overdue:"text-red-600 bg-red-50",none:"text-gray-400"},s={recent:"Recent","due-soon":"Due Soon",overdue:"Overdue",none:"Not Calibrated"};return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-sm text-gray-900",children:a0(t)}),n!=="none"&&o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium w-fit ${a[n]}`,children:s[n]})]})},iBe=({title:r,supplier:e,items:t,category:n,location:a,isExpanded:s,onToggle:i,onEditItem:l,canEdit:c,calibrationData:u})=>{const A=[...t].sort((m,y)=>m.sku.localeCompare(y.sku)),h=t.reduce((m,y)=>m+(y.checkedOut||0),0),p=t.reduce((m,y)=>m+(y.quantity-(y.checkedOut||0)),0);return o.jsxs(o.Fragment,{children:[o.jsxs("tr",{className:"bg-gray-50 hover:bg-gray-100 transition-colors border-b border-gray-200",children:[o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-200 rounded transition-colors","aria-label":s?"Collapse group":"Expand group",children:s?o.jsx(Kl,{className:"w-5 h-5 text-gray-600"}):o.jsx(gA,{className:"w-5 h-5 text-gray-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:r}),e&&o.jsx("p",{className:"text-sm text-gray-500",children:e})]})]})}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:"font-semibold text-gray-900",children:t.length})}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:"font-semibold text-green-600",children:p})}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:"font-semibold text-orange-600",children:h})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"text-gray-700",children:n})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"text-gray-700",children:a})}),c&&o.jsx("td",{className:"px-4 py-3 text-right",children:o.jsx("span",{className:"text-gray-400 text-xs",children:"Expand to edit"})})]}),s&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-4 py-0",children:o.jsxs("div",{className:"bg-white border-t border-gray-100",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"SKU"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Available"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Checked Out"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Status"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Last Calibrated"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:A.map(m=>o.jsxs("tr",{className:"hover:bg-gray-50/50",children:[o.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:m.sku}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:m.quantity-(m.checkedOut||0)}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:m.checkedOut||0}),o.jsx("td",{className:"px-4 py-2",children:o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${m.status==="Available"||m.status==="available"||m.status==="Active"?"bg-green-100 text-green-800":m.status==="Inactive"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:m.status==="available"||m.status==="Active"?"Available":m.status})}),o.jsx("td",{className:"px-4 py-2",children:o.jsx(sBe,{item:m,calibrationInfo:u.get(m.id)})}),o.jsx("td",{className:"px-4 py-2 text-right",children:c&&o.jsx("div",{className:"flex gap-1 justify-end",children:o.jsx("button",{onClick:()=>l(m),className:"p-1.5 hover:bg-blue-100 text-blue-600 rounded transition-colors",title:"Edit item","aria-label":`Edit ${m.title} (${m.sku})`,children:o.jsx(Oo,{className:"w-4 h-4"})})})})]},m.id))})]}),o.jsx("div",{className:"px-4 py-3 bg-gray-50/30 border-t border-gray-100",children:o.jsx(f_,{to:`/maintenance?item=${t[0].id}&type=calibration`,className:"text-sm text-primary-600 hover:text-primary-700 font-medium inline-flex items-center gap-1",children:"View Calibration History "})})]})})})]})},oBe=({item:r,onEditItem:e,onDeleteItem:t,canEdit:n})=>{const a=r.quantity-(r.checkedOut||0),s=r.checkedOut||0;return o.jsx(o.Fragment,{children:o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors border-b border-gray-100",children:[o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:r.title}),r.supplier&&o.jsx("p",{className:"text-sm text-gray-500",children:r.supplier})]})}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:"font-medium text-gray-900",children:"1"})}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:"font-medium text-green-600",children:a})}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:"font-medium text-orange-600",children:s})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"text-gray-700",children:r.category})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"text-gray-700",children:r.location})}),o.jsx("td",{className:"px-4 py-3 text-right",children:n&&o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx("button",{onClick:()=>e(r),className:"p-1.5 hover:bg-blue-100 text-blue-600 rounded transition-colors",title:"Edit item","aria-label":`Edit ${r.title}`,children:o.jsx(Oo,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>t(r.id),className:"p-1.5 hover:bg-red-100 text-red-600 rounded transition-colors",title:"Delete item","aria-label":`Delete ${r.title}`,children:o.jsx(Cs,{className:"w-4 h-4"})})]})})]})})},lBe=()=>localStorage.getItem("inventoryViewMode")==="flat"?"flat":"grouped",Pv=Ic((r,e)=>({items:[],filteredItems:[],filters:{},loading:!1,stats:null,viewMode:lBe(),fetchInventory:async()=>{r({loading:!0});try{const t=await On.getInventoryItems();r({items:t,filteredItems:t}),e().calculateStats()}catch{rr.error("Failed to fetch inventory")}finally{r({loading:!1})}},fetchInventoryById:async t=>{const{items:n}=e();return n.find(a=>a.id===t)||null},createItem:async t=>{r({loading:!0});try{const n=await On.createInventoryItem(t);r(a=>({items:[...a.items,n],filteredItems:[...a.filteredItems,n]})),e().calculateStats(),rr.success("Item created")}catch{rr.error("Failed to create item")}finally{r({loading:!1})}},updateItem:async(t,n)=>{r({loading:!0});try{await On.updateInventoryItem(t,n),r(a=>({items:a.items.map(s=>s.id===t?{...s,...n}:s),filteredItems:a.filteredItems.map(s=>s.id===t?{...s,...n}:s)})),e().calculateStats(),rr.success("Item updated")}catch{rr.error("Failed to update item")}finally{r({loading:!1})}},deleteItem:async t=>{r({loading:!0});try{await On.deleteInventoryItem(t),r(n=>({items:n.items.filter(a=>a.id!==t),filteredItems:n.filteredItems.filter(a=>a.id!==t)})),e().calculateStats(),rr.success("Item deleted")}catch{rr.error("Failed to delete item")}finally{r({loading:!1})}},setFilters:t=>{r({filters:t}),e().applyFilters()},applyFilters:()=>{const{items:t,filters:n}=e();let a=[...t];if(n.search){const s=n.search.toLowerCase();a=a.filter(i=>i.title.toLowerCase().includes(s)||i.sku.toLowerCase().includes(s)||i.barcode?.toLowerCase().includes(s))}n.category&&(a=a.filter(s=>s.category===n.category)),n.location&&(a=a.filter(s=>s.location===n.location)),n.status&&(a=a.filter(s=>s.status===n.status)),n.lowStockOnly&&(a=a.filter(s=>s.quantity<=s.minimumStock)),r({filteredItems:a})},calculateStats:()=>{const{items:t}=e(),n={totalItems:t.length,totalValue:t.reduce((a,s)=>a+s.quantity*s.price,0),lowStockItems:t.filter(a=>a.quantity<=a.minimumStock).length,categories:new Set(t.map(a=>a.category)).size,recentActivity:0};r({stats:n})},scanBarcode:async t=>{try{const n=await On.getInventoryItems({search:t});return n.length>0?(rr.success(`Found: ${n[0].title}`),n[0]):(rr.error("Item not found"),null)}catch{return rr.error("An error occurred while scanning"),null}},setViewMode:t=>{localStorage.setItem("inventoryViewMode",t),r({viewMode:t})}})),mu="/scheduled-maintenance",q3=Ic((r,e)=>({schedules:[],upcomingSchedules:[],overdueSchedules:[],stats:null,loading:!1,error:null,fetchSchedules:async t=>{r({loading:!0,error:null});try{const n=new URLSearchParams;t?.item_id&&n.append("item_id",t.item_id),t?.is_completed!==void 0&&n.append("is_completed",String(t.is_completed)),t?.maintenance_type&&n.append("maintenance_type",t.maintenance_type),t?.from_date&&n.append("from_date",t.from_date),t?.to_date&&n.append("to_date",t.to_date);const a=n.toString(),s=a?`${mu}?${a}`:mu,i=await vn.api.get(s);r({schedules:i.data,loading:!1})}catch(n){const a=n.response?.data?.message||"Failed to fetch schedules";r({error:a,loading:!1}),xe.error(a)}},fetchUpcoming:async()=>{r({loading:!0,error:null});try{const t=await vn.api.get(`${mu}/upcoming`);r({upcomingSchedules:t.data,loading:!1})}catch(t){const n=t.response?.data?.message||"Failed to fetch upcoming schedules";r({error:n,loading:!1}),xe.error(n)}},fetchOverdue:async()=>{r({loading:!0,error:null});try{const t=await vn.api.get(`${mu}/overdue`);r({overdueSchedules:t.data,loading:!1})}catch(t){const n=t.response?.data?.message||"Failed to fetch overdue schedules";r({error:n,loading:!1}),xe.error(n)}},fetchStats:async()=>{try{const t=await vn.api.get(`${mu}/stats`);r({stats:t.data})}catch(t){console.error("Failed to fetch maintenance stats:",t)}},fetchSchedulesForItem:async t=>{try{return(await vn.api.get(`${mu}/item/${t}`)).data}catch(n){return console.error("Failed to fetch item schedules:",n),[]}},createSchedule:async t=>{r({loading:!0,error:null});try{const a=(await vn.api.post(mu,t)).data;return r(s=>({schedules:[a,...s.schedules],loading:!1})),xe.success("Scheduled maintenance created"),e().fetchStats(),a}catch(n){const a=n.response?.data?.message||"Failed to create schedule";throw r({error:a,loading:!1}),xe.error(a),n}},updateSchedule:async(t,n)=>{r({loading:!0,error:null});try{const s=(await vn.api.put(`${mu}/${t}`,n)).data;return r(i=>({schedules:i.schedules.map(l=>l.id===t?s:l),upcomingSchedules:i.upcomingSchedules.map(l=>l.id===t?s:l),loading:!1})),xe.success("Schedule updated"),s}catch(a){const s=a.response?.data?.message||"Failed to update schedule";throw r({error:s,loading:!1}),xe.error(s),a}},deleteSchedule:async t=>{r({loading:!0,error:null});try{await vn.api.delete(`${mu}/${t}`),r(n=>({schedules:n.schedules.filter(a=>a.id!==t),upcomingSchedules:n.upcomingSchedules.filter(a=>a.id!==t),overdueSchedules:n.overdueSchedules.filter(a=>a.id!==t),loading:!1})),xe.success("Schedule deleted"),e().fetchStats()}catch(n){const a=n.response?.data?.message||"Failed to delete schedule";throw r({error:a,loading:!1}),xe.error(a),n}},markCompleted:async t=>{r({loading:!0,error:null});try{const a=(await vn.api.post(`${mu}/${t}/complete`)).data;return r(s=>({schedules:s.schedules.map(i=>i.id===t?a:i),upcomingSchedules:s.upcomingSchedules.filter(i=>i.id!==t),overdueSchedules:s.overdueSchedules.filter(i=>i.id!==t),loading:!1})),xe.success("Maintenance marked as completed"),e().fetchStats(),a}catch(n){const a=n.response?.data?.message||"Failed to mark as completed";throw r({error:a,loading:!1}),xe.error(a),n}},createTicketFromSchedule:async t=>{r({loading:!0,error:null});try{await vn.api.post(`${mu}/${t}/create-ticket`),await e().fetchSchedules(),await e().fetchUpcoming(),xe.success("Maintenance ticket created"),r({loading:!1})}catch(n){const a=n.response?.data?.message||"Failed to create ticket";throw r({error:a,loading:!1}),xe.error(a),n}},resetError:()=>r({error:null})}));function cBe(r){const[e,t]=B.useState(new Map),{fetchSchedulesForItem:n}=q3();return B.useEffect(()=>{(async()=>{if(r.length===0)return;const s=new Map;for(const i of r)try{const l=await n(i),c=l.filter(N=>N.maintenance_type==="calibration"&&N.is_completed);if(c.length===0){s.set(i,{itemId:i,status:"none"});continue}const A=c.sort((N,C)=>new Date(C.completed_date).getTime()-new Date(N.completed_date).getTime())[0],h=new Date(A.completed_date),p=new Date,m=p.getTime()-h.getTime(),y=Math.ceil(m/(1e3*60*60*24)),g=l.filter(N=>N.maintenance_type==="calibration"&&!N.is_completed);let v,b="recent";if(g.length>0){const N=g.sort((_,P)=>new Date(_.scheduled_date).getTime()-new Date(P.scheduled_date).getTime())[0];v=N.scheduled_date;const C=new Date(N.scheduled_date),E=Math.ceil((C.getTime()-p.getTime())/(1e3*60*60*24));E<0?b="overdue":E<=1&&(b="due-soon")}s.set(i,{itemId:i,lastCalibrated:A.completed_date,nextDue:v,status:b})}catch(l){console.error(`Failed to fetch calibration data for item ${i}:`,l),s.set(i,{itemId:i,status:"none"})}t(s)})()},[r,n]),e}const uBe=()=>{const{filteredItems:r,filters:e,setFilters:t,fetchInventory:n,loading:a,viewMode:s,setViewMode:i}=Pv(),l=Array.isArray(r)?r:[],{isMobile:c}=xC(),u=_o(),A=u&&ol(u.role,"canAddOrRemoveInventory"),[h,p]=B.useState(""),[m,y]=B.useState(!1),[g,v]=B.useState(""),[b,N]=B.useState(""),[C,E]=B.useState(""),[_,P]=B.useState("title"),[O,D]=B.useState("asc"),[k,H]=B.useState(new Set),[L,Q]=B.useState(!1),[R,K]=B.useState(!1),[ee,X]=B.useState(null),[ae,Y]=B.useState(!1),[de,pe]=B.useState({isOpen:!1}),[Z,I]=B.useState({isOpen:!1}),z=["Chassis","Consumables","Data Acquisition Module","Dytran Impact Hammer","Electronics","Furniture","Impulse Force Hammer","IT Equipment","Laptop","Microphone","Office Supplies","Safety Equipment","Sound Level Meter","Tools & Equipment","Triaxial Vibration Sensor","Vibration Sensor","Other"],V=[g,b,C].filter(Boolean).length,q=B.useMemo(()=>[...l.filter(vt=>!(g&&vt.category!==g||b&&vt.status!==b||C==="low"&&vt.quantity>vt.minimumStock||C==="out"&&vt.quantity!==0||C==="in"&&vt.quantity<=vt.minimumStock))].sort((vt,De)=>{const it=Ee=>{switch(_){case"title":return Ee.title.toLowerCase();case"sku":return(Ee.sku||"").toLowerCase();case"category":return Ee.category.toLowerCase();case"quantity":return Ee.quantity||0;case"price":return Ee.price||0;case"location":return(Ee.location||"").toLowerCase();case"status":return{active:0,inactive:1,discontinued:2}[Ee.status]??3;default:return Ee.title.toLowerCase()}},wt=it(vt),Bt=it(De);if(typeof wt=="string"&&typeof Bt=="string")return O==="asc"?wt.localeCompare(Bt):Bt.localeCompare(wt);{const Ee=typeof wt=="number"?wt:0,ot=typeof Bt=="number"?Bt:0;return O==="asc"?Ee-ot:ot-Ee}}),[l,g,b,C,_,O]),ne=B.useMemo(()=>{if(s==="flat")return q.map(De=>({type:"single",item:De}));const Me=new Map;q.forEach(De=>{const it=De.title;Me.has(it)||Me.set(it,[]),Me.get(it).push(De)});const vt=[];return Me.forEach((De,it)=>{De.length>=1&&vt.push({type:"group",title:it,items:De,totalQuantity:De.reduce((wt,Bt)=>wt+Bt.quantity,0),uniqueSKUs:De.length,category:De[0].category,location:De[0].location})}),vt.sort((De,it)=>{const wt=De.type==="group"?De.title:De.item.title,Bt=it.type==="group"?it.title:it.item.title;return wt.localeCompare(Bt)})},[q,s]),ce=B.useMemo(()=>q.map(Me=>Me.id),[q]),Be=cBe(ce),Ae=B.useCallback(Me=>{H(vt=>{const De=new Set(vt);return De.has(Me)?De.delete(Me):De.add(Me),De})},[]),ye=()=>{v(""),N(""),E("")};B.useCallback(Me=>{_===Me?D(vt=>vt==="asc"?"desc":"asc"):(P(Me),D("asc"))},[_]),B.useEffect(()=>{n()},[]);const Pe=B.useCallback(()=>{K(!1),X(null),Y(!1)},[]),je=Me=>{p(Me),t({...e,search:Me})},Se=Me=>{const vt={Available:"success",available:"success",Active:"success",Inactive:"warning",Discontinued:"danger"},De=Me==="available"||Me==="Active"?"Available":Me;return o.jsx(Un,{variant:vt[Me]||"default",children:De})},Te=(Me,vt)=>Me===0?o.jsx(Un,{variant:"danger",children:"Out of Stock"}):Me<=vt?o.jsx(Un,{variant:"warning",children:"Low Stock"}):o.jsx(Un,{variant:"success",children:"In Stock"}),J=Me=>{if(!Me)return null;const vt={added:"success",returned:"info","checked-out":"warning",updated:"default"},De={added:"ADDED",returned:"RETURNED","checked-out":"CHECKED OUT",updated:"UPDATED"};return o.jsx(Un,{variant:vt[Me]||"default",size:"sm",children:De[Me]||Me})},Le=async Me=>{try{const vt=new FileReader;vt.onload=async De=>{try{const wt=(De.target?.result).split(`
`).filter(Zt=>Zt.trim());if(wt.length<2){xe.error("CSV file is empty or has no data rows");return}const Bt=wt[0].split(",").map(Zt=>Zt.trim()),Ee=wt.slice(1);let ot=0,ct=0;for(let Zt=0;Zt<Ee.length;Zt++){const It=Ee[Zt].split(",").map(nr=>nr.trim()),Tt={};if(Bt.forEach((nr,pr)=>{Tt[nr]=It[pr]}),!Tt.title||!Tt.sku){ct++;continue}const cr=parseInt(Tt.quantity),Br=parseInt(Tt.minimumStock),zt=parseFloat(Tt.cost||"0"),Yr=parseFloat(Tt.price||"0");if(isNaN(cr)||isNaN(Br)||isNaN(zt)||isNaN(Yr)){ct++;continue}ot++}if(ot===0){xe.error("No valid items found in CSV file");return}I({isOpen:!0,file:Me,itemCount:ot})}catch{xe.error("Error validating CSV file")}},vt.onerror=()=>{xe.error("Failed to read CSV file")},vt.readAsText(Me)}catch{xe.error("Error processing bulk import")}},He=async()=>{if(Z.file)try{const Me=new FileReader;Me.onload=async vt=>{try{const it=(vt.target?.result).split(`
`).filter(ct=>ct.trim()),wt=it[0].split(",").map(ct=>ct.trim()),Bt=it.slice(1),Ee=[];let ot=0;for(let ct=0;ct<Bt.length;ct++){const Zt=Bt[ct].split(",").map(nr=>nr.trim()),It={};if(wt.forEach((nr,pr)=>{It[nr]=Zt[pr]}),!It.title||!It.sku){ot++;continue}const Tt=parseInt(It.quantity),cr=parseInt(It.minimumStock),Br=parseFloat(It.cost||"0"),zt=parseFloat(It.price||"0");if(isNaN(Tt)||isNaN(cr)||isNaN(Br)||isNaN(zt)){ot++;continue}const Yr={title:It.title,sku:It.sku,barcode:It.barcode||"",category:It.category||"Uncategorized",quantity:Tt||0,minimumStock:cr||0,location:It.location||"",unitOfMeasure:It.unitOfMeasure||"Unit",cost:Br||0,price:zt||0,supplier:It.supplier||"",status:It.status||"Active",notes:It.notes||"",lastUpdated:new Date().toISOString(),createdBy:u.displayName};Ee.push(Yr)}await On.bulkCreateInventoryItems(Ee),xe.success(`Successfully imported ${Ee.length} items${ot>0?` (${ot} rows skipped due to errors)`:""}`),I({isOpen:!1}),Q(!1),await n()}catch(De){const it=De?.response?.data?.error||De?.message||"Failed to import items";xe.error(it)}},Me.onerror=()=>{xe.error("Failed to read CSV file")},Me.readAsText(Z.file)}catch{xe.error("Error processing bulk import")}},Je=async Me=>{if(!A){xe.error(bd("add or remove inventory","engineer"));return}try{const vt=Me;await On.createInventoryItem(vt),xe.success(`Item "${Me.title}" added successfully!`),await n()}catch(vt){throw xe.error(vt?.response?.data?.error||"Failed to add item"),vt}},at=Me=>{X(Me),Y(!0),K(!0)},ze=async Me=>{const vt=l.find(De=>De.id===Me);pe({isOpen:!0,itemId:Me,itemTitle:vt?.title})},mt=async()=>{if(de.itemId)try{await On.deleteInventoryItem(de.itemId),xe.success("Item deleted successfully!"),await n(),pe({isOpen:!1})}catch(Me){xe.error(Me?.response?.data?.error||"Failed to delete item")}},Et=async Me=>{if(!A){xe.error(bd("add or remove inventory","engineer"));return}try{ae&&ee?(await On.updateInventoryItem(ee.id,Me),xe.success("Item updated successfully!")):await Je(Me),K(!1),X(null),Y(!1),await n()}catch(vt){xe.error(vt?.response?.data?.error||"Failed to save item")}};return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Equipment Inventory"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your equipment, tools, and materials inventory"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:()=>Q(!0),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium shadow-sm",children:[o.jsx(Po,{className:"w-5 h-5"}),!c&&"Bulk Import"]}),A&&o.jsxs("button",{onClick:()=>K(!0),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition-colors font-medium shadow-sm",children:[o.jsx(ei,{className:"w-5 h-5"}),!c&&"Add Item"]})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Do,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:h,onChange:Me=>je(Me.target.value),placeholder:"Search by name, SKU, or barcode...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),o.jsxs("button",{onClick:()=>y(!m),className:`inline-flex items-center justify-center gap-2 px-4 py-2.5 border rounded-xl transition-colors whitespace-nowrap ${V>0?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(pg,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Filters"}),V>0&&o.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs font-medium bg-primary-600 text-white rounded-full",children:V}),m?o.jsx(_0,{className:"w-4 h-4"}):o.jsx(Kl,{className:"w-4 h-4"})]}),o.jsx("button",{onClick:()=>i(s==="grouped"?"flat":"grouped"),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors whitespace-nowrap",title:s==="grouped"?"Switch to flat view":"Switch to grouped view",children:s==="grouped"?o.jsxs(o.Fragment,{children:[o.jsx(bee,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Show All"})]}):o.jsxs(o.Fragment,{children:[o.jsx(xee,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Group Items"})]})})]}),m&&o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),o.jsxs("select",{value:g,onChange:Me=>v(Me.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[o.jsx("option",{value:"",children:"All Categories"}),z.map(Me=>o.jsx("option",{value:Me,children:Me},Me))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{value:b,onChange:Me=>N(Me.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[o.jsx("option",{value:"",children:"All Statuses"}),o.jsx("option",{value:"Active",children:"Active"}),o.jsx("option",{value:"Inactive",children:"Inactive"}),o.jsx("option",{value:"Discontinued",children:"Discontinued"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Level"}),o.jsxs("select",{value:C,onChange:Me=>E(Me.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[o.jsx("option",{value:"",children:"All Stock Levels"}),o.jsx("option",{value:"in",children:"In Stock"}),o.jsx("option",{value:"low",children:"Low Stock"}),o.jsx("option",{value:"out",children:"Out of Stock"})]})]}),o.jsx("div",{className:"flex items-end",children:o.jsxs("button",{onClick:ye,disabled:V===0,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2 border border-gray-200 text-gray-600 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[o.jsx(Fr,{className:"w-4 h-4"}),"Clear Filters"]})})]})})]}),a&&o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!a&&c&&o.jsx("div",{className:"space-y-3",children:q.map(Me=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:Me.title}),o.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:["SKU: ",Me.sku]})]}),Se(Me.status)]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Quantity"}),o.jsxs("p",{className:"text-sm font-medium",children:[Me.quantity," ",Me.unitOfMeasure]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Available"}),o.jsx("p",{className:"text-sm font-medium text-green-600",children:Me.quantity-(Me.checkedOut||0)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Checked Out"}),o.jsx("p",{className:"text-sm font-medium text-orange-600",children:Me.checkedOut||0})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Location"}),o.jsx("p",{className:"text-sm font-medium",children:Me.location})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[Te(Me.quantity,Me.minimumStock),J(Me.lastAction)]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Updated ",a0(Me.lastUpdated)]})]}),A&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>at(Me),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium",children:[o.jsx(Oo,{className:"w-4 h-4"}),"Edit"]}),o.jsxs("button",{onClick:()=>ze(Me.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium",children:[o.jsx(Cs,{className:"w-4 h-4"}),"Delete"]})]})]},Me.id))}),!a&&!c&&o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Items (",q.length,")"]}),o.jsx("span",{className:"text-sm text-gray-500",children:s==="grouped"?`Grouped by title (${ne.length} groups)`:"Individual items"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Item"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700",children:"SKUs"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700",children:"Available"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700",children:"Checked Out"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Category"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Location"}),A&&o.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700",children:"Actions"})]})}),o.jsx("tbody",{children:ne.map(Me=>Me.type==="group"?o.jsx(iBe,{title:Me.title,supplier:Me.items[0]?.supplier,items:Me.items,totalQuantity:Me.totalQuantity,uniqueSKUs:Me.uniqueSKUs,category:Me.category,location:Me.location,isExpanded:k.has(Me.title),onToggle:()=>Ae(Me.title),onEditItem:at,canEdit:!!A,calibrationData:Be},Me.title):o.jsx(oBe,{item:Me.item,onEditItem:at,onDeleteItem:ze,canEdit:!!A},Me.item.id))})]})})]}),!a&&q.length===0&&o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[o.jsx(Eo,{className:"w-16 h-16 mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"No items found"}),o.jsx("p",{className:"text-sm mb-4",children:"Try adjusting your search or filters"}),(h||g||b||C)&&o.jsx("button",{onClick:()=>{p(""),v(""),N(""),E("")},className:"px-4 py-2 text-sm font-medium text-primary-600 hover:text-primary-700 hover:bg-primary-50 rounded-lg transition-colors",children:"Clear All Filters"})]})}),o.jsx(nBe,{isOpen:L,onClose:()=>Q(!1),onImport:Le}),o.jsx(aBe,{isOpen:R,onClose:Pe,onSubmit:Et,initialData:ae&&ee||void 0,isEditMode:ae}),o.jsx(rf,{isOpen:de.isOpen,onClose:()=>pe({isOpen:!1}),onConfirm:mt,title:"Delete Inventory Item",message:`Are you sure you want to delete "${de.itemTitle}"? This action cannot be undone.`,variant:"danger",confirmText:"Delete Item",cancelText:"Cancel"}),o.jsx(rf,{isOpen:Z.isOpen,onClose:()=>I({isOpen:!1}),onConfirm:He,title:"Confirm Bulk Import",message:`You are about to import ${Z.itemCount} inventory items. This action cannot be undone. Do you want to proceed?`,variant:"warning",confirmText:"Import Items",cancelText:"Cancel"})]})})},dBe="modulepreload",ABe=function(r){return"/"+r},NM={},yw=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let c=function(u){return Promise.all(u.map(A=>Promise.resolve(A).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=c(t.map(u=>{if(u=ABe(u),u in NM)return;NM[u]=!0;const A=u.endsWith(".css"),h=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=A?"stylesheet":dBe,A||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),A)return new Promise((m,y)=>{p.addEventListener("load",m),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},G3=Ic((r,e)=>({tickets:[],filteredTickets:[],filters:{},loading:!1,stats:null,fetchMaintenance:async()=>{r({loading:!0});try{const t=await wr.getAllMaintenanceTickets();r({tickets:t,filteredTickets:t}),e().calculateStats()}catch{rr.error("Failed to fetch maintenance tickets")}finally{r({loading:!1})}},fetchMaintenanceById:async t=>{try{const{tickets:n}=e();return n.find(a=>a.id===t)||null}catch{return rr.error("Failed to fetch ticket"),null}},createTicket:async t=>{r({loading:!0});try{const n=await wr.createMaintenanceTicket(t);r(a=>({tickets:[...a.tickets,n],filteredTickets:[...a.filteredTickets,n]})),e().calculateStats(),rr.success("Ticket created successfully")}catch{rr.error("Failed to create ticket")}finally{r({loading:!1})}},updateTicket:async(t,n)=>{r({loading:!0});try{await wr.updateMaintenanceTicket(t,n),r(a=>({tickets:a.tickets.map(s=>s.id===t?{...s,...n}:s),filteredTickets:a.filteredTickets.map(s=>s.id===t?{...s,...n}:s)})),e().calculateStats(),rr.success("Ticket updated successfully")}catch{rr.error("Failed to update ticket")}finally{r({loading:!1})}},deleteTicket:async t=>{r({loading:!0});try{await wr.deleteMaintenanceTicket(t),r(n=>({tickets:n.tickets.filter(a=>a.id!==t),filteredTickets:n.filteredTickets.filter(a=>a.id!==t)})),e().calculateStats(),rr.success("Ticket deleted successfully")}catch{rr.error("Failed to delete ticket")}finally{r({loading:!1})}},setFilters:t=>{r({filters:t}),e().applyFilters()},applyFilters:()=>{const{tickets:t,filters:n}=e();let a=[...t];n.status&&(a=a.filter(s=>s.status===n.status)),n.priority&&(a=a.filter(s=>s.priority===n.priority)),n.assignedTo&&(a=a.filter(s=>s.assignedTo===n.assignedTo)),r({filteredTickets:a})},calculateStats:()=>{const{tickets:t}=e(),n={total:t.length,pending:t.filter(a=>a.status==="open").length,inProgress:t.filter(a=>a.status==="in-progress").length,completed:t.filter(a=>a.status==="resolved"||a.status==="closed").length,overdue:0};r({stats:n})}})),hBe=({isOpen:r,onClose:e,onSelect:t,items:n,title:a="Select Equipment",description:s="Choose an item from inventory"})=>{const[i,l]=B.useState(""),[c,u]=B.useState(""),[A,h]=B.useState(""),[p,m]=B.useState(""),y=B.useMemo(()=>{const C=new Set(n.map(E=>E.category).filter(Boolean));return Array.from(C).sort()},[n]),g=B.useMemo(()=>{const C=new Set(n.map(E=>E.location).filter(Boolean));return Array.from(C).sort()},[n]),v=B.useMemo(()=>n.filter(C=>{const E=!i||C.title.toLowerCase().includes(i.toLowerCase())||C.sku?.toLowerCase().includes(i.toLowerCase())||C.barcode?.toLowerCase().includes(i.toLowerCase()),_=!c||C.category===c,P=!A||C.location===A,O=!p||C.status===p;return E&&_&&P&&O}),[n,i,c,A,p]),b=C=>{t(C),e()},N=C=>C==="Available"||C==="available"||C==="Active"?"bg-green-100 text-green-800":C==="Inactive"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return o.jsx(Ev,{isOpen:r,onClose:e,title:a,description:s,icon:o.jsx(Eo,{className:"w-5 h-5 text-primary-600"}),size:"xl",children:o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Do,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:i,onChange:C=>l(C.target.value),placeholder:"Search by name, SKU, or barcode...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent",autoFocus:!0}),i&&o.jsx("button",{onClick:()=>l(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.jsx(Fr,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("select",{value:c,onChange:C=>u(C.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"All Categories"}),y.map(C=>o.jsx("option",{value:C,children:C},C))]}),o.jsxs("select",{value:A,onChange:C=>h(C.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"All Locations"}),g.map(C=>o.jsx("option",{value:C,children:C},C))]}),o.jsxs("select",{value:p,onChange:C=>m(C.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"All Status"}),o.jsx("option",{value:"Available",children:"Available"}),o.jsx("option",{value:"Inactive",children:"Inactive"}),o.jsx("option",{value:"Discontinued",children:"Discontinued"})]})]})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",v.length," of ",n.length," items"]}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Item"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"SKU"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Category"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Location"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:v.length>0?v.map(C=>o.jsxs("tr",{onClick:()=>b(C),className:"hover:bg-primary-50 cursor-pointer transition-colors",children:[o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:C.title}),C.supplier&&o.jsx("p",{className:"text-xs text-gray-500",children:C.supplier})]})}),o.jsx("td",{className:"px-4 py-3 text-gray-700",children:C.sku||"-"}),o.jsx("td",{className:"px-4 py-3 text-gray-700",children:C.category}),o.jsx("td",{className:"px-4 py-3 text-gray-700",children:C.location||"-"}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${N(C.status)}`,children:C.status==="available"||C.status==="Active"?"Available":C.status})})]},C.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Eo,{className:"w-8 h-8 text-gray-300"}),o.jsx("p",{children:"No items match your search criteria"}),o.jsx("button",{onClick:()=>{l(""),u(""),h(""),m("")},className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Clear all filters"})]})})})})]})})}),o.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Click on a row to select the item"})]})})},fBe="recent-selected-items",mBe=5,uV=({items:r,selectedItemId:e,onSelect:t,placeholder:n="Select equipment...",disabled:a=!1,label:s,required:i=!1,error:l,storageKey:c=fBe})=>{const[u,A]=B.useState(!1),[h,p]=B.useState(!1),[m,y]=B.useState([]),g=B.useRef(null);B.useEffect(()=>{const P=localStorage.getItem(c);if(P)try{const O=JSON.parse(P);Array.isArray(O)&&y(O)}catch{}},[c]),B.useEffect(()=>{const P=O=>{g.current&&!g.current.contains(O.target)&&A(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]);const v=m.map(P=>r.find(O=>O.id===P)).filter(Boolean),b=e?r.find(P=>P.id===e):null,N=P=>{y(O=>{const D=O.filter(H=>H!==P),k=[P,...D].slice(0,mBe);return localStorage.setItem(c,JSON.stringify(k)),k})},C=P=>{t(P),N(P.id),A(!1)},E=()=>{A(!1),p(!0)},_=P=>{t(P),N(P.id),p(!1)};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{ref:g,className:"relative",children:[s&&o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[s,i&&o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("button",{type:"button",onClick:()=>!a&&A(!u),disabled:a,className:`w-full px-4 py-2.5 border rounded-xl text-left flex items-center justify-between transition-all ${l?"border-red-300 focus:ring-2 focus:ring-red-500 focus:border-transparent":"border-gray-200 focus:ring-2 focus:ring-primary-500 focus:border-transparent"} ${a?"bg-gray-50 cursor-not-allowed":"bg-white hover:border-gray-300"}`,children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsx(Eo,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),b?o.jsxs("span",{className:"truncate",children:[b.title," (",b.sku,")"]}):o.jsx("span",{className:"text-gray-400",children:n})]}),o.jsx(Kl,{className:`w-5 h-5 text-gray-400 flex-shrink-0 transition-transform ${u?"rotate-180":""}`})]}),l&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l}),u&&o.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-xl shadow-lg overflow-hidden",children:[v.length>0&&o.jsxs("div",{className:"p-2",children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-xs font-semibold text-gray-500",children:[o.jsx(ho,{className:"w-4 h-4"}),"Recent Items"]}),o.jsx("div",{className:"space-y-1",children:v.slice(0,5).map(P=>o.jsxs("button",{type:"button",onClick:()=>C(P),className:`w-full px-3 py-2 text-left rounded-lg hover:bg-gray-50 transition-colors ${e===P.id?"bg-primary-50 text-primary-700":""}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium truncate",children:P.title}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:P.category})]}),o.jsxs("div",{className:"text-xs text-gray-400",children:[P.sku,"  ",P.location]})]},P.id))})]}),v.length>0&&o.jsx("div",{className:"border-t border-gray-100"}),o.jsxs("button",{type:"button",onClick:E,className:"w-full px-4 py-3 text-left flex items-center gap-3 hover:bg-gray-50 transition-colors text-primary-600 font-medium",children:[o.jsx(Do,{className:"w-5 h-5"}),o.jsxs("div",{children:[o.jsx("div",{children:"Browse All Equipment..."}),o.jsxs("div",{className:"text-xs text-gray-500 font-normal",children:["Search and filter all ",r.length," items"]})]})]})]})]}),o.jsx(hBe,{isOpen:h,onClose:()=>p(!1),onSelect:_,items:r})]})},h4={calibration:"Calibration",inspection:"Inspection",servicing:"Servicing",replacement:"Replacement",other:"Other"},Ky={deduct:"Deduct from inventory","status-only":'Mark as "In Maintenance" only',none:"No change to inventory"},dV={deduct:"The item quantity will be reduced when maintenance starts and restored when completed.","status-only":'The item will be marked as "In Maintenance" but quantity remains unchanged.',none:"No changes will be made to inventory quantity or status."},pBe=({isOpen:r,onClose:e,editingTicket:t})=>{const{createTicket:n,updateTicket:a}=G3(),{items:s,fetchInventory:i}=Pv(),[l,c]=B.useState({title:"",itemId:"",itemName:"",description:"",status:"open",priority:"medium",category:"",assignedTo:"",inventoryAction:"none",quantityAffected:1});B.useEffect(()=>{r&&(i(),t&&c({title:t.title||"",itemId:t.itemId||"",itemName:t.itemName||"",description:t.description||"",status:t.status,priority:t.priority,category:t.category||"",assignedTo:t.assignedTo||"",inventoryAction:t.inventoryAction||"none",quantityAffected:t.quantityAffected||1}))},[r,i,t]);const[u,A]=B.useState(!1);if(!r)return null;const h=(g,v)=>{c(b=>{const N={...b,[g]:v};if(g==="itemId"){const C=s.find(E=>E.id===v);C&&(N.itemName=C.title)}return N})},p=async g=>{if(g.preventDefault(),!l.title.trim()){xe.error("Please enter a title");return}if(!l.description.trim()){xe.error("Please enter a description");return}if(!l.category.trim()){xe.error("Please select a category");return}if(l.inventoryAction==="deduct"&&l.itemId){const v=s.find(b=>b.id===l.itemId);if(v&&l.quantityAffected>v.quantity){xe.error(`Cannot deduct more than available quantity (${v.quantity})`);return}}A(!0);try{if(t){const v={title:l.title.trim(),description:l.description.trim(),status:l.status,priority:l.priority,category:l.category,assignedTo:l.assignedTo||void 0};await a(t.id,v)}else{const v={title:l.title.trim(),description:l.description.trim(),status:l.status,priority:l.priority,category:l.category,createdDate:new Date().toISOString(),itemId:l.itemId||void 0,itemName:l.itemName||void 0,assignedTo:l.assignedTo||void 0,inventoryAction:l.itemId?l.inventoryAction:void 0,quantityAffected:l.itemId&&l.inventoryAction==="deduct"?l.quantityAffected:void 0};await n(v)}y()}catch(v){Rt.error("Error saving ticket:",v)}finally{A(!1)}},m=s.find(g=>g.id===l.itemId),y=()=>{c({title:"",itemId:"",itemName:"",description:"",status:"open",priority:"medium",category:"",assignedTo:"",inventoryAction:"none",quantityAffected:1}),e()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(qp,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t?"Edit Maintenance Ticket":"New Maintenance Ticket"}),o.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:t?"Update ticket details and status":"Create a new maintenance request"})]})]}),o.jsx("button",{onClick:y,className:"p-2 hover:bg-primary-200 rounded-lg transition-colors",children:o.jsx(Fr,{className:"w-5 h-5 text-gray-600"})})]}),o.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:l.title,onChange:g=>h("title",g.target.value),placeholder:"e.g., Equipment maintenance required",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{value:l.description,onChange:g=>h("description",g.target.value),placeholder:"Describe the maintenance issue in detail",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:l.category,onChange:g=>h("category",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Select category"}),o.jsx("option",{value:"Equipment",children:"Equipment"}),o.jsx("option",{value:"Infrastructure",children:"Infrastructure"}),o.jsx("option",{value:"Software",children:"Software"}),o.jsx("option",{value:"Hardware",children:"Hardware"}),o.jsx("option",{value:"Facility",children:"Facility"}),o.jsx("option",{value:"Other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Priority ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:l.priority,onChange:g=>h("priority",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"critical",children:"Critical"})]})]}),t&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:l.status,onChange:g=>h("status",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"open",children:"Open"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"resolved",children:"Resolved"}),o.jsx("option",{value:"closed",children:"Closed"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(uV,{items:s,selectedItemId:l.itemId,onSelect:g=>h("itemId",g.id),placeholder:"Select an item...",storageKey:"recent-maintenance-items"})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned To (Optional)"}),o.jsx("input",{type:"text",value:l.assignedTo,onChange:g=>h("assignedTo",g.target.value),placeholder:"Team member name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),l.itemId&&o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Inventory Impact"}),o.jsx("div",{className:"space-y-3",children:Object.keys(Ky).map(g=>o.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer transition-all ${l.inventoryAction===g?"border-primary-500 bg-white shadow-sm":"border-gray-200 bg-white hover:border-gray-300"}`,children:[o.jsx("input",{type:"radio",name:"inventoryAction",value:g,checked:l.inventoryAction===g,onChange:v=>h("inventoryAction",v.target.value),className:"mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:Ky[g]}),o.jsx("div",{className:"text-sm text-gray-500",children:dV[g]})]})]},g))}),l.inventoryAction==="deduct"&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity to Deduct"}),o.jsx("input",{type:"number",min:1,max:m?.quantity||100,value:l.quantityAffected,onChange:g=>h("quantityAffected",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),m&&o.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Available: ",m.quantity," ",m.unitOfMeasure||"units"]})]}),o.jsxs("div",{className:"flex items-start gap-2 mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx(ls,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-xs text-blue-800",children:"Inventory will be restored automatically when this ticket is marked as completed or resolved."})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:y,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50",children:t?u?"Saving...":"Save Changes":u?"Creating...":"Create Ticket"})]})]})]})})},gBe=({isOpen:r,onClose:e,editingSchedule:t,preselectedItemId:n})=>{const{items:a,fetchInventory:s}=Pv(),{createSchedule:i,updateSchedule:l,loading:c}=q3(),[u,A]=B.useState({item_id:"",maintenance_type:"calibration",description:"",scheduled_date:"",inventory_action:"none",quantity_affected:1}),[h,p]=B.useState({});B.useEffect(()=>{r&&s()},[r,s]),B.useEffect(()=>{A(t?{item_id:t.item_id,maintenance_type:t.maintenance_type,description:t.description||"",scheduled_date:t.scheduled_date.split("T")[0],inventory_action:t.inventory_action,quantity_affected:t.quantity_affected}:n?v=>({...v,item_id:n}):{item_id:"",maintenance_type:"calibration",description:"",scheduled_date:"",inventory_action:"none",quantity_affected:1}),p({})},[t,n,r]);const m=()=>{const v={};if(u.item_id||(v.item_id="Please select an item"),!u.scheduled_date)v.scheduled_date="Please select a date";else{const b=new Date(u.scheduled_date),N=new Date;N.setHours(0,0,0,0),b<N&&!t&&(v.scheduled_date="Date cannot be in the past")}return u.inventory_action==="deduct"&&u.quantity_affected<1&&(v.quantity_affected="Quantity must be at least 1"),p(v),Object.keys(v).length===0},y=async v=>{if(v.preventDefault(),!!m())try{t?await l(t.id,{maintenance_type:u.maintenance_type,description:u.description||void 0,scheduled_date:u.scheduled_date,inventory_action:u.inventory_action,quantity_affected:u.quantity_affected}):await i({item_id:u.item_id,maintenance_type:u.maintenance_type,description:u.description||void 0,scheduled_date:u.scheduled_date,inventory_action:u.inventory_action,quantity_affected:u.quantity_affected}),e()}catch{}},g=a.find(v=>v.id===u.item_id);return o.jsx(Ev,{isOpen:r,onClose:e,title:t?"Edit Scheduled Maintenance":"Schedule Maintenance",description:"Set up maintenance reminders",icon:o.jsx(so,{className:"w-5 h-5 text-amber-600"}),size:"md",children:o.jsxs("form",{onSubmit:y,className:"p-6 space-y-5",children:[o.jsx(uV,{items:a,selectedItemId:u.item_id,onSelect:v=>A({...u,item_id:v.id}),label:"Equipment/Item",required:!0,error:h.item_id,disabled:!!t||!!n,placeholder:"Select equipment..."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Maintenance Type *"}),o.jsx("select",{value:u.maintenance_type,onChange:v=>A({...u,maintenance_type:v.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",children:Object.entries(h4).map(([v,b])=>o.jsx("option",{value:v,children:b},v))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Scheduled Date *"}),o.jsx(Zs,{type:"date",value:u.scheduled_date,onChange:v=>A({...u,scheduled_date:v.target.value}),min:new Date().toISOString().split("T")[0],className:h.scheduled_date?"border-red-300":""}),h.scheduled_date&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.scheduled_date})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Description (Optional)"}),o.jsx("textarea",{value:u.description,onChange:v=>A({...u,description:v.target.value}),placeholder:"Additional notes about this maintenance...",rows:3,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Inventory Impact"}),o.jsx("div",{className:"space-y-3",children:Object.keys(Ky).map(v=>o.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-xl cursor-pointer transition-all ${u.inventory_action===v?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("input",{type:"radio",name:"inventory_action",value:v,checked:u.inventory_action===v,onChange:b=>A({...u,inventory_action:b.target.value}),className:"mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:Ky[v]}),o.jsx("div",{className:"text-sm text-gray-500",children:dV[v]})]})]},v))})]}),u.inventory_action==="deduct"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Quantity to Deduct"}),o.jsx(Zs,{type:"number",min:1,max:g?.quantity||100,value:u.quantity_affected,onChange:v=>A({...u,quantity_affected:parseInt(v.target.value)||1}),className:h.quantity_affected?"border-red-300":""}),g&&o.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Available: ",g.quantity," ",g.unitOfMeasure||"units"]}),h.quantity_affected&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.quantity_affected})]}),o.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:[o.jsx(ls,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-amber-800",children:[o.jsx("p",{className:"font-medium",children:"Reminders will be sent:"}),o.jsxs("ul",{className:"mt-1 space-y-0.5 list-disc list-inside",children:[o.jsx("li",{children:"14 days before the scheduled date"}),o.jsx("li",{children:"7 days before the scheduled date"}),o.jsx("li",{children:"1 day before the scheduled date"})]})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(Ut,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),o.jsx(Ut,{type:"submit",disabled:c,className:"flex-1",children:c?"Saving...":t?"Update Schedule":"Create Schedule"})]})]})})},xBe=()=>{const{filteredTickets:r,fetchMaintenance:e,loading:t,stats:n,updateTicket:a,deleteTicket:s}=G3(),{schedules:i,stats:l,loading:c,fetchSchedules:u,fetchStats:A,deleteSchedule:h,markCompleted:p,createTicketFromSchedule:m}=q3(),{isMobile:y}=xC(),[g,v]=B.useState("ongoing"),[b,N]=B.useState(!1),[C,E]=B.useState(!1),[_,P]=B.useState(!1),[O,D]=B.useState(null),[k,H]=B.useState(null),[L,Q]=B.useState([]),[R,K]=B.useState(""),[ee,X]=B.useState({isOpen:!1}),ae=async()=>{try{const J=new Date;J.setDate(1),J.setHours(0,0,0,0);const Le=await(await yw(async()=>{const{httpClient:He}=await Promise.resolve().then(()=>Pne);return{httpClient:He}},[])).httpClient.api.get("/scheduled-maintenance",{params:{is_completed:!0,from_date:J.toISOString()}});Q(Le.data)}catch(J){console.error("Failed to fetch completed schedules:",J)}};B.useEffect(()=>{e(),u({is_completed:!1}),A(),g==="completed"&&ae()},[g]);const Y=J=>{const Le={open:"warning","in-progress":"info",resolved:"success",closed:"default"},He={open:"Open","in-progress":"In Progress",resolved:"Resolved",closed:"Closed"};return o.jsx(Un,{variant:Le[J]||"default",children:He[J]||J})},de=J=>{const Le={critical:"danger",high:"warning",medium:"info",low:"default"},He={critical:"Critical",high:"High",medium:"Medium",low:"Low"};return o.jsx(Un,{variant:Le[J]||"default",size:"sm",children:He[J]||J})},pe=J=>{D(J),P(!0)},Z=J=>{X({isOpen:!0,ticketId:J,type:"ticket"})},I=J=>{X({isOpen:!0,scheduleId:J,type:"schedule"})},z=async()=>{try{ee.type==="ticket"&&ee.ticketId?(await s(ee.ticketId),rr.success("Ticket deleted successfully"),e()):ee.type==="schedule"&&ee.scheduleId&&(await h(ee.scheduleId),rr.success("Scheduled maintenance deleted"),u({is_completed:!1}),A()),X({isOpen:!1})}catch{rr.error(`Failed to delete ${ee.type}`)}},V=J=>{H(J),E(!0)},q=async J=>{try{await p(J),rr.success("Maintenance marked as completed"),u({is_completed:!1}),A()}catch{rr.error("Failed to mark as completed")}},ne=async J=>{try{await m(J),rr.success("Maintenance ticket created"),e(),u({is_completed:!1})}catch{rr.error("Failed to create ticket")}},ce=J=>{const Le=i.find(He=>He.id===J);if(Le?.ticket_id){const He=r.find(Je=>Je.id===Le.ticket_id);if(He){const Je=He.status==="resolved"||He.status==="closed";v(Je?"completed":"ongoing"),rr.success(`Switched to ${Je?"Completed":"On-going"} tab`)}}},Be=J=>{r.find(He=>He.id===J)?.scheduledMaintenanceId&&(v("scheduled"),rr.success("Switched to Scheduled tab"))},Ae=J=>{const Le=new Date;Le.setHours(0,0,0,0);const He=new Date(J);He.setHours(0,0,0,0);const Je=He.getTime()-Le.getTime();return Math.ceil(Je/(1e3*60*60*24))},ye=J=>{const Le=Ae(J);return Le<0?o.jsxs(Un,{variant:"danger",children:[Math.abs(Le)," days overdue"]}):Le===0?o.jsx(Un,{variant:"danger",children:"Due today"}):Le<=7?o.jsxs(Un,{variant:"warning",children:[Le," days left"]}):Le<=14?o.jsxs(Un,{variant:"info",children:[Le," days left"]}):o.jsxs(Un,{variant:"success",children:[Le," days left"]})},Pe=J=>{if(!R.trim())return!0;const Le=R.toLowerCase(),He=(J.title||J.itemName||"").toLowerCase(),Je=(J.description||"").toLowerCase(),at=(J.item?.title||"").toLowerCase();return He.includes(Le)||Je.includes(Le)||at.includes(Le)},je=r.filter(J=>g==="ongoing"?J.status!=="resolved"&&J.status!=="closed":J.status==="resolved"||J.status==="closed").filter(Pe),Se=L.filter(Pe),Te=i.filter(Pe);return o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Maintenance"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:[n?.pending||0," on-going, ",n?.completed||0," completed",l&&`, ${l.total} scheduled`]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ut,{onClick:()=>{H(null),E(!0)},variant:"outline",icon:o.jsx(so,{className:"w-4 h-4"}),size:"md",children:"Schedule"}),o.jsx(Ut,{onClick:()=>N(!0),icon:o.jsx(ei,{className:"w-4 h-4"}),size:"md",children:"New Ticket"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[o.jsx("div",{className:"flex items-center gap-3 mb-3",children:o.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center",children:o.jsx(qp,{className:"w-5 h-5 text-amber-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"On-going"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n?.pending||0})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[o.jsx("div",{className:"flex items-center gap-3 mb-3",children:o.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center",children:o.jsx(so,{className:"w-5 h-5 text-blue-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Scheduled"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l?.total||0})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[o.jsx("div",{className:"flex items-center gap-3 mb-3",children:o.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-100 flex items-center justify-center",children:o.jsx(Jh,{className:"w-5 h-5 text-red-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l?.overdue||0})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[o.jsx("div",{className:"flex items-center gap-3 mb-3",children:o.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-100 flex items-center justify-center",children:o.jsx(za,{className:"w-5 h-5 text-green-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Completed This Month"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l?.completedThisMonth||0})]})]}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:o.jsx("input",{type:"text",placeholder:"Search by title, description, or item name...",value:R,onChange:J=>K(J.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})}),o.jsxs("div",{className:"flex gap-2 mb-6 border-b border-gray-200",children:[o.jsxs("button",{onClick:()=>v("ongoing"),className:`px-4 py-2 font-medium transition-colors relative ${g==="ongoing"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-900"}`,children:["On-going",n&&n.pending>0&&o.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-primary-100 text-primary-700 rounded-full",children:n.pending})]}),o.jsxs("button",{onClick:()=>v("completed"),className:`px-4 py-2 font-medium transition-colors relative ${g==="completed"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-900"}`,children:["Completed",n&&n.completed>0&&o.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-gray-100 text-gray-700 rounded-full",children:n.completed})]}),o.jsxs("button",{onClick:()=>v("scheduled"),className:`px-4 py-2 font-medium transition-colors relative ${g==="scheduled"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-900"}`,children:["Scheduled",l&&(l.upcoming>0||l.overdue>0)&&o.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${l.overdue>0?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:l.overdue>0?l.overdue:l.upcoming})]})]}),(t||c)&&o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!t&&g!=="scheduled"&&je.length>0&&o.jsx("div",{className:"space-y-3",children:je.map(J=>o.jsx(Vr,{variant:"bordered",padding:"md",className:"hover:shadow-md transition-shadow cursor-pointer",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[o.jsx("h3",{className:"font-semibold text-gray-900 flex-1",children:J.title}),de(J.priority),J.scheduledMaintenanceId&&o.jsxs(Un,{variant:"info",size:"sm",children:[o.jsx(so,{className:"w-3 h-3 inline mr-1"}),"From Schedule"]})]}),J.itemName&&o.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Item: ",J.itemName]}),o.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:J.description}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-3 text-xs text-gray-500",children:[o.jsxs("span",{children:["Created: ",a0(J.createdDate)]}),J.assignedTo&&o.jsxs("span",{children:["Assigned to: ",J.assignedTo]}),J.completedDate&&o.jsxs("span",{children:["Completed: ",a0(J.completedDate)]})]})]}),o.jsxs("div",{className:"flex md:flex-col items-center md:items-end gap-2",children:[Y(J.status),o.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[J.scheduledMaintenanceId&&o.jsx("button",{onClick:()=>Be(J.id),className:"p-2 text-purple-600 hover:bg-purple-50 rounded transition-colors",title:"View linked schedule",children:o.jsx(so,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>pe(J),className:"p-2 text-primary-600 hover:bg-primary-50 rounded transition-colors",title:"Edit ticket",children:o.jsx(Oo,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Z(J.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete ticket",children:o.jsx(Cs,{className:"w-4 h-4"})})]})]})]})},J.id))}),!c&&g==="completed"&&Se.length>0&&o.jsx("div",{className:"space-y-3",children:Se.map(J=>o.jsx(Vr,{variant:"bordered",padding:"md",className:"hover:shadow-md transition-shadow",children:o.jsx("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-3",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[o.jsxs("h3",{className:"font-semibold text-gray-900 flex-1",children:[J.item?.title||"Unknown Item"," - ",h4[J.maintenance_type]]}),o.jsx(Un,{variant:"success",children:"Completed"})]}),J.description&&o.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:J.description}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-3 text-xs text-gray-500",children:[o.jsxs("span",{children:["Scheduled: ",a0(J.scheduled_date)]}),J.completed_date&&o.jsxs("span",{children:["Completed: ",a0(J.completed_date)]}),J.ticket_id&&o.jsxs(Un,{variant:"info",size:"sm",children:["Ticket #",J.ticket_id.slice(0,8)]})]})]})})},`schedule-${J.id}`))}),!c&&g==="scheduled"&&Te.length>0&&o.jsx("div",{className:"space-y-3",children:Te.map(J=>o.jsx(Vr,{variant:"bordered",padding:"md",className:"hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[o.jsx("h3",{className:"font-semibold text-gray-900 flex-1",children:J.item?.title||"Unknown Item"}),ye(J.scheduled_date)]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[o.jsx(Un,{variant:"info",size:"sm",children:h4[J.maintenance_type]}),o.jsx(Un,{variant:"default",size:"sm",children:Ky[J.inventory_action]}),J.ticket_id&&o.jsx(Un,{variant:"success",size:"sm",children:"Ticket Created"})]}),J.description&&o.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:J.description}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-3 text-xs text-gray-500",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(so,{className:"w-3 h-3"}),a0(J.scheduled_date)]}),J.item?.sku&&o.jsxs("span",{children:["SKU: ",J.item.sku]}),J.inventory_action==="deduct"&&o.jsxs("span",{children:["Qty: ",J.quantity_affected]})]})]}),o.jsx("div",{className:"flex md:flex-col items-center gap-2",children:o.jsxs("div",{className:"flex gap-1",children:[J.ticket_id?o.jsx("button",{onClick:()=>ce(J.id),className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"View linked ticket",children:o.jsx(za,{className:"w-4 h-4"})}):o.jsx("button",{onClick:()=>ne(J.id),className:"p-2 text-amber-600 hover:bg-amber-50 rounded transition-colors",title:"Create maintenance ticket",children:o.jsx(jZ,{className:"w-4 h-4"})}),J.ticket_id?o.jsx("button",{disabled:!0,className:"p-2 text-gray-400 cursor-not-allowed rounded",title:"Complete by resolving the linked ticket",children:o.jsx(za,{className:"w-4 h-4"})}):o.jsx("button",{onClick:()=>q(J.id),className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Mark as completed",children:o.jsx(za,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>V(J),className:"p-2 text-primary-600 hover:bg-primary-50 rounded transition-colors",title:"Edit schedule",children:o.jsx(Oo,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>I(J.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete schedule",children:o.jsx(Cs,{className:"w-4 h-4"})})]})})]})},J.id))}),!t&&g!=="scheduled"&&je.length===0&&o.jsx(o.Fragment,{children:Se.length===0&&o.jsx(Vr,{variant:"bordered",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[o.jsx(qp,{className:"w-16 h-16 mb-4 opacity-50"}),R?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg font-medium mb-2",children:"No results found"}),o.jsx("p",{className:"text-sm",children:"Try adjusting your search query"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-lg font-medium mb-2",children:["No ",g," tickets"]}),o.jsx("p",{className:"text-sm",children:"Create a new maintenance ticket to get started"})]})]})})}),!c&&g==="scheduled"&&Te.length===0&&o.jsx(Vr,{variant:"bordered",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[o.jsx(so,{className:"w-16 h-16 mb-4 opacity-50"}),R?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg font-medium mb-2",children:"No scheduled maintenance found"}),o.jsx("p",{className:"text-sm mb-4",children:"Try adjusting your search query"})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg font-medium mb-2",children:"No scheduled maintenance"}),o.jsx("p",{className:"text-sm mb-4",children:"Schedule equipment maintenance, calibrations, or inspections"})]}),!R&&o.jsx(Ut,{onClick:()=>{H(null),E(!0)},icon:o.jsx(ei,{className:"w-5 h-5"}),children:"Schedule Maintenance"})]})}),y&&o.jsx("button",{onClick:()=>N(!0),className:"fixed bottom-20 right-4 w-14 h-14 bg-primary-600 text-white rounded-full shadow-lg hover:bg-primary-700 transition-colors flex items-center justify-center z-30",title:"Create new maintenance ticket",children:o.jsx(ei,{className:"w-6 h-6"})})]}),o.jsx(pBe,{isOpen:b||_,onClose:()=>{N(!1),P(!1),D(null),e()},editingTicket:O||void 0}),o.jsx(gBe,{isOpen:C,onClose:()=>{E(!1),H(null),u({is_completed:!1}),A()},editingSchedule:k}),o.jsx(rf,{isOpen:ee.isOpen,onClose:()=>X({isOpen:!1}),onConfirm:z,title:ee.type==="schedule"?"Delete Scheduled Maintenance":"Delete Maintenance Ticket",message:ee.type==="schedule"?"Are you sure you want to delete this scheduled maintenance? This action cannot be undone.":"Are you sure you want to delete this ticket? This action cannot be undone.",variant:"danger",confirmText:"Delete",cancelText:"Cancel"})]})},SM={minLength:8},yBe=({isOpen:r,onClose:e,userEmail:t=""})=>{const[n,a]=B.useState(""),[s,i]=B.useState(""),[l,c]=B.useState(""),[u,A]=B.useState(!1),[h,p]=B.useState(!1),[m,y]=B.useState(!1),[g,v]=B.useState(!1),b=O=>O.length>=SM.minLength&&/[A-Z]/.test(O)&&/[a-z]/.test(O)&&/\d/.test(O)&&/[!@#$%^&*(),.?":{}|<>]/.test(O),C=(O=>{let D=0;return D=[O.length>=SM.minLength,/[A-Z]/.test(O),/[a-z]/.test(O),/\d/.test(O),/[!@#$%^&*(),.?":{}|<>]/.test(O)].filter(Boolean).length,D<=2?{score:1,label:"Weak",color:"bg-red-500"}:D<=3?{score:2,label:"Medium",color:"bg-yellow-500"}:{score:3,label:"Strong",color:"bg-green-500"}})(s),E=b(s),_=s===l&&s.length>0,P=async O=>{if(O.preventDefault(),!n){xe.error("Current password is required");return}if(!E){xe.error("Password does not meet requirements");return}if(!_){xe.error("Passwords do not match");return}v(!0);try{await wr.changePassword(t,n,s),xe.success("Password changed successfully"),a(""),i(""),c(""),e()}catch(D){const k=D.response?.data?.error||D.response?.data?.message||"Failed to change password";xe.error(k),Rt.error("Password change error:",D)}finally{v(!1)}};return r?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"relative w-full max-w-md p-6 bg-white rounded-lg shadow-lg",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Fr,{className:"w-5 h-5 text-gray-600"})}),o.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:o.jsx(Uh,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Change Password"}),o.jsx("p",{className:"text-sm text-gray-500",children:t})]})]}),o.jsxs("form",{onSubmit:P,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:u?"text":"password",value:n,onChange:O=>a(O.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 pr-10",placeholder:"Enter current password"}),o.jsx("button",{type:"button",onClick:()=>A(!u),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:u?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:h?"text":"password",value:s,onChange:O=>i(O.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 pr-10",placeholder:"Enter new password"}),o.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:h?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})})]}),s&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex gap-1 h-2",children:[o.jsx("div",{className:`flex-1 rounded-full ${C.score>=1?C.color:"bg-gray-200"}`}),o.jsx("div",{className:`flex-1 rounded-full ${C.score>=2?C.color:"bg-gray-200"}`}),o.jsx("div",{className:`flex-1 rounded-full ${C.score>=3?C.color:"bg-gray-200"}`})]}),o.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Strength: ",o.jsx("span",{className:`font-semibold ${C.score===1?"text-red-600":C.score===2?"text-yellow-600":"text-green-600"}`,children:C.label})]})]}),o.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg text-xs text-gray-600 space-y-1",children:[o.jsx("p",{className:"font-medium text-gray-700",children:"Password must contain:"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:s.length>=8?"text-green-600":"",children:[s.length>=8?"":""," At least 8 characters"]}),o.jsxs("p",{className:/[A-Z]/.test(s)?"text-green-600":"",children:[/[A-Z]/.test(s)?"":""," Uppercase letter"]}),o.jsxs("p",{className:/[a-z]/.test(s)?"text-green-600":"",children:[/[a-z]/.test(s)?"":""," Lowercase letter"]}),o.jsxs("p",{className:/\d/.test(s)?"text-green-600":"",children:[/\d/.test(s)?"":""," Number"]}),o.jsxs("p",{className:/[!@#$%^&*(),.?":{}|<>]/.test(s)?"text-green-600":"",children:[/[!@#$%^&*(),.?":{}|<>]/.test(s)?"":""," Special character"]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:m?"text":"password",value:l,onChange:O=>c(O.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500 pr-10",placeholder:"Confirm new password"}),o.jsx("button",{type:"button",onClick:()=>y(!m),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:m?o.jsx(xA,{className:"w-5 h-5"}):o.jsx(vi,{className:"w-5 h-5"})}),l&&o.jsx("div",{className:"absolute right-10 top-2.5",children:_?o.jsx(za,{className:"w-5 h-5 text-green-500"}):o.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-red-500"})})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,disabled:g,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:!E||!_||!n||g,className:"flex-1 px-4 py-2 text-white bg-primary-600 rounded-lg hover:bg-primary-700 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Changing...":"Change Password"})]})]})]})}):null},vBe={emailNotifications:!0,pushNotifications:!0,lowStockAlerts:!0,maintenanceReminders:!0,darkMode:!1,language:"en",timeZone:"Asia/Kuala_Lumpur",twoFactorEnabled:!1},bBe=({isOpen:r,onClose:e,userEmail:t=""})=>{const{theme:n,toggleTheme:a}=Y7(),[s,i]=B.useState({...vBe,darkMode:n==="dark"}),[l,c]=B.useState(!1);B.useEffect(()=>{const h=localStorage.getItem("userPreferences");if(h)try{const p=JSON.parse(h);i({...p,darkMode:n==="dark"})}catch(p){Rt.error("Failed to load preferences:",p)}else i(p=>({...p,darkMode:n==="dark"}))},[r,n]);const u=(h,p)=>{i(m=>({...m,[h]:p})),h==="darkMode"&&a()},A=async()=>{c(!0);try{localStorage.setItem("userPreferences",JSON.stringify(s)),xe.success("Preferences saved successfully"),e()}catch{xe.error("Failed to save preferences")}finally{c(!1)}};return r?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"relative w-full max-w-2xl p-6 bg-white rounded-lg shadow-lg max-h-[90vh] overflow-y-auto",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Fr,{className:"w-5 h-5 text-gray-600"})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Preferences"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(JE,{className:"w-5 h-5 text-primary-600"}),o.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.emailNotifications,onChange:h=>u("emailNotifications",h.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Email Notifications"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.pushNotifications,onChange:h=>u("pushNotifications",h.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Push Notifications"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.lowStockAlerts,onChange:h=>u("lowStockAlerts",h.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Low Stock Alerts"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.maintenanceReminders,onChange:h=>u("maintenanceReminders",h.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Maintenance Reminders"})]})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(vi,{className:"w-5 h-5 text-primary-600"}),o.jsx("h3",{className:"font-semibold text-gray-900",children:"Display"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.darkMode,onChange:h=>u("darkMode",h.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Dark Mode"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),o.jsxs("select",{value:s.language,onChange:h=>u("language",h.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[o.jsx("option",{value:"en",children:"English"}),o.jsx("option",{value:"ms",children:"Malay (Bahasa Melayu)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Zone"}),o.jsxs("select",{value:s.timeZone,onChange:h=>u("timeZone",h.target.value),className:"w-full px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[o.jsx("option",{value:"Asia/Kuala_Lumpur",children:"Malaysia (GMT+8)"}),o.jsx("option",{value:"Asia/Singapore",children:"Singapore (GMT+8)"}),o.jsx("option",{value:"Asia/Bangkok",children:"Thailand (GMT+7)"}),o.jsx("option",{value:"UTC",children:"UTC"}),o.jsx("option",{value:"Europe/London",children:"London (GMT)"}),o.jsx("option",{value:"America/New_York",children:"New York (EST)"})]})]})]})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[o.jsx("button",{onClick:e,disabled:l,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{onClick:A,disabled:l,className:"flex-1 px-4 py-2 text-white bg-primary-600 rounded-lg hover:bg-primary-700 font-medium transition-colors disabled:opacity-50",children:l?"Saving...":"Save Preferences"})]})]})}):null},yb={async getSettings(){return(await tt.get("/company-settings")).data},async updateSettings(r){return(await tt.put("/company-settings",r)).data},async uploadLogo(r){const e=new FormData;return e.append("logo",r),(await tt.post("/company-settings/logo",e,{headers:{"Content-Type":"multipart/form-data"}})).data},async deleteLogo(){await tt.delete("/company-settings/logo")}},wBe="/api",CBe=()=>{const[r,e]=B.useState(null),[t,n]=B.useState(!0),[a,s]=B.useState(!1),[i,l]=B.useState(!1),c=B.useRef(null),[u,A]=B.useState({company_name:"",registration_number:"",address:"",phone:"",mobile:"",email:"",sst_id:"",primary_color:"#2563eb",invoice_footer:"",po_footer:"",bank_details:"",header_position:"top-center",logo_size:"medium",show_sst_id:!0,show_bank_details:!0,page_margin:50});B.useEffect(()=>{h()},[]);const h=async()=>{try{const v=await yb.getSettings();e(v),A({company_name:v.company_name||"",registration_number:v.registration_number||"",address:v.address||"",phone:v.phone||"",mobile:v.mobile||"",email:v.email||"",sst_id:v.sst_id||"",primary_color:v.primary_color||"#2563eb",invoice_footer:v.invoice_footer||"",po_footer:v.po_footer||"",bank_details:v.bank_details||"",header_position:v.header_position||"top-center",logo_size:v.logo_size||"medium",show_sst_id:v.show_sst_id??!0,show_bank_details:v.show_bank_details??!0,page_margin:v.page_margin||50})}catch(v){Rt.error("Error loading company settings:",v),xe.error("Failed to load company settings")}finally{n(!1)}},p=v=>{const{name:b,value:N,type:C}=v.target,E=v.target.checked;A(_=>({..._,[b]:C==="checkbox"?E:C==="number"?Number(N):N}))},m=async()=>{s(!0);try{const v=await yb.updateSettings(u);e(v),xe.success("Company settings saved successfully")}catch(v){Rt.error("Error saving company settings:",v),xe.error("Failed to save company settings")}finally{s(!1)}},y=async v=>{const b=v.target.files?.[0];if(!b)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(b.type)){xe.error("Invalid file type. Please upload a JPEG, PNG, GIF, or WebP image.");return}if(b.size>5*1024*1024){xe.error("File too large. Maximum size is 5MB.");return}l(!0);try{const C=await yb.uploadLogo(b);e(E=>E&&{...E,logo_url:C.logoUrl}),xe.success("Logo uploaded successfully")}catch(C){Rt.error("Error uploading logo:",C),xe.error("Failed to upload logo")}finally{l(!1),c.current&&(c.current.value="")}},g=async()=>{if(r?.logo_url&&confirm("Are you sure you want to delete the company logo?"))try{await yb.deleteLogo(),e(v=>v&&{...v,logo_url:null}),xe.success("Logo deleted successfully")}catch(v){Rt.error("Error deleting logo:",v),xe.error("Failed to delete logo")}};return t?o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),o.jsx("div",{className:"h-40 bg-gray-200 rounded"}),o.jsx("div",{className:"h-40 bg-gray-200 rounded"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(Xh,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Company Settings"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Configure your company details for PDF documents"})]})]}),o.jsxs("button",{onClick:m,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:[o.jsx(c7,{className:"w-4 h-4"}),a?"Saving...":"Save Changes"]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Iw,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Company Logo"})]}),o.jsxs("div",{className:"flex items-start gap-6",children:[o.jsx("div",{className:"w-40 h-40 bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center overflow-hidden",children:r?.logo_url?o.jsx("img",{src:`${wBe}${r.logo_url}`,alt:"Company Logo",className:"max-w-full max-h-full object-contain"}):o.jsxs("div",{className:"text-center text-gray-400",children:[o.jsx(Iw,{className:"w-12 h-12 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"No logo"})]})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload your company logo. Recommended size: 300x100px. Supported formats: JPEG, PNG, GIF, WebP. Max size: 5MB."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{ref:c,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:y,className:"hidden"}),o.jsxs("button",{onClick:()=>c.current?.click(),disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:[o.jsx(Po,{className:"w-4 h-4"}),i?"Uploading...":"Upload Logo"]}),r?.logo_url&&o.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200",children:[o.jsx(Cs,{className:"w-4 h-4"}),"Delete"]})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo Position"}),o.jsxs("select",{name:"header_position",value:u.header_position,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"top-left",children:"Top Left"}),o.jsx("option",{value:"top-center",children:"Top Center"}),o.jsx("option",{value:"top-right",children:"Top Right"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo Size"}),o.jsxs("select",{name:"logo_size",value:u.logo_size,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"small",children:"Small (60px)"}),o.jsx("option",{value:"medium",children:"Medium (100px)"}),o.jsx("option",{value:"large",children:"Large (150px)"})]})]})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Xh,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Company Details"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),o.jsx("input",{type:"text",name:"company_name",value:u.company_name,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),o.jsx("input",{type:"text",name:"registration_number",value:u.registration_number,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 863273W"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),o.jsx("textarea",{name:"address",value:u.address,onChange:p,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Enter company address (one line per address line)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),o.jsx("input",{type:"text",name:"phone",value:u.phone,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., +604 376 2355"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),o.jsx("input",{type:"text",name:"mobile",value:u.mobile,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., +60 17 2008173"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsx("input",{type:"email",name:"email",value:u.email,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., contact@company.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SST ID"}),o.jsx("input",{type:"text",name:"sst_id",value:u.sst_id,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., P11-1808-31028245"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx($a,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"PDF Document Options"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Page Margin (px)"}),o.jsx("input",{type:"number",name:"page_margin",value:u.page_margin,onChange:p,min:20,max:100,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"show_sst_id",checked:u.show_sst_id,onChange:p,className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Show SST ID on PDFs"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"show_bank_details",checked:u.show_bank_details,onChange:p,className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Show Bank Details on PDFs"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Footer Text"}),o.jsx("textarea",{name:"invoice_footer",value:u.invoice_footer,onChange:p,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Payment terms, notes, etc."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PO Footer Text"}),o.jsx("textarea",{name:"po_footer",value:u.po_footer,onChange:p,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"PO terms, signature requirements, etc."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Details"}),o.jsx("textarea",{name:"bank_details",value:u.bank_details,onChange:p,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Bank name, account number, etc."})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Pee,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Branding Colors"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Color"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"color",name:"primary_color",value:u.primary_color,onChange:p,className:"w-12 h-10 rounded border border-gray-300 cursor-pointer"}),o.jsx("input",{type:"text",value:u.primary_color,onChange:v=>A(b=>({...b,primary_color:v.target.value})),className:"w-28 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"#2563eb"})]})]}),o.jsx("p",{className:"text-sm text-gray-500 mt-6",children:"This color will be used for accents in generated PDF documents."})]})]})]})},AV=Ic((r,e)=>({checkouts:[],filteredCheckouts:[],filters:{showMyCheckoutsFirst:!0},stats:{totalActive:0,myActive:0,overdue:0,partialReturns:0},loading:!1,fetchCheckouts:async()=>{r({loading:!0});try{const t=await On.getAllCheckouts(),n=_o(),a=[...t].sort((s,i)=>{const l=s.checkedOutByEmail===n.email,c=i.checkedOutByEmail===n.email;return l&&!c?-1:!l&&c?1:new Date(i.checkedOutDate).getTime()-new Date(s.checkedOutDate).getTime()});r({checkouts:a,filteredCheckouts:a}),e().getCheckoutStats()}catch(t){console.error("Failed to fetch checkouts:",t),r({checkouts:[],filteredCheckouts:[]})}finally{r({loading:!1})}},setFilters:t=>{r({filters:t});const{checkouts:n}=e(),a=_o();let s=[...n];if(t.status&&t.status!=="all"&&(s=s.filter(i=>i.status===t.status)),t.userId&&(s=s.filter(i=>i.checkedOutByEmail===t.userId)),t.search){const i=t.search.toLowerCase();s=s.filter(l=>l.masterBarcode.toLowerCase().includes(i)||l.purpose?.toLowerCase().includes(i)||l.checkedOutBy.toLowerCase().includes(i)||l.items.some(c=>c.itemName.toLowerCase().includes(i)))}t.showMyCheckoutsFirst&&s.sort((i,l)=>{const c=i.checkedOutByEmail===a.email,u=l.checkedOutByEmail===a.email;return c&&!u?-1:!c&&u?1:0}),r({filteredCheckouts:s})},getCheckoutByMasterBarcode:t=>{const{checkouts:n}=e();return n.find(a=>a.masterBarcode===t)},getMyActiveCheckouts:()=>{const{checkouts:t}=e(),n=_o();return t.filter(a=>a.checkedOutByEmail===n.email&&(a.status==="active"||a.status==="partial-return"||a.status==="overdue"))},getCheckoutStats:()=>{const{checkouts:t}=e(),n=_o(),a=t.filter(i=>i.status==="active"||i.status==="partial-return"||i.status==="overdue"),s={totalActive:a.length,myActive:a.filter(i=>i.checkedOutByEmail===n.email).length,overdue:t.filter(i=>i.status==="overdue").length,partialReturns:t.filter(i=>i.status==="partial-return").length};return r({stats:s}),s}})),hV=Ic(r=>({pcs:[],loading:!1,error:null,fetchPCs:async e=>{try{r({loading:!0,error:null});const t=await wr.getAllComputers(e),a=(Array.isArray(t)?t:t?.data||[]).map(s=>{let i="available";return s.status==="in-repair"?i="maintenance":s.assigned_to&&(i="assigned"),{id:s.id,name:s.device_name||s.name,location:s.location||"",status:i,assignedTo:s.assignee?.name||s.assignedTo,assignedToEmail:s.assignee?.email||s.assignedToEmail,assignedDate:s.updated_at,notes:s.notes,softwareUsed:s.installed_software?s.installed_software.split(",").filter(l=>l.trim()):[],lastUpdated:s.updated_at||new Date().toISOString()}});r({pcs:Array.isArray(a)?a:[],loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch PCs";console.error("Error fetching PCs:",n),r({error:n,loading:!1})}},addPC:async e=>{try{r({loading:!0,error:null});const t=await wr.createComputer(e),n={id:t.id,name:t.device_name||t.name,location:t.location||"",status:t.assigned_to?"assigned":t.status==="maintenance"?"maintenance":"available",assignedTo:t.assignee?.name||t.assignedTo,assignedToEmail:t.assignee?.email||t.assignedToEmail,assignedDate:t.updated_at,notes:t.notes,softwareUsed:t.installed_software?t.installed_software.split(",").filter(a=>a.trim()):[],lastUpdated:t.updated_at||new Date().toISOString()};r(a=>({pcs:[...a.pcs,n],loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to add PC";console.error("Error adding PC:",n),r({error:n,loading:!1})}},assignPC:async(e,t,n,a,s,i)=>{try{r({loading:!0,error:null});const l=await wr.assignComputerToUser(e,t,i,s),c={id:l.id,name:l.device_name||l.name,location:l.location||"",status:"assigned",assignedTo:l.assignee?.name||n,assignedToEmail:l.assignee?.email||a,assignedDate:new Date().toISOString(),notes:l.notes||s,softwareUsed:l.installed_software?l.installed_software.split(",").filter(u=>u.trim()):i,lastUpdated:l.updated_at||new Date().toISOString()};r(u=>({pcs:u.pcs.map(A=>A.id===e?c:A),loading:!1}))}catch(l){const c=l?.response?.data?.error||l?.message||"Failed to assign PC";throw console.error("Error assigning PC:",c),r({error:c,loading:!1}),l}},releasePC:async e=>{try{r({loading:!0,error:null});const t=await wr.unassignComputer(e),n={id:t.id,name:t.device_name||t.name,location:t.location||"",status:"available",assignedTo:void 0,assignedToEmail:void 0,assignedDate:void 0,notes:t.notes,softwareUsed:[],lastUpdated:t.updated_at||new Date().toISOString()};r(a=>({pcs:a.pcs.map(s=>s.id===e?n:s),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to release PC";console.error("Error releasing PC:",n),r({error:n,loading:!1})}},updatePC:async(e,t)=>{try{r({loading:!0,error:null});const n=await wr.updateComputer(e,t);let a="available";n.status==="in-repair"?a="maintenance":n.assigned_to&&(a="assigned");const s={id:n.id,name:n.device_name||n.name,location:n.location||"",status:a,assignedTo:n.assignee?.name||n.assignedTo,assignedToEmail:n.assignee?.email||n.assignedToEmail,assignedDate:n.updated_at,notes:n.notes,softwareUsed:n.installed_software?n.installed_software.split(",").filter(i=>i.trim()):[],lastUpdated:n.updated_at||new Date().toISOString()};r(i=>({pcs:i.pcs.map(l=>l.id===e?s:l),loading:!1}))}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update PC";console.error("Error updating PC:",a),r({error:a,loading:!1})}},deletePC:async e=>{try{r({loading:!0,error:null}),await wr.deleteComputer(e),r(t=>({pcs:t.pcs.filter(n=>n.id!==e),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to delete PC";console.error("Error deleting PC:",n),r({error:n,loading:!1})}},getPCsAssignedTo:async e=>{try{r({loading:!0,error:null});const t=await wr.getComputersAssignedTo(e),a=(Array.isArray(t)?t:t?.data||[]).map(s=>({id:s.id,name:s.device_name||s.name,location:s.location||"",status:"assigned",assignedTo:s.assignee?.name||s.assignedTo,assignedToEmail:s.assignee?.email||s.assignedToEmail,assignedDate:s.updated_at,notes:s.notes,softwareUsed:s.installed_software?s.installed_software.split(",").filter(i=>i.trim()):[],lastUpdated:s.updated_at||new Date().toISOString()}));r({pcs:Array.isArray(a)?a:[],loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch assigned PCs";console.error("Error fetching assigned PCs:",n),r({error:n,loading:!1})}},setMaintenanceStatus:async(e,t)=>{try{r({loading:!0,error:null});const n=await wr.setMaintenanceStatus(e,t),a={id:n.id,name:n.device_name||n.name,location:n.location||"",status:t?"maintenance":"available",assignedTo:t?void 0:n.assignee?.name,assignedToEmail:t?void 0:n.assignee?.email,assignedDate:n.updated_at,notes:n.notes,softwareUsed:n.installed_software?n.installed_software.split(",").filter(s=>s.trim()):[],lastUpdated:n.updated_at||new Date().toISOString()};r(s=>({pcs:s.pcs.map(i=>i.id===e?a:i),loading:!1}))}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update maintenance status";throw console.error("Error updating maintenance status:",a),r({error:a,loading:!1}),n}}})),NBe=()=>{const r=B.useRef(null),[e,t]=B.useState(!1),[n,a]=B.useState(!1),[s,i]=B.useState(!1),{user:l}=hf(),c=l&&(l.role==="admin"||Array.isArray(l.roles)&&l.roles.includes("admin")),u=fo(E=>E.teamMembers),A=os(E=>E.projects),h=ff(E=>E.clients),p=Pv(E=>E.items),m=AV(E=>E.checkouts),y=hV(E=>E.pcs),g=nf(E=>E.researchProjects),v=G3(E=>E.tickets),b=()=>{try{const E={exportDate:new Date().toISOString(),version:"1.0.0",records:{teamMembers:u,projects:A,clients:h,inventoryItems:p,checkouts:m,pcs:y,researchProjects:g,maintenanceTickets:v},summary:{totalTeamMembers:u.length,totalProjects:A.length,totalClients:h.length,totalInventoryItems:p.length,totalCheckouts:m.length,totalPCs:y.length,totalResearchProjects:g.length,totalMaintenanceTickets:v.length}},_=JSON.stringify(E,null,2),P=new Blob([_],{type:"application/json"}),O=URL.createObjectURL(P),D=document.createElement("a");D.href=O,D.download=`mycae-tracker-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(O),rr.success(` Data exported successfully! (${Object.keys(E.summary).length} entities)`)}catch(E){rr.error(" Failed to export data"),Rt.error("Export error:",E)}},N=()=>{r.current?.click()},C=E=>{const _=E.target.files?.[0];if(!_)return;const P=new FileReader;P.onload=O=>{try{const D=O.target?.result,k=JSON.parse(D);if(!k.records||!k.summary)throw new Error("Invalid file format");rr.success(` Data imported successfully!
Teams: ${k.summary.totalTeamMembers}, Projects: ${k.summary.totalProjects}, Clients: ${k.summary.totalClients}, Inventory: ${k.summary.totalInventoryItems}`),Rt.debug("Imported data:",k)}catch(D){rr.error(" Failed to parse import file"),Rt.error("Import error:",D)}},P.readAsText(_),E.target.value=""};return o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Settings"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage app data and integrations"})]}),o.jsxs(Vr,{variant:"bordered",className:"mb-4",children:[o.jsx(V1,{children:o.jsx(q1,{children:"Profile"})}),o.jsx(G1,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:o.jsx($l,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{className:"text-left flex-1",children:[o.jsx("p",{className:"font-medium text-gray-900",children:l?.name||"User"}),o.jsx("p",{className:"text-sm text-gray-500",children:l?.email||"user@mycae.com"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[o.jsxs("button",{onClick:()=>t(!0),className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Uh,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Change Password"})]}),o.jsx(gA,{className:"w-5 h-5 text-gray-400"})]}),o.jsxs("button",{onClick:()=>a(!0),className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(u7,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Preferences"})]}),o.jsx(gA,{className:"w-5 h-5 text-gray-400"})]})]})]})})]}),c&&o.jsxs(Vr,{variant:"bordered",className:"mb-4",children:[o.jsx(V1,{children:o.jsx(q1,{children:"Company Settings"})}),o.jsx(G1,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-amber-800",children:[o.jsx("strong",{children:"Admin Only:"})," Configure company branding, logo, and PDF document settings. These settings will be applied to all generated invoices and purchase orders."]})}),o.jsxs("button",{onClick:()=>i(!s),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Xh,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:s?"Hide Company Settings":"Edit Company Settings"})]}),o.jsx(gA,{className:`w-5 h-5 text-gray-400 transition-transform ${s?"rotate-90":""}`})]}),s&&o.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4",children:o.jsx(CBe,{})})]})})]}),o.jsxs(Vr,{variant:"bordered",className:"mb-4",children:[o.jsx(V1,{children:o.jsx(q1,{children:"Data Management"})}),o.jsx(G1,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Export:"})," Download all application data as JSON file",o.jsx("br",{}),o.jsx("strong",{children:"Import:"})," Load data from previously exported JSON file"]})}),o.jsx(Ut,{variant:"outline",fullWidth:!0,icon:o.jsx(LA,{className:"w-5 h-5"}),onClick:b,children:"Export Data"}),o.jsx(Ut,{variant:"outline",fullWidth:!0,icon:o.jsx(Po,{className:"w-5 h-5"}),onClick:N,children:"Import Data"}),o.jsx("input",{ref:r,type:"file",accept:".json",onChange:C,className:"hidden"}),o.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Current Data Summary"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Team Members"}),o.jsx("p",{className:"text-xl font-bold text-primary-600",children:u.length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Projects"}),o.jsx("p",{className:"text-xl font-bold text-primary-600",children:A.length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Inventory Items"}),o.jsx("p",{className:"text-xl font-bold text-primary-600",children:p.length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"PCs"}),o.jsx("p",{className:"text-xl font-bold text-primary-600",children:y.length})]})]})]})]})})]}),o.jsxs(Vr,{variant:"bordered",children:[o.jsx(V1,{children:o.jsx(q1,{children:"About"})}),o.jsxs(G1,{children:[o.jsx("div",{className:"w-full flex items-center justify-between p-3 rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(y_,{className:"w-5 h-5 text-gray-600"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-medium text-gray-900",children:"App Version"}),o.jsx("p",{className:"text-sm text-gray-500",children:"1.0.0"})]})]})}),o.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:o.jsx("p",{className:"text-sm text-gray-600",children:"MyCAE Equipment Tracker - Inventory Management System"})})]})]})]}),o.jsx(yBe,{isOpen:e,onClose:()=>t(!1),userEmail:l?.email,onSuccess:()=>{t(!1),rr.success("Password changed successfully!")}}),o.jsx(bBe,{isOpen:n,onClose:()=>a(!1),onSave:E=>{a(!1),rr.success("Preferences saved successfully!")}})]})},SBe=({items:r,selectedItems:e,onSelectItems:t,onClose:n})=>{const[a,s]=B.useState(""),[i,l]=B.useState(""),[c,u]=B.useState(""),[A,h]=B.useState(""),p=B.useMemo(()=>{const E=new Set(r.map(_=>_.category));return Array.from(E).sort()},[r]),m=B.useMemo(()=>{const E=new Set(r.map(_=>_.location));return Array.from(E).sort()},[r]),y=B.useMemo(()=>r.filter(E=>{const _=!a||E.title.toLowerCase().includes(a.toLowerCase())||E.sku.toLowerCase().includes(a.toLowerCase())||E.barcode&&E.barcode.toLowerCase().includes(a.toLowerCase()),P=!i||E.category===i,O=!c||E.location===c,D=!A||E.status===A;return _&&P&&O&&D}),[r,a,i,c,A]),g=E=>e.some(_=>_.id===E.id),v=E=>{g(E)?t(e.filter(_=>_.id!==E.id)):t([...e,E])},b=()=>{const E=new Set(e.map(P=>P.id)),_=y.filter(P=>!E.has(P.id));t([...e,..._])},N=()=>{const E=new Set(y.map(_=>_.id));t(e.filter(_=>!E.has(_.id)))},C=y.length>0&&y.every(E=>g(E));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Do,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx(Zs,{type:"text",placeholder:"Search by name, SKU, or barcode...",value:a,onChange:E=>s(E.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("select",{value:i,onChange:E=>l(E.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"All Categories"}),p.map(E=>o.jsx("option",{value:E,children:E},E))]}),o.jsxs("select",{value:c,onChange:E=>u(E.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"All Locations"}),m.map(E=>o.jsx("option",{value:E,children:E},E))]}),o.jsxs("select",{value:A,onChange:E=>h(E.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"All Status"}),o.jsx("option",{value:"Available",children:"Available"}),o.jsx("option",{value:"Checked Out",children:"Checked Out"}),o.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-200",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx("button",{onClick:C?N:b,className:"flex items-center gap-2 text-sm text-primary-600 hover:text-primary-700 font-medium",children:C?o.jsxs(o.Fragment,{children:[o.jsx(Xee,{className:"w-4 h-4"}),"Clear Selection"]}):o.jsxs(o.Fragment,{children:[o.jsx(ete,{className:"w-4 h-4"}),"Select All (",y.length,")"]})})}),o.jsxs("span",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:e.length})," items selected"]})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden max-h-[400px] overflow-y-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left w-10"}),o.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"Item"}),o.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"SKU"}),o.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"Category"}),o.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"Location"}),o.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:y.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500",children:o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Eo,{className:"w-8 h-8 text-gray-300"}),o.jsx("p",{children:"No items found"})]})})}):y.map(E=>o.jsxs("tr",{onClick:()=>v(E),className:`hover:bg-gray-50 cursor-pointer transition-colors ${g(E)?"bg-primary-50":""}`,children:[o.jsx("td",{className:"px-4 py-3",children:o.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${g(E)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:g(E)&&o.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:E.title}),E.supplier&&o.jsx("p",{className:"text-xs text-gray-500",children:E.supplier})]})}),o.jsx("td",{className:"px-4 py-3 font-mono text-gray-600",children:E.sku}),o.jsx("td",{className:"px-4 py-3 text-gray-600",children:E.category}),o.jsx("td",{className:"px-4 py-3 text-gray-600",children:E.location}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:`inline-flex px-2 py-0.5 rounded text-xs font-medium ${["Active","active","Available","available"].includes(E.status)?"bg-green-100 text-green-800":E.status==="Inactive"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:E.status})})]},E.id))})]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:n,disabled:e.length===0,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Continue (",e.length," items)"]})]})]})},BBe=({selectedItems:r,onRemoveItem:e,onCheckout:t,onCancel:n,teamMembers:a})=>{const[s,i]=B.useState({engineerId:"",engineerName:"",purpose:"",location:"",expectedReturnDate:"",notes:""}),[l,c]=B.useState({}),u=m=>{const y=a.find(g=>g.id===m);i(g=>({...g,engineerId:m,engineerName:y?.name||""})),l.engineerId&&c(g=>({...g,engineerId:void 0}))},A=()=>{const m={};return s.engineerId||(m.engineerId="Please select an engineer"),s.purpose.trim()||(m.purpose="Purpose is required"),s.location.trim()||(m.location="Location is required"),c(m),Object.keys(m).length===0},h=()=>{A()&&t(s)},p=()=>{const m=new Date;return m.setDate(m.getDate()+7),m.toISOString().split("T")[0]};return ws.useEffect(()=>{s.expectedReturnDate||i(m=>({...m,expectedReturnDate:p()}))},[]),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("h3",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx(Eo,{className:"w-5 h-5 text-primary-600"}),"Selected Items (",r.length,")"]}),o.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:r.map(m=>o.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-gray-900 truncate",children:m.title}),o.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",m.sku," | ",m.category]})]}),o.jsx("button",{onClick:()=>e(m.id),className:"ml-2 p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remove item",children:o.jsx(Fr,{className:"w-4 h-4"})})]},m.id))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Checkout Details"}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o.jsx($a,{className:"w-4 h-4 inline mr-1"}),"Title *"]}),o.jsx(Zs,{type:"text",placeholder:"e.g., Site calibration, Client visit, Lab testing",value:s.purpose,onChange:m=>{i(y=>({...y,purpose:m.target.value})),l.purpose&&c(y=>({...y,purpose:void 0}))},error:l.purpose})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o.jsx($l,{className:"w-4 h-4 inline mr-1"}),"Engineer *"]}),o.jsxs("select",{value:s.engineerId,onChange:m=>u(m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ${l.engineerId?"border-red-500":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Select Engineer"}),a.map(m=>o.jsx("option",{value:m.id,children:m.name},m.id))]}),l.engineerId&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.engineerId})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o.jsx(c0,{className:"w-4 h-4 inline mr-1"}),"Location *"]}),o.jsx(Zs,{type:"text",placeholder:"e.g., Client Site A, Warehouse, Lab",value:s.location,onChange:m=>{i(y=>({...y,location:m.target.value})),l.location&&c(y=>({...y,location:void 0}))},error:l.location})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o.jsx(so,{className:"w-4 h-4 inline mr-1"}),"Expected Return Date"]}),o.jsx(Zs,{type:"date",value:s.expectedReturnDate,onChange:m=>i(y=>({...y,expectedReturnDate:m.target.value}))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),o.jsx("textarea",{rows:3,placeholder:"Additional notes or instructions...",value:s.notes,onChange:m=>i(y=>({...y,notes:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Back"}),o.jsxs("button",{onClick:h,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:["Confirm Checkout (",r.length," items)"]})]})]})},EBe=({checkouts:r,onReturnAll:e,onPartialReturn:t,onPrintReceipt:n,loading:a})=>{const[s,i]=B.useState("all"),l=r.filter(h=>s==="all"?!0:h.status===s),c=h=>{switch(h){case"active":return o.jsx(Un,{variant:"success",children:"Active"});case"partial-return":return o.jsx(Un,{variant:"warning",children:"Partial Return"});case"overdue":return o.jsx(Un,{variant:"danger",children:"Overdue"});default:return o.jsx(Un,{children:h})}},u=h=>Math.floor((new Date().getTime()-new Date(h).getTime())/864e5),A=h=>h?new Date(h)<new Date:!1;return a?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx(Eo,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No active checkouts"}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"All equipment is currently in the warehouse"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{key:"all",label:"All",count:r.length},{key:"active",label:"Active",count:r.filter(h=>h.status==="active").length},{key:"partial-return",label:"Partial",count:r.filter(h=>h.status==="partial-return").length},{key:"overdue",label:"Overdue",count:r.filter(h=>h.status==="overdue").length}].map(h=>o.jsxs("button",{onClick:()=>i(h.key),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${s===h.key?"bg-primary-100 text-primary-700 border border-primary-300":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:[h.label,o.jsx("span",{className:"ml-2 px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:h.count})]},h.key))}),o.jsx("div",{className:"space-y-3",children:l.map(h=>o.jsxs("div",{className:`bg-white rounded-lg border p-4 transition-shadow hover:shadow-md ${h.status==="overdue"?"border-red-200 bg-red-50":"border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(Eo,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:h.purpose||"Untitled Checkout"}),o.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[c(h.status),o.jsxs("span",{className:"text-sm text-gray-500",children:[o.jsx(ho,{className:"w-3 h-3 inline mr-1"}),u(h.checkedOutDate)," days out"]})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[n&&o.jsxs("button",{onClick:()=>n(h),className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-1",title:"Print Receipt",children:[o.jsx(o7,{className:"w-4 h-4"}),"Print"]}),h.status!=="fully-returned"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>t(h),className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Partial Return"}),o.jsx("button",{onClick:()=>e(h.id),className:"px-3 py-1.5 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Return All"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-gray-500 mb-0.5",children:[o.jsx($l,{className:"w-3 h-3 inline mr-1"}),"Checked Out By"]}),o.jsx("p",{className:"font-medium text-gray-900",children:h.checkedOutBy})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-gray-500 mb-0.5",children:[o.jsx(c0,{className:"w-3 h-3 inline mr-1"}),"Location"]}),o.jsx("p",{className:"font-medium text-gray-900 truncate",children:h.purpose||"N/A"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 mb-0.5",children:"Items"}),o.jsxs("p",{className:"font-medium text-gray-900",children:[h.remainingItems," of ",h.totalItems," remaining"]})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-gray-500 mb-0.5",children:[o.jsx(so,{className:"w-3 h-3 inline mr-1"}),"Due Date"]}),o.jsxs("p",{className:`font-medium ${A(h.expectedReturnDate)?"text-red-600":"text-gray-900"}`,children:[h.expectedReturnDate?new Date(h.expectedReturnDate).toLocaleDateString():"Not set",A(h.expectedReturnDate)&&o.jsx("span",{className:"ml-1 text-xs",children:"(Overdue)"})]})]})]}),o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Items in this checkout:"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.items.slice(0,5).map((p,m)=>o.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs ${p.returnStatus==="returned"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:[p.returnStatus==="returned"&&o.jsx(za,{className:"w-3 h-3 mr-1"}),p.itemName," (",p.remainingQuantity,"/",p.quantity,")"]},m)),h.items.length>5&&o.jsxs("span",{className:"text-xs text-gray-500",children:["+",h.items.length-5," more"]})]})]})]},h.id))})]})},jBe=({checkout:r,isOpen:e,onClose:t,onConfirm:n})=>{const[a,s]=B.useState(new Map),[i,l]=B.useState("");if(!e||!r)return null;const c=(p,m)=>{const y=new Map(a);if(m<=0)y.delete(p.itemId);else{const g=p.remainingQuantity;y.set(p.itemId,Math.min(m,g))}s(y)},u=p=>{const m=new Map(a);m.has(p.itemId)?m.delete(p.itemId):m.set(p.itemId,p.remainingQuantity),s(m)},A=()=>{const p=r.items.filter(m=>a.has(m.itemId)).map(m=>({itemId:m.itemId,itemName:m.itemName,quantityToReturn:a.get(m.itemId)||0}));p.length!==0&&(n({checkoutId:r.id,items:p,notes:i}),s(new Map),l(""))},h=Array.from(a.values()).reduce((p,m)=>p+m,0);return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Partial Return"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.purpose||"Untitled Checkout"})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Select items to return:"}),o.jsx("div",{className:"space-y-2",children:r.items.map(p=>o.jsx("div",{className:`border rounded-lg p-4 transition-colors ${a.has(p.itemId)?"border-primary-300 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>u(p),className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${a.has(p.itemId)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:a.has(p.itemId)&&o.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:p.itemName}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Barcode: ",p.barcode]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Available"}),o.jsxs("p",{className:"font-medium text-gray-900",children:[p.remainingQuantity," of ",p.quantity]})]}),a.has(p.itemId)&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>c(p,(a.get(p.itemId)||0)-1),className:"w-8 h-8 rounded border border-gray-300 flex items-center justify-center hover:bg-gray-50",disabled:(a.get(p.itemId)||0)<=1,children:"-"}),o.jsx("span",{className:"w-12 text-center font-medium",children:a.get(p.itemId)}),o.jsx("button",{onClick:()=>c(p,(a.get(p.itemId)||0)+1),className:"w-8 h-8 rounded border border-gray-300 flex items-center justify-center hover:bg-gray-50",disabled:(a.get(p.itemId)||0)>=p.remainingQuantity,children:"+"})]})]})]})},p.itemId))}),o.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Notes"}),o.jsx("textarea",{rows:3,placeholder:"Optional notes about the return...",value:i,onChange:p=>l(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),h>0&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[o.jsx(ls,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Returning ",h," item",h>1?"s":""]}),o.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Remaining items will stay checked out"})]})]})]})}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:A,disabled:h===0,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[o.jsx(zee,{className:"w-4 h-4"}),"Confirm Return (",h," items)"]})]})]})})};function _Be({isOpen:r,onClose:e,masterBarcode:t,itemCount:n,expectedReturnDate:a,purpose:s,engineerName:i,location:l,items:c}){if(!r)return null;const u=()=>{const A=window.open("","_blank","width=800,height=600");if(!A)return;const h=new Date().toLocaleDateString(),p=a?new Date(a).toLocaleDateString():"Not set",m=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Checkout Receipt - ${s||"Equipment Checkout"}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 40px; }
          .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
          .header h1 { margin: 0; color: #333; }
          .header p { margin: 5px 0; color: #666; }
          .section { margin-bottom: 20px; }
          .section h2 { color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
          .detail-row { display: flex; justify-content: space-between; margin: 8px 0; }
          .detail-label { font-weight: bold; color: #555; }
          .detail-value { color: #333; }
          table { width: 100%; border-collapse: collapse; margin-top: 10px; }
          th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
          th { background-color: #f5f5f5; font-weight: bold; }
          .footer { margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center; color: #666; font-size: 12px; }
          @media print { body { margin: 20px; } }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>MyCAE Equipment Checkout</h1>
          <p>Receipt / Packing List</p>
        </div>

        <div class="section">
          <h2>Checkout Details</h2>
          <div class="detail-row">
            <span class="detail-label">Date:</span>
            <span class="detail-value">${h}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Project:</span>
            <span class="detail-value">${s||"N/A"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Checked Out By:</span>
            <span class="detail-value">${i||"N/A"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Location:</span>
            <span class="detail-value">${l||"N/A"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Expected Return:</span>
            <span class="detail-value">${p}</span>
          </div>
        </div>

        <div class="section">
          <h2>Items</h2>
          <table>
            <thead>
              <tr>
                <th>Item</th>
                <th>SKU</th>
                <th>Quantity</th>
              </tr>
            </thead>
            <tbody>
              ${c?.map(y=>`
                <tr>
                  <td>${y.title}</td>
                  <td>${y.sku}</td>
                  <td>${y.quantity}</td>
                </tr>
              `).join("")||`<tr><td colspan="3">${n} items checked out</td></tr>`}
            </tbody>
          </table>
          <p style="margin-top: 15px; text-align: right; font-weight: bold;">
            Total Items: ${n}
          </p>
        </div>

        <div class="footer">
          <p>Keep this receipt for your records.</p>
          <p>Generated on ${new Date().toLocaleString()}</p>
        </div>

        <script>
          window.onload = function() {
            window.print();
            setTimeout(function() {
              window.close();
            }, 1000);
          };
        <\/script>
      </body>
      </html>
    `;A.document.write(m),A.document.close()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(za,{className:"w-6 h-6 text-green-600"})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Checkout Successful!"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsxs("p",{className:"text-sm text-green-800",children:[n," ",n===1?"item has":"items have"," been successfully checked out."]})}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Checkout Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[s&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Project:"}),o.jsx("span",{className:"font-medium text-gray-900",children:s})]}),i&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Checked Out By:"}),o.jsx("span",{className:"font-medium text-gray-900",children:i})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Items checked out:"}),o.jsx("span",{className:"font-medium text-gray-900",children:n})]}),a&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Expected return:"}),o.jsx("span",{className:"font-medium text-gray-900",children:new Date(a).toLocaleDateString()})]})]})]}),o.jsxs(Ut,{variant:"outline",onClick:u,className:"w-full",children:[o.jsx(o7,{className:"w-4 h-4 mr-2"}),"Print Receipt"]}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-yellow-800 font-medium mb-1",children:" Important"}),o.jsx("p",{className:"text-xs text-yellow-700",children:'You can find this checkout in "My Active Checkouts" on the dashboard. Use the return buttons to check items back in.'})]})]}),o.jsx("div",{className:"flex justify-end gap-3 p-6 border-t",children:o.jsx(Ut,{onClick:e,children:"Done"})})]})})}const TBe=()=>{const{filteredCheckouts:r,fetchCheckouts:e,setFilters:t,loading:n}=AV(),{items:a,fetchInventory:s,loading:i}=Pv(),{isMobile:l}=xC(),c=_o(),[u,A]=B.useState("transactions"),[h,p]=B.useState(""),[m,y]=B.useState("all"),[g,v]=B.useState("purpose"),[b,N]=B.useState("asc"),[C,E]=B.useState(""),[_,P]=B.useState("all"),[O,D]=B.useState("location"),[k,H]=B.useState("asc"),[L,Q]=B.useState(!1),[R,K]=B.useState("select"),[ee,X]=B.useState([]),[ae,Y]=B.useState(!1),[de,pe]=B.useState(null),[Z,I]=B.useState(!1),[z,V]=B.useState(null),q=n||i;B.useEffect(()=>{e(),s()},[]),B.useEffect(()=>{u==="locations"&&(s(),e())},[u]),B.useEffect(()=>{t({userId:void 0,status:m==="all"?void 0:m,search:h,showMyCheckoutsFirst:!1})},[m,h]);const ne=B.useMemo(()=>{const De=[];return r.filter(it=>it.status==="active"||it.status==="partial-return"||it.status==="overdue").forEach(it=>{it.items.filter(wt=>wt.returnStatus==="checked-out").forEach(wt=>{const Bt=it.purpose||it.checkedOutBy;let Ee=De.find(ot=>ot.location===Bt&&ot.checkedOutByEmail===it.checkedOutByEmail);Ee||(Ee={location:Bt,totalItems:0,uniqueEquipment:0,checkedOutBy:it.checkedOutBy,checkedOutByEmail:it.checkedOutByEmail,checkoutDate:it.checkedOutDate,expectedReturn:it.expectedReturnDate,items:[]},De.push(Ee)),Ee.totalItems+=wt.remainingQuantity,Ee.uniqueEquipment+=1,Ee.items.push({itemName:wt.itemName,quantity:wt.remainingQuantity,barcode:wt.barcode})})}),De},[r]),ce=B.useMemo(()=>{let De=[...ne];if(C){const it=C.toLowerCase();De=De.filter(wt=>wt.location.toLowerCase().includes(it)||wt.checkedOutBy.toLowerCase().includes(it)||wt.items.some(Bt=>Bt.itemName.toLowerCase().includes(it)))}return De.sort((it,wt)=>{const Bt=ct=>{switch(O){case"location":return ct.location.toLowerCase();case"checkedOutBy":return ct.checkedOutBy.toLowerCase();case"totalItems":return ct.totalItems;case"uniqueEquipment":return ct.uniqueEquipment;case"checkoutDate":return new Date(ct.checkoutDate).getTime();case"expectedReturn":return ct.expectedReturn?new Date(ct.expectedReturn).getTime():0;default:return ct.location.toLowerCase()}},Ee=Bt(it),ot=Bt(wt);if(typeof Ee=="string"&&typeof ot=="string")return k==="asc"?Ee.localeCompare(ot):ot.localeCompare(Ee);{const ct=typeof Ee=="number"?Ee:0,Zt=typeof ot=="number"?ot:0;return k==="asc"?ct-Zt:Zt-ct}})},[ne,C,O,k]),Be=B.useMemo(()=>{const De=ne.reduce((ct,Zt)=>ct+Zt.totalItems,0),it=ne.length,wt=new Set(ne.map(ct=>ct.checkedOutByEmail)).size,Bt=Array.isArray(a)?a.reduce((ct,Zt)=>ct+Zt.quantity,0):0,Ee=r.filter(ct=>ct.status==="received").length,ot=r.filter(ct=>ct.status!=="received").length;return{totalEquipmentOut:De,totalLocations:it,uniqueUsers:wt,totalInWarehouse:Bt-De+Ee,totalCheckouts:ot}},[ne,a,r]),Ae=De=>{switch(De){case"active":return o.jsx(Un,{variant:"success",children:"Active"});case"partial-return":return o.jsx(Un,{variant:"warning",children:"Partial Return"});case"overdue":return o.jsx(Un,{variant:"danger",children:"Overdue"});case"fully-returned":return o.jsx(Un,{variant:"default",children:"Returned"});case"received":return o.jsx(Un,{className:"bg-green-100 text-green-800 border-green-200",children:"Received"});default:return null}},ye=De=>{if(!De)return null;const it=new Date,Bt=new Date(De).getTime()-it.getTime(),Ee=Math.ceil(Bt/(1e3*60*60*24));return Ee<0?{text:`${Math.abs(Ee)} days overdue`,className:"text-red-600"}:Ee===0?{text:"Due today",className:"text-orange-600"}:Ee===1?{text:"Due tomorrow",className:"text-gray-600"}:{text:`Due in ${Ee} days`,className:"text-gray-600"}},Pe=De=>De?new Date(De)<new Date:!1;B.useCallback(De=>{g===De?N(it=>it==="asc"?"desc":"asc"):(v(De),N("asc"))},[g]);const je=B.useCallback(De=>{O===De?H(it=>it==="asc"?"desc":"asc"):(D(De),H("asc"))},[O]),Se=De=>O!==De?o.jsx(Vp,{className:"w-4 h-4 ml-1 inline-block"}):k==="asc"?o.jsx(_0,{className:"w-4 h-4 ml-1 inline-block"}):o.jsx(Kl,{className:"w-4 h-4 ml-1 inline-block"}),Te=B.useMemo(()=>[...r].sort((De,it)=>{const wt=ot=>{switch(g){case"checkedOutBy":return ot.checkedOutBy.toLowerCase();case"purpose":return(ot.purpose||"").toLowerCase();case"items":return ot.totalItems||0;case"dueDate":return ot.expectedReturnDate?new Date(ot.expectedReturnDate).getTime():0;case"status":return{active:0,"partial-return":1,overdue:2,"fully-returned":3}[ot.status]??4;default:return(ot.purpose||"").toLowerCase()}},Bt=wt(De),Ee=wt(it);return typeof Bt=="string"&&typeof Ee=="string"?b==="asc"?Bt.localeCompare(Ee):Ee.localeCompare(Bt):b==="asc"?Bt-Ee:Ee-Bt}),[r,g,b]),J=()=>{Q(!0),K("select"),X([])},Le=()=>{Q(!1),K("select"),X([])},He=async De=>{try{const wt=`CHK-${Date.now()}`,Bt=ee.map(ct=>({barcode:ct.barcode||ct.sku,quantity:ct.quantity})),Ee={masterBarcode:wt,items:Bt,checkedOutBy:De.engineerName,checkedOutDate:new Date().toISOString(),expectedReturnDate:De.expectedReturnDate||new Date(Date.now()+10080*60*1e3).toISOString(),purpose:De.purpose,notes:De.notes},ot=await On.createBulkCheckout(Ee);V({masterBarcode:ot.masterBarcode,itemCount:ee.length,expectedReturnDate:De.expectedReturnDate,purpose:De.purpose,engineerName:De.engineerName,location:De.location,items:ee.map(ct=>({id:ct.id,title:ct.title,sku:ct.sku,quantity:ct.quantity||1}))}),Q(!1),K("select"),X([]),I(!0),await e()}catch(it){console.error("Checkout failed:",it),xe.error("Failed to checkout items: "+(it.message||"Unknown error"))}},Je=async De=>{try{const it=r.find(wt=>wt.id===De);if(!it){xe.error("Checkout not found");return}await On.checkInBulk({masterBarcode:it.masterBarcode,returnType:"full",items:it.items.filter(wt=>wt.returnStatus==="checked-out").map(wt=>({itemId:wt.itemId,quantityToReturn:wt.remainingQuantity}))}),xe.success("All items returned successfully!"),await e()}catch(it){xe.error(it?.response?.data?.error||"Failed to return items")}},at=De=>{pe(De),Y(!0)},ze=async De=>{try{if(!de)return;await On.checkInBulk({masterBarcode:de.masterBarcode,returnType:"partial",items:De.items.map(it=>({itemId:it.itemId,quantityToReturn:it.quantityToReturn})),notes:De.notes}),xe.success("Items returned successfully!"),Y(!1),pe(null),await e()}catch(it){xe.error(it?.response?.data?.error||"Failed to return items")}},mt=De=>{const it=window.open("","_blank","width=800,height=600");if(!it){xe.error("Unable to open print window. Please check your popup settings.");return}const wt=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Checkout Receipt - ${De.purpose||"Equipment Checkout"}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 40px; }
          .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
          .header h1 { margin: 0; color: #333; }
          .header p { margin: 5px 0; color: #666; }
          .section { margin-bottom: 20px; }
          .section h2 { color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
          .detail-row { display: flex; justify-content: space-between; margin: 8px 0; }
          .detail-label { font-weight: bold; color: #555; }
          .detail-value { color: #333; }
          table { width: 100%; border-collapse: collapse; margin-top: 10px; }
          th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
          th { background-color: #f5f5f5; font-weight: bold; }
          .footer { margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center; color: #666; font-size: 12px; }
          @media print { body { margin: 20px; } }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>MyCAE Equipment Checkout</h1>
          <p>Receipt / Packing List</p>
        </div>

        <div class="section">
          <h2>Checkout Details</h2>
          <div class="detail-row">
            <span class="detail-label">Date:</span>
            <span class="detail-value">${new Date(De.checkedOutDate).toLocaleDateString()}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Project:</span>
            <span class="detail-value">${De.purpose||"N/A"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Checked Out By:</span>
            <span class="detail-value">${De.checkedOutBy}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Expected Return:</span>
            <span class="detail-value">${De.expectedReturnDate?new Date(De.expectedReturnDate).toLocaleDateString():"Not set"}</span>
          </div>
        </div>

        <div class="section">
          <h2>Items</h2>
          <table>
            <thead>
              <tr>
                <th>Item</th>
                <th>SKU</th>
                <th>Quantity</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              ${De.items.map(Bt=>`
                <tr>
                  <td>${Bt.itemName}</td>
                  <td>${Bt.barcode}</td>
                  <td>${Bt.quantity}</td>
                  <td>${Bt.returnStatus==="checked-out"?"Checked Out":"Returned"}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
          <p style="margin-top: 15px; text-align: right; font-weight: bold;">
            Total Items: ${De.totalItems}
          </p>
        </div>

        <div class="footer">
          <p>Keep this receipt for your records.</p>
          <p>Generated on ${new Date().toLocaleString()}</p>
        </div>

        <script>
          window.onload = function() {
            window.print();
            // Close window after print dialog (with delay to allow printing)
            setTimeout(function() {
              window.close();
            }, 1000);
          };
        <\/script>
      </body>
      </html>
    `;it.document.write(wt),it.document.close()},{teamMembers:Et,fetchTeamMembers:Me}=fo();B.useEffect(()=>{Me({status:"active"})},[Me]);const vt=B.useMemo(()=>Et.map(De=>({id:De.id,name:De.name,email:De.email})),[Et]);return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Equipment Management"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage checkouts and track equipment locations"})]})})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center",children:o.jsx(Eo,{className:"w-6 h-6 text-primary-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Equipment Out"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Be.totalEquipmentOut})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:o.jsx(Xh,{className:"w-6 h-6 text-green-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active Locations"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Be.totalLocations})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:o.jsx($l,{className:"w-6 h-6 text-purple-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Users"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Be.uniqueUsers})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:o.jsx(hZ,{className:"w-6 h-6 text-blue-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Office Storage"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Be.totalInWarehouse})]}),o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:o.jsx(cC,{className:"w-6 h-6 text-orange-600"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Checkouts"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Be.totalCheckouts})]})]}),o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between px-4 md:px-6",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>A("transactions"),className:`px-4 py-4 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${u==="transactions"?"border-primary-600 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[o.jsx(ho,{className:"w-4 h-4 inline mr-2"}),"Transactions"]}),o.jsxs("button",{onClick:()=>A("locations"),className:`px-4 py-4 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${u==="locations"?"border-primary-600 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[o.jsx(c0,{className:"w-4 h-4 inline mr-2"}),"Locations"]})]}),o.jsxs("button",{onClick:J,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2 font-medium text-sm",children:[o.jsx(ei,{className:"w-4 h-4"}),"New Checkout"]})]})}),u==="transactions"&&o.jsxs("div",{className:"space-y-4 pt-6",children:[o.jsx("div",{className:"px-4 md:px-6 space-y-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[o.jsx("div",{className:"flex-1",children:o.jsx(Zs,{placeholder:"Search by barcode, purpose, or items...",icon:o.jsx(Do,{className:"w-4 h-4"}),value:h,onChange:De=>p(De.target.value),fullWidth:!0})}),o.jsxs("select",{value:m,onChange:De=>y(De.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"partial-return",children:"Partial Return"}),o.jsx("option",{value:"overdue",children:"Overdue"}),o.jsx("option",{value:"fully-returned",children:"Returned"})]})]})}),q&&o.jsx("div",{className:"flex justify-center items-center py-12 px-6",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!q&&Te.length===0&&o.jsxs("div",{className:"text-center py-12 px-4 md:px-6",children:[o.jsx(Eo,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No checkouts found"})]}),!q&&Te.length>0&&l&&o.jsx("div",{className:"space-y-3 px-4 md:px-6",children:Te.map(De=>{const it=ye(De.expectedReturnDate),wt=De.checkedOutByEmail===c.email;return o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"font-semibold text-gray-900",children:De.purpose||"Untitled Checkout"})}),Ae(De.status)]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Checked Out By"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:wt?"You":De.checkedOutBy})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Items"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:De.status==="partial-return"?`${De.remainingItems}/${De.totalItems} out`:`${De.totalItems} items`})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Checkout Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(De.checkedOutDate).toLocaleDateString()})]}),it&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Due Date"}),o.jsx("p",{className:`text-sm font-medium ${it.className}`,children:it.text})]})]}),(De.status==="active"||De.status==="partial-return"||De.status==="overdue")&&wt&&o.jsx("div",{className:"pt-3 border-t border-gray-100",children:o.jsx(Ut,{size:"sm",fullWidth:!0,variant:"outline",children:"Check-In Items"})})]},De.id)})}),!q&&Te.length>0&&!l&&o.jsx("div",{className:"px-4 md:px-6",children:o.jsx(EBe,{checkouts:Te.filter(De=>De.status!=="received"),onReturnAll:Je,onPartialReturn:at,onPrintReceipt:mt,loading:q})}),!q&&Te.filter(De=>De.status==="received").length>0&&o.jsxs("div",{className:"px-4 md:px-6 mt-8",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Eo,{className:"w-5 h-5 text-green-600"}),"Recently Received Items"]}),o.jsx("div",{className:"space-y-3",children:Te.filter(De=>De.status==="received").map(De=>o.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(Eo,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:De.purpose}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(De.checkedOutDate).toLocaleDateString()})]})]}),o.jsx(Un,{className:"bg-green-100 text-green-800 border-green-200",children:"Received"})]},De.id))})]})]}),u==="locations"&&o.jsxs("div",{className:"space-y-4 pt-6",children:[o.jsx("div",{className:"px-4 md:px-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[o.jsx("div",{className:"flex-1",children:o.jsx(Zs,{placeholder:"Search by location, person, or equipment...",icon:o.jsx(Do,{className:"w-4 h-4"}),value:C,onChange:De=>E(De.target.value),fullWidth:!0})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>P("all"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${_==="all"?"bg-primary-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"All"}),o.jsx("button",{onClick:()=>P("person"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${_==="person"?"bg-primary-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"By Person"}),o.jsx("button",{onClick:()=>P("site"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${_==="site"?"bg-primary-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"By Site"})]})]})}),q&&o.jsx("div",{className:"flex justify-center items-center py-12 px-4 md:px-6",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!q&&ce.length===0&&o.jsxs("div",{className:"text-center py-12 px-4 md:px-6",children:[o.jsx(c0,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No equipment at locations"})]}),!q&&ce.length>0&&l&&o.jsx("div",{className:"space-y-4 px-4 md:px-6",children:ce.map((De,it)=>o.jsxs(Vr,{variant:"bordered",padding:"md",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(c0,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:De.location}),o.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:De.checkedOutBy})]})]}),Pe(De.expectedReturn)&&o.jsx(Un,{variant:"danger",children:"Overdue"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Items Out"}),o.jsx("p",{className:"font-semibold text-gray-900",children:De.totalItems})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Types"}),o.jsx("p",{className:"font-semibold text-gray-900",children:De.uniqueEquipment})]})]}),De.items.length>0&&o.jsxs("div",{className:"border-t border-gray-100 pt-3",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Equipment:"}),o.jsxs("div",{className:"space-y-1 text-xs",children:[De.items.slice(0,3).map((wt,Bt)=>o.jsxs("p",{className:"text-gray-600",children:[" ",wt.itemName," (",wt.quantity,"x)"]},Bt)),De.items.length>3&&o.jsxs("p",{className:"text-gray-500 italic",children:["+",De.items.length-3," more"]})]})]})]},it))}),!q&&ce.length>0&&!l&&o.jsx("div",{className:"px-4 md:px-6",children:o.jsx(Vr,{variant:"bordered",padding:"none",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>je("location"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Location ",Se("location")]}),o.jsxs("th",{onClick:()=>je("checkedOutBy"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Checked Out By ",Se("checkedOutBy")]}),o.jsxs("th",{onClick:()=>je("totalItems"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Items ",Se("totalItems")]}),o.jsxs("th",{onClick:()=>je("uniqueEquipment"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Types ",Se("uniqueEquipment")]}),o.jsxs("th",{onClick:()=>je("checkoutDate"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Checkout Date ",Se("checkoutDate")]}),o.jsxs("th",{onClick:()=>je("expectedReturn"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 transition-colors",children:["Expected Return ",Se("expectedReturn")]})]})}),o.jsx("tbody",{children:ce.map((De,it)=>o.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(c0,{className:"w-4 h-4 text-gray-400"}),o.jsx("p",{className:"font-medium text-gray-900",children:De.location})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:De.checkedOutBy})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm font-semibold text-gray-900",children:De.totalItems})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:De.uniqueEquipment})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"text-sm text-gray-900",children:new Date(De.checkoutDate).toLocaleDateString()})}),o.jsx("td",{className:"px-6 py-4",children:De.expectedReturn?o.jsx("p",{className:`text-sm font-medium ${Pe(De.expectedReturn)?"text-red-600":"text-gray-900"}`,children:new Date(De.expectedReturn).toLocaleDateString()}):o.jsx("p",{className:"text-sm text-gray-500",children:"-"})})]},it))})]})})})})]}),L&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:R==="select"?"Select Items":"Review Checkout"}),o.jsx("button",{onClick:Le,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:R==="select"?o.jsx(SBe,{items:a,selectedItems:ee,onSelectItems:X,onClose:()=>K("review")}):o.jsx(BBe,{selectedItems:ee,onRemoveItem:De=>{X(ee.filter(it=>it.id!==De))},onCheckout:He,onCancel:()=>K("select"),teamMembers:vt})})]})}),o.jsx(jBe,{checkout:de,isOpen:ae,onClose:()=>{Y(!1),pe(null)},onConfirm:ze}),z&&o.jsx(_Be,{isOpen:Z,onClose:()=>{I(!1),V(null)},masterBarcode:z.masterBarcode,itemCount:z.itemCount,expectedReturnDate:z.expectedReturnDate,purpose:z.purpose,engineerName:z.engineerName,location:z.location,items:z.items})]})})},f4=ws.forwardRef(({isLoading:r=!1,loadingText:e,children:t,disabled:n,icon:a,...s},i)=>o.jsx(Ut,{ref:i,disabled:n||r,icon:r?o.jsx(i7,{className:"w-4 h-4 animate-spin"}):a,...s,children:r?e||"Loading...":t}));f4.displayName="LoadingButton";const kBe=({onClose:r,onAdd:e,isLoading:t=!1})=>{const[n,a]=B.useState({name:"",location:"",status:"available"}),s=i=>{i.preventDefault();const l={assetTag:n.name,deviceName:n.name,computerType:"laptop",location:n.location};e(l)};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:r}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(v_,{className:"w-6 h-6 text-primary-600"}),"Add New PC"]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Register a new computer"})]}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:s,className:"p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"PC Name *"}),o.jsx("input",{type:"text",required:!0,value:n.name,onChange:i=>a({...n,name:i.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"e.g., PC1, PC2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),o.jsx("input",{type:"text",value:n.location,onChange:i=>a({...n,location:i.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"e.g., Office Floor 2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{value:n.status,onChange:i=>a({...n,status:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"available",children:"Available"}),o.jsx("option",{value:"maintenance",children:"Maintenance"})]})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 border-t border-gray-200 pt-6",children:[o.jsx(f4,{type:"button",variant:"secondary",fullWidth:!0,onClick:r,children:"Cancel"}),o.jsx(f4,{type:"submit",variant:"primary",fullWidth:!0,isLoading:t,loadingText:"Adding PC...",children:"Add PC"})]})]})]})})]})},FBe=[{name:"Ansys",licenses:[{name:"Mechanical Enterprise",count:1},{name:"Mechanical Premium",count:1},{name:"CFD Enterprise",count:1},{name:"Discovery License",count:2},{name:"HPC",count:1}]},{name:"Solidworks",licenses:[{name:"Standard",count:2},{name:"Premium 2020 (n-locked)",count:1,lockedTo:"PC5"},{name:"2016 (locked)",count:1,lockedTo:"PC9"}]},{name:"BIMHVAC Tool",licenses:[{name:"Reseller Demo",count:1},{name:"Standard",count:1}]}],fV=({selectedSoftware:r,onSelectionChange:e})=>{const t=n=>{const a=r.includes(n)?r.filter(s=>s!==n):[...r,n];e(a)};return o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Software Used"}),o.jsx("div",{className:"space-y-4",children:FBe.map(n=>o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:n.name}),o.jsx("div",{className:"pl-4 mt-2 space-y-2",children:n.licenses.map(a=>{const s=`${n.name} - ${a.name}`;return o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:s,checked:r.includes(s),onChange:()=>t(s),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsxs("label",{htmlFor:s,className:"ml-3 text-sm text-gray-600",children:[a.name," (",a.count," license",a.count>1?"s":"",")",a.lockedTo&&o.jsxs("span",{className:"text-xs text-red-500 ml-2",children:["(Locked to ",a.lockedTo,")"]})]})]},s)})})]},n.name))})]})},OBe=({pc:r,currentUser:e,onClose:t,onAssign:n})=>{const[a,s]=B.useState({assignedTo:e?.displayName||"",assignedToEmail:e?.email||"",notes:""}),[i,l]=B.useState([]),c=u=>{u.preventDefault(),n(a.assignedTo,a.assignedToEmail,a.notes,i)};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(Ny,{className:"w-6 h-6 text-primary-600"}),"Assign ",r.name]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Assign this PC to an engineer"})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:c,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned To *"}),o.jsx("input",{type:"text",required:!0,value:a.assignedTo,onChange:u=>s({...a,assignedTo:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Staff name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:a.assignedToEmail,onChange:u=>s({...a,assignedToEmail:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"staff@email.com"})]}),o.jsx(fV,{selectedSoftware:i,onSelectionChange:l}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),o.jsx("textarea",{value:a.notes,onChange:u=>s({...a,notes:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3,placeholder:"Any additional notes..."})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 border-t border-gray-200 pt-6",children:[o.jsx(Ut,{type:"button",variant:"secondary",fullWidth:!0,onClick:t,children:"Cancel"}),o.jsx(Ut,{type:"submit",variant:"primary",fullWidth:!0,children:"Assign PC"})]})]})]})})]})},DBe=({pc:r,onClose:e,onEdit:t})=>{const[n,a]=B.useState({name:r.name,location:r.location,notes:r.notes||""}),[s,i]=B.useState(r.softwareUsed||[]),l=c=>{c.preventDefault(),t({name:n.name,location:n.location,notes:n.notes,softwareUsed:s})};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(Oo,{className:"w-6 h-6 text-primary-600"}),"Edit ",r.name]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Update PC properties"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:l,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PC Name *"}),o.jsx("input",{type:"text",required:!0,value:n.name,onChange:c=>a({...n,name:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., PC1, PC2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),o.jsx("input",{type:"text",value:n.location,onChange:c=>a({...n,location:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Office Floor 2"})]}),o.jsx(fV,{selectedSoftware:s,onSelectionChange:i}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),o.jsx("textarea",{value:n.notes,onChange:c=>a({...n,notes:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Any additional notes..."})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6 border-t border-gray-200 pt-6",children:[o.jsx(Ut,{type:"button",variant:"secondary",fullWidth:!0,onClick:e,children:"Cancel"}),o.jsx(Ut,{type:"submit",variant:"primary",fullWidth:!0,children:"Save Changes"})]})]})]})})]})},PBe=({isOpen:r,onClose:e,items:t,triggerClassName:n})=>{const a=B.useRef(null);return B.useEffect(()=>{const s=l=>{a.current&&!a.current.contains(l.target)&&e()},i=l=>{l.key==="Escape"&&e()};return document.addEventListener("mousedown",s),document.addEventListener("keydown",i),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("keydown",i)}},[r,e]),r?o.jsx("div",{ref:a,className:"relative",children:o.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:o.jsx("div",{className:"py-1",children:t.map((s,i)=>o.jsxs("button",{onClick:()=>{s.onClick(),e()},className:Cr("w-full px-4 py-2.5 text-left text-sm flex items-center gap-3 transition-colors",s.variant==="danger"?"text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[o.jsx("span",{className:"w-4 h-4",children:s.icon}),o.jsx("span",{children:s.label})]},i))})})}):null},IBe=({isOpen:r,onClick:e,className:t})=>o.jsx("button",{onClick:e,className:Cr("text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-400 transition-colors p-1",t),"aria-label":"More options","aria-expanded":r,children:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"2",cy:"10",r:"1.5",fill:"currentColor"}),o.jsx("circle",{cx:"10",cy:"10",r:"1.5",fill:"currentColor"}),o.jsx("circle",{cx:"2",cy:"10",r:"1.5",fill:"currentColor"}),o.jsx("circle",{cx:"10",cy:"10",r:"1.5",fill:"currentColor"})]})}),LBe=()=>{const{pcs:r,fetchPCs:e,addPC:t,assignPC:n,releasePC:a,deletePC:s,updatePC:i,setMaintenanceStatus:l}=hV(),[c,u]=B.useState(!1),[A,h]=B.useState(!1),[p,m]=B.useState(!1),[y,g]=B.useState(null),[v,b]=B.useState(null),[N]=B.useState(_o());B.useEffect(()=>{e()},[e]);const C=R=>{g(R),h(!0)},E=R=>{g(R),m(!0)},_=R=>{confirm("Are you sure you want to release this PC?")&&a(R)},P=R=>{confirm("Are you sure you want to delete this PC?")&&s(R)},O=async(R,K)=>{try{await l(R,K)}catch(ee){console.error("Failed to update maintenance status:",ee)}},D=(R,K)=>{let ee;return K?ee="End maintenance for this PC?":R.status==="assigned"&&R.assignedTo?ee=`Mark this PC for maintenance? This will unassign ${R.assignedTo}.`:ee="Mark this PC for maintenance?",confirm(ee)},k=B.useMemo(()=>[...r].sort((R,K)=>{const ee=R.name.match(/^PC(\d+)$/),X=K.name.match(/^PC(\d+)$/);if(ee&&X){const ae=parseInt(ee[1]),Y=parseInt(X[1]);return ae-Y}return R.name.localeCompare(K.name)}),[r]),H={total:r.length,available:r.filter(R=>R.status==="available").length,assigned:r.filter(R=>R.status==="assigned").length,maintenance:r.filter(R=>R.status==="maintenance").length},L=N&&ol(N.role||"engineer","canAddOrRemovePC"),Q=N&&ol(N.role||"engineer","canAssignPC");return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"PC Assignment Tracking"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Track which engineers are using company PCs"})]}),L&&o.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(ei,{className:"w-4 h-4"}),"Add New PC"]})]})}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Total PCs"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:H.total})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Available"}),o.jsx("div",{className:"text-3xl font-bold text-green-600 mt-2",children:H.available})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Assigned"}),o.jsx("div",{className:"text-3xl font-bold text-blue-600 mt-2",children:H.assigned})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Maintenance"}),o.jsx("div",{className:"text-3xl font-bold text-yellow-600 mt-2",children:H.maintenance})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(R=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-shadow relative",children:[L&&o.jsxs("div",{className:"absolute top-4 right-4 z-10",children:[o.jsx(IBe,{isOpen:v===R.id,onClick:()=>b(v===R.id?null:R.id)}),o.jsx(PBe,{isOpen:v===R.id,onClose:()=>b(null),items:[{icon:o.jsx(Oo,{className:"w-4 h-4"}),label:"Edit PC",onClick:()=>E(R)},{icon:o.jsx(Cs,{className:"w-4 h-4"}),label:"Delete PC",onClick:()=>P(R.id),variant:"danger"},...R.status==="maintenance"?[{icon:o.jsx(qp,{className:"w-4 h-4"}),label:"End Maintenance",onClick:()=>{D(R,!1)&&O(R.id,!1)}}]:[{icon:o.jsx(qp,{className:"w-4 h-4"}),label:"Mark for Maintenance",onClick:()=>{D(R,!0)&&O(R.id,!0)}}]]})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(v_,{className:`w-8 h-8 ${R.status==="available"?"text-green-600":R.status==="assigned"?"text-blue-600":"text-yellow-600"}`}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:R.name}),R.status==="available"&&o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded",children:"Available"}),R.status==="assigned"&&o.jsx("span",{className:"px-2 py-1 bg-primary-600 text-white text-xs font-medium rounded",children:"Assigned"}),R.status==="maintenance"&&o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded",children:"Maintenance"})]})]})}),R.status==="assigned"&&o.jsx("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-white font-semibold text-sm",children:R.assignedTo?R.assignedTo.charAt(0).toUpperCase():"?"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:R.assignedTo||"Unknown User"}),R.assignedToEmail&&o.jsx("p",{className:"text-sm text-gray-600 truncate",children:R.assignedToEmail})]})]})}),R.status==="assigned"&&R.softwareUsed&&R.softwareUsed.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Software"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:R.softwareUsed.map(K=>o.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:K},K))})]}),o.jsxs("div",{className:"space-y-2 mb-6",children:[o.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:o.jsx("span",{children:R.location})}),R.status==="assigned"&&R.assignedDate&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(ho,{className:"w-4 h-4"}),o.jsxs("span",{children:["Assigned ",new Date(R.assignedDate).toLocaleDateString()]})]}),R.notes&&o.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm text-gray-700",children:R.notes})]}),o.jsxs("div",{className:"flex gap-2",children:[R.status==="available"&&Q&&o.jsx("button",{onClick:()=>C(R),className:"flex-1 px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-lg hover:bg-primary-700 transition-colors",children:"Assign"}),R.status==="assigned"&&Q&&o.jsx("button",{onClick:()=>_(R.id),className:"flex-1 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors",children:"Release"}),R.status==="maintenance"&&L&&o.jsx("button",{onClick:()=>{D(R,!1)&&O(R.id,!1)},className:"flex-1 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:"Mark Available"})]})]})]},R.id))}),c&&o.jsx(kBe,{onClose:()=>u(!1),onAdd:R=>{t(R),u(!1),e()}}),A&&y&&o.jsx(OBe,{pc:y,currentUser:N,onClose:()=>{h(!1),g(null)},onAssign:async(R,K,ee,X)=>{const ae=N?.id||N?.userId;if(!ae){alert("Error: Unable to identify current user. Please log in again.");return}try{await n(y.id,ae,R,K,ee,X),h(!1),g(null),e()}catch(Y){const de=Y?.response?.data?.error||Y?.message||"Failed to assign PC";alert(`Assignment failed: ${de}`)}}}),p&&y&&o.jsx(DBe,{pc:y,onClose:()=>{m(!1),g(null)},onEdit:R=>{i(y.id,R),m(!1),g(null),e()}})]})})},mV=3500,MBe=8,pV=mV/MBe;function vb(r,e,t){if(e===0)return!0;const n=new Date(r),a=n.getFullYear(),s=n.getMonth()+1;return!(a!==e||t>0&&s!==t)}function RBe(r=0,e=0){const{projects:t,timesheets:n,fetchProjects:a,fetchTimesheets:s,loading:i}=os(),{teamMembers:l,fetchTeamMembers:c,loading:u}=fo(),[A,h]=B.useState([]),[p,m]=B.useState([]),[y,g]=B.useState([]),[v,b]=B.useState([]),[N,C]=B.useState({}),[E,_]=B.useState(!0),[P,O]=B.useState(null),D=B.useCallback(async()=>{_(!0),O(null);try{const[X,ae,Y,de]=await Promise.all([lr.getAllPurchaseOrders(),lr.getAllInvoices(),lr.getAllIssuedPOs(),lr.getAllReceivedInvoices(),a(),s(),c()]),pe=Array.isArray(X)?X:X?.data||X||[];h(pe),m(Array.isArray(ae)?ae:[]);const Z=Array.isArray(Y)?Y:Y?.data||[];g(Z);const I=Array.isArray(de)?de:de?.data||[];b(I);const z={},q=os.getState().projects.map(async ne=>{try{const ce=await as.getProjectHourlyRates(ne.id);z[ne.id]={},ce.forEach(Be=>{z[ne.id][Be.teamMemberId]=parseFloat(Be.hourlyRate)})}catch{}});await Promise.all(q),C(z)}catch(X){console.error("Failed to fetch finance data:",X),O(X?.message||"Failed to load finance data")}finally{_(!1)}},[a,s,c]);B.useEffect(()=>{D()},[D]);const k=B.useMemo(()=>A.filter(X=>vb(X.receivedDate,r,e)),[A,r,e]),H=B.useMemo(()=>p.filter(X=>vb(X.invoiceDate,r,e)),[p,r,e]),L=B.useMemo(()=>y.filter(X=>vb(X.issueDate,r,e)),[y,r,e]),Q=B.useMemo(()=>v.filter(X=>vb(X.invoiceDate,r,e)),[v,r,e]),R=B.useMemo(()=>UBe(t,k,H,L,Q,n,l),[t,k,H,L,Q,n,l,N]),K=B.useMemo(()=>QBe(R,k,H,L,Q),[R,k,H,L,Q]);return{projectSummaries:R,totals:K,loading:E||i||u,error:P,refetch:D}}function UBe(r,e,t,n,a,s,i,l){const c=Array.isArray(s)?s:[];return r.map(u=>{const A=[u.projectCode];!u.isVariationOrder&&u.variationOrders&&u.variationOrders.length>0&&u.variationOrders.forEach(K=>{A.push(K.projectCode)});const h=e.filter(K=>A.includes(K.projectCode)&&K.isActive),p=t.filter(K=>A.includes(K.projectCode)),m=h.reduce((K,ee)=>{let X;return ee.amountMyrAdjusted!==null&&ee.amountMyrAdjusted!==void 0?X=ee.amountMyrAdjusted:ee.amountMyr!==null&&ee.amountMyr!==void 0?X=ee.amountMyr:X=ee.amount,K+parseFloat((X||0).toString())},0),y=h.map(K=>{let ee;return K.amountMyrAdjusted!==null&&K.amountMyrAdjusted!==void 0?ee=K.amountMyrAdjusted:K.amountMyr!==null&&K.amountMyr!==void 0?ee=K.amountMyr:ee=K.amount,{amount:parseFloat(K.amount.toString()),currency:K.currency||"MYR",amountMyr:parseFloat((ee||0).toString())}}),g=p.reduce((K,ee)=>{const X=ee.amountMyr!==null&&ee.amountMyr!==void 0?ee.amountMyr:ee.amount;return K+parseFloat((X||0).toString())},0),v=p.map(K=>({amount:parseFloat(K.amount.toString()),currency:K.currency||"MYR",amountMyr:parseFloat((K.amountMyr!==null&&K.amountMyr!==void 0?K.amountMyr:K.amount||0).toString())})),b=m-g,N=n.filter(K=>A.includes(K.projectCode)),C=N.reduce((K,ee)=>K+parseFloat((ee.amount||0).toString()),0),E=N.map(K=>({amount:parseFloat(K.amount.toString()),currency:"MYR",amountMyr:parseFloat((K.amount||0).toString())})),_=a.filter(K=>n.find(X=>X.id===K.issuedPoId)?.projectCode===u.projectCode),P=_.reduce((K,ee)=>{const X=ee.amountMyr!==null&&ee.amountMyr!==void 0?ee.amountMyr:ee.amount;return K+parseFloat((X||0).toString())},0),O=_.map(K=>({amount:parseFloat(K.amount.toString()),currency:K.currency||"MYR",amountMyr:parseFloat((K.amountMyr!==null&&K.amountMyr!==void 0?K.amountMyr:K.amount||0).toString())})),D=c.filter(K=>K.projectId.toString()===u.id),k=D.reduce((K,ee)=>K+parseFloat(ee.hours.toString()||"0"),0),H={};D.forEach(K=>{const ee=K.engineerId.toString();if(!H[ee]){const X=i.find(ae=>ae.userId?.toString()===ee);H[ee]={hours:0,engineer:X}}H[ee].hours+=parseFloat(K.hours.toString()||"0")});const L=u.hourlyRate||pV,Q=Object.entries(H).map(([K,ee])=>{const X=ee.engineer;return{engineerId:K,engineerName:X?.name||"Unknown",role:X?.role||"engineer",hours:ee.hours,hourlyRate:L,totalCost:ee.hours*L}}),R=Q.reduce((K,ee)=>K+ee.totalCost,0);return{projectId:u.id,projectCode:u.projectCode,projectTitle:u.title,clientName:u.companyName||"Unknown Client",status:u.status,poReceived:m,invoiced:g,outstanding:b,poReceivedOriginal:y,invoicedOriginal:v,baseCost:R,actualHours:k,engineerBreakdown:Q,vendorPOsIssued:C,vendorInvoicesReceived:P,vendorPOsOriginal:E,vendorInvoicesOriginal:O,isParentProject:!u.isVariationOrder&&(u.variationOrders?.length||0)>0,voCount:u.variationOrders?.length||0}})}function QBe(r,e,t,n,a){const s=r.reduce((g,v)=>g+v.poReceived,0),i=r.reduce((g,v)=>g+v.invoiced,0),l=s-i,c=r.reduce((g,v)=>g+v.baseCost,0),u={};e.filter(g=>g.isActive).forEach(g=>{const v=g.currency||"MYR",b=parseFloat(g.amount.toString());u[v]=(u[v]||0)+b});const A={};t.forEach(g=>{const v=g.currency||"MYR",b=parseFloat(g.amount.toString());A[v]=(A[v]||0)+b});const h=r.reduce((g,v)=>g+v.vendorPOsIssued,0),p=r.reduce((g,v)=>g+v.vendorInvoicesReceived,0),m={};n.forEach(g=>{const v=g.currency||"MYR",b=parseFloat(g.amount.toString());m[v]=(m[v]||0)+b});const y={};return a.forEach(g=>{const v=g.currency||"MYR",b=parseFloat(g.amount.toString());y[v]=(y[v]||0)+b}),{totalPOReceived:s,totalInvoiced:i,totalOutstanding:l,totalBaseCost:c,poReceivedByCurrency:u,invoicedByCurrency:A,totalVendorPOsIssued:h,totalVendorInvoicesReceived:p,vendorPOsByCurrency:m,vendorInvoicesByCurrency:y}}function bb(r,e,t){if(e.length===0)return`RM ${r.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`;if(e.length===1){const{amount:s,currency:i}=e[0];return vw(s,i)}const n={};e.forEach(s=>{n[s.currency]=(n[s.currency]||0)+1});const a=Object.keys(n);if(a.length===1){const s=a[0],i=e.reduce((l,c)=>l+c.amount,0);return vw(i,s)}return e.map(s=>vw(s.amount,s.currency)).join(" + ")}function vw(r,e){return`${{MYR:"RM",USD:"US$",SGD:"S$",EUR:"",GBP:"",JPY:"",CNY:"",AUD:"A$",THB:"",IDR:"Rp"}[e]||e} ${r.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`}function wb(r,e,t){const n=Object.keys(e);return n.length===0?`RM ${r.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`:n.length===1&&n[0]==="MYR"?`RM ${r.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`:n.map(a=>vw(e[a],a)).join(`
`)}const HBe=({totals:r,showOriginalCurrency:e,loading:t=!1})=>{const n=s=>`RM ${s.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`,a=[{title:"PO Received",value:e?wb(r.totalPOReceived,r.poReceivedByCurrency):n(r.totalPOReceived),icon:$a,iconBg:"bg-green-100",iconColor:"text-green-600",subtitle:"Total purchase orders received"},{title:"Invoiced",value:e?wb(r.totalInvoiced,r.invoicedByCurrency):n(r.totalInvoiced),icon:l7,iconBg:"bg-blue-100",iconColor:"text-blue-600",subtitle:"Total amount invoiced"},{title:"Outstanding",value:n(r.totalOutstanding),icon:ho,iconBg:r.totalOutstanding>0?"bg-orange-100":"bg-gray-100",iconColor:r.totalOutstanding>0?"text-orange-600":"text-gray-600",subtitle:"Remaining to invoice"},{title:"Vendor POs Issued",value:e?wb(r.totalVendorPOsIssued,r.vendorPOsByCurrency):n(r.totalVendorPOsIssued),icon:d7,iconBg:"bg-indigo-100",iconColor:"text-indigo-600",subtitle:"Purchase orders to vendors"},{title:"Vendor Invoices",value:e?wb(r.totalVendorInvoicesReceived,r.vendorInvoicesByCurrency):n(r.totalVendorInvoicesReceived),icon:QZ,iconBg:"bg-teal-100",iconColor:"text-teal-600",subtitle:"Invoices received from vendors"},{title:"Base Cost",value:n(r.totalBaseCost),icon:Cu,iconBg:"bg-purple-100",iconColor:"text-purple-600",subtitle:`Base rate: RM ${mV.toLocaleString()}/day (RM ${pV.toFixed(2)}/hr)`}];return t?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[...Array(6)].map((s,i)=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 animate-pulse",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xl"})}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),o.jsx("div",{className:"h-8 bg-gray-200 rounded w-32 mb-2"}),o.jsx("div",{className:"h-3 bg-gray-100 rounded w-28"})]},i))}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:a.map(s=>{const i=s.icon,l=s.value.includes(`
`);return o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:`w-12 h-12 ${s.iconBg} rounded-xl flex items-center justify-center`,children:o.jsx(i,{className:`w-6 h-6 ${s.iconColor}`})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:s.title}),l?o.jsx("div",{className:"space-y-1",children:s.value.split(`
`).map((c,u)=>o.jsx("div",{className:"text-sm font-bold text-gray-900",children:c},u))}):o.jsx("div",{className:"text-xl lg:text-2xl font-bold text-gray-900 whitespace-nowrap",children:s.value}),o.jsx("div",{className:"text-xs text-gray-500 mt-2",children:s.subtitle})]},s.title)})})},zBe={engineer:"Engineer","senior-engineer":"Senior Engineer","principal-engineer":"Principal Engineer",manager:"Manager","managing-director":"Managing Director",admin:"Admin"},KBe=({engineers:r})=>{const{canViewBaseCost:e}=S3(),t=i=>`RM ${i.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`;if(r.length===0)return o.jsx("div",{className:"py-6 px-4",children:o.jsxs("div",{className:"flex items-center justify-center text-gray-500",children:[o.jsx($l,{className:"w-5 h-5 mr-2"}),o.jsx("span",{className:"text-sm",children:"No timesheets recorded for this project"})]})});const n=r.reduce((i,l)=>i+l.hours,0),a=r.reduce((i,l)=>i+l.totalCost,0),s=n>0?a/n:0;return o.jsxs("div",{className:"py-4 px-4 border-l-4 border-primary-200",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Engineer Breakdown"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("th",{className:"pb-2 text-left font-medium text-gray-600",children:"Engineer"}),o.jsx("th",{className:"pb-2 text-left font-medium text-gray-600",children:"Role"}),o.jsx("th",{className:"pb-2 text-right font-medium text-gray-600",children:"Hours"}),e&&o.jsxs(o.Fragment,{children:[o.jsx("th",{className:"pb-2 text-right font-medium text-gray-600",children:"Rate/hr"}),o.jsx("th",{className:"pb-2 text-right font-medium text-gray-600",children:"Cost"})]})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map(i=>o.jsxs("tr",{className:"hover:bg-gray-100/50",children:[o.jsx("td",{className:"py-2.5",children:o.jsx("span",{className:"font-medium text-gray-900",children:i.engineerName})}),o.jsx("td",{className:"py-2.5",children:o.jsx("span",{className:"text-gray-600",children:zBe[i.role]||i.role})}),o.jsx("td",{className:"py-2.5 text-right",children:o.jsxs("span",{className:"text-gray-900",children:[i.hours.toFixed(1)," hrs"]})}),e&&o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"py-2.5 text-right",children:o.jsx("span",{className:"text-gray-600",children:t(i.hourlyRate)})}),o.jsx("td",{className:"py-2.5 text-right",children:o.jsx("span",{className:"font-medium text-gray-900",children:t(i.totalCost)})})]})]},i.engineerId))}),o.jsx("tfoot",{children:o.jsxs("tr",{className:"border-t-2 border-gray-200 bg-gray-50/50",children:[o.jsx("td",{className:"py-2.5 font-semibold text-gray-900",children:"Total"}),o.jsx("td",{className:"py-2.5"}),o.jsxs("td",{className:"py-2.5 text-right font-semibold text-gray-900",children:[n.toFixed(1)," hrs"]}),e&&o.jsxs(o.Fragment,{children:[o.jsxs("td",{className:"py-2.5 text-right text-gray-600",children:["Avg: ",t(s)]}),o.jsx("td",{className:"py-2.5 text-right font-semibold text-gray-900",children:t(a)})]})]})})]})})]})},$Be={"pre-lim":"bg-amber-100 text-amber-700",ongoing:"bg-blue-100 text-blue-700",completed:"bg-emerald-100 text-emerald-700"},VBe={"pre-lim":"Pre-lim",ongoing:"Ongoing",completed:"Completed"},qBe=({projects:r,showOriginalCurrency:e,loading:t=!1,selectedYear:n,selectedMonth:a})=>{const[s,i]=B.useState(new Set),[l,c]=B.useState(""),[u,A]=B.useState("all"),h=y=>{i(g=>{const v=new Set(g);return v.has(y)?v.delete(y):v.add(y),v})},p=r.filter(y=>{if(u!=="all"&&y.status!==u)return!1;if(l.trim()){const g=l.toLowerCase();return y.projectCode.toLowerCase().includes(g)||y.projectTitle.toLowerCase().includes(g)||y.clientName.toLowerCase().includes(g)}return!0}),m=y=>`RM ${y.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return t?o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:o.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 animate-pulse"})}),o.jsx("div",{className:"p-6 space-y-4",children:[...Array(5)].map((y,g)=>o.jsx("div",{className:"h-16 bg-gray-100 rounded-lg animate-pulse"},g))})]}):o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Project Breakdown"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Do,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search projects...",value:l,onChange:y=>c(y.target.value),className:"pl-9 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent w-full sm:w-64"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(pg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsxs("select",{value:u,onChange:y=>A(y.target.value),className:"pl-9 pr-8 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pre-lim",children:"Pre-lim"}),o.jsx("option",{value:"ongoing",children:"Ongoing"}),o.jsx("option",{value:"completed",children:"Completed"})]})]})]})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-8"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Project"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"PO Received"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Invoiced"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Outstanding"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Base Cost"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Vendor POs"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Vendor Invoices"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:p.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(Do,{className:"w-12 h-12 text-gray-300 mb-3"}),o.jsx("p",{className:"text-sm",children:"No projects found"}),l&&o.jsx("button",{onClick:()=>c(""),className:"mt-2 text-sm text-primary-600 hover:text-primary-700",children:"Clear search"})]})})}):p.map(y=>{const g=s.has(y.projectId),v=y.poReceived>0?Math.round(y.invoiced/y.poReceived*100):0;return o.jsxs(ws.Fragment,{children:[o.jsxs("tr",{className:`hover:bg-gray-50 transition-colors cursor-pointer ${g?"bg-gray-50":""}`,onClick:()=>h(y.projectId),children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{className:"p-1 hover:bg-gray-200 rounded transition-colors",onClick:b=>{b.stopPropagation(),h(y.projectId)},children:g?o.jsx(Kl,{className:"w-4 h-4 text-gray-500"}):o.jsx(gA,{className:"w-4 h-4 text-gray-500"})})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:y.projectCode}),o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${$Be[y.status]||"bg-gray-100 text-gray-700"}`,children:VBe[y.status]||y.status})]}),o.jsx("span",{className:"text-sm text-gray-600 truncate max-w-xs",children:y.projectTitle}),o.jsx("span",{className:"text-xs text-gray-500",children:y.clientName})]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("span",{className:"font-medium text-gray-900",children:e&&y.poReceivedOriginal.length>0?bb(y.poReceived,y.poReceivedOriginal):m(y.poReceived)})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"font-medium text-gray-900",children:e&&y.invoicedOriginal.length>0?bb(y.invoiced,y.invoicedOriginal):m(y.invoiced)}),y.poReceived>0&&o.jsxs("span",{className:"text-xs text-gray-500",children:["(",v,"%)"]})]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("span",{className:`font-medium ${y.outstanding>0?"text-orange-600":"text-gray-900"}`,children:m(y.outstanding)})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"font-medium text-gray-900",children:m(y.baseCost)}),y.actualHours>0&&o.jsxs("span",{className:"text-xs text-gray-500",children:[y.actualHours.toFixed(1)," hrs"]})]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("span",{className:"font-medium text-gray-900",children:e&&y.vendorPOsOriginal.length>0?bb(y.vendorPOsIssued,y.vendorPOsOriginal):m(y.vendorPOsIssued)})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("span",{className:"font-medium text-gray-900",children:e&&y.vendorInvoicesOriginal.length>0?bb(y.vendorInvoicesReceived,y.vendorInvoicesOriginal):m(y.vendorInvoicesReceived)})})]}),g&&o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"px-6 py-0 bg-gray-50",children:o.jsx(KBe,{engineers:y.engineerBreakdown})})})]},y.projectId)})})]})}),o.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:o.jsx("div",{className:"flex items-center justify-between text-sm text-gray-600",children:o.jsxs("span",{children:["Showing ",p.length," of ",r.length," projects"]})})})]})},GBe=new Date().getFullYear(),WBe=[0,...Array.from({length:6},(r,e)=>GBe-e)],YBe=[{value:0,label:"All Months"},{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],XBe=()=>{const r=mg(),{canAccessFinance:e,roleInfo:t}=S3(),[n,a]=B.useState(0),[s,i]=B.useState(0),{projectSummaries:l,totals:c,loading:u,error:A,refetch:h}=RBe(n,s),[p,m]=B.useState(!1);return B.useEffect(()=>{const y=()=>{document.visibilityState==="visible"&&h()},g=()=>{h()};return document.addEventListener("visibilitychange",y),window.addEventListener("focus",g),()=>{document.removeEventListener("visibilitychange",y),window.removeEventListener("focus",g)}},[h]),e?A?o.jsx("div",{className:"min-h-full bg-gray-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 max-w-md text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ls,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Failed to Load Data"}),o.jsx("p",{className:"text-gray-600 mb-4",children:A}),o.jsx("button",{onClick:()=>h(),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Try Again"})]})}):o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Finance Overview"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"PO received, invoiced amounts, and labor costs"})]}),o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-50 rounded-xl border border-gray-200",children:[o.jsx(so,{className:"w-4 h-4 text-gray-500"}),o.jsx("select",{value:s,onChange:y=>i(Number(y.target.value)),className:"bg-transparent text-sm font-medium text-gray-700 focus:outline-none cursor-pointer",children:YBe.map(y=>o.jsx("option",{value:y.value,children:y.label},y.value))}),o.jsx("select",{value:n,onChange:y=>a(Number(y.target.value)),className:"bg-transparent text-sm font-medium text-gray-700 focus:outline-none cursor-pointer",children:WBe.map(y=>o.jsx("option",{value:y,children:y===0?"All Time":y},y))})]}),o.jsxs("button",{onClick:()=>m(!p),className:`inline-flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-colors ${p?"bg-primary-100 text-primary-700 border border-primary-200":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50"}`,title:p?"Showing original currencies":"Showing MYR",children:[p?o.jsx(lte,{className:"w-5 h-5"}):o.jsx(ite,{className:"w-5 h-5"}),p?"Original":"MYR"]})]})]})}),o.jsx(HBe,{totals:c,showOriginalCurrency:p,loading:u}),o.jsx(qBe,{projects:l,showOriginalCurrency:p,loading:u,selectedYear:n,selectedMonth:s})]})}):o.jsx("div",{className:"min-h-full bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 max-w-md text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ls,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),o.jsx("p",{className:"text-gray-600 mb-4",children:bd("access finance","senior-engineer")}),t&&o.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg ${t.color} mb-6`,children:[o.jsx("span",{children:t.icon}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-sm font-semibold",children:t.label}),o.jsxs("p",{className:"text-xs opacity-75",children:["Level ",t.level," Access"]})]})]}),o.jsx("button",{onClick:()=>r("/"),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Back to Dashboard"})]})})},JBe=Ic(r=>({purchaseOrders:[],loading:!1,error:null,fetchPurchaseOrders:async e=>{try{r({loading:!0,error:null});const t=await wr.getAllPurchaseOrders(e),n=t.data||t,a=Array.isArray(n)?n:[];r({purchaseOrders:a,loading:!1})}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to fetch purchase orders";console.error("Error fetching purchase orders:",n),r({error:n,loading:!1})}},createPurchaseOrder:async e=>{try{r({loading:!0,error:null});const t=await wr.createPurchaseOrder(e),n=t.data||t;r(a=>({purchaseOrders:[...a.purchaseOrders,n],loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to create purchase order";throw console.error("Error creating purchase order:",n),r({error:n,loading:!1}),t}},updatePurchaseOrder:async(e,t)=>{try{r({loading:!0,error:null});const n=await wr.updatePurchaseOrder(e,t),a=n.data||n;r(s=>({purchaseOrders:s.purchaseOrders.map(i=>i.id===e?a:i),loading:!1}))}catch(n){const a=n?.response?.data?.error||n?.message||"Failed to update purchase order";throw console.error("Error updating purchase order:",a),r({error:a,loading:!1}),n}},deletePurchaseOrder:async e=>{try{r({loading:!0,error:null}),await wr.deletePurchaseOrder(e),r(t=>({purchaseOrders:t.purchaseOrders.filter(n=>n.id!==e),loading:!1}))}catch(t){const n=t?.response?.data?.error||t?.message||"Failed to delete purchase order";throw console.error("Error deleting purchase order:",n),r({error:n,loading:!1}),t}}})),ZBe=()=>{const r=_o(),e=r&&ol(r.role||"engineer","canAccessFinance"),t=r&&ol(r.role||"engineer","canUploadPO"),{purchaseOrders:n,fetchPurchaseOrders:a,createPurchaseOrder:s,updatePurchaseOrder:i,deletePurchaseOrder:l,loading:c}=JBe(),[u,A]=B.useState("all"),[h,p]=B.useState(!1),[m,y]=B.useState(!1),[g,v]=B.useState(null),[b,N]=B.useState({isOpen:!1});B.useEffect(()=>{a()},[]);const C=n.filter(L=>u==="all"||L.status===u),E=L=>C.filter(Q=>Q.status===L).reduce((Q,R)=>Q+(R.amountMyrAdjusted||R.amountMyr||R.amount||0),0),_=L=>({received:"bg-blue-100 text-blue-800","in-progress":"bg-yellow-100 text-yellow-800",invoiced:"bg-purple-100 text-purple-800",paid:"bg-green-100 text-green-800"})[L]||"bg-gray-100 text-gray-800",P=L=>({received:"Received","in-progress":"In Progress",invoiced:"Invoiced",paid:"Paid"})[L]||L,O=()=>{if(!t){rr.error("You do not have permission to create purchase orders");return}v(null),p(!0)},D=L=>{if(!t){rr.error("You do not have permission to edit purchase orders");return}v(L),y(!0)},k=(L,Q)=>{if(!t){rr.error("You do not have permission to delete purchase orders");return}N({isOpen:!0,poId:L,poNumber:Q})},H=async()=>{if(b.poId)try{await l(b.poId),rr.success("Purchase order deleted successfully"),N({isOpen:!1})}catch{rr.error("Failed to delete purchase order")}};return e?o.jsxs("div",{className:"min-h-full bg-gray-50",children:[o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Purchase Orders"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Create, track, and manage purchase orders"})]}),t&&o.jsx(Ut,{onClick:O,icon:o.jsx(ei,{className:"w-5 h-5"}),children:"Create PO"})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total POs"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.length})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-blue-800",children:"Received"}),o.jsxs("p",{className:"text-3xl font-bold text-blue-900",children:["RM ",E("received").toLocaleString()]})]}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-yellow-800",children:"In Progress"}),o.jsxs("p",{className:"text-3xl font-bold text-yellow-900",children:["RM ",E("in-progress").toLocaleString()]})]}),o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-purple-800",children:"Invoiced"}),o.jsxs("p",{className:"text-3xl font-bold text-purple-900",children:["RM ",E("invoiced").toLocaleString()]})]}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg shadow p-4",children:[o.jsx("p",{className:"text-sm text-green-800",children:"Paid"}),o.jsxs("p",{className:"text-3xl font-bold text-green-900",children:["RM ",E("paid").toLocaleString()]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:o.jsxs("select",{value:u,onChange:L=>A(L.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"received",children:"Received"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"invoiced",children:"Invoiced"}),o.jsx("option",{value:"paid",children:"Paid"})]})}),c&&o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),!c&&o.jsx("div",{className:"space-y-3",children:C.length===0?o.jsx(Vr,{variant:"bordered",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[o.jsx($a,{className:"w-16 h-16 mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"No purchase orders found"}),o.jsx("p",{className:"text-sm",children:t?"Create a new purchase order to get started":"No purchase orders match the current filters"})]})}):C.map(L=>o.jsx(Vr,{variant:"bordered",padding:"md",className:"hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx($a,{className:"w-5 h-5 text-gray-400"}),o.jsx("span",{className:"font-semibold text-gray-900",children:L.poNumber}),o.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${_(L.status)}`,children:P(L.status)}),L.fileUrl&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-1 bg-green-100 text-green-800 rounded-full",children:[o.jsx($a,{className:"w-3 h-3"}),"Document"]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Client: ",L.clientName]}),L.projectCode?o.jsxs("p",{className:"text-sm text-gray-600",children:["Project: ",o.jsx("span",{className:"font-medium text-gray-900",children:L.projectCode}),L.project?.title&&o.jsxs("span",{className:"text-gray-500",children:[" - ",L.project.title]})]}):o.jsx("p",{className:"text-sm text-gray-500",children:"Project: Not linked"})]}),L.description&&o.jsx("p",{className:"text-sm text-gray-700 mt-2",children:L.description}),o.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-xs text-gray-500",children:[o.jsxs("span",{children:["Received: ",new Date(L.receivedDate).toLocaleDateString()]}),L.dueDate&&o.jsxs("span",{children:["Due: ",new Date(L.dueDate).toLocaleDateString()]})]}),L.fileUrl&&o.jsx("div",{className:"mt-3",children:o.jsxs("a",{href:L.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-primary-600 hover:text-primary-800 hover:underline",children:[o.jsx(LA,{className:"w-3 h-3"}),"View Document"]})})]}),o.jsxs("div",{className:"flex flex-col items-end gap-3",children:[o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["RM ",(L.amount||0).toLocaleString("en-MY",{minimumFractionDigits:2})]})}),t&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>D(L),className:"p-2 text-primary-600 hover:bg-primary-50 rounded transition-colors",title:"Edit",children:o.jsx(Oo,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>k(L.id,L.poNumber),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:o.jsx(Cs,{className:"w-4 h-4"})})]})]})]})},L.id))})]}),(h||m)&&o.jsx(eEe,{isOpen:h||m,po:g,onClose:()=>{p(!1),y(!1),v(null)},onSave:async L=>{try{g?(await i(g.id,L),rr.success("Purchase order updated successfully")):(await s(L),rr.success("Purchase order created successfully")),p(!1),y(!1),v(null)}catch{}}}),o.jsx(rf,{isOpen:b.isOpen,onClose:()=>N({isOpen:!1}),onConfirm:H,title:"Delete Purchase Order",message:`Are you sure you want to delete PO ${b.poNumber}? This action cannot be undone.`,variant:"danger",confirmText:"Delete",cancelText:"Cancel"})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Fr,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"You do not have permission to access the Finance section."}),o.jsx("p",{className:"text-sm text-gray-500",children:"Please contact your manager if you need access to this section."})]})})},eEe=({isOpen:r,po:e,onClose:t,onSave:n})=>{const{projects:a,fetchProjects:s}=os(),{companies:i,fetchCompanies:l}=Fu(),[c,u]=B.useState({poNumber:e?.poNumber||"",projectId:"",projectCode:e?.projectCode||"",clientId:"",clientName:e?.clientName||"",amount:e?.amount?.toString()||"",receivedDate:e?.receivedDate||"",dueDate:e?.dueDate||"",description:e?.description||"",status:e?.status||"received",fileUrl:e?.fileUrl||""}),[A,h]=B.useState(null),[p,m]=B.useState(!1);if(B.useEffect(()=>{r&&(l(),s())},[r,l,s]),!r)return null;const y=async g=>{g.preventDefault(),m(!0);try{let v=c.fileUrl;if(A){const N=new FormData;N.append("file",A),N.append("projectCode",c.projectCode),v=(await wr.uploadPurchaseOrderFile(N)).fileUrl}const b={...c,fileUrl:v};await n(b),h(null)}catch(v){rr.error(v.message||"Failed to save purchase order")}finally{m(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e?"Edit Purchase Order":"Create Purchase Order"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e?"Update PO details":"Add a new purchase order"})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PO Number *"}),o.jsx("input",{type:"text",required:!0,value:c.poNumber,onChange:g=>u({...c,poNumber:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"PO-2025-001"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Code *"}),o.jsxs("select",{required:!0,value:c.projectId,onChange:g=>{const v=a.find(b=>b.id===g.target.value);u({...c,projectId:g.target.value,projectCode:v?.projectCode||""})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a project"}),a.filter(g=>g.status==="pre-lim").map(g=>o.jsxs("option",{value:g.id,children:[g.projectCode," - ",g.title]},g.id))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),o.jsxs("select",{required:!0,value:c.clientId,onChange:g=>{const v=i.find(b=>b.id===g.target.value);u({...c,clientId:g.target.value,clientName:v?.name||""})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a company"}),i.map(g=>o.jsx("option",{value:g.id,children:g.name},g.id))]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (RM) *"}),o.jsx("input",{type:"number",required:!0,step:"0.01",value:c.amount,onChange:g=>u({...c,amount:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),o.jsxs("select",{required:!0,value:c.status,onChange:g=>u({...c,status:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"received",children:"Received"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"invoiced",children:"Invoiced"}),o.jsx("option",{value:"paid",children:"Paid"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received Date *"}),o.jsx("input",{type:"date",required:!0,value:c.receivedDate,onChange:g=>u({...c,receivedDate:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),o.jsx("input",{type:"date",value:c.dueDate,onChange:g=>u({...c,dueDate:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:c.description,onChange:g=>u({...c,description:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"PO details..."})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PO Document"}),c.fileUrl&&o.jsxs("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($a,{className:"w-5 h-5 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Current Document"}),o.jsx("p",{className:"text-xs text-blue-700",children:c.fileUrl.split("/").pop()})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("a",{href:c.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-primary-600 hover:bg-primary-100 rounded transition-colors",title:"View Document",children:o.jsx(LA,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>u({...c,fileUrl:""}),className:"p-2 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Remove Document",children:o.jsx(Cs,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-blue-400 transition-colors",children:[o.jsx("input",{type:"file",id:"po-file-upload",accept:".pdf,.png,.jpg,.jpeg,.docx,.doc",onChange:g=>{const v=g.target.files?.[0];if(v){if(v.size>10*1024*1024){rr.error("File size must be less than 10MB");return}h(v)}},className:"hidden"}),o.jsxs("label",{htmlFor:"po-file-upload",className:"cursor-pointer flex flex-col items-center",children:[o.jsx(Po,{className:"w-8 h-8 text-gray-400 mb-2"}),o.jsx("p",{className:"text-sm text-gray-600",children:A?A.name:"Click to upload or drag and drop"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, PNG, JPG, DOCX (max 10MB)"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:t,disabled:p,className:"px-4 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50",children:p?"Saving...":e?"Update PO":"Create PO"})]})]})]})})},tEe=({activeTab:r,onTabChange:e,receivedPOCount:t=0,invoiceCount:n=0,issuedPOCount:a=0,receivedInvoiceCount:s=0})=>{const i=[{id:"received-pos",label:"Received POs",icon:$a,count:t},{id:"invoices",label:"Invoices",icon:l7,count:n},{id:"issued-pos",label:"Issued POs",icon:d7,count:a},{id:"received-invoices",label:"Received Invoices",icon:zZ,count:s}];return o.jsx("div",{className:"flex justify-center py-6 bg-white",children:o.jsx("div",{className:"flex items-stretch gap-4",children:i.map(l=>{const c=l.icon,u=r===l.id;return o.jsxs("button",{onClick:()=>e(l.id),className:`
                relative flex items-center gap-4 px-8 py-5 rounded-2xl min-w-[200px]
                transition-all duration-200 ease-out border-2
                ${u?"bg-white border-primary-500 shadow-lg shadow-primary-100/50":"bg-gray-50 border-transparent hover:bg-white hover:border-gray-200 hover:shadow-md"}
              `,children:[o.jsx("div",{className:`
                  p-3 rounded-xl transition-colors
                  ${u?"bg-primary-100":"bg-gray-100"}
                `,children:o.jsx(c,{className:`w-6 h-6 ${u?"text-primary-600":"text-gray-500"}`})}),o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:`font-semibold text-base ${u?"text-gray-900":"text-gray-600"}`,children:l.label}),o.jsxs("span",{className:`text-sm ${u?"text-primary-600 font-medium":"text-gray-400"}`,children:[l.count," ",l.count===1?"document":"documents"]})]})]},l.id)})})})},VB={maxFileSize:10*1024*1024,maxFiles:5,allowedTypes:["application/pdf","image/jpeg","image/jpg","image/png","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword"]},qB=r=>{if(r===0)return"0 Bytes";const e=1024,t=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(r)/Math.log(e));return Math.round(r/Math.pow(e,n)*100)/100+" "+t[n]},rEe=r=>r.slice((r.lastIndexOf(".")-1>>>0)+2).toLowerCase(),Co=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),m4=[.001,0,0,.001,0,0],GB=1.35,Pl={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},gd={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},$y="pdfjs_internal_editor_",Mr={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},nn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},gV={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Di={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},fy={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ps={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},hp={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Iv={ERRORS:0,WARNINGS:1,INFOS:5},og={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Cb={moveTo:0,lineTo:1,curveTo:2,closePath:3},xV={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i5=Iv.WARNINGS;function nEe(r){Number.isInteger(r)&&(i5=r)}function aEe(){return i5}function o5(r){i5>=Iv.INFOS&&console.info(`Info: ${r}`)}function Rr(r){i5>=Iv.WARNINGS&&console.warn(`Warning: ${r}`)}function la(r){throw new Error(r)}function ln(r,e){r||la(e)}function sEe(r){switch(r?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function W3(r,e=null,t=null){if(!r)return null;if(t&&typeof r=="string"&&(t.addDefaultProtocol&&r.startsWith("www.")&&r.match(/\./g)?.length>=2&&(r=`http://${r}`),t.tryConvertEncoding))try{r=uEe(r)}catch{}const n=e?URL.parse(r,e):URL.parse(r);return sEe(n)?n:null}function Y3(r,e,t=!1){const n=URL.parse(r);return n?(n.hash=e,n.href):t&&W3(r,"http://example.com")?r.split("#",1)[0]+`${e?`#${e}`:""}`:""}function zr(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const rm=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class BM extends rm{constructor(e,t){super(e,"PasswordException"),this.code=t}}class WB extends rm{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class R2 extends rm{constructor(e){super(e,"InvalidPDFException")}}class Vy extends rm{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class iEe extends rm{constructor(e){super(e,"FormatError")}}class OA extends rm{constructor(e){super(e,"AbortException")}}function yV(r){(typeof r!="object"||r?.length===void 0)&&la("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let a=0;a<e;a+=t){const s=Math.min(a+t,e),i=r.subarray(a,s);n.push(String.fromCharCode.apply(null,i))}return n.join("")}function Lv(r){typeof r!="string"&&la("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function oEe(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function lEe(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function cEe(){try{return new Function(""),!0}catch{return!1}}class bi{static get isLittleEndian(){return zr(this,"isLittleEndian",lEe())}static get isEvalSupported(){return zr(this,"isEvalSupported",cEe())}static get isOffscreenCanvasSupported(){return zr(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return zr(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return zr(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return zr(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const YB=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));class Xt{static makeHexColor(e,t,n){return`#${YB[e]}${YB[t]}${YB[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const a=e[n],s=e[n+1];e[n]=a*t[0]+s*t[2]+t[4],e[n+1]=a*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const a=t[0],s=t[1],i=t[2],l=t[3],c=t[4],u=t[5];for(let A=0;A<6;A+=2){const h=e[n+A],p=e[n+A+1];e[n+A]=h*a+p*i+c,e[n+A+1]=h*s+p*l+u}}static applyInverseTransform(e,t){const n=e[0],a=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-a*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-n*t[1]+a*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,n){const a=t[0],s=t[1],i=t[2],l=t[3],c=t[4],u=t[5],A=e[0],h=e[1],p=e[2],m=e[3];let y=a*A+c,g=y,v=a*p+c,b=v,N=l*h+u,C=N,E=l*m+u,_=E;if(s!==0||i!==0){const P=s*A,O=s*p,D=i*h,k=i*m;y+=D,b+=D,v+=k,g+=k,N+=P,_+=P,E+=O,C+=O}n[0]=Math.min(n[0],y,v,g,b),n[1]=Math.min(n[1],N,E,C,_),n[2]=Math.max(n[2],y,v,g,b),n[3]=Math.max(n[3],N,E,C,_)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],a=e[1],s=e[2],i=e[3],l=n**2+a**2,c=n*s+a*i,u=s**2+i**2,A=(l+u)/2,h=Math.sqrt(A**2-(l*u-c**2));t[0]=Math.sqrt(A+h||1),t[1]=Math.sqrt(A-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),a=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>a)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),i=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>i?null:[n,s,a,i]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,a,s){s[0]=Math.min(s[0],e,n),s[1]=Math.min(s[1],t,a),s[2]=Math.max(s[2],e,n),s[3]=Math.max(s[3],t,a)}static#e(e,t,n,a,s,i,l,c,u,A){if(u<=0||u>=1)return;const h=1-u,p=u*u,m=p*u,y=h*(h*(h*e+3*u*t)+3*p*n)+m*a,g=h*(h*(h*s+3*u*i)+3*p*l)+m*c;A[0]=Math.min(A[0],y),A[1]=Math.min(A[1],g),A[2]=Math.max(A[2],y),A[3]=Math.max(A[3],g)}static#t(e,t,n,a,s,i,l,c,u,A,h,p){if(Math.abs(u)<1e-12){Math.abs(A)>=1e-12&&this.#e(e,t,n,a,s,i,l,c,-h/A,p);return}const m=A**2-4*h*u;if(m<0)return;const y=Math.sqrt(m),g=2*u;this.#e(e,t,n,a,s,i,l,c,(-A+y)/g,p),this.#e(e,t,n,a,s,i,l,c,(-A-y)/g,p)}static bezierBoundingBox(e,t,n,a,s,i,l,c,u){u[0]=Math.min(u[0],e,l),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,l),u[3]=Math.max(u[3],t,c),this.#t(e,n,s,l,t,a,i,c,3*(-e+3*(n-s)+l),6*(e-2*n+s),3*(n-e),u),this.#t(e,n,s,l,t,a,i,c,3*(-t+3*(a-i)+c),6*(t-2*a+i),3*(a-t),u)}}function uEe(r){return decodeURIComponent(escape(r))}let XB=null,EM=null;function vV(r){return XB||(XB=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,EM=new Map([["","t"]])),r.replaceAll(XB,(e,t,n)=>t?t.normalize("NFKC"):EM.get(n))}function X3(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),yV(r)}const J3="pdfjs_internal_id_";function dEe(r,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,a,...s]=t;if(!r(n)&&!Number.isInteger(n)||!e(a))return!1;const i=s.length;let l=!0;switch(a.name){case"XYZ":if(i<2||i>3)return!1;break;case"Fit":case"FitB":return i===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(i>1)return!1;break;case"FitR":if(i!==4)return!1;l=!1;break;default:return!1}for(const c of s)if(!(typeof c=="number"||l&&c===null))return!1;return!0}function no(r,e,t){return Math.min(Math.max(r,e),t)}function bV(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(yV(r))}function AEe(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):Lv(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((e,t)=>e+t,0)});class qy{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function a(s){if(!s)return;let i=null;const l=s.name;if(l==="#text")i=s.value;else if(qy.shouldBuildText(l))s?.attributes?.textContent?i=s.attributes.textContent:s.value&&(i=s.value);else return;if(i!==null&&t.push({str:i}),!!s.children)for(const c of s.children)a(c)}return a(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class Z3{static setupStorage(e,t,n,a,s){const i=a.getValue(t,{value:null});switch(n.name){case"textarea":if(i.value!==null&&(e.textContent=i.value),s==="print")break;e.addEventListener("input",l=>{a.setValue(t,{value:l.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(i.value===n.attributes.xfaOn?e.setAttribute("checked",!0):i.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",l=>{a.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(i.value!==null&&e.setAttribute("value",i.value),s==="print")break;e.addEventListener("input",l=>{a.setValue(t,{value:l.target.value})})}break;case"select":if(i.value!==null){e.setAttribute("value",i.value);for(const l of n.children)l.attributes.value===i.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;a.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:a,linkService:s}){const{attributes:i}=t,l=e instanceof HTMLAnchorElement;i.type==="radio"&&(i.name=`${i.name}-${a}`);for(const[c,u]of Object.entries(i))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}l&&s.addLinkAttributes(e,i.href,i.newWindow),n&&i.dataId&&this.setupStorage(e,i.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,a=e.xfaHtml,s=e.intent||"display",i=document.createElement(a.name);a.attributes&&this.setAttributes({html:i,element:a,intent:s,linkService:n});const l=s!=="richText",c=e.div;if(c.append(i),e.viewport){const h=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=h}l&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(a.children.length===0){if(a.value){const h=document.createTextNode(a.value);i.append(h),l&&qy.shouldBuildText(a.name)&&u.push(h)}return{textDivs:u}}const A=[[a,-1,i]];for(;A.length>0;){const[h,p,m]=A.at(-1);if(p+1===h.children.length){A.pop();continue}const y=h.children[++A.at(-1)[1]];if(y===null)continue;const{name:g}=y;if(g==="#text"){const b=document.createTextNode(y.value);u.push(b),m.append(b);continue}const v=y?.attributes?.xmlns?document.createElementNS(y.attributes.xmlns,g):document.createElement(g);if(m.append(v),y.attributes&&this.setAttributes({html:v,element:y,storage:t,intent:s,linkService:n}),y.children?.length>0)A.push([y,-1,v]);else if(y.value){const b=document.createTextNode(y.value);l&&qy.shouldBuildText(g)&&u.push(b),v.append(b)}}for(const h of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const cA="http://www.w3.org/2000/svg";class Q0{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Pg(r,e="text"){if(Yx(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const a=new XMLHttpRequest;a.open("GET",r,!0),a.responseType=e,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(a.response);return}t(a.responseText);return}n(new Error(a.statusText))}},a.send(null)})}class Mv{constructor({viewBox:e,userUnit:t,scale:n,rotation:a,offsetX:s=0,offsetY:i=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=a,this.offsetX=s,this.offsetY=i,n*=t;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let A,h,p,m;switch(a%=360,a<0&&(a+=360),a){case 180:A=-1,h=0,p=0,m=1;break;case 90:A=0,h=1,p=1,m=0;break;case 270:A=0,h=-1,p=-1,m=0;break;case 0:A=1,h=0,p=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(p=-p,m=-m);let y,g,v,b;A===0?(y=Math.abs(u-e[1])*n+s,g=Math.abs(c-e[0])*n+i,v=(e[3]-e[1])*n,b=(e[2]-e[0])*n):(y=Math.abs(c-e[0])*n+s,g=Math.abs(u-e[1])*n+i,v=(e[2]-e[0])*n,b=(e[3]-e[1])*n),this.transform=[A*n,h*n,p*n,m*n,y-A*n*c-p*n*u,g-h*n*c-m*n*u],this.width=v,this.height=b}get rawDims(){const e=this.viewBox;return zr(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:a=this.offsetY,dontFlip:s=!1}={}){return new Mv({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:a,dontFlip:s})}convertToViewportPoint(e,t){const n=[e,t];return Xt.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];Xt.applyTransform(t,this.transform);const n=[e[2],e[3]];return Xt.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return Xt.applyInverseTransform(n,this.transform),n}}class l5 extends rm{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Rv(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function c5(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function wV(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function CV(r,e="document.pdf"){if(typeof r!="string")return e;if(Rv(r))return Rr('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(r);if(!n)return e;const a=l=>{try{let c=decodeURIComponent(l);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:l):c}catch{return l}},s=/\.pdf$/i,i=n.pathname.split("/").at(-1);if(s.test(i))return a(i);if(n.searchParams.size>0){const l=Array.from(n.searchParams.values()).reverse();for(const u of l)if(s.test(u))return a(u);const c=Array.from(n.searchParams.keys()).reverse();for(const u of c)if(s.test(u))return a(u)}if(n.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(c)return a(c[0])}return e}class jM{started=Object.create(null);times=[];time(e){e in this.started&&Rr(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Rr(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:a,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-a}ms
`);return e.join("")}}function Yx(r,e){const t=e?URL.parse(r,e):URL.parse(r);return t?.protocol==="http:"||t?.protocol==="https:"}function Jl(r){r.preventDefault()}function Ha(r){r.preventDefault(),r.stopPropagation()}function hEe(r){console.log("Deprecated API usage: "+r)}class U2{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const n=parseInt(t[1],10);let a=parseInt(t[2],10);a=a>=1&&a<=12?a-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let i=parseInt(t[4],10);i=i>=0&&i<=23?i:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let A=parseInt(t[8],10);A=A>=0&&A<=23?A:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(i+=A,l+=h):u==="+"&&(i-=A,l-=h),new Date(Date.UTC(n,a,s,i,l,c))}}function NV(r,{scale:e=1,rotation:t=0}){const{width:n,height:a}=r.attributes.style,s=[0,0,parseInt(n),parseInt(a)];return new Mv({viewBox:s,userUnit:1,scale:e,rotation:t})}function Ig(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Rr(`Not a valid color format: "${r}"`),[0,0,0])}function fEe(r){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,Ig(n))}e.remove()}function Qa(r){const{a:e,b:t,c:n,d:a,e:s,f:i}=r.getTransform();return[e,t,n,a,s,i]}function id(r){const{a:e,b:t,c:n,d:a,e:s,f:i}=r.getTransform().invertSelf();return[e,t,n,a,s,i]}function lf(r,e,t=!1,n=!0){if(e instanceof Mv){const{pageWidth:a,pageHeight:s}=e.rawDims,{style:i}=r,l=bi.isCSSRoundSupported,c=`var(--total-scale-factor) * ${a}px`,u=`var(--total-scale-factor) * ${s}px`,A=l?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,h=l?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(i.width=A,i.height=h):(i.width=h,i.height=A)}n&&r.setAttribute("data-main-rotation",e.rotation)}class Eu{constructor(){const{pixelRatio:e}=Eu;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,a,s=-1){let i=1/0,l=1/0,c=1/0;n=Eu.capPixels(n,s),n>0&&(i=Math.sqrt(n/(e*t))),a!==-1&&(l=a/e,c=a/t);const u=Math.min(i,l,c);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const Q2=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class mEe{static get isDarkMode(){return zr(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class SV{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),zr(this,"commentForegroundColor",Ig(n))}}function BV(r,e,t,n){n=Math.min(Math.max(n??1,0),1);const a=255*(1-n);return r=Math.round(r*n+a),e=Math.round(e*n+a),t=Math.round(t*n+a),[r,e,t]}function _M(r,e){const t=r[0]/255,n=r[1]/255,a=r[2]/255,s=Math.max(t,n,a),i=Math.min(t,n,a),l=(s+i)/2;if(s===i)e[0]=e[1]=0;else{const c=s-i;switch(e[1]=l<.5?c/(s+i):c/(2-s-i),s){case t:e[0]=((n-a)/c+(n<a?6:0))*60;break;case n:e[0]=((a-t)/c+2)*60;break;case a:e[0]=((t-n)/c+4)*60;break}}e[2]=l}function p4(r,e){const t=r[0],n=r[1],a=r[2],s=(1-Math.abs(2*a-1))*n,i=s*(1-Math.abs(t/60%2-1)),l=a-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+l,e[1]=i+l,e[2]=l;break;case 1:e[0]=i+l,e[1]=s+l,e[2]=l;break;case 2:e[0]=l,e[1]=s+l,e[2]=i+l;break;case 3:e[0]=l,e[1]=i+l,e[2]=s+l;break;case 4:e[0]=i+l,e[1]=l,e[2]=s+l;break;case 5:case 6:e[0]=s+l,e[1]=l,e[2]=i+l;break}}function TM(r){return r<=.03928?r/12.92:((r+.055)/1.055)**2.4}function kM(r,e,t){p4(r,t),t.map(TM);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];p4(e,t),t.map(TM);const a=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>a?(n+.05)/(a+.05):(a+.05)/(n+.05)}const FM=new Map;function EV(r,e){const t=r[0]+r[1]*256+r[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=FM.get(t);if(n)return n;const a=new Float32Array(9),s=a.subarray(0,3),i=a.subarray(3,6);_M(r,i);const l=a.subarray(6,9);_M(e,l);const c=l[2]<.5,u=c?12:4.5;if(i[2]=c?Math.sqrt(i[2]):1-Math.sqrt(1-i[2]),kM(i,l,s)<u){let A,h;c?(A=i[2],h=1):(A=0,h=i[2]);const p=.005;for(;h-A>p;){const m=i[2]=(A+h)/2;c===kM(i,l,s)<u?A=m:h=m}i[2]=c?h:A}return p4(i,s),n=Xt.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),FM.set(t,n),n}function ek({html:r,dir:e,className:t},n){const a=document.createDocumentFragment();if(typeof r=="string"){const s=document.createElement("p");s.dir=e||"auto";const i=r.split(/(?:\r\n?|\n)/);for(let l=0,c=i.length;l<c;++l){const u=i[l];s.append(document.createTextNode(u)),l<c-1&&s.append(document.createElement("br"))}a.append(s)}else Z3.render({xfaHtml:r,div:a,intent:"richText"});a.firstChild.classList.add("richText",t),n.append(a)}class my{#e=null;#t=null;#n;#r=null;#i=null;#a=null;#s=null;#o=null;static#c=null;constructor(e){this.#n=e,my.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#n._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Jl,{signal:t}),e.addEventListener("pointerdown",my.#l,{signal:t}));const n=this.#r=document.createElement("div");n.className="buttons",e.append(n);const a=this.#n.toolbarPosition;if(a){const{style:s}=e,i=this.#n._uiManager.direction==="ltr"?1-a[0]:a[0];s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#A(e){this.#n._focusEventsAllowed=!1,Ha(e)}#d(e){this.#n._focusEventsAllowed=!0,Ha(e)}#h(e){const t=this.#n._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#A.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Jl,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#i?.shown(),this.#a?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#n,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",my.#c[e]),this.#h(n)&&n.addEventListener("click",a=>{t.delete()},{signal:t._signal}),this.#r.append(n)}get#p(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#h(t),this.#r.append(t,this.#p),this.#i=e}addComment(e,t=null){if(this.#a)return;const n=e.renderForToolbar();if(!n)return;this.#h(n);const a=this.#s=this.#p;t?(this.#r.insertBefore(n,t),this.#r.insertBefore(a,t)):this.#r.append(n,a),this.#a=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#h(t),this.#r.append(t,this.#p)}async addEditSignatureButton(e){const t=this.#o=await e.renderEditButton(this.#n);this.#h(t),this.#r.append(t,this.#p)}removeButton(e){e==="comment"&&(this.#a?.removeToolbarCommentButton(),this.#a=null,this.#s?.remove(),this.#s=null)}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,n){const a=this.#r.querySelector(n);a&&e==="comment"&&this.addComment(t,a)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class pEe{#e=null;#t=null;#n;constructor(e){this.#n=e}#r(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#n._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Jl,{signal:t});const n=this.#e=document.createElement("div");return n.className="buttons",e.append(n),this.#n.hasCommentManager()&&this.#a("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#n.commentSelection("floating_button")}),this.#a("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#n.highlightSelection("floating_button")}),e}#i(e,t){let n=0,a=0;for(const s of e){const i=s.y+s.height;if(i<n)continue;const l=s.x+(t?s.width:0);if(i>n){a=l,n=i;continue}t?l>a&&(a=l):l<a&&(a=l)}return[t?1-a:a,n]}show(e,t,n){const[a,s]=this.#i(t,n),{style:i}=this.#t||=this.#r();e.append(this.#t),i.insetInlineEnd=`${100*a}%`,i.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#a(e,t,n,a){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const i=document.createElement("span");s.append(i),i.className="visuallyHidden",i.setAttribute("data-l10n-id",n);const l=this.#n._signal;l instanceof AbortSignal&&!l.aborted&&(s.addEventListener("contextmenu",Jl,{signal:l}),s.addEventListener("click",a,{signal:l})),this.#e.append(s)}}function jV(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}class gEe{#e=0;get id(){return`${$y}${this.#e++}`}}class tk{#e=X3();#t=0;#n=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=e;const s=a.decode().then(()=>(n.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return zr(this,"_isSVGFittingCanvas",s)}async#r(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let a;if(typeof t=="string"?(n.url=t,a=await Pg(t,"blob")):t instanceof File?a=n.file=t:t instanceof Blob&&(a=t),a.type==="image/svg+xml"){const s=tk._isSVGFittingCanvas,i=new FileReader,l=new Image,c=new Promise((u,A)=>{l.onload=()=>{n.bitmap=l,n.isSvg=!0,u()},i.onload=async()=>{const h=n.svgUrl=i.result;l.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},l.onerror=i.onerror=A});i.readAsDataURL(a),await c}else n.bitmap=await createImageBitmap(a);n.refCounter=1}catch(a){Rr(a),n=null}return this.#n.set(e,n),n&&this.#n.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:a,type:s}=e;return this.#r(`${t}_${n}_${a}_${s}`,e)}async getFromUrl(e){return this.#r(e,e)}async getFromBlob(e,t){const n=await t;return this.#r(e,n)}async getFromId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n?.bitmap)return n.refCounter+=1,n;const a=new OffscreenCanvas(t.width,t.height);return a.getContext("2d").drawImage(t,0,0),n={bitmap:a.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,n),this.#n.set(n.id,n),n}getSvgUrl(e){const t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=a.convertToBlob()}n.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class xEe{#e=[];#t=!1;#n;#r=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:n,mustExec:a,type:s=NaN,overwriteIfSameType:i=!1,keepUndo:l=!1}){if(a&&e(),this.#t)return;const c={cmd:e,undo:t,post:n,type:s};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(c);return}if(i&&this.#e[this.#r].type===s){l&&(c.undo=this.#e[this.#r].undo),this.#e[this.#r]=c;return}const u=this.#r+1;u===this.#n?this.#e.splice(0,1):(this.#r=u,u<this.#e.length&&this.#e.splice(u)),this.#e.push(c)}undo(){if(this.#r===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1,this.#r-=1}redo(){if(this.#r<this.#e.length-1){this.#r+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}cleanType(e){if(this.#r!==-1){for(let t=this.#r;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#r-t),this.#r=t;return}this.#e.length=0,this.#r=-1}}destroy(){this.#e=null}}class Uv{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=bi.platform;for(const[n,a,s={}]of e)for(const i of n){const l=i.startsWith("mac+");t&&l?(this.callbacks.set(i.slice(4),{callback:a,options:s}),this.allKeys.add(i.split("+").at(-1))):!t&&!l&&(this.callbacks.set(i,{callback:a,options:s}),this.allKeys.add(i.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#e(t));if(!n)return;const{callback:a,options:{bubbles:s=!1,args:i=[],checker:l=null}}=n;l&&!l(e,t)||(a.bind(e,...i,t)(),s||Ha(t))}}class rk{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return fEe(e),zr(this,"_colors",e)}convert(e){const t=Ig(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,a]of this._colors)if(a.every((s,i)=>s===t[i]))return rk._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Xt.makeHexColor(...t):e}}class DA{#e=new AbortController;#t=null;#n=null;#r=new Map;#i=new Map;#a=null;#s=null;#o=null;#c=new xEe;#l=null;#A=null;#d=null;#h=0;#p=new Set;#f=null;#u=null;#m=new Set;_editorUndoBar=null;#g=!1;#y=!1;#x=!1;#S=null;#C=null;#v=null;#E=null;#w=!1;#N=null;#T=new gEe;#j=!1;#_=!1;#L=!1;#F=null;#D=null;#M=null;#P=null;#K=null;#B=Mr.NONE;#b=new Set;#O=null;#R=null;#Q=null;#q=null;#V=null;#G={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#I=null;#$=null;#J=null;#Z=null;#U=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=DA.prototype,t=i=>i.#$.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&i.hasSomethingToControl(),n=(i,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},a=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return zr(this,"_keyboardManager",new Uv([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(i,{target:l})=>!(l instanceof HTMLButtonElement)&&i.#$.contains(l)&&!i.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(i,{target:l})=>!(l instanceof HTMLButtonElement)&&i.#$.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,n,a,s,i,l,c,u,A,h,p,m,y,g,v){const b=this._signal=this.#e.signal;this.#$=e,this.#J=t,this.#Z=n,this.#a=a,this.#l=s,this.#R=i,this.#V=c,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:b}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),l._on("setpreference",this.onSetPreference.bind(this),{signal:b}),l._on("switchannotationeditorparams",N=>this.updateParams(N.type,N.value),{signal:b}),window.addEventListener("pointerdown",()=>{this.#_=!0},{capture:!0,signal:b}),window.addEventListener("pointerup",()=>{this.#_=!1},{capture:!0,signal:b}),this.#le(),this.#Ae(),this.#te(),this.#s=c.annotationStorage,this.#S=c.filterFactory,this.#Q=u,this.#E=A||null,this.#g=h,this.#y=p,this.#x=m,this.#K=y||null,this.viewParameters={realScale:Q0.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=v!==!1,s?.setSidebarUiManager(this)}destroy(){this.#U?.resolve(),this.#U=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#i.values())e.destroy();this.#i.clear(),this.#r.clear(),this.#m.clear(),this.#P?.clear(),this.#t=null,this.#b.clear(),this.#c.destroy(),this.#a?.destroy(),this.#l?.destroy(),this.#R?.destroy(),this.#N?.hide(),this.#N=null,this.#M?.destroy(),this.#M=null,this.#n=null,this.#C&&(clearTimeout(this.#C),this.#C=null),this.#I&&(clearTimeout(this.#I),this.#I=null),this._editorUndoBar?.destroy(),this.#V=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#K}get useNewAltTextFlow(){return this.#y}get useNewAltTextWhenAddingImage(){return this.#x}get hcmFilter(){return zr(this,"hcmFilter",this.#Q?this.#S.addHCMFilter(this.#Q.foreground,this.#Q.background):"none")}get direction(){return zr(this,"direction",getComputedStyle(this.#$).direction)}get _highlightColors(){return zr(this,"_highlightColors",this.#E?new Map(this.#E.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return zr(this,"highlightColors",null);const t=new Map,n=!!this.#Q;for(const[a,s]of e){const i=a.endsWith("_HCM");if(n&&i){t.set(a.replace("_HCM",""),s);continue}!n&&!i&&t.set(a,s)}return zr(this,"highlightColors",t)}get highlightColorNames(){return zr(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#M=e}editAltText(e,t=!1){this.#a?.editAltText(this,e,t)}hasCommentManager(){return!!this.#l}editComment(e,t,n,a){this.#l?.showDialog(this,e,t,n,a)}selectComment(e,t){this.#i.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,t,n=void 0){this.#l?.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){return e&&this.#l?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#i.has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),a=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",a),t())};this._eventBus.on("editorsrendered",a),await n}getSignature(e){this.#R?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#R}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){e==="enableNewAltTextWhenAddingImage"&&(this.#x=t)}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#$.focus()}findParent(e,t){for(const n of this.#i.values()){const{x:a,y:s,width:i,height:l}=n.div.getBoundingClientRect();if(e>=a&&e<=a+i&&t>=s&&t<=s+l)return n}return null}disableUserSelect(e=!1){this.#J.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#m.add(e)}removeShouldRescale(e){this.#m.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Q0.PDF_TO_CSS_UNITS;for(const t of this.#m)t.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#X({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of this.#i.values())if(n.hasTextLayer(e))return n;return null}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:a,anchorOffset:s,focusNode:i,focusOffset:l}=n,c=n.toString(),A=this.#X(n).closest(".textLayer"),h=this.getSelectionBoxes(A);if(!h)return;n.empty();const p=this.#ee(A),m=this.#B===Mr.NONE,y=()=>{const g=p?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:a,anchorOffset:s,focusNode:i,focusOffset:l,text:c});m&&this.showAllEditors("highlight",!0,!0),t&&g?.editComment()};if(m){this.switchToMode(Mr.HIGHLIGHT,y);return}y()}commentSelection(e=""){this.highlightSelection(e,!0)}#ie(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=this.#X(e).closest(".textLayer"),a=this.getSelectionBoxes(n);a&&(this.#N||=new pEe(this),this.#N.show(n,a,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#s)return null;const t=`${$y}${e}`,n=this.#s.getRawValue(t);return n&&this.#s.remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&this.#s&&!this.#s.has(e.id)&&this.#s.setValue(e.id,e)}a11yAlert(e,t=null){const n=this.#Z;n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}#oe(){const e=document.getSelection();if(!e||e.isCollapsed){this.#O&&(this.#N?.hide(),this.#O=null,this.#k({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#O)return;const a=this.#X(e).closest(".textLayer");if(!a){this.#O&&(this.#N?.hide(),this.#O=null,this.#k({hasSelectedText:!1}));return}if(this.#N?.hide(),this.#O=t,this.#k({hasSelectedText:!0}),!(this.#B!==Mr.HIGHLIGHT&&this.#B!==Mr.NONE)&&(this.#B===Mr.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#B===Mr.HIGHLIGHT?this.#ee(a):null;if(s?.toggleDrawing(),this.#_){const i=new AbortController,l=this.combinedSignal(i),c=u=>{u.type==="pointerup"&&u.button!==0||(i.abort(),s?.toggleDrawing(!0),u.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}else s?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(e=""){this.#B===Mr.HIGHLIGHT?this.highlightSelection(e):this.#g&&this.#ie()}#le(){document.addEventListener("selectionchange",this.#oe.bind(this),{signal:this._signal})}#ce(){if(this.#v)return;this.#v=new AbortController;const e=this.combinedSignal(this.#v);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ue(){this.#v?.abort(),this.#v=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#b)if(t.div.contains(e)){this.#D=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#D)return;const[e,t]=this.#D;this.#D=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#F)return;this.#F=new AbortController;const e=this.combinedSignal(this.#F);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#de(){this.#F?.abort(),this.#F=null}#re(){if(this.#A)return;this.#A=new AbortController;const e=this.combinedSignal(this.#A);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#ne(){this.#A?.abort(),this.#A=null}#Ae(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.#re()}removeEditListeners(){this.#de(),this.#ne()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#b){const a=n.serialize(!0);a&&t.push(a)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(s.type)){i.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Rr(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const a=this.currentLayer;try{const s=[];for(const c of n){const u=await a.deserialize(c);if(!u)return;s.push(u)}const i=()=>{for(const c of s)this.#ae(c);this.#se(s)},l=()=>{for(const c of s)c.remove()};this.addCommands({cmd:i,undo:l,mustExec:!0})}catch(s){Rr(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#B!==Mr.NONE&&!this.isEditorHandlingKeyboard&&DA._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#W("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#k(e){Object.entries(e).some(([n,a])=>this.#G[n]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#G,e)}),this.#B===Mr.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#z([[nn.HIGHLIGHT_FREE,!0]]))}#z(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ce(),this.#re(),this.#k({isEditing:this.#B!==Mr.NONE,isEmpty:this.#Y(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ue(),this.#ne(),this.#k({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const t of this.#u)this.#z(t.defaultPropertiesToUpdate)}}getId(){return this.#T.id}get currentLayer(){return this.#i.get(this.#h)}getLayer(e){return this.#i.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#i.set(e.pageIndex,e),this.#j?e.enable():e.disable()}removeLayer(e){this.#i.delete(e.pageIndex)}async updateMode(e,t=null,n=!1,a=!1,s=!1){if(this.#B!==e&&!(this.#U&&(await this.#U.promise,!this.#U))){if(this.#U=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#B===Mr.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#B=e,e===Mr.NONE){this.setEditingState(!1),this.#fe();for(const i of this.#r.values())i.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#U.resolve();return}for(const i of this.#r.values())i.addStandaloneCommentButton();e===Mr.SIGNATURE&&await this.#R?.loadSignatures(),this.setEditingState(!0),await this.#he(),this.unselectAll();for(const i of this.#i.values())i.updateMode(e);if(e===Mr.POPUP){this.#n||=await this.#V.getAnnotationsByType(new Set(this.#u.map(c=>c._editorType)));const i=new Set,l=[];for(const c of this.#r.values()){const{annotationElementId:u,hasComment:A,deleted:h}=c;u&&i.add(u),A&&!h&&l.push(c.getData())}for(const c of this.#n){const{id:u,popupRef:A,contentsObj:h}=c;A&&h?.str&&!i.has(u)&&!this.#p.has(u)&&l.push(c)}this.#l?.showSidebar(l)}if(!t){n&&this.addNewEditorFromKeyboard(),this.#U.resolve();return}for(const i of this.#r.values())i.uid===t?(this.setSelected(i),s?i.editComment():a?i.enterInEditMode():i.focus()):i.unselect();this.#U.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#B&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#u){switch(e){case nn.CREATE:this.currentLayer.addNewEditor(t);return;case nn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of this.#b)n.updateParams(e,t);else for(const n of this.#u)n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){for(const s of this.#r.values())s.editorType===e&&s.show(t);(this.#q?.get(nn.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#z([[nn.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#L!==e){this.#L=e;for(const t of this.#i.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#he(){if(!this.#j){this.#j=!0;const e=[];for(const t of this.#i.values())e.push(t.enable());await Promise.all(e);for(const t of this.#r.values())t.enable()}}#fe(){if(this.unselectAll(),this.#j){this.#j=!1;for(const e of this.#i.values())e.disable();for(const e of this.#r.values())e.disable()}}*getEditors(e){for(const t of this.#r.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#r.get(e)}addEditor(e){this.#r.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#C&&clearTimeout(this.#C),this.#C=setTimeout(()=>{this.focusMainContainer(),this.#C=null},0)),this.#r.delete(e.id),e.annotationElementId&&this.#P?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#p.has(e.annotationElementId))&&this.#s?.remove(e.id)}addDeletedAnnotationElement(e){this.#p.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#p.has(e)}removeDeletedAnnotationElement(e){this.#p.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ae(e){const t=this.#i.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#z(e.propertiesToUpdate))}get#me(){let e=null;for(e of this.#b);return e}updateUI(e){this.#me===e&&this.#z(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#z(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#b.has(e)){this.#b.delete(e),e.unselect(),this.#k({hasSelectedEditor:this.hasSelection});return}this.#b.add(e),e.select(),this.#z(e.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#d?.commitOrRemove();for(const t of this.#b)t!==e&&t.unselect();this.#b.clear(),this.#b.add(e),e.select(),this.#z(e.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}isSelected(e){return this.#b.has(e)}get firstSelectedEditor(){return this.#b.values().next().value}unselect(e){e.unselect(),this.#b.delete(e),this.#k({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#b.size!==0}get isEnterHandled(){return this.#b.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#k({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Y()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#Y()})}addCommands(e){this.#c.add(e),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Y()})}cleanUndoStack(e){this.#c.cleanType(e)}#Y(){if(this.#r.size===0)return!0;if(this.#r.size===1)for(const e of this.#r.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#b],n=()=>{this._editorUndoBar?.show(a,t.length===1?t[0].editorType:t.length);for(const s of t)s.remove()},a=()=>{for(const s of t)this.#ae(s)};this.addCommands({cmd:n,undo:a,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#se(e){for(const t of this.#b)t.unselect();this.#b.clear();for(const t of e)t.isEmpty()||(this.#b.add(t),t.select());this.#k({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#b)e.commit();this.#se(this.#r.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#B!==Mr.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#b)e.unselect();this.#b.clear(),this.#k({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=e,this.#H[1]+=t;const[a,s]=this.#H,i=[...this.#b],l=1e3;this.#I&&clearTimeout(this.#I),this.#I=setTimeout(()=>{this.#I=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const c of i)this.#r.has(c.id)&&(c.translateInPage(a,s),c.translationDone())},undo:()=>{for(const c of i)this.#r.has(c.id)&&(c.translateInPage(-a,-s),c.translationDone())},mustExec:!1})},l);for(const c of i)c.translateInPage(e,t),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const e of this.#b)this.#f.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const e=this.#f;this.#f=null;let t=!1;for(const[{x:a,y:s,pageIndex:i},l]of e)l.newX=a,l.newY=s,l.newPageIndex=i,t||=a!==l.savedX||s!==l.savedY||i!==l.savedPageIndex;if(!t)return!1;const n=(a,s,i,l)=>{if(this.#r.has(a.id)){const c=this.#i.get(l);c?a._setParentAndPosition(c,s,i):(a.pageIndex=l,a.x=s,a.y=i)}};return this.addCommands({cmd:()=>{for(const[a,{newX:s,newY:i,newPageIndex:l}]of e)n(a,s,i,l)},undo:()=>{for(const[a,{savedX:s,savedY:i,savedPageIndex:l}]of e)n(a,s,i,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#f)for(const n of this.#f.keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#b.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#B}isEditingMode(){return this.#B!==Mr.NONE}get imageManager(){return zr(this,"imageManager",new tk)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,A=t.rangeCount;u<A;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:n,y:a,width:s,height:i}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(u,A,h,p)=>({x:(A-a)/i,y:1-(u+h-n)/s,width:p/i,height:h/s});break;case"180":l=(u,A,h,p)=>({x:1-(u+h-n)/s,y:1-(A+p-a)/i,width:h/s,height:p/i});break;case"270":l=(u,A,h,p)=>({x:1-(A+p-a)/i,y:(u-n)/s,width:p/i,height:h/s});break;default:l=(u,A,h,p)=>({x:(u-n)/s,y:(A-a)/i,width:h/s,height:p/i});break}const c=[];for(let u=0,A=t.rangeCount;u<A;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:p,y:m,width:y,height:g}of h.getClientRects())y===0||g===0||c.push(l(p,m,y,g))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const n=this.#s.getRawValue(t);n&&(this.#B===Mr.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){const a=this.#P?.get(e);a&&(a.setCanvas(t,n),this.#P.delete(e))}addMissingCanvas(e,t){(this.#P||=new Map).set(e,t)}}class fd{#e=null;#t=!1;#n=null;#r=null;#i=null;#a=null;#s=!1;#o=null;#c=null;#l=null;#A=null;#d=!1;static#h=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,fd.#h||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){fd._l10n??=e}async render(){const e=this.#n=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#r=document.createElement("span");e.append(t),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",fd.#h.missing),t.setAttribute("data-l10n-id",fd.#h["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;e.addEventListener("contextmenu",Jl,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const a=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#p}})};return e.addEventListener("click",a,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#s=!0,a(s))},{signal:n}),await this.#f(),e}get#p(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#s}),this.#s=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#A=await fd._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#f())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#c.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#A),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#A}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:a,cancel:s=!1}){n&&(this.#l=n,this.#A=a),!(this.#e===e&&this.#t===t)&&(s||(this.#e=e,this.#t=t),this.#f())}toggle(e=!1){this.#n&&(!e&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#n.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#p}})}destroy(){this.#n?.remove(),this.#n=null,this.#r=null,this.#i=null,this.#o?.remove(),this.#o=null}async#f(){const e=this.#n;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",fd.#h[this.#p]),this.#r?.setAttribute("data-l10n-id",fd.#h[`${this.#p}-label`]),!this.#e){this.#i?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#i?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#i;if(!t){this.#i=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#c.id}`;const a=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#i.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#i?.classList.remove("show")},{signal:s})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#c.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class Nb{#e=null;#t=null;#n=!1;#r=null;#i=null;#a=null;#s=null;#o=null;#c=!1;#l=null;constructor(e){this.#r=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#A(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#r.commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*(this.#r._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const a=this.#r.commentButtonColor;a&&(n.backgroundColor=a)}return this.#A(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#r.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#r._uiManager.updatePopupColor(this.#r)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#r.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:t,height:n}=this.#e.getBoundingClientRect(),{x:a,y:s,width:i,height:l}=this.#r.parent.boundingClientRect;return[(e-a)/i,(t+n-s)/l]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#A(e,t){if(!this.#r._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#r._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=this.#r._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",Jl,{signal:n}),t&&(e.addEventListener("focusin",s=>{this.#r._focusEventsAllowed=!1,Ha(s)},{capture:!0,signal:n}),e.addEventListener("focusout",s=>{this.#r._focusEventsAllowed=!0,Ha(s)},{capture:!0,signal:n})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const a=s=>{s.preventDefault(),e===this.#t?this.edit():this.#r.toggleComment(!0)};return e.addEventListener("click",a,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#n=!0,a(s))},{signal:n}),e.addEventListener("pointerenter",()=>{this.#r.toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{this.#r.toggleComment(!1,!1)},{signal:n}),e}edit(e){const t=this.commentPopupPositionInLayer;let n,a;if(t)[n,a]=t;else{[n,a]=this.#r.commentButtonPosition;const{width:A,height:h,x:p,y:m}=this.#r;n=p+n*A,a=m+a*h}const s=this.#r.parent.boundingClientRect,{x:i,y:l,width:c,height:u}=s;this.#r._uiManager.editComment(this.#r,i+n*c,l+a*u,{...e,parentDimensions:s})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#n}),this.#n=!1)}isDeleted(){return this.#c||this.#s===""}isEmpty(){return this.#s===null}hasBeenEdited(){return this.isDeleted()||this.#s!==this.#i}serialize(){return this.data}get data(){return{text:this.#s,richText:this.#a,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#s&&(this.#a=null),e===null){this.#s="",this.#c=!0;return}this.#s=e,this.#o=new Date,this.#c=!1}setInitialText(e,t=null){this.#i=e,this.data=e,this.#o=null,this.#a=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#s="",this.#a=null,this.#o=null,this.#r=null,this.#n=!1,this.#c=!1}}class Qv{#e;#t=!1;#n=null;#r;#i;#a;#s;#o=null;#c;#l=null;#A;#d=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:a=null,onPinching:s=null,onPinchEnd:i=null,signal:l}){this.#e=e,this.#n=n,this.#r=t,this.#i=a,this.#a=s,this.#s=i,this.#A=new AbortController,this.#c=AbortSignal.any([l,this.#A.signal]),e.addEventListener("touchstart",this.#h.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Eu.pixelRatio}#h(e){if(this.#r?.())return;if(e.touches.length===1){if(this.#o)return;const a=this.#o=new AbortController,s=AbortSignal.any([this.#c,a.signal]),i=this.#e,l={capture:!0,signal:s,passive:!1},c=u=>{u.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};i.addEventListener("pointerdown",u=>{u.pointerType==="touch"&&(Ha(u),c(u))},l),i.addEventListener("pointerup",c,l),i.addEventListener("pointercancel",c,l);return}if(!this.#d){this.#d=new AbortController;const a=AbortSignal.any([this.#c,this.#d.signal]),s=this.#e,i={signal:a,capture:!1,passive:!1};s.addEventListener("touchmove",this.#p.bind(this),i);const l=this.#f.bind(this);s.addEventListener("touchend",l,i),s.addEventListener("touchcancel",l,i),i.capture=!0,s.addEventListener("pointerdown",Ha,i),s.addEventListener("pointermove",Ha,i),s.addEventListener("pointercancel",Ha,i),s.addEventListener("pointerup",Ha,i),this.#i?.()}if(Ha(e),e.touches.length!==2||this.#n?.()){this.#l=null;return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#p(e){if(!this.#l||e.touches.length!==2)return;Ha(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:a,screenY:s}=t,{screenX:i,screenY:l}=n,c=this.#l,{touch0X:u,touch0Y:A,touch1X:h,touch1Y:p}=c,m=h-u,y=p-A,g=i-a,v=l-s,b=Math.hypot(g,v)||1,N=Math.hypot(m,y)||1;if(!this.#t&&Math.abs(N-b)<=Qv.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=a,c.touch0Y=s,c.touch1X=i,c.touch1Y=l,!this.#t){this.#t=!0;return}const C=[(a+i)/2,(s+l)/2];this.#a?.(C,N,b)}#f(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#s?.()),this.#l&&(Ha(e),this.#l=null,this.#t=!1))}destroy(){this.#A?.abort(),this.#A=null,this.#o?.abort(),this.#o=null}}class br{#e=null;#t=null;#n=null;#r=null;#i=null;#a=!1;#s=null;#o="";#c=null;#l=null;#A=null;#d=null;#h=null;#p="";#f=!1;#u=null;#m=!1;#g=!1;#y=!1;#x=null;#S=0;#C=0;#v=null;#E=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#N=br._zIndex++;static _borderLineWidth=-1;static _colorManager=new rk;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=br.prototype._resizeWithKeyboard,t=DA.TRANSLATE_SMALL,n=DA.TRANSLATE_BIG;return zr(this,"_resizerKeyboardManager",new Uv([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],br.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:a,pageX:s,pageY:i}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,a],this.pageTranslation=[s,i];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return zr(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new yEe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(br._l10n??=e,br._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),br._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);br._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){la("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(e){this.#w=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#N}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#I(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,a){const[s,i]=this.parentDimensions;[n,a]=this.screenToPageTranslation(n,a),this.x=(e+n)/s,this.y=(t+a)/i,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,a]=this.parentDimensions;this.setAt(e*n,t*a,this.width*n,this.height*a),this._onTranslated()}#T([e,t],n,a){[n,a]=this.screenToPageTranslation(n,a),this.x+=n/e,this.y+=a/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#T(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y,this.width,this.height],this.#T(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[a,s]}=this;if(this.x+=e/a,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:l}=this;const[c,u]=this.getBaseTranslation();i+=c,l+=u;const{style:A}=n;A.left=`${(100*i).toFixed(2)}%`,A.top=`${(100*l).toFixed(2)}%`,this._onTranslating(i,l),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=br,a=n/e,s=n/t;switch(this.rotation){case 90:return[-a,s];case 180:return[a,s];case 270:return[a,-s];default:return[-a,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,a]}=this;let{x:s,y:i,width:l,height:c}=this;if(l*=n,c*=a,s*=n,i*=a,this._mustFixPosition)switch(e){case 0:s=no(s,0,n-l),i=no(i,0,a-c);break;case 90:s=no(s,0,n-c),i=no(i,l,a);break;case 180:s=no(s,l,n),i=no(i,c,a);break;case 270:s=no(s,c,n),i=no(i,0,a-l);break}this.x=s/=n,this.y=i/=a;const[u,A]=this.getBaseTranslation();s+=u,i+=A,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*i).toFixed(2)}%`,this.moveInDOM()}static#j(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return br.#j(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return br.#j(e,t,360-this.parentRotation)}#_(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#L(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const a=document.createElement("div");this.#c.append(a),a.classList.add("resizer",n),a.setAttribute("data-resizer-name",n),a.addEventListener("pointerdown",this.#F.bind(this,n),{signal:t}),a.addEventListener("contextmenu",Jl,{signal:t}),a.tabIndex=-1}this.div.prepend(this.#c)}#F(e,t){t.preventDefault();const{isMac:n}=bi.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#n?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#l=[t.screenX,t.screenY];const s=new AbortController,i=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#P.bind(this,e),{passive:!0,capture:!0,signal:i}),window.addEventListener("touchmove",Ha,{passive:!1,signal:i}),window.addEventListener("contextmenu",Jl,{signal:i}),this.#A={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=l,this.div.style.cursor=c,this.#M()};window.addEventListener("pointerup",u,{signal:i}),window.addEventListener("blur",u,{signal:i})}#D(e,t,n,a){this.width=n,this.height=a,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#M(){if(!this.#A)return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:a}=this.#A;this.#A=null;const s=this.x,i=this.y,l=this.width,c=this.height;s===e&&i===t&&l===n&&c===a||this.addCommands({cmd:this.#D.bind(this,s,i,l,c),undo:this.#D.bind(this,e,t,n,a),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#P(e,t){const[n,a]=this.parentDimensions,s=this.x,i=this.y,l=this.width,c=this.height,u=br.MIN_SIZE/n,A=br.MIN_SIZE/a,h=this.#_(this.rotation),p=(X,ae)=>[h[0]*X+h[2]*ae,h[1]*X+h[3]*ae],m=this.#_(360-this.rotation),y=(X,ae)=>[m[0]*X+m[2]*ae,m[1]*X+m[3]*ae];let g,v,b=!1,N=!1;switch(e){case"topLeft":b=!0,g=(X,ae)=>[0,0],v=(X,ae)=>[X,ae];break;case"topMiddle":g=(X,ae)=>[X/2,0],v=(X,ae)=>[X/2,ae];break;case"topRight":b=!0,g=(X,ae)=>[X,0],v=(X,ae)=>[0,ae];break;case"middleRight":N=!0,g=(X,ae)=>[X,ae/2],v=(X,ae)=>[0,ae/2];break;case"bottomRight":b=!0,g=(X,ae)=>[X,ae],v=(X,ae)=>[0,0];break;case"bottomMiddle":g=(X,ae)=>[X/2,ae],v=(X,ae)=>[X/2,0];break;case"bottomLeft":b=!0,g=(X,ae)=>[0,ae],v=(X,ae)=>[X,0];break;case"middleLeft":N=!0,g=(X,ae)=>[0,ae/2],v=(X,ae)=>[X,ae/2];break}const C=g(l,c),E=v(l,c);let _=p(...E);const P=br._round(s+_[0]),O=br._round(i+_[1]);let D=1,k=1,H,L;if(t.fromKeyboard)({deltaX:H,deltaY:L}=t);else{const{screenX:X,screenY:ae}=t,[Y,de]=this.#l;[H,L]=this.screenToPageTranslation(X-Y,ae-de),this.#l[0]=X,this.#l[1]=ae}if([H,L]=y(H/n,L/a),b){const X=Math.hypot(l,c);D=k=Math.max(Math.min(Math.hypot(E[0]-C[0]-H,E[1]-C[1]-L)/X,1/l,1/c),u/l,A/c)}else N?D=no(Math.abs(E[0]-C[0]-H),u,1)/l:k=no(Math.abs(E[1]-C[1]-L),A,1)/c;const Q=br._round(l*D),R=br._round(c*k);_=p(...v(Q,R));const K=P-_[0],ee=O-_[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=Q,this.height=R,this.x=K,this.y=ee,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#g)return this._editToolbar;this._editToolbar=new my(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#n?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(fd.initialize(br._l10n),this.#n=new fd(this),this.#e&&(this.#n.data=this.#e,this.#e=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(e){await this.#n?.setGuessedText(e)}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}focusCommentButton(){this.#r?.focusButton()}addCommentButton(){return this.#r||=new Nb(this)}addStandaloneCommentButton(){if(this.#i){this._uiManager.isEditingMode()&&this.#i.classList.remove("hidden");return}this.hasComment&&(this.#i=this.#r.renderForStandalone(),this.div.append(this.#i))}removeStandaloneCommentButton(){this.#r.removeStandaloneCommentButton(),this.#i=null}hideStandaloneCommentButton(){this.#i?.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:n,deleted:a}}=this.#r;return{text:t,richText:e,date:n,deleted:a,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#r||=new Nb(this),this.#r.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(this.#r||=new Nb(this),this.#r.setInitialText(e,n),!this.annotationElementId))return;const a=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);a&&this.updateFromAnnotationLayer(a)}get hasEditedComment(){return this.#r?.hasBeenEdited()}get hasDeletedComment(){return this.#r?.isDeleted()}get hasComment(){return!!this.#r&&!this.#r.isEmpty()&&!this.#r.isDeleted()}async editComment(e){this.#r||=new Nb(this),this.#r.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#r.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,a]=e.rect,[s]=this.pageDimensions,[i]=this.pageTranslation,l=i+s+1,c=a-100,u=l+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,c,u,a]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#r.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#a?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#Q();const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[a,s]=this.getInitialTranslation();return this.translate(a,s),jV(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#E||=new Qv({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#K.bind(this),onPinching:this.#B.bind(this),onPinchEnd:this.#b.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#K(){this.#A={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#B(e,t,n){let s=.7*(n/t)+1-.7;if(s===1)return;const i=this.#_(this.rotation),l=(P,O)=>[i[0]*P+i[2]*O,i[1]*P+i[3]*O],[c,u]=this.parentDimensions,A=this.x,h=this.y,p=this.width,m=this.height,y=br.MIN_SIZE/c,g=br.MIN_SIZE/u;s=Math.max(Math.min(s,1/p,1/m),y/p,g/m);const v=br._round(p*s),b=br._round(m*s);if(v===p&&b===m)return;this.#u||=[A,h,p,m];const N=l(p/2,m/2),C=br._round(A+N[0]),E=br._round(h+N[1]),_=l(v/2,b/2);this.x=C-_[0],this.y=E-_[1],this.width=v,this.height=b,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#b(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#M()}pointerdown(e){const{isMac:t}=bi.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#R(e);return}this.#O(e)}#O(e){const{isMac:t}=bi.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#R(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const a=new AbortController,s=this._uiManager.combinedSignal(a),i={capture:!0,passive:!1,signal:s},l=u=>{a.abort(),this.#s=null,this.#f=!1,this._uiManager.endDragSession()||this.#O(u),n&&this._onStopDragging()};t&&(this.#S=e.clientX,this.#C=e.clientY,this.#s=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",u=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:A,clientY:h,pointerId:p}=u;if(p!==this.#s){Ha(u);return}const[m,y]=this.screenToPageTranslation(A-this.#S,h-this.#C);this.#S=A,this.#C=h,this._uiManager.dragSelectedEditors(m,y)},i),window.addEventListener("touchmove",Ha,i),window.addEventListener("pointerdown",u=>{u.pointerType===this.#o&&(this.#E||u.isPrimary)&&l(u),Ha(u)},i));const c=u=>{if(!this.#s||this.#s===u.pointerId){l(u);return}Ha(u)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#x&&clearTimeout(this.#x),this.#x=setTimeout(()=>{this.#x=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const a=this.parentScale,[s,i]=this.pageDimensions,[l,c]=this.pageTranslation,u=e/a,A=t/a,h=this.x*s,p=this.y*i,m=this.width*s,y=this.height*i;switch(n){case 0:return[h+u+l,i-p-A-y+c,h+u+m+l,i-p-A+c];case 90:return[h+A+l,i-p+u+c,h+A+y+l,i-p+u+m+c];case 180:return[h-u-m+l,i-p+A+c,h-u+l,i-p+A+y+c];case 270:return[h-A-y+l,i-p-u-m+c,h-A+l,i-p-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,a,s,i]=e,l=s-n,c=i-a;switch(this.rotation){case 0:return[n,t-i,l,c];case 90:return[n,t-a,c,l];case 180:return[s,t-a,l,c];case 270:return[s,t-i,c,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&br._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#r?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:a,deleted:s,richText:i},uid:l,pageIndex:c,creationDate:u,modificationDate:A}=this;return{id:l,pageIndex:c,rect:this.getPDFRect(),richText:i,contentsObj:{str:e},creationDate:u,modificationDate:n||A,popupRef:!s,color:t,opacity:a}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#g=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#g=!1,!0):!1}isInEditMode(){return this.#g}shouldGetKeyboardEvents(){return this.#y}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:a}=this.getClientDimensions(),{innerHeight:s,innerWidth:i}=window;return t<i&&a>0&&e<s&&n>0}#Q(){if(this.#h||!this.div)return;this.#h=new AbortController;const e=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#Q()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,n){const a=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});a.rotation=e.rotation,a.#e=e.accessibilityData,a._isCopy=e.isCopy||!1;const[s,i]=a.pageDimensions,[l,c,u,A]=a.getRectInCurrentCoords(e.rect,i);return a.x=l/s,a.y=c/i,a.width=u/s,a.height=A/i,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#x&&(clearTimeout(this.#x),this.#x=null),this.#I(),this.removeEditToolbar(),this.#v){for(const e of this.#v.values())clearTimeout(e);this.#v=null}this.parent=null,this.#E?.destroy(),this.#E=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#L(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,a,s,i]=this.getPDFRect();return[br._round(n+(s-n)*e),br._round(a+(i-a)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#r.commentPopupPositionInLayer}set commentPopupPosition(e){this.#r.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#r.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#r.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#r.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#A={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#c.children;if(!this.#t){this.#t=Array.from(t);const i=this.#q.bind(this),l=this.#V.bind(this),c=this._uiManager._signal;for(const u of this.#t){const A=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",i,{signal:c}),u.addEventListener("blur",l,{signal:c}),u.addEventListener("focus",this.#G.bind(this,A),{signal:c}),u.setAttribute("data-l10n-id",br._l10nResizer[A])}}const n=this.#t[0];let a=0;for(const i of t){if(i===n)break;a++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==a){if(s<a)for(let l=0;l<a-s;l++)this.#c.append(this.#c.firstChild);else if(s>a)for(let l=0;l<s-a;l++)this.#c.firstChild.before(this.#c.lastChild);let i=0;for(const l of t){const u=this.#t[i++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",br._l10nResizer[u])}}this.#H(0),this.#y=!0,this.#c.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#q(e){br._resizerKeyboardManager.exec(this,e)}#V(e){this.#y&&e.relatedTarget?.parentNode!==this.#c&&this.#I()}#G(e){this.#p=this.#y?e:""}#H(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#y&&this.#P(this.#p,{deltaX:e,deltaY:t,fromKeyboard:!0})}#I(){this.#y=!1,this.#H(-1),this.#M()}_stopResizingWithKeyboard(){this.#I(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(e){this.#m=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#v||=new Map;const{action:n}=e;let a=this.#v.get(n);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(e),this.#v.delete(n),this.#v.size===0&&(this.#v=null)},br._telemetryTimeout),this.#v.set(n,a);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#a=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#a=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class yEe extends br{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const OM=3285377520,vc=4294901760,od=65535;class _V{constructor(e){this.h1=e?e&4294967295:OM,this.h2=e?e&4294967295:OM}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let g=0,v=e.length;g<v;g++){const b=e.charCodeAt(g);b<=255?t[n++]=b:(t[n++]=b>>>8,t[n++]=b&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=n>>2,s=n-a*4,i=new Uint32Array(t.buffer,0,a);let l=0,c=0,u=this.h1,A=this.h2;const h=3432918353,p=461845907,m=h&od,y=p&od;for(let g=0;g<a;g++)g&1?(l=i[g],l=l*h&vc|l*m&od,l=l<<15|l>>>17,l=l*p&vc|l*y&od,u^=l,u=u<<13|u>>>19,u=u*5+3864292196):(c=i[g],c=c*h&vc|c*m&od,c=c<<15|c>>>17,c=c*p&vc|c*y&od,A^=c,A=A<<13|A>>>19,A=A*5+3864292196);switch(l=0,s){case 3:l^=t[a*4+2]<<16;case 2:l^=t[a*4+1]<<8;case 1:l^=t[a*4],l=l*h&vc|l*m&od,l=l<<15|l>>>17,l=l*p&vc|l*y&od,a&1?u^=l:A^=l}this.h1=u,this.h2=A}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&vc|e*36045&od,t=t*4283543511&vc|((t<<16|e>>>16)*2950163797&vc)>>>16,e^=t>>>1,e=e*444984403&vc|e*60499&od,t=t*3301882366&vc|((t<<16|e>>>16)*3120437893&vc)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const g4=Object.freeze({map:null,hash:"",transfer:void 0});class nk{#e=!1;#t=null;#n=null;#r=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#r.get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return this.#r.get(e)}remove(e){const t=this.#r.get(e);if(t!==void 0&&(t instanceof br&&this.#n.delete(t.annotationElementId),this.#r.delete(e),this.#r.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#r.values())if(n instanceof br)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#r.get(e);let a=!1;if(n!==void 0)for(const[s,i]of Object.entries(t))n[s]!==i&&(a=!0,n[s]=i);else a=!0,this.#r.set(e,t);a&&this.#i(),t instanceof br&&((this.#n||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#r.has(e)}get size(){return this.#r.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new TV(this)}get serializable(){if(this.#r.size===0)return g4;const e=new Map,t=new _V,n=[],a=Object.create(null);let s=!1;for(const[i,l]of this.#r){const c=l instanceof br?l.serialize(!1,a):l;c&&(e.set(i,c),t.update(`${i}:${JSON.stringify(c)}`),s||=!!c.bitmap)}if(s)for(const i of e.values())i.bitmap&&n.push(i.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:g4}get editorStats(){let e=null;const t=new Map;let n=0,a=0;for(const s of this.#r.values()){if(!(s instanceof br)){s.popup&&(s.popup.deleted?a+=1:n+=1);continue}s.isCommentDeleted?a+=1:s.hasEditedComment&&(n+=1);const i=s.telemetryFinalData;if(!i)continue;const{type:l}=i;t.has(l)||t.set(l,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const c=e[l]||=new Map;for(const[u,A]of Object.entries(i)){if(u==="type")continue;let h=c.get(u);h||(h=new Map,c.set(u,h));const p=h.get(A)??0;h.set(A,p+1)}}if((a>0||n>0)&&(e||=Object.create(null),e.comments={deleted:a,edited:n}),!e)return null;for(const[s,i]of t)e[s]=i.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const n=this.#n?.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#n?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#n)for(const t of this.#n.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#r.entries()}}class TV extends nk{#e;constructor(e){super();const{map:t,hash:n,transfer:a}=e.serializable,s=structuredClone(t,a?{transfer:a}:null);this.#e={map:s,hash:n,transfer:a}}get print(){la("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return zr(this,"modifiedIds",{ids:new Set,hash:""})}}class vEe{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||this.#e.has(e.loadedName))){if(ln(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:s,style:i}=e,l=new FontFace(a,s,i);this.addNativeFontFace(l);try{await l.load(),this.#e.add(a),n?.(e)}catch{Rr(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}la("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(a){throw Rr(`Failed to load font '${n.family}': '${a}'.`),e.disableFontFace=!0,a}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const a=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,a)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return zr(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return zr(this,"isSyncFontLoadingSupported",Co||bi.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(ln(!a.done,"completeRequest() cannot be called twice."),a.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,a={done:!1,complete:t,callback:e};return n.push(a),a}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return zr(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(E,_){return E.charCodeAt(_)<<24|E.charCodeAt(_+1)<<16|E.charCodeAt(_+2)<<8|E.charCodeAt(_+3)&255}function a(E,_,P,O){const D=E.substring(0,_),k=E.substring(_+P);return D+O+k}let s,i;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let u=0;function A(E,_){if(++u>30){Rr("Load test font never loaded."),_();return}if(c.font="30px "+E,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){_();return}setTimeout(A.bind(null,E,_))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=a(p,976,h.length,h);const y=16,g=1482184792;let v=n(p,y);for(s=0,i=h.length-3;s<i;s+=4)v=v-g+n(h,s)|0;s<h.length&&(v=v-g+n(h+"XXX",s)|0),p=a(p,y,4,oEe(v));const b=`url(data:font/opentype;base64,${btoa(p)});`,N=`@font-face {font-family:"${h}";src:${b}}`;this.insertRule(N);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const E of[e.loadedName,h]){const _=this._document.createElement("span");_.textContent="Hi",_.style.fontFamily=E,C.append(_)}this._document.body.append(C),A(h,()=>{C.remove(),t.complete()})}}class bEe{#e;constructor(e,t=null,n,a){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,n&&Object.assign(this,n),a&&(this.charProcOperatorList=a)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${bV(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let a;try{a=e.get(n)}catch(i){Rr(`getPathGenerator - ignoring character: "${i}".`)}const s=new Path2D(a||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=s}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}function wEe(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(Co)return r;const e=URL.parse(r,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function CEe(r){if(Co&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return Lv(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r?.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Sb(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const x4=r=>typeof r=="object"&&Number.isInteger(r?.num)&&r.num>=0&&Number.isInteger(r?.gen)&&r.gen>=0,NEe=r=>typeof r=="object"&&typeof r?.name=="string",kV=dEe.bind(null,x4,NEe);class SEe{#e=new Map;#t=Promise.resolve();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[a]of this.#e)a.call(this,n)})}addEventListener(e,t,n=null){let a=null;if(n?.signal instanceof AbortSignal){const{signal:s}=n;if(s.aborted){Rr("LoopbackPort - cannot use an `aborted` signal.");return}const i=()=>this.removeEventListener(e,t);a=()=>s.removeEventListener("abort",i),s.addEventListener("abort",i)}this.#e.set(t,a)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const Bb={DATA:1,ERROR:2},Os={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function DM(){}function rl(r){if(r instanceof OA||r instanceof R2||r instanceof BM||r instanceof Vy||r instanceof WB)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||la('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new OA(r.message);case"InvalidPDFException":return new R2(r.message);case"PasswordException":return new BM(r.message,r.code);case"ResponseException":return new Vy(r.message,r.status,r.missing);case"UnknownErrorException":return new WB(r.message,r.details)}return new WB(r.message,r.toString())}class Xx{#e=new AbortController;constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#r(e);return}if(e.callback){const n=e.callbackId,a=this.callbackCapabilities[n];if(!a)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Bb.DATA)a.resolve(e.data);else if(e.callback===Bb.ERROR)a.reject(rl(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,a=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(i){s.postMessage({sourceName:n,targetName:a,callback:Bb.DATA,callbackId:e.callbackId,data:i})},function(i){s.postMessage({sourceName:n,targetName:a,callback:Bb.ERROR,callbackId:e.callbackId,reason:rl(i)})});return}if(e.streamId){this.#n(e);return}t(e.data)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const a=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[a]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:a,data:t},n)}catch(i){s.reject(i)}return s.promise}sendWithStream(e,t,n,a){const s=this.streamId++,i=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const A=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:A,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:i,targetName:l,action:e,streamId:s,data:t,desiredSize:u.desiredSize},a),A.promise},pull:u=>{const A=Promise.withResolvers();return this.streamControllers[s].pullCall=A,c.postMessage({sourceName:i,targetName:l,stream:Os.PULL,streamId:s,desiredSize:u.desiredSize}),A.promise},cancel:u=>{ln(u instanceof Error,"cancel must have a valid reason");const A=Promise.withResolvers();return this.streamControllers[s].cancelCall=A,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:i,targetName:l,stream:Os.CANCEL,streamId:s,reason:rl(u)}),A.promise}},n)}#n(e){const t=e.streamId,n=this.sourceName,a=e.sourceName,s=this.comObj,i=this,l=this.actionHandler[e.action],c={enqueue(u,A=1,h){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=A,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:a,stream:Os.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:a,stream:Os.CLOSE,streamId:t}),delete i.streamSinks[t])},error(u){ln(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:a,stream:Os.ERROR,streamId:t,reason:rl(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(l,e.data,c).then(function(){s.postMessage({sourceName:n,targetName:a,stream:Os.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:n,targetName:a,stream:Os.START_COMPLETE,streamId:t,reason:rl(u)})})}#r(e){const t=e.streamId,n=this.sourceName,a=e.sourceName,s=this.comObj,i=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case Os.START_COMPLETE:e.success?i.startCall.resolve():i.startCall.reject(rl(e.reason));break;case Os.PULL_COMPLETE:e.success?i.pullCall.resolve():i.pullCall.reject(rl(e.reason));break;case Os.PULL:if(!l){s.postMessage({sourceName:n,targetName:a,stream:Os.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||DM).then(function(){s.postMessage({sourceName:n,targetName:a,stream:Os.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:n,targetName:a,stream:Os.PULL_COMPLETE,streamId:t,reason:rl(u)})});break;case Os.ENQUEUE:if(ln(i,"enqueue should have stream controller"),i.isClosed)break;i.controller.enqueue(e.chunk);break;case Os.CLOSE:if(ln(i,"close should have stream controller"),i.isClosed)break;i.isClosed=!0,i.controller.close(),this.#i(i,t);break;case Os.ERROR:ln(i,"error should have stream controller"),i.controller.error(rl(e.reason)),this.#i(i,t);break;case Os.CANCEL_COMPLETE:e.success?i.cancelCall.resolve():i.cancelCall.reject(rl(e.reason)),this.#i(i,t);break;case Os.CANCEL:if(!l)break;const c=rl(e.reason);Promise.try(l.onCancel||DM,c).then(function(){s.postMessage({sourceName:n,targetName:a,stream:Os.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:n,targetName:a,stream:Os.CANCEL_COMPLETE,streamId:t,reason:rl(u)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#i(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class FV{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){la("Abstract method `_createCanvas` called.")}}class BEe extends FV{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class OV{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){la("Abstract method `_fetch` called.")}}class PM extends OV{async _fetch(e){const t=await Pg(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Lv(t)}}class DV{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,a,s){return"none"}destroy(e=!1){}}class EEe extends DV{#e;#t;#n;#r;#i;#a;#s=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#r=e,this.#i=t}get#o(){return this.#t||=new Map}get#c(){return this.#a||=new Map}get#l(){if(!this.#n){const e=this.#i.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#i.createElementNS(cA,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#n=this.#i.createElementNS(cA,"defs"),e.append(n),n.append(this.#n),this.#i.body.append(e)}return this.#n}#A(e){if(e.length===1){const c=e[0],u=new Array(256);for(let h=0;h<256;h++)u[h]=c[h]/255;const A=u.join(",");return[A,A,A]}const[t,n,a]=e,s=new Array(256),i=new Array(256),l=new Array(256);for(let c=0;c<256;c++)s[c]=t[c]/255,i[c]=n[c]/255,l[c]=a[c]/255;return[s.join(","),i.join(","),l.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const t=this.#i.URL;t!==this.#i.baseURI&&(Rv(t)?Rr('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=Y3(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[n,a,s]=this.#A(e),i=e.length===1?n:`${n}${a}${s}`;if(t=this.#o.get(i),t)return this.#o.set(e,t),t;const l=`g_${this.#r}_transfer_map_${this.#s++}`,c=this.#d(l);this.#o.set(e,c),this.#o.set(i,c);const u=this.#f(l);return this.#m(n,a,s,u),c}addHCMFilter(e,t){const n=`${e}-${t}`,a="base";let s=this.#c.get(a);if(s?.key===n||(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#c.set(a,s)),!e||!t))return s.url;const i=this.#y(e);e=Xt.makeHexColor(...i);const l=this.#y(t);if(t=Xt.makeHexColor(...l),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return s.url;const c=new Array(256);for(let m=0;m<=255;m++){const y=m/255;c[m]=y<=.03928?y/12.92:((y+.055)/1.055)**2.4}const u=c.join(","),A=`g_${this.#r}_hcm_filter`,h=s.filter=this.#f(A);this.#m(u,u,u,h),this.#p(h);const p=(m,y)=>{const g=i[m]/255,v=l[m]/255,b=new Array(y+1);for(let N=0;N<=y;N++)b[N]=g+N/y*(v-g);return b.join(",")};return this.#m(p(0,5),p(1,5),p(2,5),h),s.url=this.#d(A),s.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[n]=this.#A([e]),a=`alpha_${n}`;if(t=this.#o.get(a),t)return this.#o.set(e,t),t;const s=`g_${this.#r}_alpha_map_${this.#s++}`,i=this.#d(s);this.#o.set(e,i),this.#o.set(a,i);const l=this.#f(s);return this.#g(n,l),i}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let n,a;if(e?([n]=this.#A([e]),a=`luminosity_${n}`):a="luminosity",t=this.#o.get(a),t)return this.#o.set(e,t),t;const s=`g_${this.#r}_luminosity_map_${this.#s++}`,i=this.#d(s);this.#o.set(e,i),this.#o.set(a,i);const l=this.#f(s);return this.#h(l),e&&this.#g(n,l),i}addHighlightHCMFilter(e,t,n,a,s){const i=`${t}-${n}-${a}-${s}`;let l=this.#c.get(e);if(l?.key===i||(l?(l.filter?.remove(),l.key=i,l.url="none",l.filter=null):(l={key:i,url:"none",filter:null},this.#c.set(e,l)),!t||!n))return l.url;const[c,u]=[t,n].map(this.#y.bind(this));let A=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,m]=[a,s].map(this.#y.bind(this));h<A&&([A,h,p,m]=[h,A,m,p]),this.#l.style.color="";const y=(b,N,C)=>{const E=new Array(256),_=(h-A)/C,P=b/255,O=(N-b)/(255*C);let D=0;for(let k=0;k<=C;k++){const H=Math.round(A+k*_),L=P+k*O;for(let Q=D;Q<=H;Q++)E[Q]=L;D=H+1}for(let k=D;k<256;k++)E[k]=E[D-1];return E.join(",")},g=`g_${this.#r}_hcm_${e}_filter`,v=l.filter=this.#f(g);return this.#p(v),this.#m(y(p[0],m[0],5),y(p[1],m[1],5),y(p[2],m[2],5),v),l.url=this.#d(g),l.url}destroy(e=!1){e&&this.#a?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#t?.clear(),this.#t=null,this.#a?.clear(),this.#a=null,this.#s=0)}#h(e){const t=this.#i.createElementNS(cA,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#p(e){const t=this.#i.createElementNS(cA,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#f(e){const t=this.#i.createElementNS(cA,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#u(e,t,n){const a=this.#i.createElementNS(cA,t);a.setAttribute("type","discrete"),a.setAttribute("tableValues",n),e.append(a)}#m(e,t,n,a){const s=this.#i.createElementNS(cA,"feComponentTransfer");a.append(s),this.#u(s,"feFuncR",e),this.#u(s,"feFuncG",t),this.#u(s,"feFuncB",n)}#g(e,t){const n=this.#i.createElementNS(cA,"feComponentTransfer");t.append(n),this.#u(n,"feFuncA",e)}#y(e){return this.#l.style.color=e,Ig(getComputedStyle(this.#l).getPropertyValue("color"))}}class PV{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){la("Abstract method `_fetch` called.")}}class IM extends PV{async _fetch(e){const t=await Pg(e,"arraybuffer");return new Uint8Array(t)}}class IV{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){la("Abstract method `_fetch` called.")}}class LM extends IV{async _fetch(e){const t=await Pg(e,"arraybuffer");return new Uint8Array(t)}}Co&&Rr("Please use the `legacy` build in Node.js environments.");async function ak(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class jEe extends DV{}class _Ee extends FV{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class TEe extends OV{async _fetch(e){return ak(e)}}class kEe extends PV{async _fetch(e){return ak(e)}}class FEe extends IV{async _fetch(e){return ak(e)}}const tp="__forcedDependency",{floor:MM,ceil:RM}=Math;function Eb(r,e,t,n,a,s){r[e*4+0]=Math.min(r[e*4+0],t),r[e*4+1]=Math.min(r[e*4+1],n),r[e*4+2]=Math.max(r[e*4+2],a),r[e*4+3]=Math.max(r[e*4+3],s)}const y4=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class OEe{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===y4}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const jb=(r,e)=>{if(!r)return;let t=r.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},r.set(e,t)),t};class DEe{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[tp]:[]};#n=new Map;#r=[];#i=[];#a=[[1,0,0,1,0,0]];#s=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#A=new Map;#d=new Map;#h;#p;#f;#u;#m;constructor(e,t,n=!1){this.#h=e.width,this.#p=e.height,this.#g(t),n&&(this.#m=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#g(e,this.#u)}#g(e,t){const n=new ArrayBuffer(e*4);this.#f=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),t&&t.length>0?(this.#u.set(t),this.#u.fill(y4,t.length)):this.#u.fill(y4)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[tp]:{__proto__:this.#t[tp]}},this.#s={__proto__:this.#s},this.#r.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#s=Object.getPrototypeOf(this.#s);const n=this.#r.pop();return n!==void 0&&(jb(this.#m,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}recordOpenMarker(e){return this.#r.push(e),this}getOpenMarker(){return this.#r.length===0?null:this.#r.at(-1)}recordCloseMarker(e){const t=this.#r.pop();return t!==void 0&&(jb(this.#m,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}beginMarkedContent(e){return this.#i.push(e),this}endMarkedContent(e){const t=this.#i.pop();return t!==void 0&&(jb(this.#m,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}pushBaseTransform(e){return this.#a.push(Xt.multiplyByDOMMatrix(this.#a.at(-1),e.getTransform())),this}popBaseTransform(){return this.#a.length>1&&this.#a.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#n.set(e,t),this}recordSimpleDataFromNamed(e,t,n){this.#e[e]=this.#n.get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(tp,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(tp,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,t,n,a,s,i){const l=Xt.multiplyByDOMMatrix(this.#a.at(-1),t.getTransform()),c=[1/0,1/0,-1/0,-1/0];Xt.axialAlignedBoundingBox([n,s,a,i],l,c);const u=Xt.intersect(this.#s,c);return u?(this.#s[0]=u[0],this.#s[1]=u[1],this.#s[2]=u[2],this.#s[3]=u[3]):(this.#s[0]=this.#s[1]=1/0,this.#s[2]=this.#s[3]=-1/0),this}recordBBox(e,t,n,a,s,i){const l=this.#s;if(l[0]===1/0)return this;const c=Xt.multiplyByDOMMatrix(this.#a.at(-1),t.getTransform());if(l[0]===-1/0)return Xt.axialAlignedBoundingBox([n,s,a,i],c,this.#o),this;const u=[1/0,1/0,-1/0,-1/0];return Xt.axialAlignedBoundingBox([n,s,a,i],c,u),this.#o[0]=Math.min(this.#o[0],Math.max(u[0],l[0])),this.#o[1]=Math.min(this.#o[1],Math.max(u[1],l[1])),this.#o[2]=Math.max(this.#o[2],Math.min(u[2],l[2])),this.#o[3]=Math.max(this.#o[3],Math.min(u[3],l[3])),this}recordCharacterBBox(e,t,n,a=1,s=0,i=0,l){const c=n.bbox;let u,A;if(c&&(u=c[2]!==c[0]&&c[3]!==c[1]&&this.#d.get(n),u!==!1&&(A=[0,0,0,0],Xt.axialAlignedBoundingBox(c,n.fontMatrix,A),(a!==1||s!==0||i!==0)&&Xt.scaleMinMax([a,0,0,-a,s,i],A),u)))return this.recordBBox(e,t,A[0],A[2],A[1],A[3]);if(!l)return this.recordFullPageBBox(e);const h=l();return c&&A&&u===void 0&&(u=A[0]<=s-h.actualBoundingBoxLeft&&A[2]>=s+h.actualBoundingBoxRight&&A[1]<=i-h.actualBoundingBoxAscent&&A[3]>=i+h.actualBoundingBoxDescent,this.#d.set(n,u),u)?this.recordBBox(e,t,A[0],A[2],A[1],A[3]):this.recordBBox(e,t,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,i-h.actualBoundingBoxAscent,i+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#s[0]),this.#o[1]=Math.max(0,this.#s[1]),this.#o[2]=Math.min(this.#h,this.#s[2]),this.#o[3]=Math.min(this.#p,this.#s[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const n=this.#l,a=this.#e,s=this.#t;for(const i of t)i in this.#e?n.add(a[i]):i in s&&s[i].forEach(n.add,n);return this}recordNamedDependency(e,t){return this.#n.has(t)&&this.#l.add(this.#n.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[tp]),this.#m){const n=jb(this.#m,e),{dependencies:a}=n;this.#l.forEach(a.add,a),this.#r.forEach(a.add,a),this.#i.forEach(a.add,a),a.delete(e),n.isRenderingOperation=!0}if(this.#c===e){const n=MM(this.#o[0]*256/this.#h),a=MM(this.#o[1]*256/this.#p),s=RM(this.#o[2]*256/this.#h),i=RM(this.#o[3]*256/this.#p);Eb(this.#f,e,n,a,s,i);for(const l of this.#l)l!==e&&Eb(this.#f,l,n,a,s,i);for(const l of this.#r)l!==e&&Eb(this.#f,l,n,a,s,i);for(const l of this.#i)l!==e&&Eb(this.#f,l,n,a,s,i);t||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,t=!1){const n=Array.from(this.#l);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const a of n)this.recordIncrementalData("sameLineText",a);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#c===e&&(this.#c=-1,this.#s[0]=Math.max(this.#s[0],this.#o[0]),this.#s[1]=Math.max(this.#s[1],this.#o[1]),this.#s[2]=Math.min(this.#s[2],this.#o[2]),this.#s[3]=Math.min(this.#s[3],this.#o[3]),t||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const t=this.#A.get(e);return this.#A.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#l.add(t)}take(){return this.#d.clear(),new OEe(this.#u,this.#f)}takeDebugMetadata(){return this.#m}}class H2{#e;#t;#n;#r=0;#i=0;constructor(e,t,n){if(e instanceof H2&&e.#n===!!n)return e;this.#e=e,this.#t=t,this.#n=!!n}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#i++,this.#e.save(this.#t),this}restore(e){return this.#i>0&&(this.#e.restore(this.#t),this.#i--),this}recordOpenMarker(e){return this.#r++,this}getOpenMarker(){return this.#r>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#r--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#n||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,n,a,s,i){return this.#n||this.#e.recordClipBox(this.#t,t,n,a,s,i),this}recordBBox(e,t,n,a,s,i){return this.#n||this.#e.recordBBox(this.#t,t,n,a,s,i),this}recordCharacterBBox(e,t,n,a,s,i,l){return this.#n||this.#e.recordCharacterBBox(this.#t,t,n,a,s,i,l),this}recordFullPageBBox(e){return this.#n||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#n||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const bc={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Ui={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function v4(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],a=new Path2D;a.rect(e[0],e[1],t,n),r.clip(a)}class sk{isModifyingCurrentTransform(){return!1}getPattern(){la("Abstract method `getPattern` called.")}}class PEe extends sk{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,a){let s;if(a===Ui.STROKE||a===Ui.FILL){const i=t.current.getClippedPathBoundingBox(a,Qa(e))||[0,0,0,0],l=Math.ceil(i[2]-i[0])||1,c=Math.ceil(i[3]-i[1])||1,u=t.cachedCanvases.getCanvas("pattern",l,c),A=u.context;A.clearRect(0,0,A.canvas.width,A.canvas.height),A.beginPath(),A.rect(0,0,A.canvas.width,A.canvas.height),A.translate(-i[0],-i[1]),n=Xt.transform(n,[1,0,0,1,i[0],i[1]]),A.transform(...t.baseTransform),this.matrix&&A.transform(...this.matrix),v4(A,this._bbox),A.fillStyle=this._createGradient(A),A.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(n);s.setTransform(h)}else v4(e,this._bbox),s=this._createGradient(e);return s}}function JB(r,e,t,n,a,s,i,l){const c=e.coords,u=e.colors,A=r.data,h=r.width*4;let p;c[t+1]>c[n+1]&&(p=t,t=n,n=p,p=s,s=i,i=p),c[n+1]>c[a+1]&&(p=n,n=a,a=p,p=i,i=l,l=p),c[t+1]>c[n+1]&&(p=t,t=n,n=p,p=s,s=i,i=p);const m=(c[t]+e.offsetX)*e.scaleX,y=(c[t+1]+e.offsetY)*e.scaleY,g=(c[n]+e.offsetX)*e.scaleX,v=(c[n+1]+e.offsetY)*e.scaleY,b=(c[a]+e.offsetX)*e.scaleX,N=(c[a+1]+e.offsetY)*e.scaleY;if(y>=N)return;const C=u[s],E=u[s+1],_=u[s+2],P=u[i],O=u[i+1],D=u[i+2],k=u[l],H=u[l+1],L=u[l+2],Q=Math.round(y),R=Math.round(N);let K,ee,X,ae,Y,de,pe,Z;for(let I=Q;I<=R;I++){if(I<v){const ce=I<y?0:(y-I)/(y-v);K=m-(m-g)*ce,ee=C-(C-P)*ce,X=E-(E-O)*ce,ae=_-(_-D)*ce}else{let ce;I>N?ce=1:v===N?ce=0:ce=(v-I)/(v-N),K=g-(g-b)*ce,ee=P-(P-k)*ce,X=O-(O-H)*ce,ae=D-(D-L)*ce}let z;I<y?z=0:I>N?z=1:z=(y-I)/(y-N),Y=m-(m-b)*z,de=C-(C-k)*z,pe=E-(E-H)*z,Z=_-(_-L)*z;const V=Math.round(Math.min(K,Y)),q=Math.round(Math.max(K,Y));let ne=h*I+V*4;for(let ce=V;ce<=q;ce++)z=(K-ce)/(K-Y),z<0?z=0:z>1&&(z=1),A[ne++]=ee-(ee-de)*z|0,A[ne++]=X-(X-pe)*z|0,A[ne++]=ae-(ae-Z)*z|0,A[ne++]=255}}function IEe(r,e,t){const n=e.coords,a=e.colors;let s,i;switch(e.type){case"lattice":const l=e.verticesPerRow,c=Math.floor(n.length/l)-1,u=l-1;for(s=0;s<c;s++){let A=s*l;for(let h=0;h<u;h++,A++)JB(r,t,n[A],n[A+1],n[A+l],a[A],a[A+1],a[A+l]),JB(r,t,n[A+l+1],n[A+1],n[A+l],a[A+l+1],a[A+1],a[A+l])}break;case"triangles":for(s=0,i=n.length;s<i;s+=3)JB(r,t,n[s],n[s+1],n[s+2],a[s],a[s+1],a[s+2]);break;default:throw new Error("illegal figure")}}class LEe extends sk{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-l,A=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(A*e[1]*1.1)),3e3),m=u/h,y=A/p,g={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/m,scaleY:1/y},v=h+4,b=p+4,N=n.getCanvas("mesh",v,b),C=N.context,E=C.createImageData(h,p);if(t){const P=E.data;for(let O=0,D=P.length;O<D;O+=4)P[O]=t[0],P[O+1]=t[1],P[O+2]=t[2],P[O+3]=255}for(const P of this._figures)IEe(E,P,g);return C.putImageData(E,2,2),{canvas:N.canvas,offsetX:l-2*m,offsetY:c-2*y,scaleX:m,scaleY:y}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,a){v4(e,this._bbox);const s=new Float32Array(2);if(a===Ui.SHADING)Xt.singularValueDecompose2dScale(Qa(e),s);else if(this.matrix){Xt.singularValueDecompose2dScale(this.matrix,s);const[l,c]=s;Xt.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=l,s[1]*=c}else Xt.singularValueDecompose2dScale(t.baseTransform,s);const i=this._createMeshCanvas(s,a===Ui.SHADING?null:this._background,t.cachedCanvases);return a!==Ui.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(i.offsetX,i.offsetY),e.scale(i.scaleX,i.scaleY),e.createPattern(i.canvas,"no-repeat")}}class MEe extends sk{getPattern(){return"hotpink"}}function REe(r){switch(r[0]){case"RadialAxial":return new PEe(r);case"Mesh":return new LEe(r);case"Dummy":return new MEe}throw new Error(`Unknown IR type: ${r[0]}`)}const UM={COLORED:1,UNCOLORED:2};class ik{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,a){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=a}createPatternCanvas(e,t){const{bbox:n,operatorList:a,paintType:s,tilingType:i,color:l,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:A}=this;u=Math.abs(u),A=Math.abs(A),o5("TilingType: "+i);const h=n[0],p=n[1],m=n[2],y=n[3],g=m-h,v=y-p,b=new Float32Array(2);Xt.singularValueDecompose2dScale(this.matrix,b);const[N,C]=b;Xt.singularValueDecompose2dScale(this.baseTransform,b);const E=N*b[0],_=C*b[1];let P=g,O=v,D=!1,k=!1;const H=Math.ceil(u*E),L=Math.ceil(A*_),Q=Math.ceil(g*E),R=Math.ceil(v*_);H>=Q?P=u:D=!0,L>=R?O=A:k=!0;const K=this.getSizeAndScale(P,this.ctx.canvas.width,E),ee=this.getSizeAndScale(O,this.ctx.canvas.height,_),X=e.cachedCanvases.getCanvas("pattern",K.size,ee.size),ae=X.context,Y=c.createCanvasGraphics(ae,t);if(Y.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Y,s,l),ae.translate(-K.scale*h,-ee.scale*p),Y.transform(0,K.scale,0,0,ee.scale,0,0),ae.save(),Y.dependencyTracker?.save(),this.clipBbox(Y,h,p,m,y),Y.baseTransform=Qa(Y.ctx),Y.executeOperatorList(a),Y.endDrawing(),Y.dependencyTracker?.restore(),ae.restore(),D||k){const de=X.canvas;D&&(P=u),k&&(O=A);const pe=this.getSizeAndScale(P,this.ctx.canvas.width,E),Z=this.getSizeAndScale(O,this.ctx.canvas.height,_),I=pe.size,z=Z.size,V=e.cachedCanvases.getCanvas("pattern-workaround",I,z),q=V.context,ne=D?Math.floor(g/u):0,ce=k?Math.floor(v/A):0;for(let Be=0;Be<=ne;Be++)for(let Ae=0;Ae<=ce;Ae++)q.drawImage(de,I*Be,z*Ae,I,z,0,0,I,z);return{canvas:V.canvas,scaleX:pe.scale,scaleY:Z.scale,offsetX:h,offsetY:p}}return{canvas:X.canvas,scaleX:K.scale,scaleY:ee.scale,offsetX:h,offsetY:p}}getSizeAndScale(e,t,n){const a=Math.max(ik.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=a?s=a:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,a,s){const i=a-t,l=s-n;e.ctx.rect(t,n,i,l),Xt.axialAlignedBoundingBox([t,n,a,s],Qa(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const a=e.ctx,s=e.current;switch(t){case UM.COLORED:const{fillStyle:i,strokeStyle:l}=this.ctx;a.fillStyle=s.fillColor=i,a.strokeStyle=s.strokeColor=l;break;case UM.UNCOLORED:a.fillStyle=a.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new iEe(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,a,s){let i=n;a!==Ui.SHADING&&(i=Xt.transform(i,t.baseTransform),this.matrix&&(i=Xt.transform(i,this.matrix)));const l=this.createPatternCanvas(t,s);let c=new DOMMatrix(i);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const u=e.createPattern(l.canvas,"repeat");return u.setTransform(c),u}}function UEe({src:r,srcPos:e=0,dest:t,width:n,height:a,nonBlackColor:s=4294967295,inverseDecode:i=!1}){const l=bi.isLittleEndian?4278190080:255,[c,u]=i?[s,l]:[l,s],A=n>>3,h=n&7,p=r.length;t=new Uint32Array(t.buffer);let m=0;for(let y=0;y<a;y++){for(const v=e+A;e<v;e++){const b=e<p?r[e]:255;t[m++]=b&128?u:c,t[m++]=b&64?u:c,t[m++]=b&32?u:c,t[m++]=b&16?u:c,t[m++]=b&8?u:c,t[m++]=b&4?u:c,t[m++]=b&2?u:c,t[m++]=b&1?u:c}if(h===0)continue;const g=e<p?r[e++]:255;for(let v=0;v<h;v++)t[m++]=g&1<<7-v?u:c}return{srcPos:e,destPos:m}}const QM=16,HM=100,QEe=15,zM=10,al=16,ZB=new DOMMatrix,Rl=new Float32Array(2),Sp=new Float32Array([1/0,1/0,-1/0,-1/0]);function HEe(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},r.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},r.transform=function(t,n,a,s,i,l){e.transform(t,n,a,s,i,l),this.__originalTransform(t,n,a,s,i,l)},r.setTransform=function(t,n,a,s,i,l){e.setTransform(t,n,a,s,i,l),this.__originalSetTransform(t,n,a,s,i,l)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(t){e.rotate(t),this.__originalRotate(t)},r.clip=function(t){e.clip(t),this.__originalClip(t)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,a,s,i,l){e.bezierCurveTo(t,n,a,s,i,l),this.__originalBezierCurveTo(t,n,a,s,i,l)},r.rect=function(t,n,a,s){e.rect(t,n,a,s),this.__originalRect(t,n,a,s)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class zEe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let a;return this.cache[e]!==void 0?(a=this.cache[e],this.canvasFactory.reset(a,t,n)):(a=this.canvasFactory.create(t,n),this.cache[e]=a),a}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function _b(r,e,t,n,a,s,i,l,c,u){const[A,h,p,m,y,g]=Qa(r);if(h===0&&p===0){const N=i*A+y,C=Math.round(N),E=l*m+g,_=Math.round(E),P=(i+c)*A+y,O=Math.abs(Math.round(P)-C)||1,D=(l+u)*m+g,k=Math.abs(Math.round(D)-_)||1;return r.setTransform(Math.sign(A),0,0,Math.sign(m),C,_),r.drawImage(e,t,n,a,s,0,0,O,k),r.setTransform(A,h,p,m,y,g),[O,k]}if(A===0&&m===0){const N=l*p+y,C=Math.round(N),E=i*h+g,_=Math.round(E),P=(l+u)*p+y,O=Math.abs(Math.round(P)-C)||1,D=(i+c)*h+g,k=Math.abs(Math.round(D)-_)||1;return r.setTransform(0,Math.sign(h),Math.sign(p),0,C,_),r.drawImage(e,t,n,a,s,0,0,k,O),r.setTransform(A,h,p,m,y,g),[k,O]}r.drawImage(e,t,n,a,s,i,l,c,u);const v=Math.hypot(A,h),b=Math.hypot(p,m);return[v*c,b*u]}class KM{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=m4;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Di.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,n){n?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Sp.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Ui.FILL,t=null){const n=this.minMax.slice();if(e===Ui.STROKE){t||la("Stroke bounding box must include transform."),Xt.singularValueDecompose2dScale(t,Rl);const a=Rl[0]*this.lineWidth/2,s=Rl[1]*this.lineWidth/2;n[0]-=a,n[1]-=s,n[2]+=a,n[3]+=s}return n}updateClipFromPath(){const e=Xt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Sp,0)}getClippedPathBoundingBox(e=Ui.FILL,t=null){return Xt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function $M(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,a=t%al,s=(t-a)/al,i=a===0?s:s+1,l=r.createImageData(n,al);let c=0,u;const A=e.data,h=l.data;let p,m,y,g;if(e.kind===fy.GRAYSCALE_1BPP){const v=A.byteLength,b=new Uint32Array(h.buffer,0,h.byteLength>>2),N=b.length,C=n+7>>3,E=4294967295,_=bi.isLittleEndian?4278190080:255;for(p=0;p<i;p++){for(y=p<s?al:a,u=0,m=0;m<y;m++){const P=v-c;let O=0;const D=P>C?n:P*8-7,k=D&-8;let H=0,L=0;for(;O<k;O+=8)L=A[c++],b[u++]=L&128?E:_,b[u++]=L&64?E:_,b[u++]=L&32?E:_,b[u++]=L&16?E:_,b[u++]=L&8?E:_,b[u++]=L&4?E:_,b[u++]=L&2?E:_,b[u++]=L&1?E:_;for(;O<D;O++)H===0&&(L=A[c++],H=128),b[u++]=L&H?E:_,H>>=1}for(;u<N;)b[u++]=0;r.putImageData(l,0,p*al)}}else if(e.kind===fy.RGBA_32BPP){for(m=0,g=n*al*4,p=0;p<s;p++)h.set(A.subarray(c,c+g)),c+=g,r.putImageData(l,0,m),m+=al;p<i&&(g=n*a*4,h.set(A.subarray(c,c+g)),r.putImageData(l,0,m))}else if(e.kind===fy.RGB_24BPP)for(y=al,g=n*y,p=0;p<i;p++){for(p>=s&&(y=a,g=n*y),u=0,m=g;m--;)h[u++]=A[c++],h[u++]=A[c++],h[u++]=A[c++],h[u++]=255;r.putImageData(l,0,p*al)}else throw new Error(`bad image kind: ${e.kind}`)}function VM(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,a=t%al,s=(t-a)/al,i=a===0?s:s+1,l=r.createImageData(n,al);let c=0;const u=e.data,A=l.data;for(let h=0;h<i;h++){const p=h<s?al:a;({srcPos:c}=UEe({src:u,srcPos:c,dest:A,width:n,height:p,nonBlackColor:0})),r.putImageData(l,0,h*al)}}function Px(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function Tb(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}function qM(r,e){if(e)return!0;Xt.singularValueDecompose2dScale(r,Rl);const t=Math.fround(Eu.pixelRatio*Q0.PDF_TO_CSS_UNITS);return Rl[0]<=t&&Rl[1]<=t}const KEe=["butt","round","square"],$Ee=["miter","round","bevel"],VEe={},GM={};class Pp{constructor(e,t,n,a,s,{optionalContentConfig:i,markedContentStack:l=null},c,u,A){this.ctx=e,this.current=new KM(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=a,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=i,this.cachedCanvases=new zEe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=A??null}getObject(e,t,n=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:a=null}){const s=this.ctx.canvas.width,i=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,s,i),this.ctx.fillStyle=l,n){const c=this.cachedCanvases.getCanvas("transparent",s,i);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Qa(this.compositeCtx))}this.ctx.save(),Tb(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Qa(this.ctx)}executeOperatorList(e,t,n,a,s){const i=e.argsArray,l=e.fnArray;let c=t||0;const u=i.length;if(u===c)return c;const A=u-c>zM&&typeof n=="function",h=A?Date.now()+QEe:0;let p=0;const m=this.commonObjs,y=this.objs;let g,v;for(;;){if(a!==void 0&&c===a.nextBreakPoint)return a.breakIt(c,n),c;if(!s||s(c))if(g=l[c],v=i[c]??null,g!==og.dependency)v===null?this[g](c):this[g](c,...v);else for(const b of v){this.dependencyTracker?.recordNamedData(b,c);const N=b.startsWith("g_")?m:y;if(!N.has(b))return N.get(b,n),c}if(c++,c===u)return c;if(A&&++p>zM){if(Date.now()>h)return n(),c;p=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width??e.displayWidth,a=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),i=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=a,u="prescale1",A,h;for(;s>2&&l>1||i>2&&c>1;){let p=l,m=c;s>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/p),i>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,i/=c/m),A=this.cachedCanvases.getCanvas(u,p,m),h=A.context,h.clearRect(0,0,p,m),h.drawImage(e,0,0,l,c,0,0,p,m),e=A.canvas,l=p,c=m,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e,t){const n=this.ctx,{width:a,height:s}=t,i=this.current.fillColor,l=this.current.patternFill,c=Qa(n);let u,A,h,p;if((t.bitmap||t.data)&&t.count>1){const H=t.bitmap||t.data.buffer;A=JSON.stringify(l?c:[c.slice(0,4),i]),u=this._cachedBitmapsMap.get(H),u||(u=new Map,this._cachedBitmapsMap.set(H,u));const L=u.get(A);if(L&&!l){const Q=Math.round(Math.min(c[0],c[2])+c[4]),R=Math.round(Math.min(c[1],c[3])+c[5]);return this.dependencyTracker?.recordDependencies(e,bc.transformAndFill),{canvas:L,offsetX:Q,offsetY:R}}h=L}h||(p=this.cachedCanvases.getCanvas("maskCanvas",a,s),VM(p.context,t));let m=Xt.transform(c,[1/a,0,0,-1/s,0,0]);m=Xt.transform(m,[1,0,0,1,0,-s]);const y=Sp.slice();Xt.axialAlignedBoundingBox([0,0,a,s],m,y);const[g,v,b,N]=y,C=Math.round(b-g)||1,E=Math.round(N-v)||1,_=this.cachedCanvases.getCanvas("fillCanvas",C,E),P=_.context,O=g,D=v;P.translate(-O,-D),P.transform(...m),h||(h=this._scaleImage(p.canvas,id(P)),h=h.img,u&&l&&u.set(A,h)),P.imageSmoothingEnabled=qM(Qa(P),t.interpolate),_b(P,h,0,0,h.width,h.height,0,0,a,s),P.globalCompositeOperation="source-in";const k=Xt.transform(id(P),[1,0,0,1,-O,-D]);return P.fillStyle=l?i.getPattern(n,this,k,Ui.FILL,e):i,P.fillRect(0,0,a,s),u&&!l&&(this.cachedCanvases.delete("fillCanvas"),u.set(A,_.canvas)),this.dependencyTracker?.recordDependencies(e,bc.transformAndFill),{canvas:_.canvas,offsetX:Math.round(O),offsetY:Math.round(D)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=KEe[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=$Ee[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){this.dependencyTracker?.recordSimpleData("dash",e);const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(t),a.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[n,a]of t)switch(n){case"LW":this.setLineWidth(e,a);break;case"LC":this.setLineCap(e,a);break;case"LJ":this.setLineJoin(e,a);break;case"ML":this.setMiterLimit(e,a);break;case"D":this.setDash(e,a[0],a[1]);break;case"RI":this.setRenderingIntent(e,a);break;case"FL":this.setFlatness(e,a);break;case"Font":this.setFont(e,a[0],a[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=a;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=a;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=a;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(a,t,n);this.suspendedCtx=this.ctx;const i=this.ctx=s.context;i.setTransform(this.suspendedCtx.getTransform()),Px(this.suspendedCtx,i),HEe(i,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Px(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,a){const s=a[0],i=a[1],l=a[2]-s,c=a[3]-i;l===0||c===0||(this.genericComposeSMask(t.context,n,l,c,t.subtype,t.backdrop,t.transferMap,s,i,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,a,s,i,l,c,u,A,h){let p=e.canvas,m=c-A,y=u-h;if(i)if(m<0||y<0||m+n>p.width||y+a>p.height){const v=this.cachedCanvases.getCanvas("maskExtension",n,a),b=v.context;b.drawImage(p,-m,-y),b.globalCompositeOperation="destination-atop",b.fillStyle=i,b.fillRect(0,0,n,a),b.globalCompositeOperation="source-over",p=v.canvas,m=y=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const v=new Path2D;v.rect(m,y,n,a),e.clip(v),e.globalCompositeOperation="destination-atop",e.fillStyle=i,e.fillRect(m,y,n,a),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const g=new Path2D;g.rect(c,u,n,a),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(p,m,y,n,a,c,u,n,a),t.restore()}save(e){this.inSMaskMode&&Px(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Px(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,a,s,i,l){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,n,a,s,i,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,a){let[s]=n;if(!a){s||=n[0]=new Path2D,this[t](e,s);return}if(this.dependencyTracker!==null){const i=t===og.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,a[0]-i,a[2]+i,a[1]-i,a[3]+i).recordDependencies(e,["transform"])}if(!(s instanceof Path2D)){const i=n[0]=new Path2D;for(let l=0,c=s.length;l<c;)switch(s[l++]){case Cb.moveTo:i.moveTo(s[l++],s[l++]);break;case Cb.lineTo:i.lineTo(s[l++],s[l++]);break;case Cb.curveTo:i.bezierCurveTo(s[l++],s[l++],s[l++],s[l++],s[l++],s[l++]);break;case Cb.closePath:i.closePath();break;default:Rr(`Unrecognized drawing path operator: ${s[l-1]}`);break}s=i}Xt.axialAlignedBoundingBox(a,Qa(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){const a=this.ctx,s=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const i=s.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.strokeStyle=s.getPattern(a,this,id(a),Ui.STROKE,e),i){const l=new Path2D;l.addPath(t,a.getTransform().invertSelf().multiplySelf(i)),t=l}this.rescaleAndStroke(t,!1),a.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,bc.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Ui.STROKE,Qa(this.ctx))),a.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){const a=this.ctx,s=this.current.fillColor,i=this.current.patternFill;let l=!1;if(i){const u=s.isModifyingCurrentTransform()?a.getTransform():null;if(this.dependencyTracker?.save(e),a.save(),a.fillStyle=s.getPattern(a,this,id(a),Ui.FILL,e),u){const A=new Path2D;A.addPath(t,a.getTransform().invertSelf().multiplySelf(u)),t=A}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(a.fill(t,"evenodd"),this.pendingEOFill=!1):a.fill(t)),this.dependencyTracker?.recordDependencies(e,bc.fill),l&&(a.restore(),this.dependencyTracker?.restore(e)),n&&this.consumePath(e,t,c)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,bc.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=VEe}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=GM}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:a}=this;t!==void 0&&a.recordFutureForcedDependency("textClip",a.getOpenMarker()).recordFutureForcedDependency("textClip",e),a.recordCloseMarker(e)}if(t!==void 0){const a=new Path2D,s=n.getTransform().invertSelf();for(const{transform:i,x:l,y:c,fontSize:u,path:A}of t)A&&a.addPath(A,new DOMMatrix(i).preMultiplySelf(s).translate(l,c).scale(u,-u));n.clip(a)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const a=this.commonObjs.get(t),s=this.current;if(!a)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=a.fontMatrix||m4,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Rr("Invalid font matrix for font "+t),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=a,this.current.fontSize=n,a.isType3Font)return;const i=a.loadedName||"sans-serif",l=a.systemFontInfo?.css||`"${i}", ${a.fallbackName}`;let c="normal";a.black?c="900":a.bold&&(c="bold");const u=a.italic?"italic":"normal";let A=n;n<QM?A=QM:n>HM&&(A=HM),this.current.fontSizeScale=n/A,this.ctx.font=`${u} ${c} ${A}px ${l}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){this.dependencyTracker?.recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#n(e,t,n){const a=new Path2D;return a.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),a}paintChar(e,t,n,a,s,i){const l=this.ctx,c=this.current,u=c.font,A=c.textRenderingMode,h=c.fontSize/c.fontSizeScale,p=A&Di.FILL_STROKE_MASK,m=!!(A&Di.ADD_TO_PATH_FLAG),y=c.patternFill&&!u.missingFile,g=c.patternStroke&&!u.missingFile;let v;if((u.disableFontFace||m||y||g)&&!u.missingFile&&(v=u.getPathGenerator(this.commonObjs,t)),v&&(u.disableFontFace||y||g)){l.save(),l.translate(n,a),l.scale(h,-h),this.dependencyTracker?.recordCharacterBBox(e,l,u);let b;if(p===Di.FILL||p===Di.FILL_STROKE)if(s){b=l.getTransform(),l.setTransform(...s);const N=this.#n(v,b,s);l.fill(N)}else l.fill(v);if(p===Di.STROKE||p===Di.FILL_STROKE)if(i){b||=l.getTransform(),l.setTransform(...i);const{a:N,b:C,c:E,d:_}=b,P=Xt.inverseTransform(i),O=Xt.transform([N,C,E,_,0,0],P);Xt.singularValueDecompose2dScale(O,Rl),l.lineWidth*=Math.max(Rl[0],Rl[1])/h,l.stroke(this.#n(v,b,i))}else l.lineWidth/=h,l.stroke(v);l.restore()}else(p===Di.FILL||p===Di.FILL_STROKE)&&(l.fillText(t,n,a),this.dependencyTracker?.recordCharacterBBox(e,l,u,h,n,a,()=>l.measureText(t))),(p===Di.STROKE||p===Di.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,l,u,h,n,a,()=>l.measureText(t)).recordDependencies(e,bc.stroke),l.strokeText(t,n,a));m&&((this.pendingTextPaths||=[]).push({transform:Qa(l),x:n,y:a,fontSize:h,path:v}),this.dependencyTracker?.recordCharacterBBox(e,l,u,h,n,a))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let a=3;a<t.length;a+=4)if(t[a]>0&&t[a]<255){n=!0;break}return zr(this,"isFontSubpixelAAEnabled",n)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,bc.showText).resetBBox(e),this.current.textRenderingMode&Di.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,a=n.font;if(a.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const s=n.fontSize;if(s===0){this.dependencyTracker?.recordOperation(e);return}const i=this.ctx,l=n.fontSizeScale,c=n.charSpacing,u=n.wordSpacing,A=n.fontDirection,h=n.textHScale*A,p=t.length,m=a.vertical,y=m?1:-1,g=a.defaultVMetrics,v=s*n.fontMatrix[0],b=n.textRenderingMode===Di.FILL&&!a.disableFontFace&&!n.patternFill;i.save(),n.textMatrix&&i.transform(...n.textMatrix),i.translate(n.x,n.y+n.textRise),A>0?i.scale(h,-1):i.scale(h,1);let N,C;if(n.patternFill){i.save();const D=n.fillColor.getPattern(i,this,id(i),Ui.FILL,e);N=Qa(i),i.restore(),i.fillStyle=D}if(n.patternStroke){i.save();const D=n.strokeColor.getPattern(i,this,id(i),Ui.STROKE,e);C=Qa(i),i.restore(),i.strokeStyle=D}let E=n.lineWidth;const _=n.textMatrixScale;if(_===0||E===0){const D=n.textRenderingMode&Di.FILL_STROKE_MASK;(D===Di.STROKE||D===Di.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=_;if(l!==1&&(i.scale(l,l),E/=l),i.lineWidth=E,a.isInvalidPDFjsFont){const D=[];let k=0;for(const L of t)D.push(L.unicode),k+=L.width;const H=D.join("");if(i.fillText(H,0,0),this.dependencyTracker!==null){const L=i.measureText(H);this.dependencyTracker.recordBBox(e,this.ctx,-L.actualBoundingBoxLeft,L.actualBoundingBoxRight,-L.actualBoundingBoxAscent,L.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=k*v*h,i.restore(),this.compose();return}let P=0,O;for(O=0;O<p;++O){const D=t[O];if(typeof D=="number"){P+=y*D*s/1e3;continue}let k=!1;const H=(D.isSpace?u:0)+c,L=D.fontChar,Q=D.accent;let R,K,ee=D.width;if(m){const Y=D.vmetric||g,de=-(D.vmetric?Y[1]:ee*.5)*v,pe=Y[2]*v;ee=Y?-Y[0]:ee,R=de/l,K=(P+pe)/l}else R=P/l,K=0;let X;if(a.remeasure&&ee>0){X=i.measureText(L);const Y=X.width*1e3/s*l;if(ee<Y&&this.isFontSubpixelAAEnabled){const de=ee/Y;k=!0,i.save(),i.scale(de,1),R/=de}else ee!==Y&&(R+=(ee-Y)/2e3*s/l)}if(this.contentVisible&&(D.isInFont||a.missingFile)){if(b&&!Q)i.fillText(L,R,K),this.dependencyTracker?.recordCharacterBBox(e,i,X?{bbox:null}:a,s/l,R,K,()=>X??i.measureText(L));else if(this.paintChar(e,L,R,K,N,C),Q){const Y=R+s*Q.offset.x/l,de=K-s*Q.offset.y/l;this.paintChar(e,Q.fontChar,Y,de,N,C)}}const ae=m?ee*v-H*A:ee*v+H*A;P+=ae,k&&i.restore()}m?n.y-=P:n.x+=P*h,i.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,a=this.current,s=a.font,i=a.fontSize,l=a.fontDirection,c=s.vertical?1:-1,u=a.charSpacing,A=a.wordSpacing,h=a.textHScale*l,p=a.fontMatrix||m4,m=t.length,y=a.textRenderingMode===Di.INVISIBLE;let g,v,b,N;if(y||i===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),a.textMatrix&&n.transform(...a.textMatrix),n.translate(a.x,a.y+a.textRise),n.scale(h,l);const C=this.dependencyTracker;for(this.dependencyTracker=C?new H2(C,e):null,g=0;g<m;++g){if(v=t[g],typeof v=="number"){N=c*v*i/1e3,this.ctx.translate(N,0),a.x+=N*h;continue}const E=(v.isSpace?A:0)+u,_=s.charProcOperatorList[v.operatorListId];_?this.contentVisible&&(this.save(),n.scale(i,i),n.transform(...p),this.executeOperatorList(_),this.restore()):Rr(`Type3 character "${v.operatorListId}" is not available.`);const P=[v.width,0];Xt.applyTransform(P,p),b=P[0]*i+E,n.translate(b,0),a.x+=b*h}n.restore(),C&&(this.dependencyTracker=C)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,a,s,i,l){const c=new Path2D;c.rect(a,s,i-a,l-s),this.ctx.clip(c),this.dependencyTracker?.recordBBox(e,this.ctx,a,i,s,l).recordClipBox(e,this.ctx,a,i,s,l),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const a=this.baseTransform||Qa(this.ctx),s={createCanvasGraphics:(i,l)=>new Pp(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new H2(this.dependencyTracker,l,!0):null)};n=new ik(t,this.ctx,s,a)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let a;return this.cachedPatterns.has(t)?a=this.cachedPatterns.get(t):(a=REe(this.getObject(e,t)),this.cachedPatterns.set(t,a)),n&&(a.matrix=n),a}shadingFill(e,t){if(!this.contentVisible)return;const n=this.ctx;this.save(e);const a=this._getPattern(e,t);n.fillStyle=a.getPattern(n,this,id(n),Ui.SHADING,e);const s=id(n);if(s){const{width:i,height:l}=n.canvas,c=Sp.slice();Xt.axialAlignedBoundingBox([0,0,i,l],s,c);const[u,A,h,p]=c;this.ctx.fillRect(u,A,h-u,p-A)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,bc.transform).recordDependencies(e,bc.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){la("Should not call beginInlineImage")}beginImageData(){la("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Qa(this.ctx),n)){Xt.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[a,s,i,l]=n,c=new Path2D;c.rect(a,s,i-a,l-s),this.ctx.clip(c),this.dependencyTracker?.recordClipBox(e,this.ctx,a,i,s,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||o5("TODO: Support non-isolated groups."),t.knockout&&Rr("Knockout groups not supported.");const a=Qa(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Sp.slice();Xt.axialAlignedBoundingBox(t.bbox,Qa(n),s);const i=[0,0,n.canvas.width,n.canvas.height];s=Xt.intersect(s,i)||[0,0,0,0];const l=Math.floor(s[0]),c=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-l,1),A=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,A]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(h,u,A),m=p.context;m.translate(-l,-c),m.transform(...a);let y=new Path2D;const[g,v,b,N]=t.bbox;if(y.rect(g,v,b-g,N-v),t.matrix){const C=new Path2D;C.addPath(y,new DOMMatrix(t.matrix)),y=C}m.clip(y),t.smask&&this.smaskStack.push({canvas:p.canvas,context:m,offsetX:l,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(l,c),n.save()),Px(n,m),this.ctx=m,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=Qa(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const i=Sp.slice();Xt.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],s,i),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,t,n,a,s,i){if(this.#e(),Tb(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const l=n[2]-n[0],c=n[3]-n[1];if(i&&this.annotationCanvasMap){a=a.slice(),a[4]-=n[0],a[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=l,n[3]=c,Xt.singularValueDecompose2dScale(Qa(this.ctx),Rl);const{viewportScale:u}=this,A=Math.ceil(l*this.outputScaleX*u),h=Math.ceil(c*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(A,h);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(Rl[0],0,0,-Rl[1],0,c*Rl[1]),Tb(this.ctx)}else{Tb(this.ctx),this.endPath(e);const u=new Path2D;u.rect(n[0],n[1],l,c),this.ctx.clip(u)}}this.current=new KM(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...a),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const a=this.ctx,s=this._createMaskCanvas(e,t),i=s.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(i,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+i.width,s.offsetY,s.offsetY+i.height).recordOperation(e),a.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,a=0,s=0,i,l){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const c=this.ctx;c.save();const u=Qa(c);c.transform(n,a,s,i,0,0);const A=this._createMaskCanvas(e,t);c.setTransform(1,0,0,1,A.offsetX-u[4],A.offsetY-u[5]),this.dependencyTracker?.resetBBox(e);for(let h=0,p=l.length;h<p;h+=2){const m=Xt.transform(u,[n,a,s,i,l[h],l[h+1]]);c.drawImage(A.canvas,m[4],m[5]),this.dependencyTracker?.recordBBox(e,this.ctx,m[4],m[4]+A.canvas.width,m[5],m[5]+A.canvas.height)}c.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx,a=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,bc.transformAndFill);for(const i of t){const{data:l,width:c,height:u,transform:A}=i,h=this.cachedCanvases.getCanvas("maskCanvas",c,u),p=h.context;p.save();const m=this.getObject(e,l,i);VM(p,m),p.globalCompositeOperation="source-in",p.fillStyle=s?a.getPattern(p,this,id(n),Ui.FILL,e):a,p.fillRect(0,0,c,u),p.restore(),n.save(),n.transform(...A),n.scale(1,-1),_b(n,h.canvas,0,0,c,u,0,-1,1,1),this.dependencyTracker?.recordBBox(e,n,0,c,0,u),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){Rr("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,a,s){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){Rr("Dependent image isn't ready yet");return}const l=i.width,c=i.height,u=[];for(let A=0,h=s.length;A<h;A+=2)u.push({transform:[n,0,0,a,s[A],s[A+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(e,i,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:a}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,a),i=s.context;return i.filter=this.current.transferMaps,i.drawImage(t,0,0),i.filter="none",s.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const n=t.width,a=t.height,s=this.ctx;this.save(e);const{filter:i}=s;i!=="none"&&i!==""&&(s.filter="none"),s.scale(1/n,-1/a);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const A=this.cachedCanvases.getCanvas("inlineImage",n,a).context;$M(A,t),l=this.applyTransferMapsToCanvas(A)}const c=this._scaleImage(l,id(s));s.imageSmoothingEnabled=qM(Qa(s),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,s,0,n,-a,0).recordDependencies(e,bc.imageXObject).recordOperation(e),_b(s,c.img,0,0,c.paintWidth,c.paintHeight,0,-a,n,a),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){if(!this.contentVisible)return;const a=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const i=t.width,l=t.height,u=this.cachedCanvases.getCanvas("inlineImage",i,l).context;$M(u,t),s=this.applyTransferMapsToCanvas(u)}this.dependencyTracker?.resetBBox(e);for(const i of n)a.save(),a.transform(...i.transform),a.scale(1,-1),_b(a,s,i.x,i.y,i.w,i.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,a,0,1,-1,0),a.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,bc.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){const a=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip?(a||(this.pendingClip===GM?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Qa(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),a=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,a)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:a,d:s}=this.ctx.getTransform();let i,l;if(n===0&&a===0){const c=Math.abs(t),u=Math.abs(s);if(c===u)if(e===0)i=l=1/c;else{const A=c*e;i=l=A<1?1/A:1}else if(e===0)i=1/c,l=1/u;else{const A=c*e,h=u*e;i=A<1?1/A:1,l=h<1?1/h:1}}else{const c=Math.abs(t*s-n*a),u=Math.hypot(t,n),A=Math.hypot(a,s);if(e===0)i=A/c,l=u/c;else{const h=e*c;i=A>h?A/h:1,l=u>h?u/h:1}}this._cachedScaleForStroking[0]=i,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:a}}=this,[s,i]=this.getScaleForStroking();if(s===i){n.lineWidth=(a||1)*s,n.stroke(e);return}const l=n.getLineDash();t&&n.save(),n.scale(s,i),ZB.a=1/s,ZB.d=1/i;const c=new Path2D;if(c.addPath(e,ZB),l.length>0){const u=Math.max(s,i);n.setLineDash(l.map(A=>A/u)),n.lineDashOffset/=u}n.lineWidth=a||1,n.stroke(c),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const r in og)Pp.prototype[r]!==void 0&&(Pp.prototype[og[r]]=Pp.prototype[r]);class Ip{#e;#t;#n;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,n={};let a=0;for(const u of Ip.strings){const A=t.encode(e[u]);n[u]=A,a+=4+A.length}const s=new ArrayBuffer(a),i=new Uint8Array(s),l=new DataView(s);let c=0;for(const u of Ip.strings){const A=n[u],h=A.length;l.setUint32(c,h),i.set(A,c+4),c+=4+h}return ln(c===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#n=new TextDecoder}#r(e){ln(e<Ip.strings.length,"Invalid string index");let t=0;for(let a=0;a<e;a++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#n.decode(new Uint8Array(this.#e,t+4,n))}get fontFamily(){return this.#r(0)}get fontWeight(){return this.#r(1)}get italicAngle(){return this.#r(2)}}class Lp{#e;#t;#n;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,n={};let a=0;for(const p of Lp.strings){const m=t.encode(e[p]);n[p]=m,a+=4+m.length}a+=4;let s,i,l=1+a;e.style&&(s=t.encode(e.style.style),i=t.encode(e.style.weight),l+=4+s.length+4+i.length);const c=new ArrayBuffer(l),u=new Uint8Array(c),A=new DataView(c);let h=0;A.setUint8(h++,e.guessFallback?1:0),A.setUint32(h,0),h+=4,a=0;for(const p of Lp.strings){const m=n[p],y=m.length;a+=4+y,A.setUint32(h,y),u.set(m,h+4),h+=4+y}return A.setUint32(h-a-4,a),e.style&&(A.setUint32(h,s.length),u.set(s,h+4),h+=4+s.length,A.setUint32(h,i.length),u.set(i,h+4),h+=4+i.length),ln(h<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(h)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#n=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#r(e){ln(e<Lp.strings.length,"Invalid string index");let t=5;for(let a=0;a<e;a++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#n.decode(new Uint8Array(this.#e,t+4,n))}get css(){return this.#r(0)}get loadedName(){return this.#r(1)}get baseFontName(){return this.#r(2)}get src(){return this.#r(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),n=this.#n.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const a=this.#t.getUint32(e),s=this.#n.decode(new Uint8Array(this.#e,e+4,a));return{style:n,weight:s}}}class Zn{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#n=this.#t+1+8;static#r=this.#n+1+48;static#i=this.#r+1+6;#a;#s;#o;constructor({data:e,extra:t}){this.#a=e,this.#s=new TextDecoder,this.#o=new DataView(this.#a),t&&Object.assign(this,t)}#c(e){ln(e<Zn.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=e*2%8,a=this.#o.getUint8(t)>>n&3;return a===0?void 0:a===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return ln(e<Zn.numbers.length,"Invalid number index"),this.#o.getFloat64(Zn.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=Zn.#t;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<4;a++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=Zn.#n;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<6;a++)n.push(this.#o.getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=Zn.#r;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<3;a++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}#A(e){ln(e<Zn.strings.length,"Invalid string index");let t=Zn.#i+4;for(let s=0;s<e;s++)t+=this.#o.getUint32(t)+4;const n=this.#o.getUint32(t),a=new Uint8Array(n);return a.set(new Uint8Array(this.#a,t+4,n)),this.#s.decode(a)}get fallbackName(){return this.#A(0)}get loadedName(){return this.#A(1)}get mimetype(){return this.#A(2)}get name(){return this.#A(3)}get data(){let e=Zn.#i;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const a=this.#o.getUint32(e);e+=4+a;const s=this.#o.getUint32(e);if(s!==0)return new Uint8Array(this.#a,e+4,s)}clearData(){let e=Zn.#i;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const a=this.#o.getUint32(e);e+=4+a;const s=this.#o.getUint32(e);new Uint8Array(this.#a,e+4,s).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=Zn.#i;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const a=this.#o.getUint32(e);if(a===0)return null;const s=new Uint8Array(a);return s.set(new Uint8Array(this.#a,e+4,a)),new Ip(s.buffer)}get systemFontInfo(){let e=Zn.#i;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);if(n===0)return null;const a=new Uint8Array(n);return a.set(new Uint8Array(this.#a,e+4,n)),new Lp(a.buffer)}static write(e){const t=e.systemFontInfo?Lp.write(e.systemFontInfo):null,n=e.cssFontInfo?Ip.write(e.cssFontInfo):null,a=new TextEncoder,s={};let i=0;for(const g of Zn.strings)s[g]=a.encode(e[g]),i+=4+s[g].length;const l=Zn.#i+4+i+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(l),u=new Uint8Array(c),A=new DataView(c);let h=0;const p=Zn.bools.length;let m=0,y=0;for(let g=0;g<p;g++){const v=e[Zn.bools[g]];m|=(v===void 0?0:v?2:1)<<y,y+=2,(y===8||g===p-1)&&(A.setUint8(h++,m),m=0,y=0)}ln(h===Zn.#e,"FontInfo.write: Boolean properties offset mismatch");for(const g of Zn.numbers)A.setFloat64(h,e[g]),h+=8;if(ln(h===Zn.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){A.setUint8(h++,4);for(const g of e.bbox)A.setInt16(h,g,!0),h+=2}else A.setUint8(h++,0),h+=8;if(ln(h===Zn.#n,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){A.setUint8(h++,6);for(const g of e.fontMatrix)A.setFloat64(h,g,!0),h+=8}else A.setUint8(h++,0),h+=48;if(ln(h===Zn.#r,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){A.setUint8(h++,1);for(const g of e.defaultVMetrics)A.setInt16(h,g,!0),h+=2}else A.setUint8(h++,0),h+=6;ln(h===Zn.#i,"FontInfo.write: DefaultVMetrics properties offset mismatch"),A.setUint32(Zn.#i,0),h+=4;for(const g of Zn.strings){const v=s[g],b=v.length;A.setUint32(h,b),u.set(v,h+4),h+=4+b}if(A.setUint32(Zn.#i,h-Zn.#i-4),!t)A.setUint32(h,0),h+=4;else{const g=t.byteLength;A.setUint32(h,g),ln(h+4+g<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),h+4),h+=4+g}if(!n)A.setUint32(h,0),h+=4;else{const g=n.byteLength;A.setUint32(h,g),ln(h+4+g<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(n),h+4),h+=4+g}return e.data===void 0?(A.setUint32(h,0),h+=4):(A.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),ln(h<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(h)}}class Gh{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class qEe{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const fp=Symbol("INTERNAL");class GEe{#e=!1;#t=!1;#n=!1;#r=!0;constructor(e,{name:t,intent:n,usage:a,rbGroups:s}){this.#e=!!(e&Pl.DISPLAY),this.#t=!!(e&Pl.PRINT),this.name=t,this.intent=n,this.usage=a,this.rbGroups=s}get visible(){if(this.#n)return this.#r;if(!this.#r)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,n=!1){e!==fp&&la("Internal method `_setVisible` called."),this.#n=n,this.#r=t}}class WEe{#e=null;#t=new Map;#n=null;#r=null;constructor(e,t=Pl.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#r=e.order;for(const n of e.groups)this.#t.set(n.id,new GEe(t,n));if(e.baseState==="OFF")for(const n of this.#t.values())n._setVisible(fp,!1);for(const n of e.on)this.#t.get(n)._setVisible(fp,!0);for(const n of e.off)this.#t.get(n)._setVisible(fp,!1);this.#n=this.getHash()}}#i(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let a=1;a<t;a++){const s=e[a];let i;if(Array.isArray(s))i=this.#i(s);else if(this.#t.has(s))i=this.#t.get(s).visible;else return Rr(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return n==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return o5("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Rr(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#i(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return Rr(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return Rr(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return Rr(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return Rr(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return Rr(`Unknown optional content policy ${e.policy}.`),!0}return Rr(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){const a=this.#t.get(e);if(!a){Rr(`Optional content group not found: ${e}`);return}if(n&&t&&a.rbGroups.length)for(const s of a.rbGroups)for(const i of s)i!==e&&this.#t.get(i)?._setVisible(fp,!1,!0);a._setVisible(fp,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let n;for(const a of e){switch(a){case"ON":case"OFF":case"Toggle":n=a;continue}const s=this.#t.get(a);if(s)switch(n){case"ON":this.setVisibility(a,!0,t);break;case"OFF":this.setVisibility(a,!1,t);break;case"Toggle":this.setVisibility(a,!s.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new _V;for(const[t,n]of this.#t)e.update(`${t}:${n.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class YEe{constructor(e,{disableRange:t=!1,disableStream:n=!1}){ln(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:s,progressiveDone:i,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=i,this._contentDispositionFilename=l,s?.length>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const a=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});ln(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ln(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new XEe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new JEe(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class XEe{constructor(e,t,n=!1,a=null){this._stream=e,this._done=n||!1,this._filename=c5(a)?a:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class JEe{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function ZEe(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let A=l(t);return A=unescape(A),A=c(A),A=u(A),s(A)}if(t=i(r),t){const A=u(t);return s(A)}if(t=n("filename","i").exec(r),t){t=t[1];let A=l(t);return A=u(A),s(A)}function n(A,h){return new RegExp("(?:^|;)\\s*"+A+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function a(A,h){if(A){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const p=new TextDecoder(A,{fatal:!0}),m=Lv(h);h=p.decode(m),e=!1}catch{}}return h}function s(A){return e&&/[\x80-\xff]/.test(A)&&(A=a("utf-8",A),e&&(A=a("iso-8859-1",A))),A}function i(A){const h=[];let p;const m=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=m.exec(A))!==null;){let[,g,v,b]=p;if(g=parseInt(g,10),g in h){if(g===0)break;continue}h[g]=[v,b]}const y=[];for(let g=0;g<h.length&&g in h;++g){let[v,b]=h[g];b=l(b),v&&(b=unescape(b),g===0&&(b=c(b))),y.push(b)}return y.join("")}function l(A){if(A.startsWith('"')){const h=A.slice(1).split('\\"');for(let p=0;p<h.length;++p){const m=h[p].indexOf('"');m!==-1&&(h[p]=h[p].slice(0,m),h.length=p+1),h[p]=h[p].replaceAll(/\\(.)/g,"$1")}A=h.join('"')}return A}function c(A){const h=A.indexOf("'");if(h===-1)return A;const p=A.slice(0,h),y=A.slice(h+1).replace(/^[^']*'/,"");return a(p,y)}function u(A){return!A.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(A)?A:A.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,p,m,y){if(m==="q"||m==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,v){return String.fromCharCode(parseInt(v,16))}),a(p,y);try{y=atob(y)}catch{}return a(p,y)})}return""}function LV(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const a=e[n];a!==void 0&&t.append(n,a)}return t}function u5(r){return URL.parse(r)?.origin??null}function MV({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const a={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(r.get("Content-Length"),10);return!Number.isInteger(s)||(a.suggestedLength=s,s<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function RV(r){const e=r.get("Content-Disposition");if(e){let t=ZEe(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(c5(t))return t}return null}function Hv(r,e){return new Vy(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r,r===404||r===0&&e.startsWith("file:"))}function UV(r){return r===200||r===206}function QV(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function HV(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Rr(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class eje{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=LV(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ln(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new tje(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new rje(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class tje{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),a=t.url;fetch(a,QV(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=u5(s.url),!UV(s.status))throw Hv(s.status,a);this._reader=s.body.getReader(),this._headersCapability.resolve();const i=s.headers,{allowRangeRequests:l,suggestedLength:c}=MV({responseHeaders:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=RV(i),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new OA("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:HV(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class rje{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const i=a.url;fetch(i,QV(s,this._withCredentials,this._abortController)).then(l=>{const c=u5(l.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!UV(l.status))throw Hv(l.status,i);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:HV(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const eE=200,tE=206;function nje(r){const e=r.response;return typeof e!="string"?e:Lv(e).buffer}class aje{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=LV(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,a=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,i]of this.headers)t.setRequestHeader(s,i);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),a.expectedStatus=tE):a.expectedStatus=eE,t.responseType="arraybuffer",ln(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),a.onHeadersReceived=e.onHeadersReceived,a.onDone=e.onDone,a.onError=e.onError,a.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const a=n.xhr;if(a.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),a.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],a.status===0&&this.isHttp){n.onError(a.status);return}const s=a.status||eE;if(!(s===eE&&n.expectedStatus===tE)&&s!==n.expectedStatus){n.onError(a.status);return}const l=nje(a);if(s===tE){const c=a.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?n.onDone({begin:parseInt(u[1],10),chunk:l}):(Rr('Missing or invalid "Content-Range" header.'),n.onError(0))}else l?n.onDone({begin:0,chunk:l}):n.onError(a.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class sje{constructor(e){this._source=e,this._manager=new aje(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ln(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ije(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new oje(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class ije{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=u5(t.responseURL);const n=t.getAllResponseHeaders(),a=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...u]=l.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:i}=MV({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=RV(a),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Hv(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class oje{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=u5(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Hv(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const lje=/^[a-z][a-z0-9\-+.]+:/i;function cje(r){if(lje.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class uje{constructor(e){this.source=e,this.url=cje(e.url),ln(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ln(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new dje(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Aje(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class dje{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=Hv(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new OA("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Aje{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=e.source;this._isStreamingSupported=!a.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Ix=Symbol("INITIAL_DATA");class zV{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Ix}}get(e,t=null){if(t){const a=this.#t(e);return a.promise.then(()=>t(a.data)),null}const n=this.#e[e];if(!n||n.data===Ix)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#e[e];return!!t&&t.data!==Ix}delete(e){const t=this.#e[e];return!t||t.data===Ix?!1:(delete this.#e[e],!0)}resolve(e,t=null){const n=this.#t(e);n.data=t,n.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==Ix&&(yield[e,t])}}}const hje=1e5,WM=30;let Gy=class Nc{#e=Promise.withResolvers();#t=null;#n=!1;#r=!!globalThis.FontInspector?.enabled;#i=null;#a=null;#s=0;#o=0;#c=null;#l=null;#A=0;#d=0;#h=Object.create(null);#p=[];#f=null;#u=[];#m=new WeakMap;#g=null;static#y=new Map;static#x=new Map;static#S=new WeakMap;static#C=null;static#v=new Set;constructor({textContentSource:e,container:t,viewport:n}){if(e instanceof ReadableStream)this.#f=e;else if(typeof e=="object")this.#f=new ReadableStream({start(c){c.enqueue(e),c.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#d=n.scale*Eu.pixelRatio,this.#A=n.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:s,pageX:i,pageY:l}=n.rawDims;this.#g=[1,0,0,-1,-i,l+s],this.#o=a,this.#s=s,Nc.#_(),lf(t,n),this.#e.promise.finally(()=>{Nc.#v.delete(this),this.#a=null,this.#h=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=bi.platform;return zr(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:t,done:n})=>{if(n){this.#e.resolve();return}this.#i??=t.lang,Object.assign(this.#h,t.styles),this.#E(t.items),e()},this.#e.reject)};return this.#c=this.#f.getReader(),Nc.#v.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const n=e.scale*Eu.pixelRatio,a=e.rotation;if(a!==this.#A&&(t?.(),this.#A=a,lf(this.#l,{rotation:a})),n!==this.#d){t?.(),this.#d=n;const s={div:null,properties:null,ctx:Nc.#T(this.#i)};for(const i of this.#u)s.properties=this.#m.get(i),s.div=i,this.#N(s)}}cancel(){const e=new OA("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#p}#E(e){if(this.#n)return;this.#a.ctx??=Nc.#T(this.#i);const t=this.#u,n=this.#p;for(const a of e){if(t.length>hje){Rr("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),a.id&&this.#t.setAttribute("id",`${a.id}`),s.append(this.#t)}else a.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}n.push(a.str),this.#w(a)}}#w(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(t);const a=Xt.transform(this.#g,e.transform);let s=Math.atan2(a[1],a[0]);const i=this.#h[e.fontName];i.vertical&&(s+=Math.PI/2);let l=this.#r&&i.fontSubstitution||i.fontFamily;l=Nc.fontFamilyMap.get(l)||l;const c=Math.hypot(a[2],a[3]),u=c*Nc.#L(l,i,this.#i);let A,h;s===0?(A=a[4],h=a[5]-u):(A=a[4]+u*Math.sin(s),h=a[5]-u*Math.cos(s));const p="calc(var(--total-scale-factor) *",m=t.style;this.#t===this.#l?(m.left=`${(100*A/this.#o).toFixed(2)}%`,m.top=`${(100*h/this.#s).toFixed(2)}%`):(m.left=`${p}${A.toFixed(2)}px)`,m.top=`${p}${h.toFixed(2)}px)`),m.fontSize=`${p}${(Nc.#C*c).toFixed(2)}px)`,m.fontFamily=l,n.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#r&&(t.dataset.fontName=i.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const g=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);g!==v&&Math.max(g,v)/Math.min(g,v)>1.5&&(y=!0)}if(y&&(n.canvasWidth=i.vertical?e.height:e.width),this.#m.set(t,n),this.#a.div=t,this.#a.properties=n,this.#N(this.#a),n.hasText&&this.#t.append(t),n.hasEOL){const g=document.createElement("br");g.setAttribute("role","presentation"),this.#t.append(g)}}#N(e){const{div:t,properties:n,ctx:a}=e,{style:s}=t;let i="";if(Nc.#C>1&&(i=`scale(${1/Nc.#C})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:u}=n;Nc.#j(a,u*this.#d,l);const{width:A}=a.measureText(t.textContent);A>0&&(i=`scaleX(${c*this.#d/A}) ${i}`)}n.angle!==0&&(i=`rotate(${n.angle}deg) ${i}`),i.length>0&&(s.transform=i)}static cleanup(){if(!(this.#v.size>0)){this.#y.clear();for(const{canvas:e}of this.#x.values())e.remove();this.#x.clear()}}static#T(e=null){let t=this.#x.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#x.set(e,t),this.#S.set(t,{size:0,family:""})}return t}static#j(e,t,n){const a=this.#S.get(e);t===a.size&&n===a.family||(e.font=`${t}px ${n}`,a.size=t,a.family=n)}static#_(){if(this.#C!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#C=e.getBoundingClientRect().height,e.remove()}static#L(e,t,n){const a=this.#y.get(e);if(a)return a;const s=this.#T(n);s.canvas.width=s.canvas.height=WM,this.#j(s,WM,e);const i=s.measureText(""),l=i.fontBoundingBoxAscent,c=Math.abs(i.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return l?u=l/(l+c):(bi.platform.isFirefox&&Rr("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),this.#y.set(e,u),u}};const fje=100;function ok(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new lk,{docId:t}=e,n=r.url?wEe(r.url):null,a=r.data?CEe(r.data):null,s=r.httpHeaders||null,i=r.withCredentials===!0,l=r.password??null,c=r.range instanceof ck?r.range:null,u=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let A=r.worker instanceof lg?r.worker:null;const h=r.verbosity,p=typeof r.docBaseUrl=="string"&&!Rv(r.docBaseUrl)?r.docBaseUrl:null,m=Sb(r.cMapUrl),y=r.cMapPacked!==!1,g=r.CMapReaderFactory||(Co?TEe:PM),v=Sb(r.iccUrl),b=Sb(r.standardFontDataUrl),N=r.StandardFontDataFactory||(Co?kEe:IM),C=Sb(r.wasmUrl),E=r.WasmFactory||(Co?FEe:LM),_=r.stopAtErrors!==!0,P=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,O=r.isEvalSupported!==!1,D=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!Co,k=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!Co&&(bi.platform.isFirefox||!globalThis.chrome),H=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,L=typeof r.disableFontFace=="boolean"?r.disableFontFace:Co,Q=r.fontExtraProperties===!0,R=r.enableXfa===!0,K=r.ownerDocument||globalThis.document,ee=r.disableRange===!0,X=r.disableStream===!0,ae=r.disableAutoFetch===!0,Y=r.pdfBug===!0,de=r.CanvasFactory||(Co?_Ee:BEe),pe=r.FilterFactory||(Co?jEe:EEe),Z=r.enableHWA===!0,I=r.useWasm!==!1,z=c?c.length:r.length??NaN,V=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!Co&&!L,q=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(g===PM&&N===IM&&E===LM&&m&&b&&C&&Yx(m,document.baseURI)&&Yx(b,document.baseURI)&&Yx(C,document.baseURI)),ne=null;nEe(h);const ce={canvasFactory:new de({ownerDocument:K,enableHWA:Z}),filterFactory:new pe({docId:t,ownerDocument:K}),cMapReaderFactory:q?null:new g({baseUrl:m,isCompressed:y}),standardFontDataFactory:q?null:new N({baseUrl:b}),wasmFactory:q?null:new E({baseUrl:C})};A||(A=lg.create({verbosity:h,port:Gh.workerPort}),e._worker=A);const Be={docId:t,apiVersion:"5.4.296",data:a,password:l,disableAutoFetch:ae,rangeChunkSize:u,length:z,docBaseUrl:p,enableXfa:R,evaluatorOptions:{maxImageSize:P,disableFontFace:L,ignoreErrors:_,isEvalSupported:O,isOffscreenCanvasSupported:D,isImageDecoderSupported:k,canvasMaxAreaInBytes:H,fontExtraProperties:Q,useSystemFonts:V,useWasm:I,useWorkerFetch:q,cMapUrl:m,iccUrl:v,standardFontDataUrl:b,wasmUrl:C}},Ae={ownerDocument:K,pdfBug:Y,styleElement:ne,loadingParams:{disableAutoFetch:ae,enableXfa:R}};return A.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(A.destroyed)throw new Error("Worker was destroyed");const ye=A.messageHandler.sendWithPromise("GetDocRequest",Be,a?[a.buffer]:null);let Pe;if(c)Pe=new YEe(c,{disableRange:ee,disableStream:X});else if(!a){if(!n)throw new Error("getDocument - no `url` parameter provided.");const je=Yx(n)?eje:Co?uje:sje;Pe=new je({url:n,length:z,httpHeaders:s,withCredentials:i,rangeChunkSize:u,disableRange:ee,disableStream:X})}return ye.then(je=>{if(e.destroyed)throw new Error("Loading aborted");if(A.destroyed)throw new Error("Worker was destroyed");const Se=new Xx(t,je,A.port),Te=new gje(Se,e,Pe,Ae,ce,Z);e._transport=Te,Se.send("Ready",null)})}).catch(e._capability.reject),e}class lk{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${lk.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let ck=class{#e=Promise.withResolvers();#t=[];#n=[];#r=[];#i=[];constructor(e,t,n=!1,a=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=a}addRangeListener(e){this.#i.push(e)}addProgressListener(e){this.#r.push(e)}addProgressiveReadListener(e){this.#n.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const n of this.#i)n(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const n of this.#r)n(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#n)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){la("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class mje{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return zr(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class pje{#e=!1;constructor(e,t,n,a=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=a?new jM:null,this._pdfBug=a,this.commonObjs=n.commonObjs,this.objs=new zV,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:a=0,dontFlip:s=!1}={}){return new Mv({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:a,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return zr(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:a="display",annotationMode:s=gd.ENABLE,transform:i=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:A=null,printAnnotationStorage:h=null,isEditing:p=!1,recordOperations:m=!1,operationsFilter:y=null}){this._stats?.time("Overall");const g=this._transport.getRenderingIntent(a,s,h,p),{renderingIntent:v,cacheKey:b}=g;this.#e=!1,c||=this._transport.getOptionalContentConfig(v);let N=this._intentStates.get(b);N||(N=Object.create(null),this._intentStates.set(b,N)),N.streamReaderCancelTimeout&&(clearTimeout(N.streamReaderCancelTimeout),N.streamReaderCancelTimeout=null);const C=!!(v&Pl.PRINT);N.displayReadyCapability||(N.displayReadyCapability=Promise.withResolvers(),N.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(g));const E=!!(this._pdfBug&&globalThis.StepperManager?.enabled),_=!this.recordedBBoxes&&(m||E),P=k=>{if(N.renderTasks.delete(O),_){const H=O.gfx?.dependencyTracker.take();H&&(O.stepper&&O.stepper.setOperatorBBoxes(H,O.gfx.dependencyTracker.takeDebugMetadata()),m&&(this.recordedBBoxes=H))}C&&(this.#e=!0),this.#t(),k?(O.capability.reject(k),this._abortOperatorList({intentState:N,reason:k instanceof Error?k:new Error(k)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new Bp({callback:P,params:{canvas:t,canvasContext:e,dependencyTracker:_?new DEe(t,N.operatorList.length,E):null,viewport:n,transform:i,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:N.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:A,enableHWA:this._transport.enableHWA,operationsFilter:y});(N.renderTasks||=new Set).add(O);const D=O.task;return Promise.all([N.displayReadyCapability.promise,c]).then(([k,H])=>{if(this.destroyed){P();return}if(this._stats?.time("Rendering"),!(H.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:k,optionalContentConfig:H}),O.operatorListChanged()}).catch(P),D}getOperatorList({intent:e="display",annotationMode:t=gd.ENABLE,printAnnotationStorage:n=null,isEditing:a=!1}={}){function s(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const i=this._transport.getRenderingIntent(e,t,n,a,!0);let l=this._intentStates.get(i.cacheKey);l||(l=Object.create(null),this._intentStates.set(i.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||=new Set).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(i)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>qy.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,a){function s(){i.read().then(function({value:c,done:u}){if(u){n(l);return}l.lang??=c.lang,Object.assign(l.styles,c.styles),l.items.push(...c.items),s()},a)}const i=t.getReader(),l={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new jM),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,a=e.length;n<a;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:a}){const{map:s,transfer:i}=n,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:a},i).getReader(),u=this._intentStates.get(t);u.streamReader=c;const A=()=>{c.read().then(({value:h,done:p})=>{if(p){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),A())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const p of u.renderTasks)p.operatorListChanged();this.#t()}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};A()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof l5){let a=fje;t.extraDelay>0&&t.extraDelay<1e3&&(a+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},a);return}}if(e.streamReader.cancel(new OA(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[a,s]of this._intentStates)if(s===e){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var Rh,xu,dA,g0,aC,x0,y0,To,bw,KV,$V,Jx,$p,ww;const ka=class ka{constructor({name:e=null,port:t=null,verbosity:n=aEe()}={}){rd(this,To);rd(this,Rh,Promise.withResolvers());rd(this,xu,null);rd(this,dA,null);rd(this,g0,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(Ea(ka,y0).has(t))throw new Error("Cannot use more than one PDFWorker per port.");Ea(ka,y0).set(t,this),nd(this,To,KV).call(this,t)}else nd(this,To,$V).call(this)}get promise(){return Ea(this,Rh).promise}get port(){return Ea(this,dA)}get messageHandler(){return Ea(this,xu)}destroy(){this.destroyed=!0,Ea(this,g0)?.terminate(),el(this,g0,null),Ea(ka,y0).delete(Ea(this,dA)),el(this,dA,null),Ea(this,xu)?.destroy(),el(this,xu,null)}static create(e){const t=Ea(this,y0).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new ka(e)}static get workerSrc(){if(Gh.workerSrc)return Gh.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return zr(this,"_setupFakeWorkerGlobal",(async()=>Ea(this,$p,ww)?Ea(this,$p,ww):(await import(this.workerSrc)).WorkerMessageHandler)())}};Rh=new WeakMap,xu=new WeakMap,dA=new WeakMap,g0=new WeakMap,aC=new WeakMap,x0=new WeakMap,y0=new WeakMap,To=new WeakSet,bw=function(){Ea(this,Rh).resolve(),Ea(this,xu).send("configure",{verbosity:this.verbosity})},KV=function(e){el(this,dA,e),el(this,xu,new Xx("main","worker",e)),Ea(this,xu).on("ready",()=>{}),nd(this,To,bw).call(this)},$V=function(){if(Ea(ka,x0)||Ea(ka,$p,ww)){nd(this,To,Jx).call(this);return}let{workerSrc:e}=ka;try{ka._isSameOrigin(window.location,e)||(e=ka._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Xx("main","worker",t),a=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?Ea(this,Rh).reject(new Error("Worker was destroyed")):nd(this,To,Jx).call(this)},s=new AbortController;t.addEventListener("error",()=>{Ea(this,g0)||a()},{signal:s.signal}),n.on("test",l=>{if(s.abort(),this.destroyed||!l){a();return}el(this,xu,n),el(this,dA,t),el(this,g0,t),nd(this,To,bw).call(this)}),n.on("ready",l=>{if(s.abort(),this.destroyed){a();return}try{i()}catch{nd(this,To,Jx).call(this)}});const i=()=>{const l=new Uint8Array;n.send("test",l,[l.buffer])};i();return}catch{o5("The worker has been disabled.")}nd(this,To,Jx).call(this)},Jx=function(){Ea(ka,x0)||(Rr("Setting up fake worker."),el(ka,x0,!0)),ka._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){Ea(this,Rh).reject(new Error("Worker was destroyed"));return}const t=new SEe;el(this,dA,t);const n=`fake${$O(ka,aC)._++}`,a=new Xx(n+"_worker",n,t);e.setup(a,t),el(this,xu,new Xx(n,n+"_worker",t)),nd(this,To,bw).call(this)}).catch(e=>{Ea(this,Rh).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},$p=new WeakSet,ww=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},rd(ka,$p),rd(ka,aC,0),rd(ka,x0,!1),rd(ka,y0,new WeakMap),Co&&(el(ka,x0,!0),Gh.workerSrc||="./pdf.worker.mjs"),ka._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!n?.origin||n.origin==="null")return!1;const a=new URL(t,n);return n.origin===a.origin},ka._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},ka.fromPort=e=>{if(hEe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return ka.create(e)};let lg=ka;class gje{#e=new Map;#t=new Map;#n=new Map;#r=new Map;#i=null;constructor(e,t,n,a,s,i){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new zV,this.fontLoader=new vEe({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=i,this.setupMessageHandler()}#a(e,t=null){const n=this.#e.get(e);if(n)return n;const a=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,a),a}get annotationStorage(){return zr(this,"annotationStorage",new nk)}getRenderingIntent(e,t=gd.ENABLE,n=null,a=!1,s=!1){let i=Pl.DISPLAY,l=g4;switch(e){case"any":i=Pl.ANY;break;case"display":break;case"print":i=Pl.PRINT;break;default:Rr(`getRenderingIntent - invalid intent: ${e}`)}const c=i&Pl.PRINT&&n instanceof TV?n:this.annotationStorage;switch(t){case gd.DISABLE:i+=Pl.ANNOTATIONS_DISABLE;break;case gd.ENABLE:break;case gd.ENABLE_FORMS:i+=Pl.ANNOTATIONS_FORMS;break;case gd.ENABLE_STORAGE:i+=Pl.ANNOTATIONS_STORAGE,l=c.serializable;break;default:Rr(`getRenderingIntent - invalid annotationMode: ${t}`)}a&&(i+=Pl.IS_EDITING),s&&(i+=Pl.OPLIST);const{ids:u,hash:A}=c.modifiedIds,h=[i,l.hash,A];return{renderingIntent:i,cacheKey:h.join("_"),annotationStorageSerializable:l,modifiedIds:u}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#i?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#n.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),Gy.cleanup(),this._networkStream?.cancelAllRequests(new OA("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,a)=>{ln(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},a.onPull=()=>{this._fullReader.read().then(function({value:s,done:i}){if(i){a.close();return}ln(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{a.error(s)})},a.onCancel=s=>{this._fullReader.cancel(s),a.ready.catch(i=>{if(!this.destroyed)throw i})}}),e.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:s,contentLength:i}=this._fullReader;return(!a||!s)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=l=>{t.onProgress?.({loaded:l.loaded,total:l.total})}),{isStreamingSupported:a,isRangeSupported:s,contentLength:i}}),e.on("GetRangeReader",(n,a)=>{ln(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){a.close();return}a.onPull=()=>{s.read().then(function({value:i,done:l}){if(l){a.close();return}ln(i instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{a.error(i)})},a.onCancel=i=>{s.cancel(i),a.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new mje(n,this))}),e.on("DocException",n=>{t._capability.reject(rl(n))}),e.on("PasswordRequest",n=>{this.#i=Promise.withResolvers();try{if(!t.onPassword)throw rl(n);const a=s=>{s instanceof Error?this.#i.reject(s):this.#i.resolve({password:s})};t.onPassword(a,n.code)}catch(a){this.#i.reject(a)}return this.#i.promise}),e.on("DataLoaded",n=>{t.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,a,s])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(a){case"Font":if("error"in s){const A=s.error;Rr(`Error during font loading: ${A}`),this.commonObjs.resolve(n,A);break}const i=new Zn(s),l=this._params.pdfBug&&globalThis.FontInspector?.enabled?(A,h)=>globalThis.FontInspector.fontAdded(A,h):null,c=new bEe(i,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":const{imageRef:u}=s;ln(u,"The imageRef must be defined.");for(const A of this.#t.values())for(const[,h]of A.objs)if(h?.ref===u)return h.dataLen?(this.commonObjs.resolve(n,structuredClone(h)),h.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),e.on("obj",([n,a,s,i])=>{if(this.destroyed)return;const l=this.#t.get(a);if(!l.objs.has(n)){if(l._intentStates.size===0){i?.bitmap?.close();return}switch(s){case"Image":case"Pattern":l.objs.resolve(n,i);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{this.destroyed||t.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[n.type];if(!a)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Rr("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#n.get(t);if(n)return n;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#r.set(s.refStr,e);const i=new pje(t,s,this,this._params.pdfBug);return this.#t.set(t,i),i});return this.#n.set(t,a),a}getPageIndex(e){return x4(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#a("GetOptionalContentConfig").then(t=>new WEe(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(a=>({info:a[0],metadata:a[1]?new qEe(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),Gy.cleanup()}}cachedPageNumber(e){if(!x4(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#r.get(t)??null}}class xje{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class Bp{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:a,annotationCanvasMap:s,operatorList:i,pageIndex:l,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:A=!1,pdfBug:h=!1,pageColors:p=null,enableHWA:m=!1,operationsFilter:y=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=a,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=i,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=h,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=A===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new xje(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=m,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=y}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(Bp.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Bp.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:a,background:s,dependencyTracker:i}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Pp(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,i),this.gfx.beginDrawing({transform:a,viewport:n,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Bp.#t.delete(this._canvas),e||=new l5(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Bp.#t.delete(this._canvas),this.callback())))}}const VV="5.4.296",qV="f56dc8601";class Il{#e=null;#t=null;#n;#r=null;#i=!1;#a=!1;#s=null;#o;#c=null;#l=null;static#A=null;static get _keyboardManager(){return zr(this,"_keyboardManager",new Uv([[["Escape","mac+Escape"],Il.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Il.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Il.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Il.prototype._moveToPrevious],[["Home","mac+Home"],Il.prototype._moveToBeginning],[["End","mac+End"],Il.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#a=!1,this.#s=e):this.#a=!0,this.#l=e?._uiManager||t,this.#o=this.#l._eventBus,this.#n=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Il.#A||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#s&&(e.ariaControls=`${this.#s.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#f.bind(this),{signal:t}),e.addEventListener("keydown",this.#p.bind(this),{signal:t});const n=this.#t=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#n,e.append(n),e}renderMainDropdown(){const e=this.#r=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",Jl,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#s&&(e.id=`${this.#s.id}_colorpicker_dropdown`);for(const[n,a]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",a),s.title=n,s.setAttribute("data-l10n-id",Il.#A[n]);const i=document.createElement("span");s.append(i),i.className="swatch",i.style.backgroundColor=a,s.ariaSelected=a===this.#n,s.addEventListener("click",this.#h.bind(this,a),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#p.bind(this),{signal:t}),e}#h(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:nn.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#f(e);return}const t=e.target.getAttribute("data-color");t&&this.#h(t,e)}_moveToNext(e){if(!this.#m){this.#f(e);return}if(e.target===this.#e){this.#r.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#r?.firstChild||e.target===this.#e){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#f(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#m){this.#f(e);return}this.#r.firstChild?.focus()}_moveToEnd(e){if(!this.#m){this.#f(e);return}this.#r.lastChild?.focus()}#p(e){Il._keyboardManager.exec(this,e)}#f(e){if(this.#m){this.hideDropdown();return}if(this.#i=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#r){this.#r.classList.remove("hidden");return}const t=this.#r=this.#d();this.#e.append(t)}#u(e){this.#r?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#r?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#m(){return this.#r&&!this.#r.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#m){this.#s?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#i})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#r)return;const t=this.#l.highlightColors.values();for(const n of this.#r.children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#r?.remove(),this.#r=null}}class Wy{#e=null;#t=null;#n=null;static#r=null;constructor(e){this.#t=e,this.#n=e._uiManager,Wy.#r||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,colorValue:n}=this.#t,a=this.#e=document.createElement("input");return a.type="color",a.value=n||"#000000",a.className="basicColorPicker",a.tabIndex=0,a.setAttribute("data-l10n-id",Wy.#r[e]),a.addEventListener("input",()=>{this.#n.updateParams(t,a.value)},{signal:this.#n._signal}),a}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function YM(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function Lx(r){return Math.max(0,Math.min(255,255*r))}class XM{static CMYK_G([e,t,n,a]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+a)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Lx(e),[e,e,e]}static G_HTML([e]){const t=YM(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Lx)}static RGB_HTML(e){return`#${e.map(YM).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,a]){return["RGB",1-Math.min(1,e+a),1-Math.min(1,n+a),1-Math.min(1,t+a)]}static CMYK_rgb([e,t,n,a]){return[Lx(1-Math.min(1,e+a)),Lx(1-Math.min(1,n+a)),Lx(1-Math.min(1,t+a))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const a=1-e,s=1-t,i=1-n,l=Math.min(a,s,i);return["CMYK",a,s,i,l]}}class yje{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),n||(a.setAttribute("width",`${e}px`),a.setAttribute("height",`${t}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${e} ${t}`),a}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){la("Abstract method `_createSVG` called.")}}class Yy extends yje{_createSVG(e){return document.createElementNS(cA,e)}}const vje=9,H0=new WeakSet,bje=new Date().getTimezoneOffset()*60*1e3;class JM{static create(e){switch(e.data.annotationType){case ps.LINK:return new uk(e);case ps.TEXT:return new Cje(e);case ps.WIDGET:switch(e.data.fieldType){case"Tx":return new Nje(e);case"Btn":return e.data.radioButton?new GV(e):e.data.checkBox?new Bje(e):new Eje(e);case"Ch":return new jje(e);case"Sig":return new Sje(e)}return new nm(e);case ps.POPUP:return new b4(e);case ps.FREETEXT:return new WV(e);case ps.LINE:return new Tje(e);case ps.SQUARE:return new kje(e);case ps.CIRCLE:return new Fje(e);case ps.POLYLINE:return new YV(e);case ps.CARET:return new Dje(e);case ps.INK:return new dk(e);case ps.POLYGON:return new Oje(e);case ps.HIGHLIGHT:return new XV(e);case ps.UNDERLINE:return new Pje(e);case ps.SQUIGGLY:return new Ije(e);case ps.STRIKEOUT:return new Lje(e);case ps.STAMP:return new JV(e);case ps.FILEATTACHMENT:return new Mje(e);default:return new Va(e)}}}class Va{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Va._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:n,rect:a}=this.data;let s=-1/0,i=-1/0;if(t?.length>=8){for(let l=0;l<t.length;l+=8)t[l+1]>i?(i=t[l+1],s=t[l+2]):t[l+1]===i&&(s=Math.max(s,t[l+2]));return[s,i]}if(n?.length>=1){for(const l of n)for(let c=0,u=l.length;c<u;c+=2)l[c+1]>i?(i=l[c+1],s=l[c]):l[c+1]===i&&(s=Math.max(s,l[c]));if(s!==1/0)return[s,i]}return a?[a[2],a[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:a,pageX:s,pageY:i}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/n,e[1]=100*(e[1]-i)/a,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${$y}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${$y}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#n?.popup||this.popup)?.remove(),this.#n=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:n}=e;t&&this.#r(t);let a=this.#n?.popup||this.popup;!a&&n?.text&&(this._createPopup(n),a=this.#n.popup),a&&(a.updateEdited(e),n?.deleted&&(a.remove(),this.#n=null,this.popup=null))}resetEdited(){this.#e&&(this.#r(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#r(e){const{container:{style:t},data:{rect:n,rotation:a},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:i,pageX:l,pageY:c}}}}=this;n?.splice(0,4,...e),t.left=`${100*(e[0]-l)/s}%`,t.top=`${100*(i-e[3]+c)/i}%`,a===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/i}%`):this.setRotation(a)}_createContainer(e){const{data:t,parent:{page:n,viewport:a}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof nm)&&!(this instanceof uk)&&(s.tabIndex=0);const{style:i}=s;if(i.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof b4){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,s),s}const{width:l,height:c}=this;if(!e&&t.borderStyle.width>0){i.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,v=t.borderStyle.verticalCornerRadius;if(g>0||v>0){const N=`calc(${g}px * var(--total-scale-factor)) / calc(${v}px * var(--total-scale-factor))`;i.borderRadius=N}else if(this instanceof GV){const N=`calc(${l}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;i.borderRadius=N}switch(t.borderStyle.style){case hp.SOLID:i.borderStyle="solid";break;case hp.DASHED:i.borderStyle="dashed";break;case hp.BEVELED:Rr("Unimplemented border style: beveled");break;case hp.INSET:Rr("Unimplemented border style: inset");break;case hp.UNDERLINE:i.borderBottomStyle="solid";break}const b=t.borderColor||null;b?(this.#t=!0,i.borderColor=Xt.makeHexColor(b[0]|0,b[1]|0,b[2]|0)):i.borderWidth=0}const u=Xt.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:A,pageHeight:h,pageX:p,pageY:m}=a.rawDims;i.left=`${100*(u[0]-p)/A}%`,i.top=`${100*(u[1]-m)/h}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(i.width=`${100*l/A}%`,i.height=`${100*c/h}%`):this.setRotation(y,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:a}=this.parent.viewport.rawDims;let{width:s,height:i}=this;e%180!==0&&([s,i]=[i,s]),t.style.width=`${100*s/n}%`,t.style.height=`${100*i/a}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,a)=>{const s=a.detail[t],i=s[0],l=s.slice(1);a.target.style[n]=XM[`${i}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[n]:XM[`${i}_rgb`](l)})};return zr(this,"_commonActions",{display:t=>{const{display:n}=t.detail,a=n%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const a of Object.keys(t.detail))(e[a]||n[a])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[a,s]of Object.entries(t)){const i=n[a];if(i){const l={detail:{[a]:s},target:e};i(l),delete t[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,a,s]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,v,b,N]=e.subarray(2,6);if(a===g&&s===v&&t===b&&n===N)return}const{style:i}=this.container;let l;if(this.#t){const{borderColor:g,borderWidth:v}=i;i.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const c=a-t,u=s-n,{svgFactory:A}=this,h=A.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const p=A.createElement("defs");h.append(p);const m=A.createElement("clipPath"),y=`clippath_${this.data.id}`;m.setAttribute("id",y),m.setAttribute("clipPathUnits","objectBoundingBox"),p.append(m);for(let g=2,v=e.length;g<v;g+=8){const b=e[g],N=e[g+1],C=e[g+2],E=e[g+3],_=A.createElement("rect"),P=(C-t)/c,O=(s-N)/u,D=(b-C)/c,k=(N-E)/u;_.setAttribute("x",P),_.setAttribute("y",O),_.setAttribute("width",D),_.setAttribute("height",k),m.append(_),l?.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${O}" width="${D}" height="${k}"/>`)}this.#t&&(l.push("</g></svg>')"),i.backgroundImage=l.join("")),this.container.append(h),this.container.style.clipPath=`url(#${y})`}_createPopup(e=null){const{data:t}=this;let n,a;e?(n={str:e.text},a=e.date):(n=t.contentsObj,a=t.modificationDate);const s=this.#n=new b4({data:{color:t.color,titleObj:t.titleObj,modificationDate:a,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(s.render())}get hasPopupElement(){return!!(this.#n||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#n}render(){la("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const a=this._fieldObjects[e];if(a)for(const{page:s,id:i,exportValues:l}of a){if(s===-1||i===t)continue;const c=typeof l=="string"?l:null,u=document.querySelector(`[data-element-id="${i}"]`);if(u&&!H0.has(u)){Rr(`_getElementsByName - element not allowed: ${i}`);continue}n.push({id:i,exportValue:c,domElement:u})}return n}for(const a of document.getElementsByName(e)){const{exportValue:s}=a,i=a.getAttribute("data-element-id");i!==t&&H0.has(a)&&n.push({id:i,exportValue:s,domElement:a})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class wje extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class uk extends Va{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let a=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(n,e.action,e.overlaidText),a=!0):e.attachment?(this.#t(n,e.attachment,e.overlaidText,e.attachmentDest),a=!0):e.setOCGState?(this.#n(n,e.setOCGState,e.overlaidText),a=!0):e.dest?(this._bindLink(n,e.dest,e.overlaidText),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),a=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(n,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(n),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,n=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),n&&(e.title=n)}_bindNamedAction(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),n&&(e.title=n),this.#e()}#t(e,t,n="",a=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:n&&(e.title=n),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,a),!1),this.#e()}#n(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),n&&(e.title=n),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(t.actions)){const s=n.get(a);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:a}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Rr('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(e.onclick=()=>!1);return}e.onclick=()=>{n?.();const{fields:a,refs:s,include:i}=t,l=[];if(a.length!==0||s.length!==0){const A=new Set(s);for(const h of a){const p=this._fieldObjects[h]||[];for(const{id:m}of p)A.add(m)}for(const h of Object.values(this._fieldObjects))for(const p of h)A.has(p.id)===i&&l.push(p)}else for(const A of Object.values(this._fieldObjects))l.push(...A);const c=this.annotationStorage,u=[];for(const A of l){const{id:h}=A;switch(u.push(h),A.type){case"text":{const m=A.defaultValue||"";c.setValue(h,{value:m});break}case"checkbox":case"radiobutton":{const m=A.defaultValue===A.exportValues;c.setValue(h,{value:m});break}case"combobox":case"listbox":{const m=A.defaultValue||"";c.setValue(h,{value:m});break}default:continue}const p=document.querySelector(`[data-element-id="${h}"]`);if(p){if(!H0.has(p)){Rr(`_bindResetFormAction - element not allowed: ${h}`);continue}}else continue;p.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}}),!1}}}class Cje extends Va{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class nm extends Va{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return bi.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,a,s){n.includes("mouse")?e.addEventListener(n,i=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:s(i),shift:i.shiftKey,modifier:this._getKeyModifier(i)}})}):e.addEventListener(n,i=>{if(n==="blur"){if(!t.focused||!i.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:s(i)}})})}_setEventListeners(e,t,n,a){for(const[s,i]of n)(i==="Action"||this.data.actions?.[i])&&((i==="Focus"||i==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,s,i,a),i==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):i==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Xt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||vje,s=e.style;let i;const l=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l),A=Math.round(u/(GB*a))||1,h=u/A;i=Math.min(a,c(h/GB))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l);i=Math.min(a,c(u/GB))}s.fontSize=`calc(${i}px * var(--total-scale-factor))`,s.color=Xt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Nje extends nm{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,a){const s=this.annotationStorage;for(const i of this._getElementsByName(e.name,e.id))i.domElement&&(i.domElement[t]=n),s.setValue(i.id,{[a]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let s=a.value||"";const i=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;i&&s.length>i&&(s=s.slice(0,i));let l=a.formattedValue||this.data.textContent?.join(`
`)||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:s,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=l??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",l??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),H0.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:u,datetimeType:A,timeStep:h}=this.data,p=!!A&&this.enableScripting;u&&(n.title=u),this._setRequired(n,this.data.required),i&&(n.maxLength=i),n.addEventListener("input",y=>{e.setValue(t,{value:y.target.value}),this.setPropertyOnSiblings(n,"value",y.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",y=>{const g=this.data.defaultFieldValue??"";n.value=c.userValue=g,c.formattedValue=null});let m=y=>{const{formattedValue:g}=c;g!=null&&(y.target.value=g),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",g=>{if(c.focused)return;const{target:v}=g;if(p&&(v.type=A,h&&(v.step=h)),c.userValue){const b=c.userValue;if(p)if(A==="time"){const N=new Date(b),C=[N.getHours(),N.getMinutes(),N.getSeconds()];v.value=C.map(E=>E.toString().padStart(2,"0")).join(":")}else v.value=new Date(b-bje).toISOString().split(A==="date"?"T":".",1)[0];else v.value=b}c.lastCommittedValue=v.value,c.commitKey=1,this.data.actions?.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const v={value(b){c.userValue=b.detail.value??"",p||e.setValue(t,{value:c.userValue.toString()}),b.target.value=c.userValue},formattedValue(b){const{formattedValue:N}=b.detail;c.formattedValue=N,N!=null&&b.target!==document.activeElement&&(b.target.value=N);const C={formattedValue:N};p&&(C.value=N),e.setValue(t,C)},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{const{charLimit:N}=b.detail,{target:C}=b;if(N===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",N);let E=c.userValue;!E||E.length<=N||(E=E.slice(0,N),C.value=c.userValue=E,e.setValue(t,{value:E}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(v,g)}),n.addEventListener("keydown",g=>{c.commitKey=1;let v=-1;if(g.key==="Escape"?v=0:g.key==="Enter"&&!this.data.multiLine?v=2:g.key==="Tab"&&(c.commitKey=3),v===-1)return;const{value:b}=g.target;c.lastCommittedValue!==b&&(c.lastCommittedValue=b,c.userValue=b,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:v,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const y=m;m=null,n.addEventListener("blur",g=>{if(!c.focused||!g.relatedTarget)return;this.data.actions?.Blur||(c.focused=!1);const{target:v}=g;let{value:b}=v;if(p){if(b&&A==="time"){const N=b.split(":").map(C=>parseInt(C,10));b=new Date(2e3,0,1,N[0],N[1],N[2]||0).valueOf(),v.step=""}else b.includes("T")||(b=`${b}T00:00`),b=new Date(b).valueOf();v.type="text"}c.userValue=b,c.lastCommittedValue!==b&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:c.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}),y(g)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",g=>{c.lastCommittedValue=null;const{data:v,target:b}=g,{value:N,selectionStart:C,selectionEnd:E}=b;let _=C,P=E;switch(g.inputType){case"deleteWordBackward":{const O=N.substring(0,C).match(/\w*[^\w]*$/);O&&(_-=O[0].length);break}case"deleteWordForward":{const O=N.substring(C).match(/^[^\w]*\w*/);O&&(P+=O[0].length);break}case"deleteContentBackward":C===E&&(_-=1);break;case"deleteContentForward":C===E&&(P+=1);break}g.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:N,change:v||"",willCommit:!1,selStart:_,selEnd:P}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(m&&n.addEventListener("blur",m),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/i;n.classList.add("comb"),n.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Sje extends nm{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Bje extends nm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let a=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",e.setValue(n,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return H0.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,a&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",i=>{const{name:l,checked:c}=i.target;for(const u of this._getElementsByName(l,n)){const A=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=A),e.setValue(u.id,{value:A})}e.setValue(n,{value:c})}),s.addEventListener("resetform",i=>{const l=t.defaultFieldValue||"Off";i.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",i=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(n,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,i)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],i=>i.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class GV extends nm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let a=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof a=="string"&&(a=a!==t.buttonValue,e.setValue(n,{value:a})),a)for(const i of this._getElementsByName(t.fieldName,n))e.setValue(i.id,{value:!1});const s=document.createElement("input");if(H0.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,a&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",i=>{const{name:l,checked:c}=i.target;for(const u of this._getElementsByName(l,n))e.setValue(u.id,{value:!1});e.setValue(n,{value:c})}),s.addEventListener("resetform",i=>{const l=t.defaultFieldValue;i.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const i=t.buttonValue;s.addEventListener("updatefromsandbox",l=>{const c={value:u=>{const A=i===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const p=A&&h.id===n;h.domElement&&(h.domElement.checked=p),e.setValue(h.id,{value:p})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Eje extends uk{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class jje extends nm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),a=document.createElement("select");H0.add(a),a.setAttribute("data-element-id",t),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",A=>{const h=this.data.defaultFieldValue;for(const p of a.options)p.selected=p.value===h});for(const A of this.data.options){const h=document.createElement("option");h.textContent=A.displayValue,h.value=A.exportValue,n.value.includes(A.exportValue)&&(h.setAttribute("selected",!0),s=!1),a.append(h)}let i=null;if(s){const A=document.createElement("option");A.value=" ",A.setAttribute("hidden",!0),A.setAttribute("selected",!0),a.prepend(A),i=()=>{A.remove(),a.removeEventListener("input",i),i=null},a.addEventListener("input",i)}const l=A=>{const h=A?"value":"textContent",{options:p,multiple:m}=a;return m?Array.prototype.filter.call(p,y=>y.selected).map(y=>y[h]):p.selectedIndex===-1?null:p[p.selectedIndex][h]};let c=l(!1);const u=A=>{const h=A.target.options;return Array.prototype.map.call(h,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",A=>{const h={value(p){i?.();const m=p.detail.value,y=new Set(Array.isArray(m)?m:[m]);for(const g of a.options)g.selected=y.has(g.value);e.setValue(t,{value:l(!0)}),c=l(!1)},multipleSelection(p){a.multiple=!0},remove(p){const m=a.options,y=p.detail.remove;m[y].selected=!1,a.remove(y),m.length>0&&Array.prototype.findIndex.call(m,v=>v.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:l(!0),items:u(p)}),c=l(!1)},clear(p){for(;a.length!==0;)a.remove(0);e.setValue(t,{value:null,items:[]}),c=l(!1)},insert(p){const{index:m,displayValue:y,exportValue:g}=p.detail.insert,v=a.children[m],b=document.createElement("option");b.textContent=y,b.value=g,v?v.before(b):a.append(b),e.setValue(t,{value:l(!0),items:u(p)}),c=l(!1)},items(p){const{items:m}=p.detail;for(;a.length!==0;)a.remove(0);for(const y of m){const{displayValue:g,exportValue:v}=y,b=document.createElement("option");b.textContent=g,b.value=v,a.append(b)}a.options.length>0&&(a.options[0].selected=!0),e.setValue(t,{value:l(!0),items:u(p)}),c=l(!1)},indices(p){const m=new Set(p.detail.indices);for(const y of p.target.options)y.selected=m.has(y.index);e.setValue(t,{value:l(!0)}),c=l(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(h,A)}),a.addEventListener("input",A=>{const h=l(!0),p=l(!1);e.setValue(t,{value:h}),A.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:p,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],A=>A.target.value)):a.addEventListener("input",function(A){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class b4 extends Va{constructor(e){const{data:t,elements:n,parent:a}=e,s=!!a._commentManager;if(super(e,{isRenderable:!s&&Va._hasPopupData(t)}),this.elements=n,s&&Va._hasPopupData(t)){const i=this.popup=this.#e();for(const l of n)l.popup=i}else this.popup=null}#e(){return new _je({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),n=[];for(const a of this.elements)a.popup=t,a.container.ariaHasPopup="dialog",n.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(a=>`${J3}${a}`).join(",")),this.container}}class _je{#e=null;#t=this.#K.bind(this);#n=this.#R.bind(this);#r=this.#O.bind(this);#i=this.#b.bind(this);#a=null;#s=null;#o=null;#c=null;#l=null;#A=null;#d=null;#h=!1;#p=null;#f=null;#u=null;#m=null;#g=null;#y=null;#x=null;#S=null;#C=null;#v=null;#E=!1;#w=null;#N=null;constructor({container:e,color:t,elements:n,titleObj:a,modificationDate:s,contentsObj:i,richText:l,parent:c,rect:u,parentRect:A,open:h,commentManager:p=null}){this.#s=e,this.#C=a,this.#o=i,this.#S=l,this.#A=c,this.#a=t,this.#x=u,this.#d=A,this.#l=n,this.#e=p,this.#w=n[0],this.#c=U2.toDateObject(s),this.trigger=n.flatMap(m=>m.getElementsToTriggerPopup()),p?this.renderCommentButton():(this.#T(),this.#s.hidden=!0,h&&this.#b())}#T(){if(this.#f)return;this.#f=new AbortController;const{signal:e}=this.#f;for(const t of this.trigger)t.addEventListener("click",this.#i,{signal:e}),t.addEventListener("pointerenter",this.#r,{signal:e}),t.addEventListener("pointerleave",this.#n,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#l)t.container?.addEventListener("keydown",this.#t,{signal:e})}#j(){const e=this.#l.find(t=>t.hasCommentButton);e&&(this.#g=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#m||(this.#g||this.#j(),!this.#g))return;const{signal:e}=this.#f=new AbortController,t=!!this.#w.extraPopupElement,n=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},a=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},s=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#m=this.#w.container;for(const i of this.trigger)i.ariaHasPopup="dialog",i.ariaControls="commentPopup",i.addEventListener("keydown",this.#t,{signal:e}),i.addEventListener("click",n,{signal:e}),i.addEventListener("pointerenter",a,{signal:e}),i.addEventListener("pointerleave",s,{signal:e}),i.classList.add("popupTriggerArea")}else{const i=this.#m=document.createElement("button");i.className="annotationCommentButton";const l=this.#w.container;i.style.zIndex=l.style.zIndex+1,i.tabIndex=0,i.ariaHasPopup="dialog",i.ariaControls="commentPopup",i.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#L(),this.#_(),i.addEventListener("keydown",this.#t,{signal:e}),i.addEventListener("click",n,{signal:e}),i.addEventListener("pointerenter",a,{signal:e}),i.addEventListener("pointerleave",s,{signal:e}),l.after(i)}}#_(){if(this.#w.extraPopupElement&&!this.#w.editor)return;this.renderCommentButton();const[e,t]=this.#g,{style:n}=this.#m;n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`}#L(){this.#w.extraPopupElement||(this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#w.commentData;return e?this.#A._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:a,modificationDate:s}=this.#w.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:a,modificationDate:s}}get elementBeforePopup(){return this.#m}get comment(){return this.#N||=this.#w.commentText,this.#N}set comment(e){e!==this.comment&&(this.#w.commentText=this.#N=e)}get parentBoundingClientRect(){return this.#w.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#m&&(this.#m.classList.toggle("selected",e),this.#m.ariaExpanded=t)}setSelectedCommentButton(e){this.#m.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#y)return this.#y;const{x:e,y:t,height:n}=this.#m.getBoundingClientRect(),{x:a,y:s,width:i,height:l}=this.#w.layer.getBoundingClientRect();return[(e-a)/i,(t+n-s)/l]}set commentPopupPosition(e){this.#y=e}hasDefaultPopupPosition(){return this.#y===null}get commentButtonPosition(){return this.#g}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=this.#y||this.commentButtonPosition.map(u=>u/100),a=this.parentBoundingClientRect,{x:s,y:i,width:l,height:c}=a;this.#e.showDialog(null,this,s+t*l,i+n*c,{...e,parentDimensions:a})}render(){if(this.#p)return;const e=this.#p=document.createElement("div");if(e.className="popup",this.#a){const n=e.style.outlineColor=Xt.makeHexColor(...this.#a);e.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#C?.str){const n=document.createElement("span");n.className="title",t.append(n),{dir:n.dir,str:n.textContent}=this.#C}if(e.append(t),this.#c){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),n.dateTime=this.#c.toISOString(),t.append(n)}ek({html:this.#F||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#s.append(e)}get#F(){const e=this.#S,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#S.html||null}get#D(){return this.#F?.attributes?.style?.fontSize||0}get#M(){return this.#F?.attributes?.style?.color||null}#P(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},a={style:{color:this.#M,fontSize:this.#D?`calc(${this.#D}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:a});return n}#K(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#h)&&this.#b()}updateEdited({rect:e,popup:t,deleted:n}){if(this.#e){n?(this.remove(),this.#N=null):t&&(t.deleted?this.remove():(this.#L(),this.#N=t.text)),e&&(this.#g=null,this.#j(),this.#_());return}if(n||t?.deleted){this.remove();return}this.#T(),this.#v||={contentsObj:this.#o,richText:this.#S},e&&(this.#u=null),t&&t.text&&(this.#S=this.#P(t.text),this.#c=U2.toDateObject(t.date),this.#o=null),this.#p?.remove(),this.#p=null}resetEdited(){this.#v&&({contentsObj:this.#o,richText:this.#S}=this.#v,this.#v=null,this.#p?.remove(),this.#p=null,this.#u=null)}remove(){if(this.#f?.abort(),this.#f=null,this.#p?.remove(),this.#p=null,this.#E=!1,this.#h=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#B(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:a,pageY:s}}}=this.#A;let i=!!this.#d,l=i?this.#d:this.#x;for(const y of this.#l)if(!l||Xt.intersect(y.data.rect,l)!==null){l=y.data.rect,i=!0;break}const c=Xt.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),A=i?l[2]-l[0]+5:0,h=c[0]+A,p=c[1];this.#u=[100*(h-a)/t,100*(p-s)/n];const{style:m}=this.#s;m.left=`${this.#u[0]}%`,m.top=`${this.#u[1]}%`}#b(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#h=!this.#h,this.#h?(this.#O(),this.#s.addEventListener("click",this.#i),this.#s.addEventListener("keydown",this.#t)):(this.#R(),this.#s.removeEventListener("click",this.#i),this.#s.removeEventListener("keydown",this.#t))}#O(){this.#p||this.render(),this.isVisible?this.#h&&this.#s.classList.add("focused"):(this.#B(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#R(){this.#s.classList.remove("focused"),!(this.#h||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#E=this.isVisible,this.#E&&(this.#s.hidden=!0)}maybeShow(){this.#e||(this.#T(),this.#E&&(this.#p||this.#O(),this.#E=!1,this.#s.hidden=!1))}get isVisible(){return this.#e?!1:this.#s.hidden===!1}}class WV extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Mr.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Tje extends Va{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,a=this.svgFactory.create(t,n,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class kje extends Va{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,a=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,i=this.#e=this.svgFactory.createElement("svg:rect");return i.setAttribute("x",s/2),i.setAttribute("y",s/2),i.setAttribute("width",t-s),i.setAttribute("height",n-s),i.setAttribute("stroke-width",s||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),a.append(i),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Fje extends Va{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,a=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,i=this.#e=this.svgFactory.createElement("svg:ellipse");return i.setAttribute("cx",t/2),i.setAttribute("cy",n/2),i.setAttribute("rx",t/2-s/2),i.setAttribute("ry",n/2-s/2),i.setAttribute("stroke-width",s||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),a.append(i),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class YV extends Va{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:a},width:s,height:i}=this;if(!t)return this.container;const l=this.svgFactory.create(s,i,!0);let c=[];for(let A=0,h=t.length;A<h;A+=2){const p=t[A]-e[0],m=e[3]-t[A+1];c.push(`${p},${m}`)}c=c.join(" ");const u=this.#e=this.svgFactory.createElement(this.svgElementName);return u.setAttribute("points",c),u.setAttribute("stroke-width",n.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Oje extends YV{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Dje extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class dk extends Va{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Mr.HIGHLIGHT:Mr.INK}#n(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:a,popupRef:s}}=this,{transform:i,width:l,height:c}=this.#n(t,e),u=this.svgFactory.create(l,c,!0),A=this.#e=this.svgFactory.createElement("svg:g");u.append(A),A.setAttribute("stroke-width",a.width||1),A.setAttribute("stroke-linecap","round"),A.setAttribute("stroke-linejoin","round"),A.setAttribute("stroke-miterlimit",10),A.setAttribute("stroke","transparent"),A.setAttribute("fill","transparent"),A.setAttribute("transform",i);for(let h=0,p=n.length;h<p;h++){const m=this.svgFactory.createElement(this.svgElementName);this.#t.push(m),m.setAttribute("points",n[h].join(",")),A.append(m)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:a}=e,s=this.#e;if(t>=0&&s.setAttribute("stroke-width",t||1),n)for(let i=0,l=this.#t.length;i<l;i++)this.#t[i].setAttribute("points",n[i].join(","));if(a){const{transform:i,width:l,height:c}=this.#n(this.data.rotation,a);s.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),s.setAttribute("transform",i)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class XV extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Mr.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Pje extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Ije extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Lje extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class JV extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Mr.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Mje extends Va{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||t.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#t.bind(this)),this.#e=n;const{isMac:a}=bi.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(a?s.metaKey:s.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let Ak=class ZV{#e=null;#t=null;#n=null;#r=new Map;#i=null;#a=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:a,page:s,viewport:i,structTreeLayer:l,commentManager:c,linkService:u,annotationStorage:A}){this.div=e,this.#e=t,this.#t=n,this.#i=l||null,this.#a=u||null,this.#n=A||new nk,this.page=s,this.viewport=i,this.zIndex=0,this._annotationEditorUIManager=a,this._commentManager=c||null}hasEditableAnnotations(){return this.#r.size>0}async#s(e,t,n){const a=e.firstChild||e,s=a.id=`${J3}${t}`,i=await this.#i?.getAriaAttributes(s);if(i)for(const[l,c]of i)a.setAttribute(l,c);n?n.at(-1).container.after(e):(this.div.append(e),this.#e?.moveElementInDOM(this.div,e,a,!1))}async render(e){const{annotations:t}=e,n=this.div;lf(n,this.viewport);const a=new Map,s={data:null,layer:n,linkService:this.#a,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Yy,annotationStorage:this.#n,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const i of t){if(i.noHTML)continue;const l=i.annotationType===ps.POPUP;if(l){const A=a.get(i.id);if(!A)continue;s.elements=A}else if(i.rect[2]===i.rect[0]||i.rect[3]===i.rect[1])continue;s.data=i;const c=JM.create(s);if(!c.isRenderable)continue;if(!l&&i.popupRef){const A=a.get(i.popupRef);A?A.push(c):a.set(i.popupRef,[c])}const u=c.render();i.hidden&&(u.style.visibility="hidden"),await this.#s(u,i.id,s.elements),c.extraPopupElement?.popup?.renderCommentButton(),c._isEditable&&(this.#r.set(c.data.id,c),this._annotationEditorUIManager?.renderAnnotationElement(c))}this.#o()}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#a,svgFactory:new Yy,parent:this};for(const n of e){n.borderStyle||=ZV._defaultBorderStyle,t.data=n;const a=JM.create(t);if(!a.isRenderable)continue;const s=a.render();await this.#s(s,n.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,lf(t,{rotation:e.rotation}),this.#o(),t.hidden=!1}#o(){if(!this.#t)return;const e=this.div;for(const[t,n]of this.#t){const a=e.querySelector(`[data-annotation-id="${t}"]`);if(!a)continue;n.className="annotationContent";const{firstChild:s}=a;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):a.append(n);const i=this.#r.get(t);i&&(i._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,a.id,n),i._hasNoCanvas=!1):i.canvas=n)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#r.values())}getEditableAnnotation(e){return this.#r.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:n,rotation:a}=e,s=new wje({data:{id:n,rect:e.getPDFRect(),rotation:a},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#a,annotationStorage:this.#n}),i=s.render();return t.append(i),this.#e?.moveElementInDOM(t,i,i,!1),s.createOrUpdatePopup(),s}static get _defaultBorderStyle(){return zr(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:hp.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const kb=/\r\n?|\n/g;class Ai extends br{#e="";#t=`${this.id}-editor`;#n=null;#r;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Ai.prototype,t=s=>s.isEmpty(),n=DA.TRANSLATE_SMALL,a=DA.TRANSLATE_BIG;return zr(this,"_keyboardManager",new Uv([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:t}]]))}static _type="freetext";static _editorType=Mr.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||Ai._defaultColor||br._defaultLineColor,this.#r=e.fontSize||Ai._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){br.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case nn.FREETEXT_SIZE:Ai._defaultFontSize=t;break;case nn.FREETEXT_COLOR:Ai._defaultColor=t;break}}updateParams(e,t){switch(e){case nn.FREETEXT_SIZE:this.#i(t);break;case nn.FREETEXT_COLOR:this.#a(t);break}}static get defaultPropertiesToUpdate(){return[[nn.FREETEXT_SIZE,Ai._defaultFontSize],[nn.FREETEXT_COLOR,Ai._defaultColor||br._defaultLineColor]]}get propertiesToUpdate(){return[[nn.FREETEXT_SIZE,this.#r],[nn.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Wy(this),[["colorPicker",this._colorPicker]]}get colorType(){return nn.FREETEXT_COLOR}#i(e){const t=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#r)*this.parentScale),this.#r=a,this.#o()},n=this.#r;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#a(e){const t=a=>{this.color=a,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Ai._internalPadding*e,-(Ai._internalPadding+this.#r)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#n=new AbortController;const e=this._uiManager.combinedSignal(this.#n);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#n?.abort(),this.#n=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#s(){const e=[];this.editorDiv.normalize();let t=null;for(const n of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(e.push(Ai.#c(n)),t=n);return e.join(`
`)}#o(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:a,div:s}=this,i=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",a.div.append(this.div),n=s.getBoundingClientRect(),s.remove(),s.style.display=i,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#s().trimEnd();if(e===t)return;const n=a=>{if(this.#e=a,!a){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Ai._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,s]=this.parentDimensions;if(this.annotationElementId){const{position:i}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,A]=this.pageDimensions,[h,p]=this.pageTranslation;let m,y;switch(this.rotation){case 0:m=e+(i[0]-h)/u,y=t+this.height-(i[1]-p)/A;break;case 90:m=e+(i[0]-h)/u,y=t-(i[1]-p)/A,[l,c]=[c,-l];break;case 180:m=e-this.width+(i[0]-h)/u,y=t-(i[1]-p)/A,[l,c]=[-l,-c];break;case 270:m=e+(i[0]-h-this.height*A)/u,y=t+(i[1]-p-this.width*u)/A,[l,c]=[-c,l];break}this.setAt(m*a,y*s,l,c)}else this._moveAfterPaste(e,t);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(kb,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(n.length===1&&n[0]==="text/plain")return;e.preventDefault();const a=Ai.#d(t.getData("text")||"").replaceAll(kb,`
`);if(!a)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const i=s.getRangeAt(0);if(!a.includes(`
`)){i.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:c}=i,u=[],A=[];if(l.nodeType===Node.TEXT_NODE){const m=l.parentElement;if(A.push(l.nodeValue.slice(c).replaceAll(kb,"")),m!==this.editorDiv){let y=u;for(const g of this.editorDiv.childNodes){if(g===m){y=A;continue}y.push(Ai.#c(g))}}u.push(l.nodeValue.slice(0,c).replaceAll(kb,""))}else if(l===this.editorDiv){let m=u,y=0;for(const g of this.editorDiv.childNodes)y++===c&&(m=A),m.push(Ai.#c(g))}this.#e=`${u.join(`
`)}${a}${A.join(`
`)}`,this.#l();const h=new Range;let p=Math.sumPrecise(u.map(m=>m.length));for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const y=m.nodeValue.length;if(p<=y){h.setStart(m,p),h.setEnd(m,p);break}p-=y}s.removeAllRanges(),s.addRange(h)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#A(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Ai._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,n){let a=null;if(e instanceof WV){const{data:{defaultAppearanceData:{fontSize:i,fontColor:l},rect:c,rotation:u,id:A,popupRef:h,richText:p,contentsObj:m,creationDate:y,modificationDate:g},textContent:v,textPosition:b,parent:{page:{pageNumber:N}}}=e;if(!v||v.length===0)return null;a=e={annotationType:Mr.FREETEXT,color:Array.from(l),fontSize:i,value:v.join(`
`),position:b,pageIndex:N-1,rect:c.slice(0),rotation:u,annotationElementId:A,id:A,deleted:!1,popupRef:h,comment:m?.str||null,richText:p,creationDate:y,modificationDate:g}}const s=await super.deserialize(e,t,n);return s.#r=e.fontSize,s.color=Xt.makeHexColor(...e.color),s.#e=Ai.#d(e.value),s._initialData=a,e.comment&&s.setCommentData(e),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=br._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(e),{color:t,fontSize:this.#r,value:this.#A()});return this.addComment(n),e?(n.isCopy=!0,n):this.annotationElementId&&!this.#h(n)?null:(n.id=this.annotationElementId,n)}#h(e){const{value:t,fontSize:n,color:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((i,l)=>i!==a[l])||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:n}=t;n.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,n.color=this.color,t.replaceChildren();for(const a of this.#e.split(`
`)){const s=document.createElement("div");s.append(a?document.createTextNode(a):document.createElement("br")),t.append(s)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class Yt{static PRECISION=1e-4;toSVGPath(){la("Abstract method `toSVGPath` must be implemented.")}get box(){la("Abstract getter `box` must be implemented.")}serialize(e,t){la("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,a,s,i){i||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)i[l]=t+e[l]*a,i[l+1]=n+e[l+1]*s;return i}static _rescaleAndSwap(e,t,n,a,s,i){i||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)i[l]=t+e[l+1]*a,i[l+1]=n+e[l]*s;return i}static _translate(e,t,n,a){a||=new Float32Array(e.length);for(let s=0,i=e.length;s<i;s+=2)a[s]=t+e[s],a[s+1]=n+e[s+1];return a}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,a,s){switch(s){case 90:return[1-t/n,e/a];case 180:return[1-e/n,1-t/a];case 270:return[t/n,1-e/a];default:return[e/n,t/a]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,a,s,i){return[(e+5*n)/6,(t+5*a)/6,(5*n+s)/6,(5*a+i)/6,(n+s)/2,(a+i)/2]}}class m0{#e;#t=[];#n;#r;#i=[];#a=new Float32Array(18);#s;#o;#c;#l;#A;#d;#h=[];static#p=8;static#f=2;static#u=m0.#p+m0.#f;constructor({x:e,y:t},n,a,s,i,l=0){this.#e=n,this.#d=s*a,this.#r=i,this.#a.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=l,this.#l=m0.#p*a,this.#c=m0.#u*a,this.#A=a,this.#h.push(e,t)}isEmpty(){return isNaN(this.#a[8])}#m(){const e=this.#a.subarray(4,6),t=this.#a.subarray(16,18),[n,a,s,i]=this.#e;return[(this.#s+(e[0]-t[0])/2-n)/s,(this.#o+(e[1]-t[1])/2-a)/i,(this.#s+(t[0]-e[0])/2-n)/s,(this.#o+(t[1]-e[1])/2-a)/i]}add({x:e,y:t}){this.#s=e,this.#o=t;const[n,a,s,i]=this.#e;let[l,c,u,A]=this.#a.subarray(8,12);const h=e-u,p=t-A,m=Math.hypot(h,p);if(m<this.#c)return!1;const y=m-this.#l,g=y/m,v=g*h,b=g*p;let N=l,C=c;l=u,c=A,u+=v,A+=b,this.#h?.push(e,t);const E=-b/y,_=v/y,P=E*this.#d,O=_*this.#d;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([u+P,A+O],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([u-P,A-O],16),isNaN(this.#a[6])?(this.#i.length===0&&(this.#a.set([l+P,c+O],2),this.#i.push(NaN,NaN,NaN,NaN,(l+P-n)/s,(c+O-a)/i),this.#a.set([l-P,c-O],14),this.#t.push(NaN,NaN,NaN,NaN,(l-P-n)/s,(c-O-a)/i)),this.#a.set([N,C,l,c,u,A],6),!this.isEmpty()):(this.#a.set([N,C,l,c,u,A],6),Math.abs(Math.atan2(C-c,N-l)-Math.atan2(b,v))<Math.PI/2?([l,c,u,A]=this.#a.subarray(2,6),this.#i.push(NaN,NaN,NaN,NaN,((l+u)/2-n)/s,((c+A)/2-a)/i),[l,c,N,C]=this.#a.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((N+l)/2-n)/s,((C+c)/2-a)/i),!0):([N,C,l,c,u,A]=this.#a.subarray(0,6),this.#i.push(((N+5*l)/6-n)/s,((C+5*c)/6-a)/i,((5*l+u)/6-n)/s,((5*c+A)/6-a)/i,((l+u)/2-n)/s,((c+A)/2-a)/i),[u,A,l,c,N,C]=this.#a.subarray(12,18),this.#t.push(((N+5*l)/6-n)/s,((C+5*c)/6-a)/i,((5*l+u)/6-n)/s,((5*c+A)/6-a)/i,((l+u)/2-n)/s,((c+A)/2-a)/i),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#i,t=this.#t;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#g();const n=[];n.push(`M${e[4]} ${e[5]}`);for(let a=6;a<e.length;a+=6)isNaN(e[a])?n.push(`L${e[a+4]} ${e[a+5]}`):n.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);this.#x(n);for(let a=t.length-6;a>=6;a-=6)isNaN(t[a])?n.push(`L${t[a+4]} ${t[a+5]}`):n.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);return this.#y(n),n.join(" ")}#g(){const[e,t,n,a]=this.#e,[s,i,l,c]=this.#m();return`M${(this.#a[2]-e)/n} ${(this.#a[3]-t)/a} L${(this.#a[4]-e)/n} ${(this.#a[5]-t)/a} L${s} ${i} L${l} ${c} L${(this.#a[16]-e)/n} ${(this.#a[17]-t)/a} L${(this.#a[14]-e)/n} ${(this.#a[15]-t)/a} Z`}#y(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#x(e){const[t,n,a,s]=this.#e,i=this.#a.subarray(4,6),l=this.#a.subarray(16,18),[c,u,A,h]=this.#m();e.push(`L${(i[0]-t)/a} ${(i[1]-n)/s} L${c} ${u} L${A} ${h} L${(l[0]-t)/a} ${(l[1]-n)/s}`)}newFreeDrawOutline(e,t,n,a,s,i){return new eq(e,t,n,a,s,i)}getOutlines(){const e=this.#i,t=this.#t,n=this.#a,[a,s,i,l]=this.#e,c=new Float32Array((this.#h?.length??0)+2);for(let h=0,p=c.length-2;h<p;h+=2)c[h]=(this.#h[h]-a)/i,c[h+1]=(this.#h[h+1]-s)/l;if(c[c.length-2]=(this.#s-a)/i,c[c.length-1]=(this.#o-s)/l,isNaN(n[6])&&!this.isEmpty())return this.#S(c);const u=new Float32Array(this.#i.length+24+this.#t.length);let A=e.length;for(let h=0;h<A;h+=2){if(isNaN(e[h])){u[h]=u[h+1]=NaN;continue}u[h]=e[h],u[h+1]=e[h+1]}A=this.#v(u,A);for(let h=t.length-6;h>=6;h-=6)for(let p=0;p<6;p+=2){if(isNaN(t[h+p])){u[A]=u[A+1]=NaN,A+=2;continue}u[A]=t[h+p],u[A+1]=t[h+p+1],A+=2}return this.#C(u,A),this.newFreeDrawOutline(u,c,this.#e,this.#A,this.#n,this.#r)}#S(e){const t=this.#a,[n,a,s,i]=this.#e,[l,c,u,A]=this.#m(),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-a)/i,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-a)/i,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,A,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-a)/i,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-a)/i],0),this.newFreeDrawOutline(h,e,this.#e,this.#A,this.#n,this.#r)}#C(e,t){const n=this.#t;return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6}#v(e,t){const n=this.#a.subarray(4,6),a=this.#a.subarray(16,18),[s,i,l,c]=this.#e,[u,A,h,p]=this.#m();return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/l,(n[1]-i)/c,NaN,NaN,NaN,NaN,u,A,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(a[0]-s)/l,(a[1]-i)/c],t),t+=24}}class eq extends Yt{#e;#t=new Float32Array(4);#n;#r;#i;#a;#s;constructor(e,t,n,a,s,i){super(),this.#s=e,this.#i=t,this.#e=n,this.#a=a,this.#n=s,this.#r=i,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(i);const[l,c,u,A]=this.#t;for(let h=0,p=e.length;h<p;h+=2)e[h]=(e[h]-l)/u,e[h+1]=(e[h+1]-c)/A;for(let h=0,p=t.length;h<p;h+=2)t[h]=(t[h]-l)/u,t[h+1]=(t[h+1]-c)/A}toSVGPath(){const e=[`M${this.#s[4]} ${this.#s[5]}`];for(let t=6,n=this.#s.length;t<n;t+=6){if(isNaN(this.#s[t])){e.push(`L${this.#s[t+4]} ${this.#s[t+5]}`);continue}e.push(`C${this.#s[t]} ${this.#s[t+1]} ${this.#s[t+2]} ${this.#s[t+3]} ${this.#s[t+4]} ${this.#s[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,n,a],s){const i=n-e,l=a-t;let c,u;switch(s){case 0:c=Yt._rescale(this.#s,e,a,i,-l),u=Yt._rescale(this.#i,e,a,i,-l);break;case 90:c=Yt._rescaleAndSwap(this.#s,e,t,i,l),u=Yt._rescaleAndSwap(this.#i,e,t,i,l);break;case 180:c=Yt._rescale(this.#s,n,t,-i,l),u=Yt._rescale(this.#i,n,t,-i,l);break;case 270:c=Yt._rescaleAndSwap(this.#s,n,a,-i,-l),u=Yt._rescaleAndSwap(this.#i,n,a,-i,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}#o(e){const t=this.#s;let n=t[4],a=t[5];const s=[n,a,n,a];let i=n,l=a,c=n,u=a;const A=e?Math.max:Math.min,h=new Float32Array(4);for(let m=6,y=t.length;m<y;m+=6){const g=t[m+4],v=t[m+5];isNaN(t[m])?(Xt.pointBoundingBox(g,v,s),l>v?(i=g,l=v):l===v&&(i=A(i,g)),u<v?(c=g,u=v):u===v&&(c=A(c,g))):(h[0]=h[1]=1/0,h[2]=h[3]=-1/0,Xt.bezierBoundingBox(n,a,...t.slice(m,m+6),h),Xt.rectBoundingBox(h[0],h[1],h[2],h[3],s),l>h[1]?(i=h[0],l=h[1]):l===h[1]&&(i=A(i,h[0])),u<h[3]?(c=h[2],u=h[3]):u===h[3]&&(c=A(c,h[2]))),n=g,a=v}const p=this.#t;p[0]=s[0]-this.#n,p[1]=s[1]-this.#n,p[2]=s[2]-s[0]+2*this.#n,p[3]=s[3]-s[1]+2*this.#n,this.firstPoint=[i,l],this.lastPoint=[c,u]}get box(){return this.#t}newOutliner(e,t,n,a,s,i=0){return new m0(e,t,n,a,s,i)}getNewOutline(e,t){const[n,a,s,i]=this.#t,[l,c,u,A]=this.#e,h=s*u,p=i*A,m=n*u+l,y=a*A+c,g=this.newOutliner({x:this.#i[0]*h+m,y:this.#i[1]*p+y},this.#e,this.#a,e,this.#r,t??this.#n);for(let v=2;v<this.#i.length;v+=2)g.add({x:this.#i[v]*h+m,y:this.#i[v+1]*p+y});return g.getOutlines()}}class w4{#e;#t;#n;#r=[];#i=[];constructor(e,t=0,n=0,a=!0){const s=[1/0,1/0,-1/0,-1/0],i=10**-4;for(const{x:g,y:v,width:b,height:N}of e){const C=Math.floor((g-t)/i)*i,E=Math.ceil((g+b+t)/i)*i,_=Math.floor((v-t)/i)*i,P=Math.ceil((v+N+t)/i)*i,O=[C,_,P,!0],D=[E,_,P,!1];this.#r.push(O,D),Xt.rectBoundingBox(C,_,E,P,s)}const l=s[2]-s[0]+2*n,c=s[3]-s[1]+2*n,u=s[0]-n,A=s[1]-n;let h=a?-1/0:1/0,p=1/0;const m=this.#r.at(a?-1:-2),y=[m[0],m[2]];for(const g of this.#r){const[v,b,N,C]=g;!C&&a?b<p?(p=b,h=v):b===p&&(h=Math.max(h,v)):C&&!a&&(b<p?(p=b,h=v):b===p&&(h=Math.min(h,v))),g[0]=(v-u)/l,g[1]=(b-A)/c,g[2]=(N-A)/c}this.#e=new Float32Array([u,A,l,c]),this.#t=[h,p],this.#n=y}getOutlines(){this.#r.sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of this.#r)t[3]?(e.push(...this.#l(t)),this.#o(t)):(this.#c(t),e.push(...this.#l(t)));return this.#a(e)}#a(e){const t=[],n=new Set;for(const i of e){const[l,c,u]=i;t.push([l,c,i],[l,u,i])}t.sort((i,l)=>i[1]-l[1]||i[0]-l[0]);for(let i=0,l=t.length;i<l;i+=2){const c=t[i][2],u=t[i+1][2];c.push(u),u.push(c),n.add(c),n.add(u)}const a=[];let s;for(;n.size>0;){const i=n.values().next().value;let[l,c,u,A,h]=i;n.delete(i);let p=l,m=c;for(s=[l,u],a.push(s);;){let y;if(n.has(A))y=A;else if(n.has(h))y=h;else break;n.delete(y),[l,c,u,A,h]=y,p!==l&&(s.push(p,m,l,m===c?c:u),p=l),m=m===c?u:c}s.push(p,m)}return new Rje(a,this.#e,this.#t,this.#n)}#s(e){const t=this.#i;let n=0,a=t.length-1;for(;n<=a;){const s=n+a>>1,i=t[s][0];if(i===e)return s;i<e?n=s+1:a=s-1}return a+1}#o([,e,t]){const n=this.#s(e);this.#i.splice(n,0,[e,t])}#c([,e,t]){const n=this.#s(e);for(let a=n;a<this.#i.length;a++){const[s,i]=this.#i[a];if(s!==e)break;if(s===e&&i===t){this.#i.splice(a,1);return}}for(let a=n-1;a>=0;a--){const[s,i]=this.#i[a];if(s!==e)break;if(s===e&&i===t){this.#i.splice(a,1);return}}}#l(e){const[t,n,a]=e,s=[[t,n,a]],i=this.#s(a);for(let l=0;l<i;l++){const[c,u]=this.#i[l];for(let A=0,h=s.length;A<h;A++){const[,p,m]=s[A];if(!(u<=p||m<=c)){if(p>=c){if(m>u)s[A][1]=u;else{if(h===1)return[];s.splice(A,1),A--,h--}continue}s[A][2]=c,m>u&&s.push([t,u,m])}}}return s}}class Rje extends Yt{#e;#t;constructor(e,t,n,a){super(),this.#t=e,this.#e=t,this.firstPoint=n,this.lastPoint=a}toSVGPath(){const e=[];for(const t of this.#t){let[n,a]=t;e.push(`M${n} ${a}`);for(let s=2;s<t.length;s+=2){const i=t[s],l=t[s+1];i===n?(e.push(`V${l}`),a=l):l===a&&(e.push(`H${i}`),n=i)}e.push("Z")}return e.join(" ")}serialize([e,t,n,a],s){const i=[],l=n-e,c=a-t;for(const u of this.#t){const A=new Array(u.length);for(let h=0;h<u.length;h+=2)A[h]=e+u[h]*l,A[h+1]=a-u[h+1]*c;i.push(A)}return i}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class C4 extends m0{newFreeDrawOutline(e,t,n,a,s,i){return new Uje(e,t,n,a,s,i)}}class Uje extends eq{newOutliner(e,t,n,a,s,i=0){return new C4(e,t,n,a,s,i)}}class gs extends br{#e=null;#t=0;#n;#r=null;#i=null;#a=null;#s=null;#o=0;#c=null;#l=null;#A=null;#d=!1;#h=null;#p=null;#f=null;#u="";#m;#g="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Mr.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=gs.prototype;return zr(this,"_keyboardManager",new Uv([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||gs._defaultColor,this.#m=e.thickness||gs._defaultThickness,this.opacity=e.opacity||gs._defaultOpacity,this.#n=e.boxes||null,this.#g=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#x(e),this.#w()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#s=e.focusNode,this.#o=e.focusOffset,this.#y(),this.#w(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#g}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#y(){const e=new w4(this.#n,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new w4(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#a=t.getOutlines();const{firstPoint:n}=this.#l;this.#h=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:a}=this.#a;this.#p=[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height]}#x({highlightOutlines:e,highlightId:t,clipPathId:n}){this.#l=e;const a=1.5;if(this.#a=e.getNewOutline(this.#m/2+a,.0025),t>=0)this.#A=t,this.#r=n,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#f=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const h=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#A,{bbox:gs.#N(this.#l.box,(h-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#f,{bbox:gs.#N(this.#a.box,h),path:{d:this.#a.toSVGPath()}})}const[s,i,l,c]=e.box;switch(this.rotation){case 0:this.x=s,this.y=i,this.width=l,this.height=c;break;case 90:{const[h,p]=this.parentDimensions;this.x=i,this.y=1-s,this.width=l*p/h,this.height=c*h/p;break}case 180:this.x=1-s,this.y=1-i,this.width=l,this.height=c;break;case 270:{const[h,p]=this.parentDimensions;this.x=1-i,this.y=s,this.width=l*p/h,this.height=c*h/p;break}}const{firstPoint:u}=e;this.#h=[(u[0]-s)/l,(u[1]-i)/c];const{lastPoint:A}=this.#a;this.#p=[(A[0]-s)/l,(A[1]-i)/c]}static initialize(e,t){br.initialize(e,t),gs._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case nn.HIGHLIGHT_COLOR:gs._defaultColor=t;break;case nn.HIGHLIGHT_THICKNESS:gs._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#p}get commentButtonPosition(){return this.#h}updateParams(e,t){switch(e){case nn.HIGHLIGHT_COLOR:this.#S(t);break;case nn.HIGHLIGHT_THICKNESS:this.#C(t);break}}static get defaultPropertiesToUpdate(){return[[nn.HIGHLIGHT_COLOR,gs._defaultColor],[nn.HIGHLIGHT_THICKNESS,gs._defaultThickness]]}get propertiesToUpdate(){return[[nn.HIGHLIGHT_COLOR,this.color||gs._defaultColor],[nn.HIGHLIGHT_THICKNESS,this.#m||gs._defaultThickness],[nn.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#A,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#i?.updateColor(this.color),super.onUpdatedColor()}#S(e){const t=(s,i)=>{this.color=s,this.opacity=i,this.onUpdatedColor()},n=this.color,a=this.opacity;this.addCommands({cmd:t.bind(this,e,gs._defaultOpacity),undo:t.bind(this,n,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#C(e){const t=this.#m,n=a=>{this.#m=a,this.#v(a)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#i=new Il({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#_())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#_())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#E(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#w(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#E():e&&(this.#w(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#v(e){this.#d&&(this.#x({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#E(){this.#A===null||!this.parent||(this.parent.drawLayer.remove(this.#A),this.#A=null,this.parent.drawLayer.remove(this.#f),this.#f=null)}#w(e=this.parent){this.#A===null&&({id:this.#A,clipPathId:this.#r}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#f=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#r))}static#N([e,t,n,a],s){switch(s){case 90:return[1-t-a,e,a,n];case 180:return[1-e-n,1-t-a,n,a];case 270:return[t,1-e-n,a,n]}return[e,t,n,a]}rotate(e){const{drawLayer:t}=this.parent;let n;this.#d?(e=(e-this.rotation+360)%360,n=gs.#N(this.#l.box,e)):n=gs.#N([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#A,{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(this.#f,{bbox:gs.#N(this.#a.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#T.bind(this),{signal:this._uiManager._signal});const t=this.#c=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#r,this.setDims(this.width,this.height),jV(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!1}})}#T(e){gs._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#j(!0);break;case 1:case 3:this.#j(!1);break}}#j(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#s,this.#o)}select(){super.select(),this.#f&&this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#f&&(this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{selected:!1}}),this.#d||this.#j(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#A,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#f,{rootClass:{hidden:!e}}))}#_(){return this.#d?this.rotation:0}#L(){if(this.#d)return null;const[e,t]=this.pageDimensions,[n,a]=this.pageTranslation,s=this.#n,i=new Float32Array(s.length*8);let l=0;for(const{x:c,y:u,width:A,height:h}of s){const p=c*e+n,m=(1-u)*t+a;i[l]=i[l+4]=p,i[l+1]=i[l+3]=m,i[l+2]=i[l+6]=p+A*e,i[l+5]=i[l+7]=m-h*t,l+=8}return i}#F(e){return this.#l.serialize(e,this.#_())}static startHighlighting(e,t,{target:n,x:a,y:s}){const{x:i,y:l,width:c,height:u}=n.getBoundingClientRect(),A=new AbortController,h=e.combinedSignal(A),p=m=>{A.abort(),this.#M(e,m)};window.addEventListener("blur",p,{signal:h}),window.addEventListener("pointerup",p,{signal:h}),window.addEventListener("pointerdown",Ha,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Jl,{signal:h}),n.addEventListener("pointermove",this.#D.bind(this,e),{signal:h}),this._freeHighlight=new C4({x:a,y:s},[i,l,c,u],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#D(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#M(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,n){let a=null;if(e instanceof XV){const{data:{quadPoints:y,rect:g,rotation:v,id:b,color:N,opacity:C,popupRef:E,richText:_,contentsObj:P,creationDate:O,modificationDate:D},parent:{page:{pageNumber:k}}}=e;a=e={annotationType:Mr.HIGHLIGHT,color:Array.from(N),opacity:C,quadPoints:y,boxes:null,pageIndex:k-1,rect:g.slice(0),rotation:v,annotationElementId:b,id:b,deleted:!1,popupRef:E,richText:_,comment:P?.str||null,creationDate:O,modificationDate:D}}else if(e instanceof dk){const{data:{inkLists:y,rect:g,rotation:v,id:b,color:N,borderStyle:{rawWidth:C},popupRef:E,richText:_,contentsObj:P,creationDate:O,modificationDate:D},parent:{page:{pageNumber:k}}}=e;a=e={annotationType:Mr.HIGHLIGHT,color:Array.from(N),thickness:C,inkLists:y,boxes:null,pageIndex:k-1,rect:g.slice(0),rotation:v,annotationElementId:b,id:b,deleted:!1,popupRef:E,richText:_,comment:P?.str||null,creationDate:O,modificationDate:D}}const{color:s,quadPoints:i,inkLists:l,opacity:c}=e,u=await super.deserialize(e,t,n);u.color=Xt.makeHexColor(...s),u.opacity=c||1,l&&(u.#m=e.thickness),u._initialData=a,e.comment&&u.setCommentData(e);const[A,h]=u.pageDimensions,[p,m]=u.pageTranslation;if(i){const y=u.#n=[];for(let g=0;g<i.length;g+=8)y.push({x:(i[g]-p)/A,y:1-(i[g+1]-m)/h,width:(i[g+2]-i[g])/A,height:(i[g+1]-i[g+5])/h});u.#y(),u.#w(),u.rotate(u.rotation)}else if(l){u.#d=!0;const y=l[0],g={x:y[0]-p,y:h-(y[1]-m)},v=new C4(g,[0,0,A,h],1,u.#m/2,!0,.001);for(let C=0,E=y.length;C<E;C+=2)g.x=y[C]-p,g.y=h-(y[C+1]-m),v.add(g);const{id:b,clipPathId:N}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:v.toSVGPath()}},!0,!0);u.#x({highlightOutlines:v.getOutlines(),highlightId:b,clipPathId:N}),u.#w(),u.rotate(u.parentRotation)}return u}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=br._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(e);return Object.assign(n,{color:t,opacity:this.opacity,thickness:this.#m,quadPoints:this.#L(),outlines:this.#F(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#P(n)?null:(n.id=this.annotationElementId,n)}#P(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((n,a)=>n!==t[a])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class tq{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){la("Not implemented")}}class _r extends br{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#r=null;static#i=null;static#a=NaN;static#s=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#l(e),this.#h())}#l({drawOutlines:e,drawId:t,drawingOptions:n}){this.#e=e,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#A(e,this.parent),this.#u(e.box)}#A(e,t){const{id:n}=t.drawLayer.draw(_r._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[a,s]of Object.entries(t))n.has(a)?Object.assign(e[a],s):e[a]=s;return e}static getDefaultDrawingOptions(e){la("Not implemented")}static get typesMap(){la("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(_r.#n.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,a]of this.typesMap)e.push([n,t[a]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,a]of this.constructor.typesMap)e.push([n,t[a]]);return e}_updateProperty(e,t,n){const a=this._drawingOptions,s=a[t],i=l=>{a.updateProperty(t,l);const c=this.#e.updateProperty(t,l);c&&this.#u(c),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,_r._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#f()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,_r._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#f()),{bbox:this.#m()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,_r._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#f(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#d(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#h(),this.#u(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#d()):e&&(this._uiManager.addShouldRescale(this),this.#h(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#d(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#h(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#A(this.#e,e)}}#p([e,t,n,a]){const{parentDimensions:[s,i],rotation:l}=this;switch(l){case 90:return[t,1-e,n*(i/s),a*(s/i)];case 180:return[1-e,1-t,n,a];case 270:return[1-t,e,n*(i/s),a*(s/i)];default:return[e,t,n,a]}}#f(){const{x:e,y:t,width:n,height:a,parentDimensions:[s,i],rotation:l}=this;switch(l){case 90:return[1-t,e,n*(s/i),a*(i/s)];case 180:return[1-e,1-t,n,a];case 270:return[t,1-e,n*(s/i),a*(i/s)];default:return[e,t,n,a]}}#u(e){[this.x,this.y,this.width,this.height]=this.#p(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#m(){const{x:e,y:t,width:n,height:a,rotation:s,parentRotation:i,parentDimensions:[l,c]}=this;switch((s*4+i)/90){case 1:return[1-t-a,e,a,n];case 2:return[1-e-n,1-t-a,n,a];case 3:return[t,1-e-n,a,n];case 4:return[e,t-n*(l/c),a*(c/l),n*(l/c)];case 5:return[1-t,e,n*(l/c),a*(c/l)];case 6:return[1-e-a*(c/l),1-t,a*(c/l),n*(l/c)];case 7:return[t-n*(l/c),1-e-a*(c/l),n*(l/c),a*(c/l)];case 8:return[e-n,t-a,n,a];case 9:return[1-t,e-n,a,n];case 10:return[1-e,1-t,n,a];case 11:return[t-a,1-e,a,n];case 12:return[e-a*(c/l),t,a*(c/l),n*(l/c)];case 13:return[1-t-n*(l/c),e-a*(c/l),n*(l/c),a*(c/l)];case 14:return[1-e,1-t-n*(l/c),a*(c/l),n*(l/c)];case 15:return[t,1-e,n*(l/c),a*(c/l)];default:return[e,t,n,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,_r._mergeSVGProperties({bbox:this.#m()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const a=document.createElement("div");return n.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,a,s){la("Not implemented")}static startDrawing(e,t,n,a){const{target:s,offsetX:i,offsetY:l,pointerId:c,pointerType:u}=a;if(_r.#s&&_r.#s!==u)return;const{viewport:{rotation:A}}=e,{width:h,height:p}=s.getBoundingClientRect(),m=_r.#r=new AbortController,y=e.combinedSignal(m);if(_r.#a||=c,_r.#s??=u,window.addEventListener("pointerup",g=>{_r.#a===g.pointerId?this._endDraw(g):_r.#o?.delete(g.pointerId)},{signal:y}),window.addEventListener("pointercancel",g=>{_r.#a===g.pointerId?this._currentParent.endDrawingSession():_r.#o?.delete(g.pointerId)},{signal:y}),window.addEventListener("pointerdown",g=>{_r.#s===g.pointerType&&((_r.#o||=new Set).add(g.pointerId),_r.#n.isCancellable()&&(_r.#n.removeLastElement(),_r.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Jl,{signal:y}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:y}),s.addEventListener("touchmove",g=>{g.timeStamp===_r.#c&&Ha(g)},{signal:y}),e.toggleDrawing(),t._editorUndoBar?.hide(),_r.#n){e.drawLayer.updateProperties(this._currentDrawId,_r.#n.startNew(i,l,h,p,A));return}t.updateUIForDefaultProperties(this),_r.#n=this.createDrawerInstance(i,l,h,p,A),_r.#i=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(_r.#i.toSVGProperties(),_r.#n.defaultSVGProperties),!0,!1)}static _drawMove(e){if(_r.#c=-1,!_r.#n)return;const{offsetX:t,offsetY:n,pointerId:a}=e;if(_r.#a===a){if(_r.#o?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,_r.#n.add(t,n)),_r.#c=e.timeStamp,Ha(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,_r.#n=null,_r.#i=null,_r.#s=null,_r.#c=NaN),_r.#r&&(_r.#r.abort(),_r.#r=null,_r.#a=NaN,_r.#o=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,_r.#n.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const n=_r.#n,a=this._currentDrawId,s=n.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(a,n.setLastElement(s))},undo:()=>{t.drawLayer.updateProperties(a,n.removeLastElement())},mustExec:!1,type:nn.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(nn.DRAW_STEP),!_r.#n.isEmpty()){const{pageDimensions:[n,a],scale:s}=t,i=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:_r.#n.getOutlines(n*s,a*s,s,this._INNER_MARGIN),drawingOptions:_r.#i,mustBeCommitted:!e});return this._cleanup(!0),i}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,a,s,i){la("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:a,pageHeight:s,pageX:i,pageY:l}}=t.viewport,c=this.deserializeDraw(i,l,a,s,this._INNER_MARGIN,e),u=await super.deserialize(e,t,n);return u.createDrawingOptions(e),u.#l({drawOutlines:c}),u.#h(),u.onScaleChanging(),u.rotate(),u}serializeDraw(e){const[t,n]=this.pageTranslation,[a,s]=this.pageDimensions;return this.#e.serialize([t,n,a,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class Qje{#e=new Float64Array(6);#t;#n;#r;#i;#a;#s="";#o=0;#c=new zv;#l;#A;constructor(e,t,n,a,s,i){this.#l=n,this.#A=a,this.#r=s,this.#i=i,[e,t]=this.#d(e,t);const l=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#a=[e,t],this.#n=[{line:l,points:this.#a}],this.#e.set(l,0)}updateProperty(e,t){e==="stroke-width"&&(this.#i=t)}#d(e,t){return Yt._normalizePoint(e,t,this.#l,this.#A,this.#r)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#a.length<=10}add(e,t){[e,t]=this.#d(e,t);const[n,a,s,i]=this.#e.subarray(2,6),l=e-s,c=t-i;return Math.hypot(this.#l*l,this.#A*c)<=2?null:(this.#a.push(e,t),isNaN(n)?(this.#e.set([s,i,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([n,a,s,i,e,t],0),this.#t.push(...Yt.createBezierPoints(n,a,s,i,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,a,s){this.#l=n,this.#A=a,this.#r=s,[e,t]=this.#d(e,t);const i=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#a=[e,t];const l=this.#n.at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),this.#n.push({line:i,points:this.#a}),this.#e.set(i,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(e){return this.#n?(this.#n.push(e),this.#t=e.line,this.#a=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#n)return this.#c.removeLastElement();this.#n.pop(),this.#s="";for(let e=0,t=this.#n.length;e<t;e++){const{line:n,points:a}=this.#n[e];this.#t=n,this.#a=a,this.#o=0,this.toSVGPath()}return{path:{d:this.#s}}}toSVGPath(){const e=Yt.svgRound(this.#t[4]),t=Yt.svgRound(this.#t[5]);if(this.#a.length===2)return this.#s=`${this.#s} M ${e} ${t} Z`,this.#s;if(this.#a.length<=6){const a=this.#s.lastIndexOf("M");this.#s=`${this.#s.slice(0,a)} M ${e} ${t}`,this.#o=6}if(this.#a.length===4){const a=Yt.svgRound(this.#t[10]),s=Yt.svgRound(this.#t[11]);return this.#s=`${this.#s} L ${a} ${s}`,this.#o=12,this.#s}const n=[];this.#o===0&&(n.push(`M ${e} ${t}`),this.#o=6);for(let a=this.#o,s=this.#t.length;a<s;a+=6){const[i,l,c,u,A,h]=this.#t.slice(a,a+6).map(Yt.svgRound);n.push(`C${i} ${l} ${c} ${u} ${A} ${h}`)}return this.#s+=n.join(" "),this.#o=this.#t.length,this.#s}getOutlines(e,t,n,a){const s=this.#n.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#n,e,t,n,this.#r,this.#i,a),this.#e=null,this.#t=null,this.#n=null,this.#s=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class zv extends Yt{#e;#t=0;#n;#r;#i;#a;#s;#o;#c;build(e,t,n,a,s,i,l){this.#i=t,this.#a=n,this.#s=a,this.#o=s,this.#c=i,this.#n=l??0,this.#r=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#r.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#r.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#r){if(e.push(`M${Yt.svgRound(t[4])} ${Yt.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${Yt.svgRound(t[10])} ${Yt.svgRound(t[11])}`);continue}for(let n=6,a=t.length;n<a;n+=6){const[s,i,l,c,u,A]=t.subarray(n,n+6).map(Yt.svgRound);e.push(`C${s} ${i} ${l} ${c} ${u} ${A}`)}}return e.join("")}serialize([e,t,n,a],s){const i=[],l=[],[c,u,A,h]=this.#A();let p,m,y,g,v,b,N,C,E;switch(this.#o){case 0:E=Yt._rescale,p=e,m=t+a,y=n,g=-a,v=e+c*n,b=t+(1-u-h)*a,N=e+(c+A)*n,C=t+(1-u)*a;break;case 90:E=Yt._rescaleAndSwap,p=e,m=t,y=n,g=a,v=e+u*n,b=t+c*a,N=e+(u+h)*n,C=t+(c+A)*a;break;case 180:E=Yt._rescale,p=e+n,m=t,y=-n,g=a,v=e+(1-c-A)*n,b=t+u*a,N=e+(1-c)*n,C=t+(u+h)*a;break;case 270:E=Yt._rescaleAndSwap,p=e+n,m=t+a,y=-n,g=-a,v=e+(1-u-h)*n,b=t+(1-c-A)*a,N=e+(1-u)*n,C=t+(1-c)*a;break}for(const{line:_,points:P}of this.#r)i.push(E(_,p,m,y,g,s?new Array(_.length):null)),l.push(E(P,p,m,y,g,s?new Array(P.length):null));return{lines:i,points:l,rect:[v,b,N,C]}}static deserialize(e,t,n,a,s,{paths:{lines:i,points:l},rotation:c,thickness:u}){const A=[];let h,p,m,y,g;switch(c){case 0:g=Yt._rescale,h=-e/n,p=t/a+1,m=1/n,y=-1/a;break;case 90:g=Yt._rescaleAndSwap,h=-t/a,p=-e/n,m=1/a,y=1/n;break;case 180:g=Yt._rescale,h=e/n+1,p=-t/a,m=-1/n,y=1/a;break;case 270:g=Yt._rescaleAndSwap,h=t/a+1,p=e/n+1,m=-1/a,y=-1/n;break}if(!i){i=[];for(const b of l){const N=b.length;if(N===2){i.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1]]));continue}if(N===4){i.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1],NaN,NaN,NaN,NaN,b[2],b[3]]));continue}const C=new Float32Array(3*(N-2));i.push(C);let[E,_,P,O]=b.subarray(0,4);C.set([NaN,NaN,NaN,NaN,E,_],0);for(let D=4;D<N;D+=2){const k=b[D],H=b[D+1];C.set(Yt.createBezierPoints(E,_,P,O,k,H),(D-2)*3),[E,_,P,O]=[P,O,k,H]}}}for(let b=0,N=i.length;b<N;b++)A.push({line:g(i[b].map(C=>C??NaN),h,p,m,y),points:g(l[b].map(C=>C??NaN),h,p,m,y)});const v=new this.prototype.constructor;return v.build(A,n,a,1,c,u,s),v}#l(e=this.#c){const t=this.#n+e/2*this.#s;return this.#o%180===0?[t/this.#i,t/this.#a]:[t/this.#a,t/this.#i]}#A(){const[e,t,n,a]=this.#e,[s,i]=this.#l(0);return[e+s,t+i,n-2*s,a-2*i]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#r){if(a.length<=12){for(let l=4,c=a.length;l<c;l+=6)Xt.pointBoundingBox(a[l],a[l+1],e);continue}let s=a[4],i=a[5];for(let l=6,c=a.length;l<c;l+=6){const[u,A,h,p,m,y]=a.subarray(l,l+6);Xt.bezierBoundingBox(s,i,u,A,h,p,m,y,e),s=m,i=y}}const[t,n]=this.#l();e[0]=no(e[0]-t,0,1),e[1]=no(e[1]-n,0,1),e[2]=no(e[2]+t,0,1),e[3]=no(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#h(t):null}#h(e){const[t,n]=this.#l();this.#c=e;const[a,s]=this.#l(),[i,l]=[a-t,s-n],c=this.#e;return c[0]-=i,c[1]-=l,c[2]+=2*i,c[3]+=2*l,c}updateParentDimensions([e,t],n){const[a,s]=this.#l();this.#i=e,this.#a=t,this.#s=n;const[i,l]=this.#l(),c=i-a,u=l-s,A=this.#e;return A[0]-=c,A[1]-=u,A[2]+=2*c,A[3]+=2*u,A}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(Yt.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Yt.svgRound(e)} ${Yt.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let n=0,a=0,s=0,i=0,l=0,c=0;switch(this.#t){case 90:a=t/e,s=-e/t,l=e;break;case 180:n=-1,i=-1,l=e,c=t;break;case 270:a=-t/e,s=e/t,c=t;break;default:return""}return`matrix(${n} ${a} ${s} ${i} ${Yt.svgRound(l)} ${Yt.svgRound(c)})`}getPathResizingSVGProperties([e,t,n,a]){const[s,i]=this.#l(),[l,c,u,A]=this.#e;if(Math.abs(u-s)<=Yt.PRECISION||Math.abs(A-i)<=Yt.PRECISION){const g=e+n/2-(l+u/2),v=t+a/2-(c+A/2);return{path:{"transform-origin":`${Yt.svgRound(e)} ${Yt.svgRound(t)}`,transform:`${this.rotationTransform} translate(${g} ${v})`}}}const h=(n-2*s)/(u-2*s),p=(a-2*i)/(A-2*i),m=u/n,y=A/a;return{path:{"transform-origin":`${Yt.svgRound(l)} ${Yt.svgRound(c)}`,transform:`${this.rotationTransform} scale(${m} ${y}) translate(${Yt.svgRound(s)} ${Yt.svgRound(i)}) scale(${h} ${p}) translate(${Yt.svgRound(-s)} ${Yt.svgRound(-i)})`}}}getPathResizedSVGProperties([e,t,n,a]){const[s,i]=this.#l(),l=this.#e,[c,u,A,h]=l;if(l[0]=e,l[1]=t,l[2]=n,l[3]=a,Math.abs(A-s)<=Yt.PRECISION||Math.abs(h-i)<=Yt.PRECISION){const v=e+n/2-(c+A/2),b=t+a/2-(u+h/2);for(const{line:N,points:C}of this.#r)Yt._translate(N,v,b,N),Yt._translate(C,v,b,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Yt.svgRound(e)} ${Yt.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(n-2*s)/(A-2*s),m=(a-2*i)/(h-2*i),y=-p*(c+s)+e+s,g=-m*(u+i)+t+i;if(p!==1||m!==1||y!==0||g!==0)for(const{line:v,points:b}of this.#r)Yt._rescale(v,y,g,p,m,v),Yt._rescale(b,y,g,p,m,b);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Yt.svgRound(e)} ${Yt.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],n){const[a,s]=n,i=this.#e,l=e-i[0],c=t-i[1];if(this.#i===a&&this.#a===s)for(const{line:u,points:A}of this.#r)Yt._translate(u,l,c,u),Yt._translate(A,l,c,A);else{const u=this.#i/a,A=this.#a/s;this.#i=a,this.#a=s;for(const{line:h,points:p}of this.#r)Yt._rescale(h,l,c,u,A,h),Yt._rescale(p,l,c,u,A,p);i[2]*=u,i[3]*=A}return i[0]=e,i[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Yt.svgRound(e)} ${Yt.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Yt.svgRound(e[0])} ${Yt.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class d5 extends tq{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:br._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new d5(this._viewParameters);return e.updateAll(this),e}}class hk extends _r{static _type="ink";static _editorType=Mr.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){br.initialize(e,t),this._defaultDrawingOptions=new d5(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return zr(this,"typesMap",new Map([[nn.INK_THICKNESS,"stroke-width"],[nn.INK_COLOR,"stroke"],[nn.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,a,s){return new Qje(e,t,n,a,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,a,s,i){return zv.deserialize(e,t,n,a,s,i)}static async deserialize(e,t,n){let a=null;if(e instanceof dk){const{data:{inkLists:i,rect:l,rotation:c,id:u,color:A,opacity:h,borderStyle:{rawWidth:p},popupRef:m,richText:y,contentsObj:g,creationDate:v,modificationDate:b},parent:{page:{pageNumber:N}}}=e;a=e={annotationType:Mr.INK,color:Array.from(A),thickness:p,opacity:h,paths:{points:i},boxes:null,pageIndex:N-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:m,richText:y,comment:g?.str||null,creationDate:v,modificationDate:b}}const s=await super.deserialize(e,t,n);return s._initialData=a,e.comment&&s.setCommentData(e),s}get toolbarButtons(){return this._colorPicker||=new Wy(this),[["colorPicker",this._colorPicker]]}get colorType(){return nn.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:n}){this._drawingOptions=hk.getDefaultDrawingOptions({stroke:Xt.makeHexColor(...e),"stroke-width":t,"stroke-opacity":n})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{stroke:a,"stroke-opacity":s,"stroke-width":i}}=this,l=Object.assign(super.serialize(e),{color:br._colorManager.convert(a),opacity:s,thickness:i,paths:{lines:t,points:n}});return this.addComment(l),e?(l.isCopy=!0,l):this.annotationElementId&&!this.#e(l)?null:(l.id=this.annotationElementId,l)}#e(e){const{color:t,thickness:n,opacity:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((i,l)=>i!==t[l])||e.thickness!==n||e.opacity!==a||e.pageIndex!==s}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:n}=this.serializeDraw(!1);return e.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class N4 extends zv{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Fb=8,Mx=3;class i0{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,n,a){return n-=e,a-=t,n===0?a>0?0:4:n===1?a+6:2-a}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#r(e,t,n,a,s,i,l){const c=this.#t(n,a,s,i);for(let u=0;u<8;u++){const A=(-u+c-l+16)%8,h=this.#n[2*A],p=this.#n[2*A+1];if(e[(n+h)*t+(a+p)]!==0)return A}return-1}static#i(e,t,n,a,s,i,l){const c=this.#t(n,a,s,i);for(let u=0;u<8;u++){const A=(u+c+l+16)%8,h=this.#n[2*A],p=this.#n[2*A+1];if(e[(n+h)*t+(a+p)]!==0)return A}return-1}static#a(e,t,n,a){const s=e.length,i=new Int32Array(s);for(let A=0;A<s;A++)i[A]=e[A]<=a?1:0;for(let A=1;A<n-1;A++)i[A*t]=i[A*t+t-1]=0;for(let A=0;A<t;A++)i[A]=i[t*n-1-A]=0;let l=1,c;const u=[];for(let A=1;A<n-1;A++){c=1;for(let h=1;h<t-1;h++){const p=A*t+h,m=i[p];if(m===0)continue;let y=A,g=h;if(m===1&&i[p-1]===0)l+=1,g-=1;else if(m>=1&&i[p+1]===0)l+=1,g+=1,m>1&&(c=m);else{m!==1&&(c=Math.abs(m));continue}const v=[h,A],b=g===h+1,N={isHole:b,points:v,id:l,parent:0};u.push(N);let C;for(const L of u)if(L.id===c){C=L;break}C?C.isHole?N.parent=b?C.parent:c:N.parent=b?c:C.parent:N.parent=b?c:0;const E=this.#r(i,t,A,h,y,g,0);if(E===-1){i[p]=-l,i[p]!==1&&(c=Math.abs(i[p]));continue}let _=this.#n[2*E],P=this.#n[2*E+1];const O=A+_,D=h+P;y=O,g=D;let k=A,H=h;for(;;){const L=this.#i(i,t,k,H,y,g,1);_=this.#n[2*L],P=this.#n[2*L+1];const Q=k+_,R=H+P;v.push(R,Q);const K=k*t+H;if(i[K+1]===0?i[K]=-l:i[K]===1&&(i[K]=l),Q===A&&R===h&&k===O&&H===D){i[p]!==1&&(c=Math.abs(i[p]));break}else y=k,g=H,k=Q,H=R}}}return u}static#s(e,t,n,a){if(n-t<=4){for(let O=t;O<n-2;O+=2)a.push(e[O],e[O+1]);return}const s=e[t],i=e[t+1],l=e[n-4]-s,c=e[n-3]-i,u=Math.hypot(l,c),A=l/u,h=c/u,p=A*i-h*s,m=c/l,y=1/u,g=Math.atan(m),v=Math.cos(g),b=Math.sin(g),N=y*(Math.abs(v)+Math.abs(b)),C=y*(1-N+N**2),E=Math.max(Math.atan(Math.abs(b+v)*C),Math.atan(Math.abs(b-v)*C));let _=0,P=t;for(let O=t+2;O<n-2;O+=2){const D=Math.abs(p-A*e[O+1]+h*e[O]);D>_&&(P=O,_=D)}_>(u*E)**2?(this.#s(e,t,P+2,a),this.#s(e,P,n,a)):a.push(s,i)}static#o(e){const t=[],n=e.length;return this.#s(e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}static#c(e,t,n,a,s,i){const l=new Float32Array(i**2),c=-2*a**2,u=i>>1;for(let g=0;g<i;g++){const v=(g-u)**2;for(let b=0;b<i;b++)l[g*i+b]=Math.exp((v+(b-u)**2)/c)}const A=new Float32Array(256),h=-2*s**2;for(let g=0;g<256;g++)A[g]=Math.exp(g**2/h);const p=e.length,m=new Uint8Array(p),y=new Uint32Array(256);for(let g=0;g<n;g++)for(let v=0;v<t;v++){const b=g*t+v,N=e[b];let C=0,E=0;for(let P=0;P<i;P++){const O=g+P-u;if(!(O<0||O>=n))for(let D=0;D<i;D++){const k=v+D-u;if(k<0||k>=t)continue;const H=e[O*t+k],L=l[P*i+D]*A[Math.abs(H-N)];C+=H*L,E+=L}}const _=m[b]=Math.round(C/E);y[_]++}return[m,y]}static#l(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}static#A(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let a=-1/0,s=1/0;for(let l=0,c=n.length;l<c;l++){const u=n[l]=e[l<<2];a=Math.max(a,u),s=Math.min(s,u)}const i=255/(a-s);for(let l=0,c=n.length;l<c;l++)n[l]=(n[l]-s)*i;return n}static#d(e){let t,n=-1/0,a=-1/0;const s=e.findIndex(c=>c!==0);let i=s,l=s;for(t=s;t<256;t++){const c=e[t];c>n&&(t-i>a&&(a=t-i,l=t-1),n=c,i=t)}for(t=l-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#h(e){const t=e,{width:n,height:a}=e,{maxDim:s}=this.#e;let i=n,l=a;if(n>s||a>s){let p=n,m=a,y=Math.log2(Math.max(n,a)/s);const g=Math.floor(y);y=y===g?g-1:g;for(let b=0;b<y;b++){i=Math.ceil(p/2),l=Math.ceil(m/2);const N=new OffscreenCanvas(i,l);N.getContext("2d").drawImage(e,0,0,p,m,0,0,i,l),p=i,m=l,e!==t&&e.close(),e=N.transferToImageBitmap()}const v=Math.min(s/i,s/l);i=Math.round(i*v),l=Math.round(l*v)}const u=new OffscreenCanvas(i,l).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,i,l),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,i,l);const A=u.getImageData(0,0,i,l).data;return[this.#A(A),i,l]}static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:a},s,i,l,c){let u=new OffscreenCanvas(1,1),A=u.getContext("2d",{alpha:!1});const h=200,p=A.font=`${n} ${a} ${h}px ${t}`,{actualBoundingBoxLeft:m,actualBoundingBoxRight:y,actualBoundingBoxAscent:g,actualBoundingBoxDescent:v,fontBoundingBoxAscent:b,fontBoundingBoxDescent:N,width:C}=A.measureText(e),E=1.5,_=Math.ceil(Math.max(Math.abs(m)+Math.abs(y)||0,C)*E),P=Math.ceil(Math.max(Math.abs(g)+Math.abs(v)||h,Math.abs(b)+Math.abs(N)||h)*E);u=new OffscreenCanvas(_,P),A=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),A.font=p,A.filter="grayscale(1)",A.fillStyle="white",A.fillRect(0,0,_,P),A.fillStyle="black",A.fillText(e,_*(E-1)/2,P*(3-E)/2);const O=this.#A(A.getImageData(0,0,_,P).data),D=this.#l(O),k=this.#d(D),H=this.#a(O,_,P,k);return this.processDrawnLines({lines:{curves:H,width:_,height:P},pageWidth:s,pageHeight:i,rotation:l,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,t,n,a,s){const[i,l,c]=this.#h(e),[u,A]=this.#c(i,l,c,Math.hypot(l,c)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),h=this.#d(A),p=this.#a(u,l,c,h);return this.processDrawnLines({lines:{curves:p,width:l,height:c},pageWidth:t,pageHeight:n,rotation:a,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:a,innerMargin:s,mustSmooth:i,areContours:l}){a%180!==0&&([t,n]=[n,t]);const{curves:c,width:u,height:A}=e,h=e.thickness??0,p=[],m=Math.min(t/u,n/A),y=m/t,g=m/n,v=[];for(const{points:N}of c){const C=i?this.#o(N):N;if(!C)continue;v.push(C);const E=C.length,_=new Float32Array(E),P=new Float32Array(3*(E===2?2:E-2));if(p.push({line:P,points:_}),E===2){_[0]=C[0]*y,_[1]=C[1]*g,P.set([NaN,NaN,NaN,NaN,_[0],_[1]],0);continue}let[O,D,k,H]=C;O*=y,D*=g,k*=y,H*=g,_.set([O,D,k,H],0),P.set([NaN,NaN,NaN,NaN,O,D],0);for(let L=4;L<E;L+=2){const Q=_[L]=C[L]*y,R=_[L+1]=C[L+1]*g;P.set(Yt.createBezierPoints(O,D,k,H,Q,R),(L-2)*3),[O,D,k,H]=[k,H,Q,R]}}if(p.length===0)return null;const b=l?new N4:new zv;return b.build(p,t,n,1,a,l?0:h,s),{outline:b,newCurves:v,areContours:l,thickness:h,width:u,height:A}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:a,height:s}){let i=1/0,l=-1/0,c=0;for(const C of e){c+=C.length;for(let E=2,_=C.length;E<_;E++){const P=C[E]-C[E-2];i=Math.min(i,P),l=Math.max(l,P)}}let u;i>=-128&&l<=127?u=Int8Array:i>=-32768&&l<=32767?u=Int16Array:u=Int32Array;const A=e.length,h=Fb+Mx*A,p=new Uint32Array(h);let m=0;p[m++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*A)*u.BYTES_PER_ELEMENT,p[m++]=0,p[m++]=a,p[m++]=s,p[m++]=t?0:1,p[m++]=Math.max(0,Math.floor(n??0)),p[m++]=A,p[m++]=u.BYTES_PER_ELEMENT;for(const C of e)p[m++]=C.length-2,p[m++]=C[0],p[m++]=C[1];const y=new CompressionStream("deflate-raw"),g=y.writable.getWriter();await g.ready,g.write(p);const v=u.prototype.constructor;for(const C of e){const E=new v(C.length-2);for(let _=2,P=C.length;_<P;_++)E[_-2]=C[_]-C[_-2];g.write(E)}g.close();const b=await new Response(y.readable).arrayBuffer(),N=new Uint8Array(b);return bV(N)}static async decompressSignature(e){try{const t=AEe(e),{readable:n,writable:a}=new DecompressionStream("deflate-raw"),s=a.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let i=null,l=0;for await(const C of n)i||=new Uint8Array(new Uint32Array(C.buffer,0,4)[0]),i.set(C,l),l+=C.length;const c=new Uint32Array(i.buffer,0,i.length>>2),u=c[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const A=c[2],h=c[3],p=c[4]===0,m=c[5],y=c[6],g=c[7],v=[],b=(Fb+Mx*y)*Uint32Array.BYTES_PER_ELEMENT;let N;switch(g){case Int8Array.BYTES_PER_ELEMENT:N=new Int8Array(i.buffer,b);break;case Int16Array.BYTES_PER_ELEMENT:N=new Int16Array(i.buffer,b);break;case Int32Array.BYTES_PER_ELEMENT:N=new Int32Array(i.buffer,b);break}l=0;for(let C=0;C<y;C++){const E=c[Mx*C+Fb],_=new Float32Array(E+2);v.push(_);for(let P=0;P<Mx-1;P++)_[P]=c[Mx*C+Fb+P+1];for(let P=0;P<E;P++)_[P+2]=_[P]+N[l++]}return{areContours:p,thickness:m,outlines:v,width:A,height:h}}catch(t){return Rr(`decompressSignature: ${t}`),null}}}class fk extends tq{constructor(){super(),super.updateProperties({fill:br._defaultLineColor,"stroke-width":0})}clone(){const e=new fk;return e.updateAll(this),e}}class mk extends d5{constructor(e){super(e),super.updateProperties({stroke:br._defaultLineColor,"stroke-width":1})}clone(){const e=new mk(this._viewParameters);return e.updateAll(this),e}}class hd extends _r{#e=!1;#t=null;#n=null;#r=null;static _type="signature";static _editorType=Mr.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){br.initialize(e,t),this._defaultDrawingOptions=new fk,this._defaultDrawnSignatureOptions=new mk(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return zr(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:a,mustSmooth:s,areContours:i,description:l,uuid:c,heightInPage:u}=this.#n,{rawDims:{pageWidth:A,pageHeight:h},rotation:p}=this.parent.viewport,m=i0.processDrawnLines({lines:a,pageWidth:A,pageHeight:h,rotation:p,innerMargin:hd._INNER_MARGIN,mustSmooth:s,areContours:i});this.addSignature(m,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#r=e,this.addEditToolbar()}getUuid(){return this.#r}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:a,height:s}=this.#n,i=Math.max(a,s),l=i0.processDrawnLines({lines:{curves:e.map(c=>({points:c})),thickness:n,width:a,height:s},pageWidth:i,pageHeight:i,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,n,a){const{x:s,y:i}=this,{outline:l}=this.#n=e;this.#e=l instanceof N4,this.description=n;let c;this.#e?c=hd.getDefaultDrawingOptions():(c=hd._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,u]=this.pageDimensions;let A=t/u;A=A>=1?.5:A,this.width*=A/this.height,this.width>=1&&(A*=.9/this.width,this.width=.9),this.height=A,this.setDims(),this.x=s,this.y=i,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:a}=this.parent.viewport;return i0.process(e,t,n,a,hd._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:a},rotation:s}=this.parent.viewport;return i0.extractContoursFromText(e,t,n,a,s,hd._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:a}=this.parent.viewport;return i0.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:a,innerMargin:hd._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=hd.getDefaultDrawingOptions():(this._drawingOptions=hd._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":a}}=this,s=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:a});return this.addComment(s),e?(s.paths={lines:t,points:n},s.uuid=this.#r,s.isCopy=!0):s.lines=t,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,t,n,a,s,i){return i.areContours?N4.deserialize(e,t,n,a,s,i):zv.deserialize(e,t,n,a,s,i)}static async deserialize(e,t,n){const a=await super.deserialize(e,t,n);return a.#e=e.areContours,a.description=e.accessibilityData?.alt||"",a.#r=e.uuid,a}}class Hje extends br{#e=null;#t=null;#n=null;#r=null;#i=null;#a="";#s=null;#o=!1;#c=null;#l=!1;#A=!1;static _type="stamp";static _editorType=Mr.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#r=e.bitmapUrl,this.#i=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){br.initialize(e,t)}static isHandlingMimeForPasting(e){return Q2.includes(e)}static paste(e,t){t.pasteEditor({mode:Mr.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#d(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#a=e.file.name),this.#f()}#h(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#s){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:s,height:i}=e||this.copyCanvas(null,null,!0).imageData,l=await n.guess({name:"altText",request:{data:a,width:s,height:i,channels:a.length/(s*i)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),t&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}#p(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(n=>this.#d(n,!0)).finally(()=>this.#h());return}if(this.#r){const n=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(n).then(a=>this.#d(a)).finally(()=>this.#h());return}if(this.#i){const n=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(n).then(a=>this.#d(a)).finally(()=>this.#h());return}const e=document.createElement("input");e.type="file",e.accept=Q2.join(",");const t=this._uiManager._signal;this.#n=new Promise(n=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(a)}n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>this.#h()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#s?.remove(),this.#s=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#p();return}super.rebuild(),this.div!==null&&(this.#t&&this.#s===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#i||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#f():this.#p()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:a}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#t=n,a&&(this.#e=a),this.#o=!1,this.#f())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},e)}#f(){const{div:e}=this;let{width:t,height:n}=this.#e;const[a,s]=this.pageDimensions,i=.75;if(this.width)t=this.width*a,n=this.height*s;else if(t>i*a||n>i*s){const c=Math.min(i*a/t,i*s/n);t*=c,n*=c}this._uiManager.enableWaiting(!1);const l=this.#s=document.createElement("canvas");l.setAttribute("role","img"),this.addContainer(l),this.width=t/a,this.height=n/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(),this.#A||(this.parent.addUndoableEditor(this),this.#A=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,n=!1){e||(e=224);const{width:a,height:s}=this.#e,i=new Eu;let l=this.#e,c=a,u=s,A=null;if(t){if(a>t||s>t){const P=Math.min(t/a,t/s);c=Math.floor(a*P),u=Math.floor(s*P)}A=document.createElement("canvas");const p=A.width=Math.ceil(c*i.sx),m=A.height=Math.ceil(u*i.sy);this.#l||(l=this.#u(p,m));const y=A.getContext("2d");y.filter=this._uiManager.hcmFilter;let g="white",v="#cfcfd8";this._uiManager.hcmFilter!=="none"?v="black":mEe.isDarkMode&&(g="#8f8f9d",v="#42414d");const b=15,N=b*i.sx,C=b*i.sy,E=new OffscreenCanvas(N*2,C*2),_=E.getContext("2d");_.fillStyle=g,_.fillRect(0,0,N*2,C*2),_.fillStyle=v,_.fillRect(0,0,N,C),_.fillRect(N,C,N,C),y.fillStyle=y.createPattern(E,"repeat"),y.fillRect(0,0,p,m),y.drawImage(l,0,0,l.width,l.height,0,0,p,m)}let h=null;if(n){let p,m;if(i.symmetric&&l.width<e&&l.height<e)p=l.width,m=l.height;else if(l=this.#e,a>e||s>e){const v=Math.min(e/a,e/s);p=Math.floor(a*v),m=Math.floor(s*v),this.#l||(l=this.#u(p,m))}const g=new OffscreenCanvas(p,m).getContext("2d",{willReadFrequently:!0});g.drawImage(l,0,0,l.width,l.height,0,0,p,m),h={width:p,height:m,data:g.getImageData(0,0,p,m).data}}return{canvas:A,width:c,height:u,imageData:h}}#u(e,t){const{width:n,height:a}=this.#e;let s=n,i=a,l=this.#e;for(;s>2*e||i>2*t;){const c=s,u=i;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),i>2*t&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2));const A=new OffscreenCanvas(s,i);A.getContext("2d").drawImage(l,0,0,c,u,0,0,s,i),l=A.transferToImageBitmap()}return l}#m(){const[e,t]=this.parentDimensions,{width:n,height:a}=this,s=new Eu,i=Math.ceil(n*e*s.sx),l=Math.ceil(a*t*s.sy),c=this.#s;if(!c||c.width===i&&c.height===l)return;c.width=i,c.height=l;const u=this.#l?this.#e:this.#u(i,l),A=c.getContext("2d");A.filter=this._uiManager.hcmFilter,A.drawImage(u,0,0,u.width,u.height,0,0,i,l)}#g(e){if(e){if(this.#l){const a=this._uiManager.imageManager.getSvgUrl(this.#t);if(a)return a}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,n]=this.pageDimensions,a=Math.round(this.width*t*Q0.PDF_TO_CSS_UNITS),s=Math.round(this.height*n*Q0.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(a,s);return i.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,a,s),i.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,n){let a=null,s=!1;if(e instanceof JV){const{data:{rect:g,rotation:v,id:b,structParent:N,popupRef:C,richText:E,contentsObj:_,creationDate:P,modificationDate:O},container:D,parent:{page:{pageNumber:k}},canvas:H}=e;let L,Q;H?(delete e.canvas,{id:L,bitmap:Q}=n.imageManager.getFromCanvas(D.id,H),H.remove()):(s=!0,e._hasNoCanvas=!0);const R=(await t._structTree.getAriaAttributes(`${J3}${b}`))?.get("aria-label")||"";a=e={annotationType:Mr.STAMP,bitmapId:L,bitmap:Q,pageIndex:k-1,rect:g.slice(0),rotation:v,annotationElementId:b,id:b,deleted:!1,accessibilityData:{decorative:!1,altText:R},isSvg:!1,structParent:N,popupRef:C,richText:E,comment:_?.str||null,creationDate:P,modificationDate:O}}const i=await super.deserialize(e,t,n),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:A,isSvg:h,accessibilityData:p}=e;s?(n.addMissingCanvas(e.id,i),i.#o=!0):A&&n.imageManager.isValidId(A)?(i.#t=A,c&&(i.#e=c)):i.#r=u,i.#l=h;const[m,y]=i.pageDimensions;return i.width=(l[2]-l[0])/m,i.height=(l[3]-l[1])/y,p&&(i.altTextData=p),i._initialData=a,e.comment&&i.setCommentData(e),i.#A=!!a,i}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(n),e)return n.bitmapUrl=this.#g(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:a,altText:s}=this.serializeAltText(!1);if(!a&&s&&(n.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const l=this.#y(n);return l.isSame?null:(l.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(t===null)return n;t.stamps||=new Map;const i=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:i,serialized:n}),n.bitmap=this.#g(!1);else if(this.#l){const l=t.stamps.get(this.#t);i>l.area&&(l.area=i,l.serialized.bitmap.close(),l.serialized.bitmap=this.#g(!1))}return n}#y(e){const{pageIndex:t,accessibilityData:{altText:n}}=this._initialData,a=e.pageIndex===t,s=(e.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&s,isSameAltText:s}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class md{#e;#t=!1;#n=null;#r=null;#i=null;#a=new Map;#s=!1;#o=!1;#c=!1;#l=null;#A=null;#d=null;#h=null;#p=null;#f=-1;#u;static _initialized=!1;static#m=new Map([Ai,hk,Hje,gs,hd].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:a,accessibilityManager:s,annotationLayer:i,drawLayer:l,textLayer:c,viewport:u,l10n:A}){const h=[...md.#m.values()];if(!md._initialized){md._initialized=!0;for(const p of h)p.initialize(A,e)}e.registerEditorTypes(h),this.#u=e,this.pageIndex=t,this.div=n,this.#e=s,this.#n=i,this.viewport=u,this.#d=c,this.drawLayer=l,this._structTree=a,this.#u.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Mr.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#v(),e){case Mr.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Mr.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Mr.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Mr.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of md.#m.values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}get#g(){return this.#a.size!==0?this.#a.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#p?.abort(),this.#p=null;const e=new Set;for(const n of this.#g)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));const t=this.#n;if(t)for(const n of t.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const a=await this.deserialize(n);a&&(this.addOrRebuild(a),a.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#p){this.#p=new AbortController;const n=this.#u.combinedSignal(this.#p);this.#d.div.addEventListener("pointerdown",a=>{const{clientX:i,clientY:l,timeStamp:c}=a,u=this.#f;if(c-u>500){this.#f=c;return}this.#f=-1;const{classList:A}=this.div;A.toggle("getElements",!0);const h=document.elementsFromPoint(i,l);if(A.toggle("getElements",!1),!this.div.contains(h[0]))return;let p;const m=new RegExp(`^${$y}[0-9]+$`);for(const g of h)if(m.test(g.id)){p=g.id;break}if(!p)return;const y=this.#a.get(p);y?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),y.dblclick(a))},{signal:n,capture:!0})}const e=this.#n;if(e){const n=new Map,a=new Map;for(const i of this.#g){if(i.disableEditing(),!i.annotationElementId){i.updateFakeAnnotationElement(e);continue}if(i.serialize()!==null){n.set(i.annotationElementId,i);continue}else a.set(i.annotationElementId,i);this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()}const s=e.getEditableAnnotations();for(const i of s){const{id:l}=i.data;if(this.#u.isDeletedAnnotationElement(l)){i.updateEdited({deleted:!0});continue}let c=a.get(l);if(c){c.resetAnnotationElement(i),c.show(!1),i.show();continue}c=n.get(l),c&&(this.#u.addChangedExistingAnnotation(c),c.renderAnnotationElement(i)&&c.show(!1)),i.show()}}this.#v(),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const n of md.#m.values())t.remove(`${n._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#h){this.#h=new AbortController;const e=this.#u.combinedSignal(this.#h);this.#d.div.addEventListener("pointerdown",this.#y.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#h&&(this.#h.abort(),this.#h=null,this.#d.div.classList.remove("highlighting"))}#y(e){this.#u.unselectAll();const{target:t}=e;if(t===this.#d.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#d.div.contains(t)){const{isMac:n}=bi.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),gs.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#r)return;this.#r=new AbortController;const e=this.#u.combinedSignal(this.#r);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#r?.abort(),this.#r=null}attach(e){this.#a.set(e.id,e);const{annotationElementId:t}=e;t&&this.#u.isDeletedAnnotationElement(t)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#a.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e.annotationElementId),br.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#i&&(e._focusEventsAllowed=!1,this.#i=setTimeout(()=>{this.#i=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(const t of this.#a.values())if(t.uid===e)return t;return null}getNextId(){return this.#u.getId()}get#x(){return md.#m.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#S(e){const t=this.#x;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#x?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:n,offsetY:a}=this.#C(),s=this.getNextId(),i=this.#S({parent:this,id:s,x:n,y:a,uiManager:this.#u,isCentered:!0,...t});i&&this.add(i)}async deserialize(e){return await md.#m.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,t,n={}){const a=this.getNextId(),s=this.#S({parent:this,id:a,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:t,...n});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#C(){const{x:e,y:t,width:n,height:a}=this.boundingClientRect,s=Math.max(0,e),i=Math.max(0,t),l=Math.min(window.innerWidth,e+n),c=Math.min(window.innerHeight,t+a),u=(s+l)/2-e,A=(i+c)/2-t,[h,p]=this.viewport.rotation%180===0?[u,A]:[A,u];return{offsetX:h,offsetY:p}}addNewEditor(e={}){this.createAndAddNewEditor(this.#C(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:t}=bi.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#s||(this.#s=!1,this.#x?.isDrawer&&this.#x.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const n=this.#u.getMode();if(n===Mr.STAMP||n===Mr.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===Mr.HIGHLIGHT&&this.enableTextSelection(),this.#s){this.#s=!1;return}const{isMac:t}=bi.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#s=!0,this.#x?.isDrawer){this.startDrawingSession(e);return}const n=this.#u.getActive();this.#t=!n||n.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#x.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#A=null,this.commitOrRemove())},{signal:t}),this.#x.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#A=t);return}this.#A&&setTimeout(()=>{this.#A?.focus(),this.#A=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#A=null,this.#x.endDrawing(e)):null}findNewParent(e,t,n){const a=this.#u.findParent(t,n);return a===null||a===this?!1:(a.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#x.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#i&&(clearTimeout(this.#i),this.#i=null);for(const e of this.#a.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#a.clear(),this.#u.removeLayer(this)}#v(){for(const e of this.#a.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,lf(this.div,e);for(const t of this.#u.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#v();const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,lf(this.div,{rotation:n}),t!==n)for(const a of this.#a.values())a.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#u.viewParameters.realScale}}class hi{#e=null;#t=new Map;#n=new Map;static#r=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return zr(this,"_svgFactory",new Yy)}static#i(e,[t,n,a,s]){const{style:i}=e;i.top=`${100*n}%`,i.left=`${100*t}%`,i.width=`${100*a}%`,i.height=`${100*s}%`}#a(){const e=hi._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#s(e,t){const n=hi._svgFactory.createElement("clipPath");e.append(n);const a=`clip_${t}`;n.setAttribute("id",a),n.setAttribute("clipPathUnits","objectBoundingBox");const s=hi._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),a}#o(e,t){for(const[n,a]of Object.entries(t))a===null?e.removeAttribute(n):e.setAttribute(n,a)}draw(e,t=!1,n=!1){const a=hi.#r++,s=this.#a(),i=hi._svgFactory.createElement("defs");s.append(i);const l=hi._svgFactory.createElement("path");i.append(l);const c=`path_p${this.pageIndex}_${a}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#n.set(a,l);const u=n?this.#s(i,c):null,A=hi._svgFactory.createElement("use");return s.append(A),A.setAttribute("href",`#${c}`),this.updateProperties(s,e),this.#t.set(a,s),{id:a,clipPathId:`url(#${u})`}}drawOutline(e,t){const n=hi.#r++,a=this.#a(),s=hi._svgFactory.createElement("defs");a.append(s);const i=hi._svgFactory.createElement("path");s.append(i);const l=`path_p${this.pageIndex}_${n}`;i.setAttribute("id",l),i.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const h=hi._svgFactory.createElement("mask");s.append(h),c=`mask_p${this.pageIndex}_${n}`,h.setAttribute("id",c),h.setAttribute("maskUnits","objectBoundingBox");const p=hi._svgFactory.createElement("rect");h.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const m=hi._svgFactory.createElement("use");h.append(m),m.setAttribute("href",`#${l}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const u=hi._svgFactory.createElement("use");a.append(u),u.setAttribute("href",`#${l}`),c&&u.setAttribute("mask",`url(#${c})`);const A=u.cloneNode();return a.append(A),u.classList.add("mainOutline"),A.classList.add("secondaryOutline"),this.updateProperties(a,e),this.#t.set(n,a),n}finalizeDraw(e,t){this.#n.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:a,rootClass:s,path:i}=t,l=typeof e=="number"?this.#t.get(e):e;if(l){if(n&&this.#o(l,n),a&&hi.#i(l,a),s){const{classList:c}=l;for(const[u,A]of Object.entries(s))c.toggle(u,A)}if(i){const u=l.firstChild.firstChild;this.#o(u,i)}}}updateParent(e,t){if(t===this)return;const n=this.#t.get(e);n&&(t.#e.append(n),this.#t.delete(e),t.#t.set(e,n))}remove(e){this.#n.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:w4};globalThis.pdfjsLib={AbortException:OA,AnnotationEditorLayer:md,AnnotationEditorParamsType:nn,AnnotationEditorType:Mr,AnnotationEditorUIManager:DA,AnnotationLayer:Ak,AnnotationMode:gd,AnnotationType:ps,applyOpacity:BV,build:qV,ColorPicker:Il,createValidAbsoluteUrl:W3,CSSConstants:SV,DOMSVGFactory:Yy,DrawLayer:hi,FeatureTest:bi,fetchData:Pg,findContrastColor:EV,getDocument:ok,getFilenameFromUrl:wV,getPdfFilenameFromUrl:CV,getRGB:Ig,getUuid:X3,getXfaPageViewport:NV,GlobalWorkerOptions:Gh,ImageKind:fy,InvalidPDFException:R2,isDataScheme:Rv,isPdfFile:c5,isValidExplicitDest:kV,MathClamp:no,noContextMenu:Jl,normalizeUnicode:vV,OPS:og,OutputScale:Eu,PasswordResponses:xV,PDFDataRangeTransport:ck,PDFDateString:U2,PDFWorker:lg,PermissionFlag:gV,PixelsPerInch:Q0,RenderingCancelledException:l5,renderRichText:ek,ResponseException:Vy,setLayerDimensions:lf,shadow:zr,SignatureExtractor:i0,stopEvent:Ha,SupportedImageMimeTypes:Q2,TextLayer:Gy,TouchManager:Qv,updateUrlHash:Y3,Util:Xt,VerbosityLevel:Iv,version:VV,XfaLayer:Z3};const zje=Object.freeze(Object.defineProperty({__proto__:null,AbortException:OA,AnnotationEditorLayer:md,AnnotationEditorParamsType:nn,AnnotationEditorType:Mr,AnnotationEditorUIManager:DA,AnnotationLayer:Ak,AnnotationMode:gd,AnnotationType:ps,CSSConstants:SV,ColorPicker:Il,DOMSVGFactory:Yy,DrawLayer:hi,FeatureTest:bi,GlobalWorkerOptions:Gh,ImageKind:fy,InvalidPDFException:R2,MathClamp:no,OPS:og,OutputScale:Eu,PDFDataRangeTransport:ck,PDFDateString:U2,PDFWorker:lg,PasswordResponses:xV,PermissionFlag:gV,PixelsPerInch:Q0,RenderingCancelledException:l5,ResponseException:Vy,SignatureExtractor:i0,SupportedImageMimeTypes:Q2,TextLayer:Gy,TouchManager:Qv,Util:Xt,VerbosityLevel:Iv,XfaLayer:Z3,applyOpacity:BV,build:qV,createValidAbsoluteUrl:W3,fetchData:Pg,findContrastColor:EV,getDocument:ok,getFilenameFromUrl:wV,getPdfFilenameFromUrl:CV,getRGB:Ig,getUuid:X3,getXfaPageViewport:NV,isDataScheme:Rv,isPdfFile:c5,isValidExplicitDest:kV,noContextMenu:Jl,normalizeUnicode:vV,renderRichText:ek,setLayerDimensions:lf,shadow:zr,stopEvent:Ha,updateUrlHash:Y3,version:VV},Symbol.toStringTag,{value:"Module"}));var ZM=Object.prototype.hasOwnProperty;function eR(r,e,t){for(t of r.keys())if(Mp(t,e))return t}function Mp(r,e){var t,n,a;if(r===e)return!0;if(r&&e&&(t=r.constructor)===e.constructor){if(t===Date)return r.getTime()===e.getTime();if(t===RegExp)return r.toString()===e.toString();if(t===Array){if((n=r.length)===e.length)for(;n--&&Mp(r[n],e[n]););return n===-1}if(t===Set){if(r.size!==e.size)return!1;for(n of r)if(a=n,a&&typeof a=="object"&&(a=eR(e,a),!a)||!e.has(a))return!1;return!0}if(t===Map){if(r.size!==e.size)return!1;for(n of r)if(a=n[0],a&&typeof a=="object"&&(a=eR(e,a),!a)||!Mp(n[1],e.get(a)))return!1;return!0}if(t===ArrayBuffer)r=new Uint8Array(r),e=new Uint8Array(e);else if(t===DataView){if((n=r.byteLength)===e.byteLength)for(;n--&&r.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(r)){if((n=r.byteLength)===e.byteLength)for(;n--&&r[n]===e[n];);return n===-1}if(!t||typeof r=="object"){n=0;for(t in r)if(ZM.call(r,t)&&++n&&!ZM.call(e,t)||!(t in e)||!Mp(r[t],e[t]))return!1;return Object.keys(e).length===n}}return r!==r&&e!==e}function Kv(r){let e=!1;return{promise:new Promise((n,a)=>{r.then(s=>!e&&n(s)).catch(s=>!e&&a(s))}),cancel(){e=!0}}}const Kje=["onCopy","onCut","onPaste"],$je=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Vje=["onFocus","onBlur"],qje=["onInput","onInvalid","onReset","onSubmit"],Gje=["onLoad","onError"],Wje=["onKeyDown","onKeyPress","onKeyUp"],Yje=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Xje=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Jje=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Zje=["onSelect"],e4e=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],t4e=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],r4e=["onScroll"],n4e=["onWheel"],a4e=["onAnimationStart","onAnimationEnd","onAnimationIteration"],s4e=["onTransitionEnd"],i4e=["onToggle"],o4e=["onChange"],l4e=[...Kje,...$je,...Vje,...qje,...Gje,...Wje,...Yje,...Xje,...Jje,...Zje,...e4e,...t4e,...r4e,...n4e,...a4e,...s4e,...o4e,...i4e];function rq(r,e){const t={};for(const n of l4e){const a=r[n];a&&(e?t[n]=(s=>a(s,e(n))):t[n]=a)}return t}var rE,tR;function c4e(){if(tR)return rE;tR=1;var r=function(){};return rE=r,rE}var u4e=c4e();const lo=Pc(u4e),nq=B.createContext(null),d4e="noopener noreferrer nofollow";class A4e{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ea(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){ea(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||d4e,e.target=n?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{ea(this.pdfDocument),ea(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{ea(Array.isArray(t));const n=t[0];new Promise(a=>{ea(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(s=>{a(s)}).catch(()=>{ea(!1)}):typeof n=="number"?a(n):ea(!1)}).then(a=>{const s=a+1;ea(this.pdfViewer),ea(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:a,pageNumber:s})})})}goToPage(e){const t=e-1;ea(this.pdfViewer),ea(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function Rp({children:r,type:e}){return o.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:r})}const rR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function h4e(r,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return r}}function cg(){return B.useReducer(h4e,{value:void 0,error:void 0})}const A5=typeof window<"u",aq=A5&&window.location.protocol==="file:";function f4e(r){return typeof r<"u"}function Yf(r){return f4e(r)&&r!==null}function m4e(r){return typeof r=="string"}function p4e(r){return r instanceof ArrayBuffer}function g4e(r){return ea(A5),r instanceof Blob}function S4(r){return m4e(r)&&/^data:/.test(r)}function nR(r){ea(S4(r));const[e="",t=""]=r.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function x4e(){return A5&&window.devicePixelRatio||1}const sq="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function aR(){lo(!aq,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${sq}`)}function y4e(){lo(!aq,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${sq}`)}function z0(r){r?.cancel&&r.cancel()}function B4(r,e){return Object.defineProperty(r,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.view[3]},configurable:!0}),r}function v4e(r){return r.name==="RenderingCancelledException"}function b4e(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=a=>{if(!a.target)return t(new Error("Error while reading a file."));const{error:s}=a.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(r)})}const{PDFDataRangeTransport:w4e}=zje,C4e=(r,e)=>{switch(e){case rR.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");r(t);break}case rR.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");r(t);break}}};function sR(r){return typeof r=="object"&&r!==null&&("data"in r||"range"in r||"url"in r)}const N4e=B.forwardRef(function({children:e,className:t,error:n="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:s,file:i,inputRef:l,imageResourcesPath:c,loading:u="Loading PDF",noData:A="No PDF file specified.",onItemClick:h,onLoadError:p,onLoadProgress:m,onLoadSuccess:y,onPassword:g=C4e,onSourceError:v,onSourceSuccess:b,options:N,renderMode:C,rotate:E,scale:_,...P},O){const[D,k]=cg(),{value:H,error:L}=D,[Q,R]=cg(),{value:K,error:ee}=Q,X=B.useRef(new A4e),ae=B.useRef([]),Y=B.useRef(void 0),de=B.useRef(void 0);i&&i!==Y.current&&sR(i)&&(lo(!Mp(i,Y.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Y.current=i),N&&N!==de.current&&(lo(!Mp(N,de.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),de.current=N);const pe=B.useRef({scrollPageIntoView:Se=>{const{dest:Te,pageNumber:J,pageIndex:Le=J-1}=Se;if(h){h({dest:Te,pageIndex:Le,pageNumber:J});return}const He=ae.current[Le];if(He){He.scrollIntoView();return}lo(!1,`An internal link leading to page ${J} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});B.useImperativeHandle(O,()=>({linkService:X,pages:ae,viewer:pe}),[]);function Z(){b&&b()}function I(){L&&(lo(!1,L.toString()),v&&v(L))}function z(){k({type:"RESET"})}B.useEffect(z,[i,k]);const V=B.useCallback(async()=>{if(!i)return null;if(typeof i=="string")return S4(i)?{data:nR(i)}:(aR(),{url:i});if(i instanceof w4e)return{range:i};if(p4e(i))return{data:i};if(A5&&g4e(i))return{data:await b4e(i)};if(ea(typeof i=="object"),ea(sR(i)),"url"in i&&typeof i.url=="string"){if(S4(i.url)){const{url:Se,...Te}=i;return{data:nR(Se),...Te}}aR()}return i},[i]);B.useEffect(()=>{const Se=Kv(V());return Se.promise.then(Te=>{k({type:"RESOLVE",value:Te})}).catch(Te=>{k({type:"REJECT",error:Te})}),()=>{z0(Se)}},[V,k]),B.useEffect(()=>{if(!(typeof H>"u")){if(H===!1){I();return}Z()}},[H]);function q(){K&&(y&&y(K),ae.current=new Array(K.numPages),X.current.setDocument(K))}function ne(){ee&&(lo(!1,ee.toString()),p&&p(ee))}B.useEffect(function(){R({type:"RESET"})},[R,H]),B.useEffect(function(){if(!H)return;const Te=N?{...H,...N}:H,J=ok(Te);m&&(J.onProgress=m),g&&(J.onPassword=g);const Le=J,He=Le.promise.then(Je=>{R({type:"RESOLVE",value:Je})}).catch(Je=>{Le.destroyed||R({type:"REJECT",error:Je})});return()=>{He.finally(()=>Le.destroy())}},[N,R,H]),B.useEffect(()=>{if(!(typeof K>"u")){if(K===!1){ne();return}q()}},[K]),B.useEffect(function(){X.current.setViewer(pe.current),X.current.setExternalLinkRel(a),X.current.setExternalLinkTarget(s)},[a,s]);const ce=B.useCallback((Se,Te)=>{ae.current[Se]=Te},[]),Be=B.useCallback(Se=>{delete ae.current[Se]},[]),Ae=B.useMemo(()=>({imageResourcesPath:c,linkService:X.current,onItemClick:h,pdf:K,registerPage:ce,renderMode:C,rotate:E,scale:_,unregisterPage:Be}),[c,h,K,ce,C,E,_,Be]),ye=B.useMemo(()=>rq(P,()=>K),[P,K]);function Pe(){function Se(J){return!!J?.pdf}if(!Se(Ae))throw new Error("pdf is undefined");const Te=typeof e=="function"?e(Ae):e;return o.jsx(nq.Provider,{value:Ae,children:Te})}function je(){return i?K==null?o.jsx(Rp,{type:"loading",children:typeof u=="function"?u():u}):K===!1?o.jsx(Rp,{type:"error",children:typeof n=="function"?n():n}):Pe():o.jsx(Rp,{type:"no-data",children:typeof A=="function"?A():A})}return o.jsx("div",{className:An("react-pdf__Document",t),ref:l,...ye,children:je()})});function iq(){return B.useContext(nq)}function oq(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(s){for(var i=0,l=t;i<l.length;i++){var c=l[i];typeof c=="function"?c(s):c&&(c.current=s)}}}const lq=B.createContext(null);function h5(){return B.useContext(lq)}function S4e(){const r=iq(),e=h5();ea(e);const t={...r,...e},{imageResourcesPath:n,linkService:a,onGetAnnotationsError:s,onGetAnnotationsSuccess:i,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:u,pdf:A,renderForms:h,rotate:p,scale:m=1}=t;ea(A),ea(u),ea(a);const[y,g]=cg(),{value:v,error:b}=y,N=B.useRef(null);lo(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function C(){v&&i&&i(v)}function E(){b&&(lo(!1,b.toString()),s&&s(b))}B.useEffect(function(){g({type:"RESET"})},[g,u]),B.useEffect(function(){if(!u)return;const k=Kv(u.getAnnotations()),H=k;return k.promise.then(L=>{g({type:"RESOLVE",value:L})}).catch(L=>{g({type:"REJECT",error:L})}),()=>{z0(H)}},[g,u]),B.useEffect(()=>{if(v!==void 0){if(v===!1){E();return}C()}},[v]);function _(){c&&c()}function P(D){lo(!1,`${D}`),l&&l(D)}const O=B.useMemo(()=>u.getViewport({scale:m,rotation:p}),[u,p,m]);return B.useEffect(function(){if(!A||!u||!a||!v)return;const{current:k}=N;if(!k)return;const H=O.clone({dontFlip:!0}),L={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:A.annotationStorage,commentManager:null,div:k,l10n:null,linkService:a,page:u,structTreeLayer:null,viewport:H},Q={annotations:v,annotationStorage:A.annotationStorage,div:k,imageResourcesPath:n,linkService:a,page:u,renderForms:h,viewport:H};k.innerHTML="";try{new Ak(L).render(Q),_()}catch(R){P(R)}return()=>{}},[v,n,a,u,A,h,O]),o.jsx("div",{className:An("react-pdf__Page__annotations","annotationLayer"),ref:N})}const cq={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},B4e=/^H(\d+)$/;function E4e(r){return r in cq}function f5(r){return"children"in r}function uq(r){return f5(r)?r.children.length===1&&0 in r.children&&"id"in r.children[0]:!1}function j4e(r){const e={};if(f5(r)){const{role:t}=r,n=t.match(B4e);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(E4e(t)){const a=cq[t];a&&(e.role=a)}}return e}function dq(r){const e={};if(f5(r)){if(r.alt!==void 0&&(e["aria-label"]=r.alt),r.lang!==void 0&&(e.lang=r.lang),uq(r)){const[t]=r.children;if(t){const n=dq(t);return{...e,...n}}}}else"id"in r&&(e["aria-owns"]=r.id);return e}function _4e(r){return r?{...j4e(r),...dq(r)}:null}function Aq({className:r,node:e}){const t=B.useMemo(()=>_4e(e),[e]),n=B.useMemo(()=>!f5(e)||uq(e)?null:e.children.map((a,s)=>o.jsx(Aq,{node:a},s)),[e]);return o.jsx("span",{className:r,...t,children:n})}function T4e(){const r=h5();ea(r);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=r,[n,a]=cg(),{value:s,error:i}=n,{customTextRenderer:l,page:c}=r;function u(){s&&t&&t(s)}function A(){i&&(lo(!1,i.toString()),e&&e(i))}return B.useEffect(function(){a({type:"RESET"})},[a,c]),B.useEffect(function(){if(l||!c)return;const p=Kv(c.getStructTree()),m=p;return p.promise.then(y=>{a({type:"RESOLVE",value:y})}).catch(y=>{a({type:"REJECT",error:y})}),()=>z0(m)},[l,c,a]),B.useEffect(()=>{if(s!==void 0){if(s===!1){A();return}u()}},[s]),s?o.jsx(Aq,{className:"react-pdf__Page__structTree structTree",node:s}):null}const iR=gd;function k4e(r){const e=h5();ea(e);const t={...e,...r},{_className:n,canvasBackground:a,devicePixelRatio:s=x4e(),onRenderError:i,onRenderSuccess:l,page:c,renderForms:u,renderTextLayer:A,rotate:h,scale:p}=t,{canvasRef:m}=r;ea(c);const y=B.useRef(null);function g(){c&&l&&l(B4(c,p))}function v(E){v4e(E)||(lo(!1,E.toString()),i&&i(E))}const b=B.useMemo(()=>c.getViewport({scale:p*s,rotation:h}),[s,c,h,p]),N=B.useMemo(()=>c.getViewport({scale:p,rotation:h}),[c,h,p]);B.useEffect(function(){if(!c)return;c.cleanup();const{current:_}=y;if(!_)return;_.width=b.width,_.height=b.height,_.style.width=`${Math.floor(N.width)}px`,_.style.height=`${Math.floor(N.height)}px`,_.style.visibility="hidden";const P={annotationMode:u?iR.ENABLE_FORMS:iR.ENABLE,canvas:_,canvasContext:_.getContext("2d",{alpha:!1}),viewport:b};a&&(P.background=a);const O=c.render(P),D=O;return O.promise.then(()=>{_.style.visibility="",g()}).catch(v),()=>z0(D)},[a,c,u,b,N]);const C=B.useCallback(()=>{const{current:E}=y;E&&(E.width=0,E.height=0)},[]);return B.useEffect(()=>C,[C]),o.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:oq(m,y),style:{display:"block",userSelect:"none"},children:A?o.jsx(T4e,{}):null})}function F4e(r){return"str"in r}function O4e(){const r=h5();ea(r);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:a,onRenderTextLayerSuccess:s,page:i,pageIndex:l,pageNumber:c,rotate:u,scale:A}=r;ea(i);const[h,p]=cg(),{value:m,error:y}=h,g=B.useRef(null);lo(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function v(){m&&n&&n(m)}function b(){y&&(lo(!1,y.toString()),t&&t(y))}B.useEffect(function(){p({type:"RESET"})},[i,p]),B.useEffect(function(){if(!i)return;const D=Kv(i.getTextContent()),k=D;return D.promise.then(H=>{p({type:"RESOLVE",value:H})}).catch(H=>{p({type:"REJECT",error:H})}),()=>z0(k)},[i,p]),B.useEffect(()=>{if(m!==void 0){if(m===!1){b();return}v()}},[m]);const N=B.useCallback(()=>{s&&s()},[s]),C=B.useCallback(O=>{lo(!1,O.toString()),a&&a(O)},[a]);function E(){const O=g.current;O&&O.classList.add("selecting")}function _(){const O=g.current;O&&O.classList.remove("selecting")}const P=B.useMemo(()=>i.getViewport({scale:A,rotation:u}),[i,u,A]);return B.useLayoutEffect(function(){if(!i||!m)return;const{current:D}=g;if(!D)return;D.innerHTML="";const k=i.streamTextContent({includeMarkedContent:!0}),H={container:D,textContentSource:k,viewport:P},L=new Gy(H),Q=L;return L.render().then(()=>{const R=document.createElement("div");R.className="endOfContent",D.append(R);const K=D.querySelectorAll('[role="presentation"]');if(e){let ee=0;m.items.forEach((X,ae)=>{if(!F4e(X))return;const Y=K[ee];if(!Y)return;const de=e({pageIndex:l,pageNumber:c,itemIndex:ae,...X});Y.innerHTML=de,ee+=X.str&&X.hasEOL?2:1})}N()}).catch(C),()=>z0(Q)},[e,C,N,i,l,c,m,P]),o.jsx("div",{className:An("react-pdf__Page__textContent","textLayer"),onMouseUp:_,onMouseDown:E,ref:g})}const oR=1;function D4e(r){const t={...iq(),...r},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:s,canvasRef:i,children:l,className:c,customRenderer:u,customTextRenderer:A,devicePixelRatio:h,error:p="Failed to load the page.",height:m,inputRef:y,loading:g="Loading page",noData:v="No page specified.",onGetAnnotationsError:b,onGetAnnotationsSuccess:N,onGetStructTreeError:C,onGetStructTreeSuccess:E,onGetTextError:_,onGetTextSuccess:P,onLoadError:O,onLoadSuccess:D,onRenderAnnotationLayerError:k,onRenderAnnotationLayerSuccess:H,onRenderError:L,onRenderSuccess:Q,onRenderTextLayerError:R,onRenderTextLayerSuccess:K,pageIndex:ee,pageNumber:X,pdf:ae,registerPage:Y,renderAnnotationLayer:de=!0,renderForms:pe=!1,renderMode:Z="canvas",renderTextLayer:I=!0,rotate:z,scale:V=oR,unregisterPage:q,width:ne,...ce}=t,[Be,Ae]=cg(),{value:ye,error:Pe}=Be,je=B.useRef(null);ea(ae);const Se=Yf(X)?X-1:ee??null,Te=X??(Yf(ee)?ee+1:null),J=z??(ye?ye.rotate:null),Le=B.useMemo(()=>{if(!ye)return null;let wt=1;const Bt=V??oR;if(ne||m){const Ee=ye.getViewport({scale:1,rotation:J});ne?wt=ne/Ee.width:m&&(wt=m/Ee.height)}return Bt*wt},[m,ye,J,V,ne]);B.useEffect(function(){return()=>{Yf(Se)&&a&&q&&q(Se)}},[a,ae,Se,q]);function He(){if(D){if(!ye||!Le)return;D(B4(ye,Le))}if(a&&Y){if(!Yf(Se)||!je.current)return;Y(Se,je.current)}}function Je(){Pe&&(lo(!1,Pe.toString()),O&&O(Pe))}B.useEffect(function(){Ae({type:"RESET"})},[Ae,ae,Se]),B.useEffect(function(){if(!ae||!Te)return;const Bt=Kv(ae.getPage(Te)),Ee=Bt;return Bt.promise.then(ot=>{Ae({type:"RESOLVE",value:ot})}).catch(ot=>{Ae({type:"REJECT",error:ot})}),()=>z0(Ee)},[Ae,ae,Te]),B.useEffect(()=>{if(ye!==void 0){if(ye===!1){Je();return}He()}},[ye,Le]);const at=B.useMemo(()=>Yf(Se)&&Te&&Yf(J)&&Yf(Le)?{_className:n,canvasBackground:s,customTextRenderer:A,devicePixelRatio:h,onGetAnnotationsError:b,onGetAnnotationsSuccess:N,onGetStructTreeError:C,onGetStructTreeSuccess:E,onGetTextError:_,onGetTextSuccess:P,onRenderAnnotationLayerError:k,onRenderAnnotationLayerSuccess:H,onRenderError:L,onRenderSuccess:Q,onRenderTextLayerError:R,onRenderTextLayerSuccess:K,page:ye,pageIndex:Se,pageNumber:Te,renderForms:pe,renderTextLayer:I,rotate:J,scale:Le}:null,[n,s,A,h,b,N,C,E,_,P,k,H,L,Q,R,K,ye,Se,Te,pe,I,J,Le]),ze=B.useMemo(()=>rq(ce,()=>ye&&(Le?B4(ye,Le):void 0)),[ce,ye,Le]),mt=`${Se}@${Le}/${J}`;function Et(){switch(Z){case"custom":return ea(u),o.jsx(u,{},`${mt}_custom`);case"none":return null;default:return o.jsx(k4e,{canvasRef:i},`${mt}_canvas`)}}function Me(){return I?o.jsx(O4e,{},`${mt}_text`):null}function vt(){return de?o.jsx(S4e,{},`${mt}_annotations`):null}function De(){function wt(Ee){return!!Ee?.page}if(!wt(at))throw new Error("page is undefined");const Bt=typeof l=="function"?l(at):l;return o.jsxs(lq.Provider,{value:at,children:[Et(),Me(),vt(),Bt]})}function it(){return Te?ae===null||ye===void 0||ye===null?o.jsx(Rp,{type:"loading",children:typeof g=="function"?g():g}):ae===!1||ye===!1?o.jsx(Rp,{type:"error",children:typeof p=="function"?p():p}):De():o.jsx(Rp,{type:"no-data",children:typeof v=="function"?v():v})}return o.jsx("div",{className:An(n,c),"data-page-number":Te,ref:oq(y,je),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Le}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...ze,children:it()})}y4e();Gh.workerSrc="pdf.worker.mjs";const P4e=({isOpen:r,onClose:e,pdfSource:t,fileName:n,title:a})=>{const[s,i]=B.useState(0),[l,c]=B.useState(1),[u,A]=B.useState(1),[h,p]=B.useState(""),[m,y]=B.useState(!0),[g,v]=B.useState(null),[b,N]=B.useState(!1),C=()=>t instanceof Blob?t.size/1048576>3:!1,E=async R=>{if(R instanceof Blob)return R;if(typeof R=="string"&&R.startsWith("data:")){const ee=await(await fetch(R)).blob();if(ee.type!=="application/pdf")throw new Error("Invalid PDF format");return ee}if(typeof R=="string"){const K=await fetch(R);if(!K.ok)throw new Error(`HTTP ${K.status}: ${K.statusText}`);return await K.blob()}throw new Error("Invalid PDF source format")};B.useEffect(()=>{if(!r)return;let R,K=!1;return(async()=>{try{y(!0),v(null),c(1);const X=await E(t);R=URL.createObjectURL(X),K=!0,p(R),C()&&(console.log("Auto-switching to browser viewer for large/complex PDF"),setTimeout(()=>{N(!0),y(!1)},1e3))}catch(X){Rt.error("PDF normalization error:",X),v(X.message||"Failed to process PDF data"),y(!1)}})(),()=>{K&&R&&URL.revokeObjectURL(R)}},[t,r]),B.useEffect(()=>{if(!r||!m||b)return;const R=setTimeout(()=>{m&&(console.warn("PDF loading timeout - switching to browser viewer"),v("React-PDF viewer is taking too long. Switching to browser viewer for better performance."),setTimeout(()=>{N(!0),y(!1)},2e3))},15e3);return()=>clearTimeout(R)},[r,m,b]);const _=({numPages:R})=>{console.log("PDF loaded successfully with react-pdf:",{numPages:R}),i(R),y(!1),v(null)},P=R=>{Rt.error("React-PDF load error:",R),console.log("React-PDF failed, switching to browser viewer"),v("React-PDF viewer had issues. Switching to browser viewer for compatibility."),setTimeout(()=>{N(!0),y(!1)},1500)},O=()=>{c(R=>Math.max(R-1,1))},D=()=>{c(R=>Math.min(R+1,s))},k=()=>{A(R=>Math.min(R+.25,3))},H=()=>{A(R=>Math.max(R-.25,.5))},L=()=>{A(1)},Q=()=>{if(t instanceof Blob){const R=URL.createObjectURL(t),K=document.createElement("a");K.href=R,K.download=n,document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(R)}else{const R=document.createElement("a");R.href=t,R.download=n,R.click()}xe.success("PDF downloaded successfully")};return r?o.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-6xl h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:a||n}),a&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:n})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors ml-4","aria-label":"Close PDF viewer",children:o.jsx(Fr,{className:"w-5 h-5 text-gray-900 dark:text-white"})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>N(!1),className:`px-3 py-1 text-sm rounded transition-colors ${b?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300":"bg-primary-600 text-white"}`,children:"Enhanced Viewer"}),o.jsx("button",{onClick:()=>N(!0),className:`px-3 py-1 text-sm rounded transition-colors ${b?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300"}`,children:"Browser Viewer"})]}),!b&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:H,disabled:u<=.5,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed text-gray-900 dark:text-white",title:"Zoom Out (-)",children:o.jsx(Cte,{className:"w-4 h-4"})}),o.jsxs("span",{className:"text-sm font-medium min-w-[60px] text-center text-gray-900 dark:text-white",children:[Math.round(u*100),"%"]}),o.jsx("button",{onClick:k,disabled:u>=3,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed text-gray-900 dark:text-white",title:"Zoom In (+)",children:o.jsx(bte,{className:"w-4 h-4"})}),o.jsx("button",{onClick:L,className:"px-3 py-1 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-900 dark:text-white",title:"Reset Zoom",children:"Reset"})]}),s>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:O,disabled:l<=1,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed text-gray-900 dark:text-white",title:"Previous Page ()",children:o.jsx(a7,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"number",min:1,max:s,value:l,onChange:R=>{const K=parseInt(R.target.value);K>=1&&K<=s&&c(K)},className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white rounded text-center text-sm"}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["/ ",s]})]}),o.jsx("button",{onClick:D,disabled:l>=s,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed text-gray-900 dark:text-white",title:"Next Page ()",children:o.jsx(gA,{className:"w-4 h-4"})})]})]}),o.jsxs("button",{onClick:Q,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[o.jsx(LA,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Download"})]})]}),o.jsxs("div",{className:"flex-1 overflow-auto bg-gray-100 dark:bg-gray-900 p-4",children:[m&&o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mb-4 mx-auto"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading PDF..."}),t instanceof Blob&&o.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["File size: ",(t.size/(1024*1024)).toFixed(2)," MB",C()&&o.jsx("span",{className:"text-blue-600 ml-2",children:" Using browser viewer for better performance"})]})]})}),g&&o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center max-w-md",children:[o.jsxs("div",{className:"flex items-center justify-center mb-4",children:[o.jsx(Jh,{className:"w-6 h-6 text-yellow-500 mr-2"}),o.jsx("p",{className:"text-yellow-600 dark:text-yellow-400",children:g})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("button",{onClick:()=>{N(!0),v(null),y(!1)},className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Try Browser Viewer (Recommended)"}),o.jsx("button",{onClick:Q,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Download PDF Instead"})]})]})}),b&&h&&!m&&!g&&o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 p-2 mb-2 rounded text-center",children:o.jsx("p",{className:"text-sm text-blue-800",children:" Using browser PDF viewer - best compatibility and performance"})}),o.jsx("iframe",{src:h,className:"flex-1 w-full border border-gray-300 rounded",title:"PDF Viewer",style:{minHeight:"600px"}})]}),!b&&h&&!m&&!g&&o.jsx("div",{className:"flex justify-center",children:o.jsx(N4e,{file:h,onLoadSuccess:_,onLoadError:P,loading:o.jsx("div",{className:"text-center p-8",children:"Loading PDF content..."}),error:o.jsx("div",{className:"text-center p-8 text-red-600",children:"Failed to load PDF content"}),children:o.jsx(D4e,{pageNumber:l,scale:u,renderTextLayer:!0,renderAnnotationLayer:!0,className:"shadow-lg"})})})]})]})}):null},I4e=({attachments:r,onFilesAdded:e,onFileRemoved:t,maxFiles:n=VB.maxFiles,maxFileSize:a=VB.maxFileSize,allowMultiple:s=!0})=>{const[i,l]=B.useState(!1),[c,u]=B.useState(!1),[A,h]=B.useState(null),p=_o(),m=B.useCallback(_=>{_.preventDefault(),_.stopPropagation()},[]),y=B.useCallback(_=>{_.preventDefault(),_.stopPropagation(),_.dataTransfer.items&&_.dataTransfer.items.length>0&&l(!0)},[]),g=B.useCallback(_=>{_.preventDefault(),_.stopPropagation(),l(!1)},[]),v=async _=>{const P=Array.from(_);if(r.length+P.length>n){xe.error(`Maximum ${n} files allowed`);return}const O=[];for(const D of P){if(D.size>a){xe.error(`${D.name} exceeds maximum size of ${qB(a)}`);continue}if(!VB.allowedTypes.includes(D.type)){xe.error(`${D.name} - File type not supported`);continue}const k=new FileReader;k.onload=()=>{const H={id:`file_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,fileName:D.name,fileType:D.type,fileSize:D.size,fileExtension:rEe(D.name),uploadedDate:new Date().toISOString(),uploadedBy:p?.id||"",uploadedByName:p?.name||"",fileData:k.result};O.push(H),O.length===P.length&&(e(O),xe.success(`${O.length} file(s) uploaded successfully`))},k.onerror=()=>{xe.error(`Error reading ${D.name}`)},k.readAsDataURL(D)}},b=B.useCallback(_=>{_.preventDefault(),_.stopPropagation(),l(!1);const P=_.dataTransfer.files;P&&P.length>0&&v(P)},[r.length,n,a,e]),N=_=>{_.target.files&&_.target.files.length>0&&v(_.target.files)},C=_=>_.startsWith("image/")?o.jsx(Iw,{className:"w-5 h-5"}):_==="application/pdf"?o.jsx($a,{className:"w-5 h-5"}):_.includes("sheet")||_.includes("excel")?o.jsx(Gee,{className:"w-5 h-5"}):o.jsx(JZ,{className:"w-5 h-5"}),E=_=>{const P=document.createElement("a");P.href=_.fileData,P.download=_.fileName,P.click()};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{onDragEnter:y,onDragLeave:g,onDragOver:m,onDrop:b,className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${i?"border-primary-500 bg-indigo-50":"border-gray-300 hover:border-gray-400 bg-gray-50"}`,children:[o.jsx(Po,{className:`w-12 h-12 mx-auto mb-4 ${i?"text-primary-600":"text-gray-400"}`}),o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Drag & drop files here, or click to browse"}),o.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["PDF, Images, Excel, Word (max ",qB(a),")"]}),o.jsx("input",{type:"file",multiple:s,accept:".pdf,.jpg,.jpeg,.png,.xlsx,.xls,.docx,.doc",onChange:N,className:"hidden",id:"file-upload"}),o.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 cursor-pointer transition-colors",children:[o.jsx(Po,{className:"w-4 h-4"}),"Choose Files"]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[r.length," / ",n," files uploaded"]})]}),r.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-700",children:["Attached Files (",r.length,")"]}),o.jsx("div",{className:"space-y-2",children:r.map(_=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx("div",{className:"flex-shrink-0 text-gray-500",children:C(_.fileType)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:_.fileName}),o.jsxs("p",{className:"text-xs text-gray-500",children:[qB(_.fileSize),"  ",new Date(_.uploadedDate).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[_.fileType==="application/pdf"&&o.jsxs("button",{onClick:()=>{if(!_.fileData||_.fileData.trim().length===0){xe.error("PDF data is missing or corrupted");return}h(_),u(!0)},className:"px-3 py-1 text-xs font-medium text-blue-600 hover:bg-blue-50 rounded transition-colors flex items-center gap-1",children:[o.jsx(vi,{className:"w-3 h-3"}),"Preview"]}),o.jsxs("button",{onClick:()=>E(_),className:"px-3 py-1 text-xs font-medium text-primary-600 hover:bg-indigo-50 rounded transition-colors flex items-center gap-1",children:[o.jsx(LA,{className:"w-3 h-3"}),"Download"]}),o.jsx("button",{onClick:()=>t(_.id),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Remove file",children:o.jsx(Fr,{className:"w-4 h-4"})})]})]},_.id))})]}),c&&A&&o.jsx(P4e,{isOpen:c,onClose:()=>{u(!1),h(null)},pdfSource:`data:application/pdf;base64,${A.fileData}`,fileName:A.fileName,title:`Preview: ${A.fileName}`})]})},hq=({value:r,onChange:e,disabled:t,className:n})=>{const a=[{code:"MYR",name:"Malaysian Ringgit",symbol:"RM"},{code:"SGD",name:"Singapore Dollar",symbol:"S$"},{code:"THB",name:"Thai Baht",symbol:""},{code:"IDR",name:"Indonesian Rupiah",symbol:"Rp"},{code:"PHP",name:"Philippine Peso",symbol:""},{code:"VND",name:"Vietnamese Dong",symbol:""},{code:"BND",name:"Brunei Dollar",symbol:"B$"},{code:"INR",name:"Indian Rupee",symbol:""},{code:"CNY",name:"Chinese Yuan",symbol:""},{code:"JPY",name:"Japanese Yen",symbol:""},{code:"KRW",name:"South Korean Won",symbol:""},{code:"HKD",name:"Hong Kong Dollar",symbol:"HK$"},{code:"TWD",name:"Taiwan Dollar",symbol:"NT$"},{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:""},{code:"GBP",name:"British Pound",symbol:""},{code:"AUD",name:"Australian Dollar",symbol:"A$"},{code:"NZD",name:"New Zealand Dollar",symbol:"NZ$"},{code:"CAD",name:"Canadian Dollar",symbol:"C$"}];return o.jsx("select",{value:r,onChange:s=>e(s.target.value),disabled:t,className:n||"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",children:a.map(s=>o.jsxs("option",{value:s.code,children:[s.code," - ",s.name," (",s.symbol,")"]},s.code))})},L4e=({isOpen:r,onClose:e})=>{const[t,n]=B.useState({poNumber:"",clientId:"",clientName:"",projectId:"",projectCode:"",amount:"",currency:"MYR",receivedDate:new Date().toISOString().split("T")[0],dueDate:"",description:"",plannedHours:""}),[a,s]=B.useState(!1),[i,l]=B.useState(1),[c,u]=B.useState(0),[A,h]=B.useState(null),[p,m]=B.useState(!1),[y,g]=B.useState(""),{projects:v,fetchProjects:b}=os(),{clients:N,fetchClients:C}=ff(),{companies:E,fetchCompanies:_}=Fu();if(B.useEffect(()=>{r&&(C(),b(),_())},[r,C,b,_]),B.useEffect(()=>{(async()=>{if(t.currency==="MYR"){l(1),u(parseFloat(t.amount)||0);return}if(p&&y){const k=parseFloat(y);l(k),u(parseFloat(t.amount)*k)}else if(!p)if(t.currency!=="MYR"&&t.amount)try{const k=await wr.convertCurrency(parseFloat(t.amount),t.currency);l(k.rate),u(k.amountMYR)}catch(k){Rt.error("Failed to fetch exchange rate:",k),l(1),u(parseFloat(t.amount)||0)}else l(1),u(parseFloat(t.amount)||0)})()},[t.currency,t.amount,p,y]),B.useEffect(()=>{if(t.projectId&&v.length>0){const D=v.find(k=>k.id===t.projectId);h(D)}else h(null)},[t.projectId,v]),!r)return null;const P=async D=>{if(D.preventDefault(),Rt.debug("Form data on submit:",{poNumber:t.poNumber,projectCode:t.projectCode,clientName:t.clientName,amount:t.amount,receivedDate:t.receivedDate}),!t.poNumber||!t.amount||!t.receivedDate||!t.projectCode||!t.clientName){const k=[];t.poNumber||k.push("PO Number"),t.projectCode||k.push("Project Code"),t.clientName||k.push("Client Name"),t.amount||k.push("Amount"),t.receivedDate||k.push("Received Date"),Rt.error("Missing required fields:",k),xe.error(`Please fill in all required fields. Missing: ${k.join(", ")}`);return}s(!0);try{const k=await wr.createPurchaseOrder({poNumber:t.poNumber,clientName:t.clientName,projectCode:t.projectCode||"",amount:parseFloat(t.amount),currency:t.currency,receivedDate:t.receivedDate,dueDate:t.dueDate||void 0,description:t.description||void 0,plannedHours:t.plannedHours?parseFloat(t.plannedHours):void 0,customExchangeRate:p?parseFloat(y):void 0});Rt.debug("PO created successfully:",k),k.projectStatusUpdated?xe.success(`PO ${t.poNumber} created successfully! Project ${t.projectCode} status updated to 'ongoing'.`,{duration:5e3}):xe.success(`PO ${t.poNumber} created successfully!`),await b(),e(),n({poNumber:"",clientId:"",clientName:"",projectId:"",projectCode:"",amount:"",currency:"MYR",receivedDate:new Date().toISOString().split("T")[0],dueDate:"",description:"",plannedHours:""}),h(null)}catch(k){Rt.error("Failed to create PO:",k);const H=k?.response?.data?.error||"Failed to create purchase order";xe.error(H)}finally{s(!1)}},O=D=>{n({...t,[D.target.name]:D.target.value})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Received PO"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Fr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:P,className:"p-6 space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["PO Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"poNumber",value:t.poNumber,onChange:O,required:!0,placeholder:"e.g., PO-2025-001",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Company Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"clientName",value:t.clientName,onChange:O,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Auto-filled from project or enter manually"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-filled from project or enter manually if needed"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Code ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{required:!0,name:"projectId",value:t.projectId,onChange:D=>{console.log("Project dropdown changed:",D.target.value);const k=v.find(H=>H.id===D.target.value);if(console.log("Found project:",k),D.target.value==="")n({...t,projectId:"",projectCode:"",clientId:"",clientName:""});else{let H=k?.companyId?N.find(Q=>Q.id===k.companyId):null;!H&&k?.companyId&&(H=E.find(Q=>Q.id===k.companyId)),console.log("Matching client from stores:",H),console.log("Project clientName:",k?.companyName);const L=H?.name||k?.companyName||"Unknown Client";console.log("Final client name:",L),n({...t,projectId:D.target.value,projectCode:k?.projectCode||"",clientId:k?.companyId||"",clientName:L}),L!=="Unknown Client"||Rt.warn("No client name available for project:",k?.projectCode,"- clientId:",k?.companyId)}},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a project"}),v.filter(D=>D.status==="pre-lim"||D.status==="ongoing").map(D=>o.jsxs("option",{value:D.id,children:[D.projectCode," - ",D.title," (",D.status==="pre-lim"?"Pre-lim":"Ongoing",")"]},D.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"number",name:"amount",value:t.amount,onChange:O,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),o.jsx(hq,{value:t.currency,onChange:D=>n({...t,currency:D})})]}),t.currency!=="MYR"&&t.amount&&o.jsxs("div",{className:"mt-3 space-y-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:["Exchange Rate (1 ",t.currency," to MYR)"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",step:"0.000001",min:"0",value:p?y:i.toFixed(6),onChange:D=>{m(!0),g(D.target.value)},placeholder:"Enter exchange rate",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),!p&&o.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:"Auto-fetched"})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Converted Amount:"}),o.jsxs("span",{className:"text-lg font-semibold text-green-700",children:["RM ",c.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Received Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"receivedDate",value:t.receivedDate,onChange:O,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),o.jsx("input",{type:"date",name:"dueDate",value:t.dueDate,onChange:O,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Update Project Planned Hours",o.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"(Optional)"})]}),A&&A.plannedHours&&o.jsxs("p",{className:"text-xs text-blue-600 mb-2",children:["Current: ",A.plannedHours," hrs"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",name:"plannedHours",value:t.plannedHours,onChange:O,min:"0",step:"1",placeholder:"Enter new planned hours (optional)",className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),t.plannedHours&&o.jsx("p",{className:"text-xs text-gray-500",children:"Will overwrite current value"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{name:"description",value:t.description,onChange:O,rows:3,placeholder:"Brief description of PO items/services...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Po,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Attach PO Document"}),o.jsx("p",{className:"text-xs text-blue-700",children:"After creating the PO, you can upload documents in the PO details view."})]})]})}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating...":"Add Received PO"})]})]})]})})},M4e=({isOpen:r,onClose:e})=>{const{projects:t,fetchProjects:n}=os(),{companies:a,fetchCompanies:s}=Fu(),[i,l]=B.useState({invoiceNumber:"",projectId:"",projectName:"",projectCode:"",companyId:"",clientName:"",amount:"",percentageOfTotal:"",issueDate:new Date().toISOString().split("T")[0],dueDate:"",description:"",remark:""}),[c,u]=B.useState(null),[A,h]=B.useState(0),[p,m]=B.useState(null),[y,g]=B.useState(!1),[v,b]=B.useState(!1),C=t.find(D=>D.id===i.projectId)?.billingType==="lump_sum";B.useEffect(()=>{r&&(s(),n())},[r,s,n]),B.useEffect(()=>{r&&!i.invoiceNumber&&E()},[r]),B.useEffect(()=>{i.projectCode&&i.projectCode.trim()?_(i.projectCode.trim()):u(null)},[i.projectCode]),B.useEffect(()=>{if(i.projectId&&t.length>0&&a.length>0){const D=t.find(k=>k.id===i.projectId);if(D&&D.companyId){const k=a.find(H=>H.id===D.companyId);k&&i.companyId!==D.companyId&&l(H=>({...H,companyId:D.companyId,clientName:k.name||""}))}}},[i.projectId,t,a]);const E=async()=>{try{const D=await lr.getNextInvoiceNumber();l(k=>({...k,invoiceNumber:D}))}catch(D){Rt.error("Error loading next invoice number:",D)}},_=async D=>{g(!0);try{const k=await lr.getInvoiceProjectContext(D);u(k),h(k.projectTotalValue||0)}catch(k){Rt.error("Error loading project context:",k),u(null),h(0)}finally{g(!1)}};if(B.useEffect(()=>{if(p==="percentage"&&A>0){const D=parseFloat(i.percentageOfTotal);if(!isNaN(D)){const k=Math.round(A*D*100)/1e4;l(H=>({...H,amount:k.toFixed(2)}))}}},[i.percentageOfTotal,p,A]),B.useEffect(()=>{if(p==="amount"&&A>0){const D=parseFloat(i.amount);if(!isNaN(D)){const k=Math.round(D/A*100*100)/100;l(H=>({...H,percentageOfTotal:k.toFixed(2)}))}}},[i.amount,p,A]),!r)return null;const P=async D=>{D.preventDefault(),b(!0);try{const k={invoice_number:i.invoiceNumber,project_id:i.projectId,project_name:i.projectName,project_code:i.projectCode,company_id:i.companyId,client_name:i.clientName,amount:parseFloat(i.amount),percentage_of_total:parseFloat(i.percentageOfTotal),issue_date:i.issueDate,due_date:i.dueDate,description:i.description,remark:i.remark};await lr.createInvoice(k),xe.success(`Invoice ${i.invoiceNumber} created successfully!`),l({invoiceNumber:"",projectId:"",projectName:"",projectCode:"",companyId:"",clientName:"",amount:"",percentageOfTotal:"",issueDate:new Date().toISOString().split("T")[0],dueDate:"",description:"",remark:""}),u(null),e()}catch(k){Rt.error("Error creating invoice:",k),xe.error(k.message||"Failed to create invoice")}finally{b(!1)}},O=D=>{l(k=>({...k,[D.target.name]:D.target.value})),D.target.name==="amount"?m("amount"):D.target.name==="percentageOfTotal"&&m("percentage")};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Invoice"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Fr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:P,className:"p-6 space-y-5",children:[c&&o.jsx("div",{className:`border rounded-lg p-4 space-y-2 ${C?"bg-purple-50 border-purple-200":"bg-blue-50 border-blue-200"}`,children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(y_,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${C?"text-purple-600":"text-blue-600"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("p",{className:`text-sm font-medium ${C?"text-purple-900":"text-blue-900"}`,children:C?"Lump Sum Project":"Project Invoice History"}),C&&o.jsx("span",{className:"text-xs px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full",children:"Fixed Amount"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:C?"text-purple-700":"text-blue-700",children:"Previous Invoices:"}),o.jsx("span",{className:`font-semibold ml-1 ${C?"text-purple-900":"text-blue-900"}`,children:c.previousInvoices?.length||0})]}),o.jsxs("div",{children:[o.jsx("span",{className:C?"text-purple-700":"text-blue-700",children:"Total Invoiced:"}),o.jsxs("span",{className:`font-semibold ml-1 ${C?"text-purple-900":"text-blue-900"}`,children:[c.totalInvoiced??0,"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:C?"text-purple-700":"text-blue-700",children:"Remaining:"}),o.jsxs("span",{className:`font-semibold ml-1 ${C?"text-purple-900":"text-blue-900"}`,children:[c.remainingPercentage??100,"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:C?"text-purple-700":"text-blue-700",children:"This Invoice #:"}),o.jsx("span",{className:`font-semibold ml-1 ${C?"text-purple-900":"text-blue-900"}`,children:c.nextSequence||1})]})]}),c.totalInvoiced>=100&&o.jsxs("div",{className:"mt-2 flex items-center gap-1 text-green-700",children:[o.jsx(p_,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:"Project already at 100%"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Invoice Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"invoiceNumber",value:i.invoiceNumber,onChange:O,required:!0,placeholder:"e.g., MCE1548",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated but can be edited manually"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Code ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"projectId",value:i.projectId,onChange:D=>{const k=t.find(H=>H.id===D.target.value);D.target.value===""?l({...i,projectId:"",projectCode:"",projectName:"",companyId:"",clientName:"",percentageOfTotal:""}):l({...i,projectId:D.target.value,projectCode:k?.projectCode||"",projectName:k?.title||"",companyId:k?.companyId||"",clientName:""})},required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a project"}),t.filter(D=>D.status==="ongoing").map(D=>o.jsxs("option",{value:D.id,children:[D.projectCode," - ",D.title]},D.id))]}),y&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading project context..."})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"projectName",value:i.projectName,onChange:O,required:!0,placeholder:"Project title",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-gray-50",readOnly:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Client Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"clientName",value:i.clientName,readOnly:!0,disabled:!0,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 cursor-not-allowed",placeholder:"Auto-filled from project"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Client is automatically selected based on the project"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount (RM) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"amount",value:i.amount,onChange:O,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),A>0&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Project Total: RM ",A.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),p==="percentage"&&o.jsx("span",{className:"text-blue-600 ml-1",children:"Auto-calculated from percentage"})]})]}),!C&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Percentage of Total (%) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"percentageOfTotal",value:i.percentageOfTotal,onChange:O,required:!C,min:"0",max:"100",step:"0.01",placeholder:"e.g., 30, 50, 100",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),c&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Suggested: ",c.remainingPercentage,"% remaining",p==="amount"&&o.jsx("span",{className:"text-blue-600 ml-1",children:"Auto-calculated from amount"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Issue Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"issueDate",value:i.issueDate,onChange:O,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Due Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"dueDate",value:i.dueDate,onChange:O,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description / Items"}),o.jsx("textarea",{name:"description",value:i.description,onChange:O,rows:2,placeholder:"Invoice line items and description...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks / Notes"}),o.jsx("textarea",{name:"remark",value:i.remark,onChange:O,rows:2,placeholder:"Additional notes or remarks...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Po,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Attach Invoice Document"}),o.jsx("p",{className:"text-xs text-blue-700",children:"After creating the invoice, you can upload the PDF document in the invoice details view."})]})]})}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:v,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Creating...":"Create Invoice"})]})]})]})})},R4e=({isOpen:r,onClose:e,invoice:t,onSave:n})=>{const{projects:a,fetchProjects:s}=os(),{clients:i,fetchClients:l}=ff(),c=_o(),[u,A]=B.useState({invoiceNumber:"",projectId:"",projectName:"",projectCode:"",companyId:"",clientName:"",amount:"",percentageOfTotal:"",issueDate:"",dueDate:"",description:"",remark:"",status:"sent"}),[h,p]=B.useState(null),[m,y]=B.useState(0),[g,v]=B.useState(null),[b,N]=B.useState(!1),[C,E]=B.useState({}),_=c&&ol(c.roles,"canEditInvoices");B.useEffect(()=>{r&&(l(),s())},[r,l,s]),B.useEffect(()=>{t&&A({invoiceNumber:t.invoiceNumber,projectId:t.companyId||"",projectName:t.projectName||"",projectCode:t.projectCode||"",companyId:t.companyId||"",clientName:t.clientName||"",amount:t.amount?.toString()||"",percentageOfTotal:t.percentage_of_total?.toString()||"",issueDate:t.invoice_date?new Date(t.invoice_date).toISOString().split("T")[0]:"",dueDate:t.due_date?new Date(t.due_date).toISOString().split("T")[0]:"",description:t.description||"",remark:t.remark||"",status:t.status||"sent"})},[t]),B.useEffect(()=>{u.projectCode&&u.projectCode.trim()?(async H=>{try{const L=await lr.getInvoiceProjectContext(H);p(L),y(L.projectTotalValue||0)}catch(L){Rt.error("Error loading project context:",L),p(null),y(0)}})(u.projectCode.trim()):(p(null),y(0))},[u.projectCode]),B.useEffect(()=>{if(u.projectId&&a.length>0&&i.length>0){const k=a.find(H=>H.id===u.projectId);if(k&&k.companyId){const H=i.find(L=>L.id===k.companyId);H&&u.companyId!==k.companyId&&A(L=>({...u,companyId:k.companyId,clientName:H.name||""}))}}},[u.projectId,a,i]),B.useEffect(()=>{if(g==="percentage"&&m>0){const k=parseFloat(u.percentageOfTotal);if(!isNaN(k)){const H=Math.round(m*k*100)/1e4;A(L=>({...L,amount:H.toFixed(2)}))}}},[u.percentageOfTotal,g,m]),B.useEffect(()=>{if(g==="amount"&&m>0){const k=parseFloat(u.amount);if(!isNaN(k)){const H=Math.round(k/m*100*100)/100;A(L=>({...L,percentageOfTotal:H.toFixed(2)}))}}},[u.amount,g,m]);const P=()=>{const k={};return u.invoiceNumber.trim()||(k.invoiceNumber="Invoice number is required"),u.projectCode.trim()||(k.projectCode="Project is required"),(!u.amount||parseFloat(u.amount)<=0)&&(k.amount="Valid amount is required"),(!u.percentageOfTotal||parseFloat(u.percentageOfTotal)<=0)&&(k.percentageOfTotal="Valid percentage is required"),u.issueDate||(k.issueDate="Issue date is required"),E(k),Object.keys(k).length===0},O=async k=>{if(k.preventDefault(),!_){xe.error("You do not have permission to edit invoices");return}if(P()&&!(t.status==="paid"&&!window.confirm("This invoice is marked as PAID. Are you sure you want to edit it?"))&&!(u.status==="paid"&&t.status!=="paid"&&!window.confirm("Are you sure you want to mark this invoice as PAID? This action cannot be easily undone."))){N(!0);try{const H={invoiceNumber:u.invoiceNumber,project_name:u.projectName,project_code:u.projectCode,company_id:u.companyId,client_name:u.clientName,amount:parseFloat(u.amount),percentage_of_total:parseFloat(u.percentageOfTotal),issue_date:u.issueDate,due_date:u.dueDate,description:u.description,remark:u.remark,status:u.status};await lr.updateInvoice(t.id,H),xe.success(`Invoice ${u.invoiceNumber} updated successfully!`),n(H),e()}catch(H){Rt.error("Error updating invoice:",H),xe.error(H.message||"Failed to update invoice")}finally{N(!1)}}},D=k=>{A(H=>({...H,projectId:"",projectCode:"",projectName:"",companyId:"",clientName:"",amount:"",percentageOfTotal:"",issueDate:"",dueDate:"",description:"",remark:"",status:"sent"})),k.target.name==="amount"?v("amount"):k.target.name==="percentageOfTotal"&&v("percentage")};return r?_?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Oo,{className:"w-5 h-5 text-primary-600"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Invoice"})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Fr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:O,className:"p-6 space-y-5",children:[t.status==="paid"&&o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Jh,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Paid Invoice Warning"}),o.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"This invoice is marked as paid. Editing paid invoices should be done with caution."})]})]})}),h&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-2",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Project Invoice History"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Previous Invoices:"}),o.jsx("span",{className:"font-semibold text-blue-900 ml-1",children:h.previousInvoices?.length||0})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Total Invoiced:"}),o.jsxs("span",{className:"font-semibold text-blue-900 ml-1",children:[h.totalInvoiced??0,"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Remaining:"}),o.jsxs("span",{className:"font-semibold text-blue-900 ml-1",children:[h.remainingPercentage??100,"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"This Invoice #:"}),o.jsx("span",{className:"font-semibold text-blue-900 ml-1",children:h.nextSequence||1})]})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Invoice Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"invoiceNumber",value:u.invoiceNumber,onChange:D,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),C.invoiceNumber&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.invoiceNumber}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Can be edited manually"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"status",value:u.status,onChange:D,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"sent",children:"Sent"}),o.jsx("option",{value:"paid",children:"Paid"}),o.jsx("option",{value:"overdue",children:"Overdue"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Code ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"projectId",value:u.projectId,onChange:k=>{a.find(H=>H.id===k.target.value),k.target.value===""&&A({...u,projectId:"",projectCode:"",projectName:"",companyId:"",clientName:""})},required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a project"}),a.map(k=>o.jsxs("option",{value:k.id,children:[k.projectCode," - ",k.title]},k.id))]}),C.projectCode&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.projectCode})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Client Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"clientName",value:u.clientName,readOnly:!0,disabled:!0,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 cursor-not-allowed",placeholder:"Auto-filled from project"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Client is automatically selected based on the project"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount (RM) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"amount",value:u.amount,onChange:D,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),C.amount&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.amount}),m>0&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Project Total: RM ",m.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),g==="percentage"&&o.jsx("span",{className:"text-blue-600 ml-1",children:"Auto-calculated from percentage"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Percentage of Total (%) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"percentageOfTotal",value:u.percentageOfTotal,onChange:D,required:!0,min:"0",max:"100",step:"0.01",placeholder:"e.g., 30, 50, 100",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),C.percentageOfTotal&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.percentageOfTotal}),h&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Suggested: ",h.remainingPercentage,"% remaining",g==="amount"&&o.jsx("span",{className:"text-blue-600 ml-1",children:"Auto-calculated from amount"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Issue Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"issueDate",value:u.issueDate,onChange:D,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),C.issueDate&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.issueDate})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),o.jsx("input",{type:"date",name:"dueDate",value:u.dueDate,onChange:D,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description / Items"}),o.jsx("textarea",{name:"description",value:u.description,onChange:D,rows:2,placeholder:"Invoice line items and description...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks / Notes"}),o.jsx("textarea",{name:"remark",value:u.remark,onChange:D,rows:2,placeholder:"Additional notes or remarks...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:b,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[o.jsx(c7,{className:"w-4 h-4"}),b?"Updating...":"Update Invoice"]})]})]})]})}):o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 text-red-600 mb-4",children:[o.jsx(Jh,{className:"w-6 h-6"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Access Denied"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to edit invoices. Please contact your manager if you need access."}),o.jsx("button",{onClick:e,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})]})}):null},U4e=({isOpen:r,onClose:e,onSuccess:t})=>{const{projects:n,fetchProjects:a}=os(),{companies:s,fetchCompanies:i}=Fu(),[l,c]=B.useState(!1),[u,A]=B.useState(null),[h,p]=B.useState({poNumber:"",vendorId:"",vendorName:"",projectId:"",projectCode:"",amount:"",issueDate:new Date().toISOString().split("T")[0],deliveryDate:"",description:""});if(B.useEffect(()=>{r&&(i(),a())},[r,i,a]),!r)return null;const m=async g=>{g.preventDefault(),c(!0),A(null);try{const v={poNumber:h.poNumber,recipient:h.vendorName,companyId:h.vendorId,items:h.description,amount:parseFloat(h.amount),currency:"MYR",projectCode:h.projectCode||null,issueDate:new Date(h.issueDate).toISOString(),dueDate:h.deliveryDate?new Date(h.deliveryDate).toISOString():void 0,status:"issued"};await wr.createIssuedPO(v),xe.success(`Issued PO ${h.poNumber} created successfully!`),p({poNumber:"",vendorId:"",vendorName:"",projectId:"",projectCode:"",amount:"",issueDate:new Date().toISOString().split("T")[0],deliveryDate:"",description:""}),t&&t(),e()}catch(v){A(v.response?.data?.error||v.message||"Failed to create Issued PO"),xe.error("Failed to create Issued PO")}finally{c(!1)}},y=g=>{p({...h,[g.target.name]:g.target.value})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Issue PO to Vendor"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Fr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:m,className:"p-6 space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["PO Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"poNumber",value:h.poNumber,onChange:y,required:!0,placeholder:"e.g., PO-OUT-2025-001",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Vendor Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"companyId",value:h.vendorId,onChange:g=>{const v=s.find(b=>b.id===g.target.value);p({...h,vendorId:g.target.value,vendorName:v?.name||""})},required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a vendor"}),s.map(g=>o.jsx("option",{value:g.id,children:g.name},g.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Code (Optional)"}),o.jsxs("select",{name:"projectId",value:h.projectId,onChange:g=>{const v=n.find(b=>b.id===g.target.value);p({...h,projectId:g.target.value,projectCode:v?.projectCode||""})},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"None (Non-project purchase)"}),n.filter(g=>g.status==="pre-lim"||g.status==="ongoing").map(g=>o.jsxs("option",{value:g.id,children:[g.projectCode," - ",g.title]},g.id))]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank for non-project purchases (e.g., stationery, appliances)"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount (RM) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"amount",value:h.amount,onChange:y,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Issue Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"issueDate",value:h.issueDate,onChange:y,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date"}),o.jsx("input",{type:"date",name:"deliveryDate",value:h.deliveryDate,onChange:y,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Items / Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{name:"description",value:h.description,onChange:y,required:!0,rows:3,placeholder:"List of items/services being purchased...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none"})]}),u&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-red-800",children:u})}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Po,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Attach PO Document"}),o.jsx("p",{className:"text-xs text-blue-700",children:"After creating the PO, you can upload documents in the PO details view."})]})]})}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,disabled:l,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-2.5 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Creating...":"Issue PO"})]})]})]})})},Q4e=({isOpen:r,onClose:e,onSuccess:t,editingInvoice:n})=>{const[a,s]=B.useState([]),[i,l]=B.useState(!1),[c,u]=B.useState(!1),[A,h]=B.useState({invoiceNumber:"",issuedPoId:"",amount:"",currency:"MYR",invoiceDate:new Date().toISOString().split("T")[0],receivedDate:new Date().toISOString().split("T")[0],dueDate:"",description:""}),p=!!n;B.useEffect(()=>{r&&m()},[r]),B.useEffect(()=>{r&&n?h({invoiceNumber:n.invoiceNumber||"",issuedPoId:n.issuedPoId||"",amount:n.amount?.toString()||"",currency:n.currency||"MYR",invoiceDate:n.invoiceDate?new Date(n.invoiceDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],receivedDate:n.receivedDate?new Date(n.receivedDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],dueDate:n.dueDate?new Date(n.dueDate).toISOString().split("T")[0]:"",description:n.description||""}):r&&!n&&h({invoiceNumber:"",issuedPoId:"",amount:"",currency:"MYR",invoiceDate:new Date().toISOString().split("T")[0],receivedDate:new Date().toISOString().split("T")[0],dueDate:"",description:""})},[r,n]);const m=async()=>{l(!0);try{const N=(await lr.getAllIssuedPOs()).filter(C=>C.status!=="completed");s(N)}catch(b){Rt.error("Error loading Issued POs:",b),xe.error("Failed to load Issued POs")}finally{l(!1)}},y=b=>{const{name:N,value:C}=b.target;h(E=>({...E,[N]:C}))},g=async b=>{if(b.preventDefault(),!A.invoiceNumber.trim()){xe.error("Invoice number is required");return}if(!A.issuedPoId){xe.error("Please select an Issued PO");return}if(!A.amount||parseFloat(A.amount)<=0){xe.error("Please enter a valid amount");return}u(!0);try{const N={invoiceNumber:A.invoiceNumber.trim(),issuedPoId:A.issuedPoId,amount:parseFloat(A.amount),currency:A.currency,invoiceDate:A.invoiceDate,receivedDate:A.receivedDate,dueDate:A.dueDate||null,description:A.description||null};p?(await lr.updateReceivedInvoice(n.id,N),xe.success("Received invoice updated successfully")):(await lr.createReceivedInvoice(N),xe.success("Received invoice created successfully")),t(),e()}catch(N){Rt.error("Error saving received invoice:",N),xe.error(N.response?.data?.error||"Failed to save received invoice")}finally{u(!1)}},v=a.find(b=>b.id===A.issuedPoId);return r?o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[o.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:e}),o.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl w-full max-w-lg",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:o.jsx($a,{className:"w-5 h-5 text-primary-600"})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:p?"Edit Received Invoice":"Add Received Invoice"})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Fr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Linked Issued PO ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"issuedPoId",value:A.issuedPoId,onChange:y,disabled:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"Select an Issued PO..."}),i?o.jsx("option",{disabled:!0,children:"Loading..."}):a.map(b=>o.jsxs("option",{value:b.id,children:[b.poNumber," - ",b.recipient," (",b.currency," ",b.amount?.toLocaleString(),")"]},b.id))]}),p&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Linked PO cannot be changed after creation"})]}),v&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-sm",children:[o.jsx("p",{className:"font-medium text-gray-900",children:v.recipient}),o.jsx("p",{className:"text-gray-600",children:v.items}),v.projectCode&&o.jsxs("p",{className:"text-primary-600 text-xs mt-1",children:["Project: ",v.projectCode]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Invoice Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"invoiceNumber",value:A.invoiceNumber,onChange:y,placeholder:"Enter vendor's invoice number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Amount ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"amount",value:A.amount,onChange:y,placeholder:"0.00",step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),o.jsxs("select",{name:"currency",value:A.currency,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"MYR",children:"MYR"}),o.jsx("option",{value:"USD",children:"USD"}),o.jsx("option",{value:"SGD",children:"SGD"}),o.jsx("option",{value:"EUR",children:"EUR"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Invoice Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"invoiceDate",value:A.invoiceDate,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Received Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"receivedDate",value:A.receivedDate,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),o.jsx("input",{type:"date",name:"dueDate",value:A.dueDate,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{name:"description",value:A.description,onChange:y,rows:3,placeholder:"Optional notes about this invoice",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50",children:c?"Saving...":p?"Update Invoice":"Create Invoice"})]})]})]})]})}):null},H4e=({isOpen:r,po:e,onClose:t,onSave:n})=>{const[a,s]=B.useState({poNumber:"",projectCode:"",companyName:"",amount:"",currency:"MYR",receivedDate:"",dueDate:"",description:"",status:"received",fileUrl:""}),[i,l]=B.useState(1),[c,u]=B.useState(""),[A,h]=B.useState(null),[p,m]=B.useState(!1);B.useEffect(()=>{r&&e&&(s({poNumber:e.poNumber||e.po_number||"",projectCode:e.projectCode||e.project_code||e.project?.projectCode||e.project?.project_code||"",companyName:e.clientName||e.company_name||e.company?.name||e.project?.company?.name||"",amount:e.amount?.toString()||"",currency:e.currency||"MYR",receivedDate:e.receivedDate||e.received_date||"",dueDate:e.dueDate||e.due_date||"",description:e.description||"",status:e.status||"received",fileUrl:e.fileUrl||e.file_url||""}),l(e.exchangeRate||e.exchange_rate||1),u(e.receivedDate||e.received_date||""))},[r,e]);const y=parseFloat(a.amount||"0")*i,g=async v=>{v.preventDefault(),m(!0);try{let b=a.fileUrl;A&&(b=(await as.uploadProjectPO(e.id,A)).fileUrl);const N={po_number:a.poNumber,amount:parseFloat(a.amount),currency:a.currency,exchange_rate:i,amount_myr:y,received_date:a.receivedDate,due_date:a.dueDate,description:a.description,status:a.status,file_url:b};await n(N),xe.success(`Purchase Order ${N.po_number} updated successfully!`),t()}catch(b){Rt.error("Error updating PO:",b),xe.error("Failed to update purchase order")}finally{m(!1)}};return r?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Purchase Order"}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Fr,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PO Number"}),o.jsx("input",{type:"text",value:a.poNumber,onChange:v=>s(b=>({...b,poNumber:v.target.value})),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Code"}),o.jsx("input",{type:"text",value:a.projectCode,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-600",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),o.jsx("input",{type:"text",value:a.companyName,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-600",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"number",value:a.amount,onChange:v=>s(b=>({...b,amount:v.target.value})),className:"flex-1 px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),o.jsx(hq,{value:a.currency,onChange:v=>s(b=>({...b,currency:v}))})]})]}),a.currency!=="MYR"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Exchange Rate (to MYR)"}),o.jsx("input",{type:"number",step:"0.000001",value:i,onChange:v=>l(parseFloat(v.target.value)||0),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rate Date"}),o.jsx("input",{type:"date",value:c,onChange:v=>u(v.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Converted Amount (MYR)"}),o.jsx("input",{type:"text",value:`RM ${y.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})}`,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-600",readOnly:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Received Date"}),o.jsx("input",{type:"date",value:a.receivedDate,onChange:v=>{s(b=>({...b,receivedDate:v.target.value})),c||u(v.target.value)},className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),o.jsx("input",{type:"date",value:a.dueDate,onChange:v=>s(b=>({...b,dueDate:v.target.value})),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{value:a.status,onChange:v=>s(b=>({...b,status:v.target.value})),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"received",children:"Received"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"invoiced",children:"Invoiced"}),o.jsx("option",{value:"paid",children:"Paid"})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{value:a.description,onChange:v=>s(b=>({...b,description:v.target.value})),rows:3,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Replace File (Optional)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",id:"file-upload",onChange:v=>h(v.target.files?.[0]||null),className:"hidden"}),o.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 text-sm font-medium text-blue-600 border border-blue-600 rounded-lg cursor-pointer hover:bg-blue-50",children:A?A.name:"Choose File"}),a.fileUrl&&!A&&o.jsx("span",{className:"text-sm text-gray-600",children:"Current file exists"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:p?"Saving...":"Update PO"})]})]})]})}):null},z4e=({isOpen:r,issuedPO:e,onClose:t,onSave:n})=>{const[a,s]=B.useState(!1),[i,l]=B.useState(null),[c,u]=B.useState({poNumber:"",recipient:"",amount:"",issueDate:"",dueDate:"",items:""});if(B.useEffect(()=>{r&&e&&u({poNumber:e.poNumber||e.po_number||"",recipient:e.recipient||"",amount:e.amount?.toString()||"",issueDate:e.issueDate||e.issue_date||"",dueDate:e.dueDate||e.due_date||"",items:e.items||""})},[r,e]),!r||!e)return null;const A=async p=>{p.preventDefault(),s(!0),l(null);try{const m={poNumber:c.poNumber,recipient:c.recipient,amount:parseFloat(c.amount),issueDate:c.issueDate?new Date(c.issueDate).toISOString():void 0,dueDate:c.dueDate?new Date(c.dueDate).toISOString():void 0,items:c.items};await wr.updateIssuedPO(e.id,m),xe.success(`Issued PO ${c.poNumber} updated successfully!`),n(),t()}catch(m){l(m.response?.data?.error||m.message||"Failed to update Issued PO"),xe.error("Failed to update Issued PO")}finally{s(!1)}},h=p=>{u({...c,[p.target.name]:p.target.value})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-gray-800 dark:to-gray-700",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Issued PO"}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Fr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:A,className:"p-6 space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["PO Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"poNumber",value:c.poNumber,onChange:h,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Vendor/Recipient ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"recipient",value:c.recipient,onChange:h,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount (RM) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"amount",value:c.amount,onChange:h,required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Issue Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"issueDate",value:c.issueDate,onChange:h,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date"}),o.jsx("input",{type:"date",name:"dueDate",value:c.dueDate,onChange:h,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Items / Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{name:"items",value:c.items,onChange:h,required:!0,rows:4,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none"})]}),i&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-red-800",children:i})}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:t,disabled:a,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2.5 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Saving...":"Update PO"})]})]})]})})},K4e=({isOpen:r,po:e,onClose:t})=>!r||!e?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Purchase Order Details"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.po_number||e.poNumber})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Fr,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[e.projectCode&&o.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Project"}),o.jsxs("p",{className:"text-lg font-semibold text-primary-600",children:[e.projectCode," - ",e.project?.title||"No project"]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Client"}),o.jsx("p",{className:"text-base text-gray-900 mt-1",children:e.clientName||e.vendor})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Amount"}),o.jsxs("p",{className:"text-base font-semibold text-gray-900 mt-1",children:[e.currency," ",e.amount?.toLocaleString()||"0.00"]}),e.currency!=="MYR"&&o.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[" RM ",e.amount_myr?.toLocaleString()||"0.00","(Rate: ",e.exchange_rate?.toFixed(6)||"N/A",")"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:e.received_date?"Received Date":"Issue Date"}),o.jsx("p",{className:"text-base text-gray-900 mt-1",children:e.received_date?new Date(e.received_date).toLocaleDateString():e.issueDate?new Date(e.issueDate).toLocaleDateString():"N/A"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Due Date"}),o.jsx("p",{className:"text-base text-gray-900 mt-1",children:e.due_date||e.dueDate?new Date(e.due_date||e.dueDate).toLocaleDateString():"N/A"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),o.jsx("p",{className:"text-base text-gray-900 mt-1 capitalize",children:e.status})]}),e.description&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),o.jsx("p",{className:"text-base text-gray-900 mt-1",children:e.description})]}),e.category&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Category"}),o.jsx("p",{className:"text-base text-gray-900 mt-1 capitalize",children:e.category})]}),e.file_url&&o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Attached Document"}),o.jsxs("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:[o.jsx($a,{className:"w-4 h-4"}),"View Document"]})]})]}),o.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Close"})})]})}),lR={received:{label:"Received",color:"bg-blue-100 text-blue-800",icon:$a},"in-progress":{label:"In Progress",color:"bg-yellow-100 text-yellow-800",icon:ho},invoiced:{label:"Invoiced",color:"bg-purple-100 text-purple-800",icon:$a},paid:{label:"Paid",color:"bg-green-100 text-green-800",icon:za},cancelled:{label:"Cancelled",color:"bg-red-100 text-red-800",icon:yp},draft:{label:"Draft",color:"bg-gray-100 text-gray-800",icon:$a},sent:{label:"Sent",color:"bg-blue-100 text-blue-800",icon:za},viewed:{label:"Viewed",color:"bg-primary-100 text-indigo-800",icon:za},overdue:{label:"Overdue",color:"bg-red-100 text-red-800",icon:yp},pending:{label:"Pending",color:"bg-yellow-100 text-yellow-800",icon:ho},approved:{label:"Approved",color:"bg-green-100 text-green-800",icon:za},rejected:{label:"Rejected",color:"bg-red-100 text-red-800",icon:yp},verified:{label:"Verified",color:"bg-blue-100 text-blue-800",icon:za},disputed:{label:"Disputed",color:"bg-orange-100 text-orange-800",icon:yp}};function m5(r){return lR[r]||lR.pending}function il(r){if(!r)return"N/A";try{return new Date(r).toLocaleDateString()}catch{return"Invalid Date"}}const $4e={default:{icon:o.jsx(mee,{className:"w-8 h-8"}),iconBg:"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500"},search:{icon:o.jsx(Do,{className:"w-8 h-8"}),iconBg:"bg-blue-100 dark:bg-blue-900/30 text-blue-500 dark:text-blue-400"},error:{icon:o.jsx(ls,{className:"w-8 h-8"}),iconBg:"bg-red-100 dark:bg-red-900/30 text-red-500 dark:text-red-400"},"no-permission":{icon:o.jsx(qZ,{className:"w-8 h-8"}),iconBg:"bg-amber-100 dark:bg-amber-900/30 text-amber-500 dark:text-amber-400"}},V4e={sm:{container:"min-h-48 py-6",iconSize:"w-12 h-12",title:"text-base",description:"text-sm"},md:{container:"min-h-72 py-10",iconSize:"w-16 h-16",title:"text-lg",description:"text-base"},lg:{container:"min-h-96 py-12",iconSize:"w-20 h-20",title:"text-xl",description:"text-base"}},q4e=({icon:r,title:e,description:t,actionLabel:n,onAction:a,actionVariant:s="primary",actionIcon:i,secondaryActionLabel:l,onSecondaryAction:c,illustration:u,className:A,variant:h="default",size:p="md"})=>{const m=$4e[h],y=V4e[p];return o.jsxs("div",{className:Cr("flex flex-col items-center justify-center px-4 text-center",y.container,A),role:"status","aria-label":e,children:[u?o.jsx("img",{src:u,alt:"",className:Cr("mb-6 opacity-80",p==="sm"?"w-32 h-32":p==="md"?"w-40 h-40":"w-48 h-48"),"aria-hidden":"true"}):o.jsx("div",{className:Cr("rounded-full flex items-center justify-center mb-4",y.iconSize,r?"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500":m.iconBg),"aria-hidden":"true",children:r||m.icon}),o.jsx("h3",{className:Cr("font-semibold text-gray-900 dark:text-white mb-2",y.title),children:e}),t&&o.jsx("p",{className:Cr("text-gray-600 dark:text-gray-400 max-w-md mb-6",y.description),children:t}),(n||l)&&o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n&&a&&o.jsx(Ut,{variant:s,size:p==="sm"?"sm":"md",onClick:a,icon:i||(h==="default"?o.jsx(ei,{className:"w-4 h-4"}):void 0),children:n}),l&&c&&o.jsx(Ut,{variant:"outline",size:p==="sm"?"sm":"md",onClick:c,children:l})]})]})},G4e=({columns:r,rows:e=5})=>o.jsx(o.Fragment,{children:Array.from({length:e}).map((t,n)=>o.jsx("tr",{className:"animate-pulse",children:Array.from({length:r}).map((a,s)=>o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"})},s))},n))}),W4e=({count:r=3})=>o.jsx("div",{className:"space-y-4",children:Array.from({length:r}).map((e,t)=>o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 animate-pulse",children:[o.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-3"}),o.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-2"}),o.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/3"})]},t))});function p5({data:r,columns:e,getRowKey:t,loading:n=!1,pagination:a=!0,pageSizeOptions:s=[10,25,50,100],defaultPageSize:i=10,searchable:l=!1,searchPlaceholder:c="Search...",searchFilter:u,sortable:A=!0,defaultSortKey:h,defaultSortDirection:p="asc",onRowClick:m,rowActions:y,emptyState:g,emptyTitle:v="No data found",emptyDescription:b="There are no items to display.",mobileCard:N,responsiveCards:C=!0,className:E,stickyHeader:_=!1,selectable:P=!1,selectedRows:O,onSelectionChange:D,bulkActions:k}){const[H,L]=B.useState(""),[Q,R]=B.useState(h),[K,ee]=B.useState(p),[X,ae]=B.useState(1),[Y,de]=B.useState(i),[pe,Z]=B.useState([]),I=O??pe,z=D??Z,V=B.useMemo(()=>H.trim()?r.filter(ze=>u?u(ze,H):e.some(mt=>{const Et=typeof mt.accessor=="function"?mt.accessor(ze):ze[mt.accessor];return Et==null?!1:String(Et).toLowerCase().includes(H.toLowerCase())})):r,[r,H,u,e]),q=B.useMemo(()=>{if(!Q||!A)return V;const ze=e.find(mt=>mt.key===Q);return!ze||ze.sortable===!1?V:[...V].sort((mt,Et)=>{const Me=typeof ze.accessor=="function"?ze.accessor(mt):mt[ze.accessor],vt=typeof ze.accessor=="function"?ze.accessor(Et):Et[ze.accessor];if(Me==null&&vt==null)return 0;if(Me==null)return K==="asc"?1:-1;if(vt==null)return K==="asc"?-1:1;let De=0;return typeof Me=="number"&&typeof vt=="number"?De=Me-vt:Me instanceof Date&&vt instanceof Date?De=Me.getTime()-vt.getTime():De=String(Me).localeCompare(String(vt)),K==="asc"?De:-De})},[V,Q,K,A,e]),ne=B.useMemo(()=>{if(!a)return q;const ze=(X-1)*Y;return q.slice(ze,ze+Y)},[q,X,Y,a]),ce=Math.ceil(q.length/Y),Be=(X-1)*Y+1,Ae=Math.min(X*Y,q.length),ye=B.useCallback(ze=>{if(!A)return;const mt=e.find(Et=>Et.key===ze);!mt||mt.sortable===!1||(Q===ze?ee(Et=>Et==="asc"?"desc":"asc"):(R(ze),ee("asc")),ae(1))},[A,Q,e]),Pe=B.useCallback(ze=>{ae(ze)},[]),je=B.useCallback(ze=>{de(ze),ae(1)},[]),Se=B.useCallback(ze=>{L(ze),ae(1)},[]),Te=B.useCallback(ze=>{const mt=I.includes(ze)?I.filter(Et=>Et!==ze):[...I,ze];z(mt)},[I,z]),J=B.useCallback(()=>{I.length===ne.length?z([]):z(ne.map(ze=>t(ze)))},[I,ne,z,t]),Le=e.filter(ze=>!ze.hideOnMobile),He=(ze,mt)=>{const Et=typeof mt.accessor=="function"?mt.accessor(ze):ze[mt.accessor];return mt.cell?mt.cell(Et,ze,ne.indexOf(ze)):Et},Je=ze=>!A||ze.sortable===!1?null:Q===ze.key?K==="asc"?o.jsx(_0,{className:"w-4 h-4"}):o.jsx(Kl,{className:"w-4 h-4"}):o.jsx(Vp,{className:"w-4 h-4 text-gray-400"}),at=(ze,mt)=>N?N({row:ze,index:mt,columns:e,onRowClick:m,actions:y?.(ze)}):o.jsxs("div",{className:Cr("bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700 p-4",m&&"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>m?.(ze),children:[Le.map(Et=>o.jsxs("div",{className:"flex justify-between items-start py-2 border-b border-gray-100 dark:border-gray-700 last:border-0",children:[o.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:Et.header}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-white text-right",children:He(ze,Et)})]},Et.key)),y&&o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:y(ze)})]},t(ze));return!n&&r.length===0?o.jsx("div",{className:E,children:g||o.jsx(q4e,{title:v,description:b})}):o.jsxs("div",{className:Cr("space-y-4",E),children:[(l||P&&I.length>0)&&o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[l&&o.jsxs("div",{className:"relative w-full sm:w-80",children:[o.jsx(Do,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",value:H,onChange:ze=>Se(ze.target.value),placeholder:c,className:"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),H&&o.jsx("button",{onClick:()=>Se(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.jsx(Fr,{className:"w-4 h-4"})})]}),P&&I.length>0&&k&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[I.length," selected"]}),k(I)]})]}),o.jsx("div",{className:Cr("hidden md:block overflow-x-auto bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"),children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:Cr("bg-gray-50 dark:bg-gray-900",_&&"sticky top-0 z-10"),children:o.jsxs("tr",{children:[P&&o.jsx("th",{className:"w-12 px-6 py-3",children:o.jsx("input",{type:"checkbox",checked:I.length===ne.length&&ne.length>0,onChange:J,className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),e.map(ze=>o.jsx("th",{className:Cr("px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",ze.align==="center"&&"text-center",ze.align==="right"&&"text-right",ze.align!=="center"&&ze.align!=="right"&&"text-left",ze.width,A&&ze.sortable!==!1&&"cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-800",ze.headerClassName),onClick:()=>ze.sortable!==!1&&ye(ze.key),children:o.jsxs("div",{className:Cr("flex items-center gap-1",ze.align==="right"&&"justify-end",ze.align==="center"&&"justify-center"),children:[ze.header,Je(ze)]})},ze.key)),y&&o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n?o.jsx(G4e,{columns:e.length+(P?1:0)+(y?1:0)}):ne.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:e.length+(P?1:0)+(y?1:0),className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:H?`No results found for "${H}"`:"No data available"})}):ne.map(ze=>{const mt=t(ze),Et=I.includes(mt);return o.jsxs("tr",{tabIndex:m?0:void 0,role:m?"button":void 0,"aria-selected":P?Et:void 0,className:Cr("hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",m&&"cursor-pointer focus:outline-none focus:bg-primary-50 dark:focus:bg-primary-900/30 focus:ring-2 focus:ring-inset focus:ring-primary-500",Et&&"bg-primary-50 dark:bg-primary-900/20"),onClick:()=>m?.(ze),onKeyDown:Me=>{m&&(Me.key==="Enter"||Me.key===" ")&&(Me.preventDefault(),m(ze))},children:[P&&o.jsx("td",{className:"w-12 px-6 py-4",onClick:Me=>Me.stopPropagation(),children:o.jsx("input",{type:"checkbox",checked:Et,onChange:()=>Te(mt),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),e.map(Me=>o.jsx("td",{className:Cr("px-6 py-4 text-sm",Me.align==="center"&&"text-center",Me.align==="right"&&"text-right",Me.cellClassName),children:He(ze,Me)},Me.key)),y&&o.jsx("td",{className:"px-6 py-4 text-right",onClick:Me=>Me.stopPropagation(),children:y(ze)})]},mt)})})]})}),C&&o.jsx("div",{className:"md:hidden space-y-4",children:n?o.jsx(W4e,{}):ne.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:H?`No results found for "${H}"`:"No data available"}):ne.map((ze,mt)=>at(ze,mt))}),a&&q.length>0&&o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between px-2",children:[o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[o.jsxs("span",{children:["Showing ",Be," to ",Ae," of ",q.length," results"]}),o.jsx("select",{value:Y,onChange:ze=>je(Number(ze.target.value)),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",children:s.map(ze=>o.jsxs("option",{value:ze,children:[ze," per page"]},ze))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>Pe(X-1),disabled:X===1,className:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:o.jsx(a7,{className:"w-4 h-4"})}),o.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,ce)},(ze,mt)=>{let Et;return ce<=5||X<=3?Et=mt+1:X>=ce-2?Et=ce-4+mt:Et=X-2+mt,o.jsx("button",{onClick:()=>Pe(Et),className:Cr("w-8 h-8 rounded-lg text-sm font-medium transition-colors",X===Et?"bg-primary-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"),children:Et},Et)})}),o.jsx("button",{onClick:()=>Pe(X+1),disabled:X===ce,className:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:o.jsx(gA,{className:"w-4 h-4"})})]})]})]})}const Y4e=B.memo(({receivedPOs:r,searchQuery:e,canUpload:t,canDeletePO:n,onViewDocument:a,onAttachDocument:s,onEditPO:i,onDeletePO:l,onViewDetails:c})=>{const u=B.useMemo(()=>r.filter(m=>{const y=e.toLowerCase();if(!y)return!0;const g=m.poNumber||m.po_number,v=m.projectCode||m.project_code||m.project?.projectCode||m.project?.project_code,b=m.project?.client?.name||m.clientName||m.client_name;return g?.toLowerCase().includes(y)||b?.toLowerCase().includes(y)||v?.toLowerCase().includes(y)||m.project?.title?.toLowerCase().includes(y)}),[r,e]),A=B.useMemo(()=>[{key:"poNumber",header:"PO Number",accessor:m=>m.poNumber||m.po_number,sortable:!0,cell:(m,y)=>{const g=y.poNumber||y.po_number,v=y.fileUrl||y.file_url;return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:g}),v&&o.jsx("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-1.5 py-0.5 bg-green-100 text-green-800 rounded",children:o.jsx($a,{className:"w-3 h-3"})})]})}},{key:"project",header:"Project",accessor:m=>m.projectCode||m.project_code||m.project?.projectCode||m.project?.project_code||"No Code",sortable:!0,cell:(m,y)=>{const g=y.projectCode||y.project_code||y.project?.projectCode||y.project?.project_code,v=y.project?.title;return o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold text-primary-600",children:g||"No Code"}),v&&o.jsx("span",{className:"text-xs text-gray-500 truncate max-w-xs",children:v})]})}},{key:"clientName",header:"Client",accessor:m=>m.project?.client?.name||m.clientName||m.client_name||"Unknown",sortable:!0,cell:m=>o.jsx("span",{className:"text-sm text-gray-900",children:m})},{key:"amount",header:"Amount",accessor:"amount",sortable:!0,align:"right",cell:(m,y)=>o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsxs("span",{className:"font-bold text-gray-900",children:[y.currency," ",y.amount.toLocaleString()]}),y.amount_myr&&o.jsxs("span",{className:"text-xs text-gray-500",children:["RM ",y.amount_myr.toLocaleString()]})]})},{key:"receivedDate",header:"Received Date",accessor:m=>m.receivedDate||m.received_date,sortable:!0,cell:m=>o.jsx("span",{className:"text-sm text-gray-700",children:il(m)}),hideOnMobile:!0},{key:"dueDate",header:"Due Date",accessor:m=>m.dueDate||m.due_date,sortable:!0,cell:m=>o.jsx("span",{className:"text-sm text-gray-700",children:il(m)}),hideOnMobile:!0}],[]),h=({row:m,actions:y})=>{const g=m5(m.status),v=g.icon,b=m.poNumber||m.po_number,N=m.projectCode||m.project_code||m.project?.projectCode||m.project?.project_code,C=m.project?.client?.name||m.clientName||m.client_name,E=m.fileUrl||m.file_url,_=m.receivedDate||m.received_date,P=m.dueDate||m.due_date;return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:b}),o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${g.color}`,children:[o.jsx(v,{className:"w-3 h-3"}),g.label]}),E&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-1 bg-green-100 text-green-800 rounded-full",children:[o.jsx($a,{className:"w-3 h-3"}),"Document"]}),m.attachments&&m.attachments.length>0&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-1 bg-green-100 text-green-800 rounded-full",children:[o.jsx($a,{className:"w-3 h-3"}),"Document"]}),m.attachments&&m.attachments.length>0&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-gray-500",children:[o.jsx(Po,{className:"w-3 h-3"}),m.attachments.length]})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[m.currency," ",m.amount.toLocaleString()]})]}),N||m.project?.title?o.jsxs("h4",{className:"text-lg font-semibold text-primary-600 mb-2",children:[N||"No Code"," - ",m.project?.title||"Untitled Project"]}):o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"No project linked"}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:C||"Unknown"}),m.description&&o.jsx("p",{className:"text-sm text-gray-500",children:m.description})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 py-3 border-t border-gray-100",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Received Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:il(_)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Due Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:il(P)})]})]}),o.jsx("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-100",children:y})]})},p=m=>{const y=m.fileUrl||m.file_url;return o.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[y&&o.jsx(Ut,{size:"sm",variant:"ghost",onClick:g=>{g.stopPropagation(),a(m)},title:"View Document",children:o.jsx(vi,{className:"w-4 h-4"})}),o.jsx(Ut,{size:"sm",variant:"ghost",onClick:g=>{g.stopPropagation(),s(m.id)},title:"Upload Document",children:o.jsx(Po,{className:"w-4 h-4"})}),t&&o.jsx(Ut,{size:"sm",onClick:g=>{g.stopPropagation(),i(m)},title:"Edit PO",children:o.jsx(Oo,{className:"w-4 h-4"})}),n&&o.jsx(Ut,{size:"sm",variant:"danger",onClick:g=>{g.stopPropagation(),l(m)},title:"Delete",children:o.jsx(Cs,{className:"w-4 h-4"})})]})};return o.jsx(p5,{data:u,columns:A,getRowKey:m=>m.id,searchable:!1,sortable:!0,defaultSortKey:"receivedDate",defaultSortDirection:"desc",pagination:!0,defaultPageSize:10,pageSizeOptions:[10,25,50,100],responsiveCards:!0,mobileCard:h,rowActions:p,emptyTitle:"No purchase orders found",emptyDescription:"There are no received POs to display."})}),X4e=({invoices:r,searchQuery:e,onViewPDF:t,onUploadDocument:n,onEditInvoice:a,onDeleteInvoice:s,canUpload:i=!1,canDelete:l=!1,canApprove:c=!1,onSubmitForApproval:u,onApprove:A,onWithdraw:h,onMarkAsSent:p,onMarkAsPaid:m,currentUserId:y})=>{const g=B.useMemo(()=>r.filter(C=>{const E=e.toLowerCase();return E?C.invoiceNumber?.toLowerCase().includes(E)||C.clientName?.toLowerCase().includes(E)||C.projectCode?.toLowerCase().includes(E)||C.project?.title?.toLowerCase().includes(E):!0}),[r,e]),v=B.useMemo(()=>[{key:"invoiceNumber",header:"Invoice Number",accessor:"invoiceNumber",sortable:!0,cell:(C,E)=>o.jsx("span",{className:"font-semibold text-gray-900",children:E.invoiceNumber})},{key:"project",header:"Project",accessor:C=>C.projectCode||"No Code",sortable:!0,cell:(C,E)=>{const _=E.projectCode,P=E.projectName||E.project?.title;return o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold text-primary-600",children:_||"No Code"}),P&&o.jsx("span",{className:"text-xs text-gray-500 truncate max-w-xs",children:P})]})}},{key:"progress",header:"Progress",accessor:"percentageOfTotal",sortable:!0,cell:(C,E)=>o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[E.percentageOfTotal,"% (#",E.invoiceSequence,")"]}),o.jsxs("span",{className:"text-xs text-gray-500",children:["Cumulative: ",E.cumulativePercentage,"%"]})]}),hideOnMobile:!0},{key:"amount",header:"Amount",accessor:"amount",sortable:!0,align:"right",cell:(C,E)=>o.jsxs("span",{className:"font-bold text-gray-900",children:[E.currency||"MYR"," ",(E.amount||0).toLocaleString()]})},{key:"invoiceDate",header:"Invoice Date",accessor:"invoiceDate",sortable:!0,cell:C=>o.jsx("span",{className:"text-sm text-gray-700",children:il(C)}),hideOnMobile:!0}],[]),b=({row:C,actions:E})=>{const _=m5(C.status),P=_.icon;return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.invoiceNumber}),o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${_.color}`,children:[o.jsx(P,{className:"w-3 h-3"}),_.label]})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[C.currency||"MYR"," ",(C.amount||0).toLocaleString()]})]}),C.projectCode?o.jsxs("h4",{className:"text-lg font-semibold text-primary-600 mb-2",children:[C.projectCode," - ",C.projectName||"Untitled Project"]}):o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"No project linked"}),o.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Progress: ",C.percentageOfTotal,"% (Invoice #",C.invoiceSequence,")"]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[o.jsxs("span",{children:["Cumulative: ",C.cumulativePercentage,"%"]}),C.remark&&o.jsxs("span",{children:[" ",C.remark]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-t border-gray-100",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Invoice Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:il(C.invoiceDate)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),o.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:C.status||"draft"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Project"}),o.jsx("p",{className:"text-sm font-medium text-primary-600",children:C.projectCode})]})]}),o.jsx("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-100",children:E})]})},N=C=>o.jsxs("div",{className:"flex items-center gap-2 justify-end flex-wrap",children:[C.fileUrl&&o.jsx(Ut,{size:"sm",variant:"ghost",onClick:E=>{E.stopPropagation(),t(C.id,C.invoiceNumber)},title:"View Document",children:o.jsx(vi,{className:"w-4 h-4"})}),i&&n&&o.jsx(Ut,{size:"sm",variant:"ghost",onClick:E=>{E.stopPropagation(),n(C)},title:"Upload Document",children:o.jsx(Po,{className:"w-4 h-4"})}),i&&a&&C.status!=="paid"&&o.jsx(Ut,{size:"sm",onClick:E=>{E.stopPropagation(),a(C)},title:"Edit",children:o.jsx(Oo,{className:"w-4 h-4"})}),l&&s&&o.jsx(Ut,{size:"sm",variant:"danger",onClick:E=>{E.stopPropagation(),s(C)},title:"Delete",children:o.jsx(Cs,{className:"w-4 h-4"})}),C.status==="draft"&&i&&u&&o.jsx(Ut,{size:"sm",className:"bg-orange-100 hover:bg-orange-200 text-orange-700",onClick:E=>{E.stopPropagation(),u(C.id)},title:"Submit for Approval",children:"Submit"}),C.status==="pending-approval"&&c&&A&&o.jsx(Ut,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:E=>{E.stopPropagation(),A(C.id)},title:"Approve",children:"Approve"}),C.status==="pending-approval"&&C.createdBy===y&&h&&o.jsx(Ut,{size:"sm",className:"bg-red-100 hover:bg-red-200 text-red-700",onClick:E=>{E.stopPropagation(),h(C.id)},title:"Withdraw",children:"Withdraw"}),C.status==="approved"&&i&&p&&o.jsx(Ut,{size:"sm",className:"bg-primary-600 hover:bg-primary-700 text-white",onClick:E=>{E.stopPropagation(),p(C.id)},title:"Mark as Sent",children:"Mark Sent"}),C.status==="sent"&&m&&c&&o.jsx(Ut,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:E=>{E.stopPropagation(),m(C.id)},title:"Mark as Paid",children:"Mark Paid"})]});return o.jsx(p5,{data:g,columns:v,getRowKey:C=>C.id,searchable:!1,sortable:!0,defaultSortKey:"invoiceDate",defaultSortDirection:"desc",pagination:!0,defaultPageSize:10,pageSizeOptions:[10,25,50,100],responsiveCards:!0,mobileCard:b,rowActions:N,emptyTitle:"No invoices found",emptyDescription:"There are no invoices to display."})},J4e=({issuedPOs:r,searchQuery:e,canApprove:t,canDeletePO:n,canUpload:a=!1,onViewPDF:s,onUploadDocument:i,onDeletePO:l,onEditPO:c})=>{const u=B.useMemo(()=>r.filter(m=>{const y=e.toLowerCase();return y?m.poNumber?.toLowerCase().includes(y)||m.recipient?.toLowerCase().includes(y)||m.projectCode?.toLowerCase().includes(y)||m.project?.title?.toLowerCase().includes(y):!0}),[r,e]),A=B.useMemo(()=>[{key:"poNumber",header:"PO Number",accessor:"poNumber",sortable:!0,cell:(m,y)=>o.jsx("span",{className:"font-semibold text-gray-900",children:y.poNumber})},{key:"project",header:"Project",accessor:m=>m.projectCode||"No Code",sortable:!0,cell:(m,y)=>{const g=y.projectCode,v=y.project?.title;return o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold text-primary-600",children:g||"No Code"}),v&&o.jsx("span",{className:"text-xs text-gray-500 truncate max-w-xs",children:v})]})}},{key:"recipient",header:"Vendor",accessor:"recipient",sortable:!0,cell:m=>o.jsx("span",{className:"text-sm text-gray-900",children:m})},{key:"amount",header:"Amount",accessor:"amount",sortable:!0,align:"right",cell:(m,y)=>o.jsxs("span",{className:"font-bold text-gray-900",children:[y.currency||"MYR"," ",(y.amount||0).toLocaleString()]})},{key:"issueDate",header:"Issue Date",accessor:"issueDate",sortable:!0,cell:m=>o.jsx("span",{className:"text-sm text-gray-700",children:il(m)}),hideOnMobile:!0}],[]),h=({row:m,actions:y})=>{const g=m5(m.status),v=g.icon;return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m.poNumber}),o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${g.color}`,children:[o.jsx(v,{className:"w-3 h-3"}),g.label]})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[m.currency||"MYR"," ",(m.amount||0).toLocaleString()]})]}),m.projectCode?o.jsxs("h4",{className:"text-lg font-semibold text-primary-600 mb-2",children:[m.projectCode," - ",m.project?.title||"Untitled Project"]}):o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"No project linked"}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:m.recipient}),m.items&&o.jsx("p",{className:"text-sm text-gray-500",children:m.items})]}),o.jsx("div",{className:"py-3 border-t border-gray-100",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Issue Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:il(m.issueDate)})]})}),o.jsx("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-100",children:y})]})},p=m=>o.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[m.fileUrl&&o.jsx(Ut,{size:"sm",variant:"ghost",onClick:y=>{y.stopPropagation(),s(m.id,m.poNumber)},title:"View Document",children:o.jsx(vi,{className:"w-4 h-4"})}),a&&i&&o.jsx(Ut,{size:"sm",variant:"ghost",onClick:y=>{y.stopPropagation(),i(m)},title:"Upload Document",children:o.jsx(Po,{className:"w-4 h-4"})}),a&&c&&o.jsx(Ut,{size:"sm",onClick:y=>{y.stopPropagation(),c(m)},title:"Edit PO",children:o.jsx(Oo,{className:"w-4 h-4"})}),n&&o.jsx(Ut,{size:"sm",variant:"danger",onClick:y=>{y.stopPropagation(),l(m)},title:"Delete",children:o.jsx(Cs,{className:"w-4 h-4"})})]});return o.jsx(p5,{data:u,columns:A,getRowKey:m=>m.id,searchable:!1,sortable:!0,defaultSortKey:"issueDate",defaultSortDirection:"desc",pagination:!0,defaultPageSize:10,pageSizeOptions:[10,25,50,100],responsiveCards:!0,mobileCard:h,rowActions:p,emptyTitle:"No issued POs found",emptyDescription:"There are no issued POs to display."})},Z4e=({receivedInvoices:r,searchQuery:e,canVerify:t,canDelete:n,canUpload:a=!1,onViewDocument:s,onEditInvoice:i,onDeleteInvoice:l,onVerify:c,onMarkAsPaid:u,onUploadDocument:A})=>{const h=B.useMemo(()=>r.filter(g=>{const v=e.toLowerCase();return v?g.invoiceNumber?.toLowerCase().includes(v)||g.vendorName?.toLowerCase().includes(v)||g.issuedPO?.poNumber?.toLowerCase().includes(v):!0}),[r,e]),p=B.useMemo(()=>[{key:"invoiceNumber",header:"Invoice Number",accessor:"invoiceNumber",sortable:!0,cell:(g,v)=>o.jsx("span",{className:"font-semibold text-gray-900",children:v.invoiceNumber})},{key:"vendorName",header:"Vendor",accessor:"vendorName",sortable:!0,cell:g=>o.jsx("span",{className:"text-sm font-medium text-gray-900",children:g})},{key:"linkedPO",header:"Linked PO",accessor:g=>g.issuedPO?.poNumber||"-",sortable:!0,cell:(g,v)=>v.issuedPO?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(u6,{className:"w-3 h-3 text-primary-500"}),o.jsx("span",{className:"text-sm text-primary-600 font-medium",children:v.issuedPO.poNumber})]}):o.jsx("span",{className:"text-sm text-gray-400",children:"-"})},{key:"amount",header:"Amount",accessor:"amount",sortable:!0,align:"right",cell:(g,v)=>o.jsxs("span",{className:"font-bold text-gray-900",children:[v.currency," ",(v.amount||0).toLocaleString()]})},{key:"invoiceDate",header:"Invoice Date",accessor:"invoiceDate",sortable:!0,cell:g=>o.jsx("span",{className:"text-sm text-gray-700",children:il(g)}),hideOnMobile:!0},{key:"receivedDate",header:"Received Date",accessor:"receivedDate",sortable:!0,cell:g=>o.jsx("span",{className:"text-sm text-gray-700",children:il(g)}),hideOnMobile:!0},{key:"dueDate",header:"Due Date",accessor:"dueDate",sortable:!0,cell:g=>o.jsx("span",{className:"text-sm text-gray-700",children:g?il(g):"N/A"}),hideOnMobile:!0}],[]),m=({row:g,actions:v})=>{const b=m5(g.status),N=b.icon;return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g.invoiceNumber}),o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${b.color}`,children:[o.jsx(N,{className:"w-3 h-3"}),b.label]})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[g.currency," ",(g.amount||0).toLocaleString()]})]}),o.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:g.vendorName}),g.issuedPO&&o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(u6,{className:"w-4 h-4 text-primary-500"}),o.jsxs("span",{className:"text-sm text-primary-600 font-medium",children:["Linked to: ",g.issuedPO.poNumber]})]}),g.description&&o.jsx("p",{className:"text-sm text-gray-500",children:g.description})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-t border-gray-100",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Invoice Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:il(g.invoiceDate)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Received Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:il(g.receivedDate)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Due Date"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.dueDate?il(g.dueDate):"N/A"})]})]}),o.jsx("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-100",children:v})]})},y=g=>o.jsxs("div",{className:"flex items-center gap-2 justify-end flex-wrap",children:[g.fileUrl&&s&&o.jsx(Ut,{size:"sm",variant:"ghost",onClick:v=>{v.stopPropagation(),s(g)},title:"View Document",children:o.jsx(vi,{className:"w-4 h-4"})}),a&&A&&o.jsx(Ut,{size:"sm",variant:"ghost",onClick:v=>{v.stopPropagation(),A(g)},title:"Upload Document",children:o.jsx(Po,{className:"w-4 h-4"})}),g.status!=="paid"&&i&&o.jsx(Ut,{size:"sm",onClick:v=>{v.stopPropagation(),i(g)},title:"Edit",children:o.jsx(Oo,{className:"w-4 h-4"})}),(g.status==="pending"||g.status==="disputed")&&t&&c&&o.jsx(Ut,{size:"sm",className:"bg-primary-600 hover:bg-primary-700 text-white",onClick:v=>{v.stopPropagation(),c(g.id)},title:"Verify",children:o.jsx(za,{className:"w-4 h-4"})}),g.status==="verified"&&t&&u&&o.jsx(Ut,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:v=>{v.stopPropagation(),u(g.id)},title:"Mark Paid",children:o.jsx(g_,{className:"w-4 h-4"})}),g.status!=="paid"&&n&&l&&o.jsx(Ut,{size:"sm",variant:"danger",onClick:v=>{v.stopPropagation(),l(g)},title:"Delete",children:o.jsx(Cs,{className:"w-4 h-4"})})]});return o.jsx(p5,{data:h,columns:p,getRowKey:g=>g.id,searchable:!1,sortable:!0,defaultSortKey:"receivedDate",defaultSortDirection:"desc",pagination:!0,defaultPageSize:10,pageSizeOptions:[10,25,50,100],responsiveCards:!0,mobileCard:m,rowActions:y,emptyTitle:"No received invoices found",emptyDescription:"Create an Issued PO first, then add a received invoice from the vendor."})},fq=6048e5,e_e=864e5,cR=Symbol.for("constructDateFrom");function cf(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&cR in r?r[cR](e):r instanceof Date?new r.constructor(e):new Date(e)}function Ou(r,e){return cf(e||r,r)}let t_e={};function g5(){return t_e}function Xy(r,e){const t=g5(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=Ou(r,e?.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function z2(r,e){return Xy(r,{...e,weekStartsOn:1})}function mq(r,e){const t=Ou(r,e?.in),n=t.getFullYear(),a=cf(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=z2(a),i=cf(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=z2(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function uR(r){const e=Ou(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function r_e(r,...e){const t=cf.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function dR(r,e){const t=Ou(r,e?.in);return t.setHours(0,0,0,0),t}function n_e(r,e,t){const[n,a]=r_e(t?.in,r,e),s=dR(n),i=dR(a),l=+s-uR(s),c=+i-uR(i);return Math.round((l-c)/e_e)}function a_e(r,e){const t=mq(r,e),n=cf(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),z2(n)}function s_e(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function i_e(r){return!(!s_e(r)&&typeof r!="number"||isNaN(+Ou(r)))}function o_e(r,e){const t=Ou(r,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const l_e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},c_e=(r,e,t)=>{let n;const a=l_e[r];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function nE(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const u_e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},d_e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},A_e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},h_e={date:nE({formats:u_e,defaultWidth:"full"}),time:nE({formats:d_e,defaultWidth:"full"}),dateTime:nE({formats:A_e,defaultWidth:"full"})},f_e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},m_e=(r,e,t,n)=>f_e[r];function Rx(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let a;if(n==="formatting"&&r.formattingValues){const i=r.defaultFormattingWidth||r.defaultWidth,l=t?.width?String(t.width):i;a=r.formattingValues[l]||r.formattingValues[i]}else{const i=r.defaultWidth,l=t?.width?String(t.width):r.defaultWidth;a=r.values[l]||r.values[i]}const s=r.argumentCallback?r.argumentCallback(e):e;return a[s]}}const p_e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},g_e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},x_e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},y_e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},v_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},b_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},w_e=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},C_e={ordinalNumber:w_e,era:Rx({values:p_e,defaultWidth:"wide"}),quarter:Rx({values:g_e,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Rx({values:x_e,defaultWidth:"wide"}),day:Rx({values:y_e,defaultWidth:"wide"}),dayPeriod:Rx({values:v_e,defaultWidth:"wide",formattingValues:b_e,defaultFormattingWidth:"wide"})};function Ux(r){return(e,t={})=>{const n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],l=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],c=Array.isArray(l)?S_e(l,h=>h.test(i)):N_e(l,h=>h.test(i));let u;u=r.valueCallback?r.valueCallback(c):c,u=t.valueCallback?t.valueCallback(u):u;const A=e.slice(i.length);return{value:u,rest:A}}}function N_e(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function S_e(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function B_e(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const a=n[0],s=e.match(r.parsePattern);if(!s)return null;let i=r.valueCallback?r.valueCallback(s[0]):s[0];i=t.valueCallback?t.valueCallback(i):i;const l=e.slice(a.length);return{value:i,rest:l}}}const E_e=/^(\d+)(th|st|nd|rd)?/i,j_e=/\d+/i,__e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},T_e={any:[/^b/i,/^(a|c)/i]},k_e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},F_e={any:[/1/i,/2/i,/3/i,/4/i]},O_e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},D_e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},P_e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},I_e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},L_e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},M_e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},R_e={ordinalNumber:B_e({matchPattern:E_e,parsePattern:j_e,valueCallback:r=>parseInt(r,10)}),era:Ux({matchPatterns:__e,defaultMatchWidth:"wide",parsePatterns:T_e,defaultParseWidth:"any"}),quarter:Ux({matchPatterns:k_e,defaultMatchWidth:"wide",parsePatterns:F_e,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Ux({matchPatterns:O_e,defaultMatchWidth:"wide",parsePatterns:D_e,defaultParseWidth:"any"}),day:Ux({matchPatterns:P_e,defaultMatchWidth:"wide",parsePatterns:I_e,defaultParseWidth:"any"}),dayPeriod:Ux({matchPatterns:L_e,defaultMatchWidth:"any",parsePatterns:M_e,defaultParseWidth:"any"})},U_e={code:"en-US",formatDistance:c_e,formatLong:h_e,formatRelative:m_e,localize:C_e,match:R_e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Q_e(r,e){const t=Ou(r,e?.in);return n_e(t,o_e(t))+1}function H_e(r,e){const t=Ou(r,e?.in),n=+z2(t)-+a_e(t);return Math.round(n/fq)+1}function pq(r,e){const t=Ou(r,e?.in),n=t.getFullYear(),a=g5(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=cf(e?.in||r,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=Xy(i,e),c=cf(e?.in||r,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Xy(c,e);return+t>=+l?n+1:+t>=+u?n:n-1}function z_e(r,e){const t=g5(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=pq(r,e),s=cf(e?.in||r,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Xy(s,e)}function K_e(r,e){const t=Ou(r,e?.in),n=+Xy(t,e)-+z_e(t,e);return Math.round(n/fq)+1}function Mn(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const jh={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return Mn(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):Mn(t+1,2)},d(r,e){return Mn(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];default:return t==="am"?"a.m.":"p.m."}},h(r,e){return Mn(r.getHours()%12||12,e.length)},H(r,e){return Mn(r.getHours(),e.length)},m(r,e){return Mn(r.getMinutes(),e.length)},s(r,e){return Mn(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return Mn(a,e.length)}},rp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},AR={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return jh.y(r,e)},Y:function(r,e,t,n){const a=pq(r,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return Mn(i,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Mn(s,e.length)},R:function(r,e){const t=mq(r);return Mn(t,e.length)},u:function(r,e){const t=r.getFullYear();return Mn(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Mn(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Mn(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return jh.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return Mn(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const a=K_e(r,n);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):Mn(a,e.length)},I:function(r,e,t){const n=H_e(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):Mn(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):jh.d(r,e)},D:function(r,e,t){const n=Q_e(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):Mn(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Mn(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Mn(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return Mn(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const a=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let a;switch(n===12?a=rp.noon:n===0?a=rp.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let a;switch(n>=17?a=rp.evening:n>=12?a=rp.afternoon:n>=4?a=rp.morning:a=rp.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return jh.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):jh.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):Mn(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):Mn(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):jh.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):jh.s(r,e)},S:function(r,e){return jh.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return fR(n);case"XXXX":case"XX":return r0(n);default:return r0(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return fR(n);case"xxxx":case"xx":return r0(n);default:return r0(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+hR(n,":");default:return"GMT"+r0(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+hR(n,":");default:return"GMT"+r0(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return Mn(n,e.length)},T:function(r,e,t){return Mn(+r,e.length)}};function hR(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=Math.trunc(n/60),s=n%60;return s===0?t+String(a):t+String(a)+e+Mn(s,2)}function fR(r,e){return r%60===0?(r>0?"-":"+")+Mn(Math.abs(r)/60,2):r0(r,e)}function r0(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=Mn(Math.trunc(n/60),2),s=Mn(n%60,2);return t+a+e+s}const mR=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},gq=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},$_e=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return mR(r,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",mR(n,e)).replace("{{time}}",gq(a,e))},V_e={p:gq,P:$_e},q_e=/^D+$/,G_e=/^Y+$/,W_e=["D","DD","YY","YYYY"];function Y_e(r){return q_e.test(r)}function X_e(r){return G_e.test(r)}function J_e(r,e,t){const n=Z_e(r,e,t);if(console.warn(n),W_e.includes(r))throw new RangeError(n)}function Z_e(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const eTe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tTe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rTe=/^'([^]*?)'?$/,nTe=/''/g,aTe=/[a-zA-Z]/;function Kn(r,e,t){const n=g5(),a=n.locale??U_e,s=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Ou(r,t?.in);if(!i_e(l))throw new RangeError("Invalid time value");let c=e.match(tTe).map(A=>{const h=A[0];if(h==="p"||h==="P"){const p=V_e[h];return p(A,a.formatLong)}return A}).join("").match(eTe).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const h=A[0];if(h==="'")return{isToken:!1,value:sTe(A)};if(AR[h])return{isToken:!0,value:A};if(h.match(aTe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:A}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(A=>{if(!A.isToken)return A.value;const h=A.value;(X_e(h)||Y_e(h))&&J_e(h,e,String(r));const p=AR[h[0]];return p(l,h,a.localize,u)}).join("")}function sTe(r){const e=r.match(rTe);return e?e[1].replace(nTe,"'"):r}function iTe(r){if(!r||r.length===0){console.error("No Received POs to export"),xe.error("No Received POs data to export");return}const e=["PO Number","Status","Project Code","Project Title","Client Name","Amount","Currency","Received Date","Due Date","Description"],t=r.map(a=>[a.poNumber||"",a.status||"",a.projectCode||"",a.project?.title||"",a.clientName||a.project?.client?.name||"",a.amount||0,a.currency||"MYR",a.receivedDate?Kn(new Date(a.receivedDate),"yyyy-MM-dd"):"",a.dueDate?Kn(new Date(a.dueDate),"yyyy-MM-dd"):"",a.description||""]),n=[e.join(","),...t.map(a=>a.map(s=>JSON.stringify(s||"")).join(","))].join(`
`);x5(n,`received-pos-${Kn(new Date,"yyyy-MM-dd")}.csv`,"text/csv")}function oTe(r){if(!r||r.length===0){console.error("No Invoices to export"),xe.error("No Invoices data to export");return}const e=["Invoice Number","Status","Project Code","Project Title","Client Name","Amount","Currency","Percentage of Total (%)","Invoice Date","Due Date","Remark"],t=r.map(a=>[a.invoiceNumber||"",a.status||"",a.projectCode||"",a.projectName||"",a.clientName||"",a.amount||0,a.currency||"MYR",a.percentageOfTotal||a.percentage_of_total||0,a.invoiceDate||a.invoice_date?Kn(new Date(a.invoiceDate||a.invoice_date),"yyyy-MM-dd"):"",a.dueDate?Kn(new Date(a.dueDate),"yyyy-MM-dd"):"",a.remark||""]),n=[e.join(","),...t.map(a=>a.map(s=>JSON.stringify(s||"")).join(","))].join(`
`);x5(n,`invoices-${Kn(new Date,"yyyy-MM-dd")}.csv`,"text/csv")}function lTe(r){if(!r||r.length===0){console.error("No Issued POs to export"),xe.error("No Issued POs data to export");return}const e=["PO Number","Status","Project Code","Project Title","Recipient","Amount","Currency","Items","Issue Date","Due Date"],t=r.map(a=>[a.poNumber||a.po_number||"",a.status||"",a.projectCode||a.project_code||"",a.project?.title||"",a.recipient||a.recipient||"",a.amount||0,a.currency||"MYR",a.items||"",a.issueDate?Kn(new Date(a.issueDate),"yyyy-MM-dd"):"",a.dueDate?Kn(new Date(a.dueDate),"yyyy-MM-dd"):""]),n=[e.join(","),...t.map(a=>a.map(s=>JSON.stringify(s||"")).join(","))].join(`
`);x5(n,`issued-pos-${Kn(new Date,"yyyy-MM-dd")}.csv`,"text/csv")}function cTe(r){if(!r||r.length===0){console.error("No Received POs to export"),xe.error("No Received POs data to export");return}const e=r.map(a=>({"PO Number":a.poNumber||"",Status:a.status||"","Project Code":a.projectCode||"","Project Title":a.project?.title||"","Client Name":a.clientName||a.project?.client?.name||"",Amount:a.amount||0,Currency:a.currency||"MYR","Received Date":a.receivedDate?Kn(new Date(a.receivedDate),"yyyy-MM-dd"):"","Due Date":a.dueDate?Kn(new Date(a.dueDate),"yyyy-MM-dd"):"",Description:a.description||""})),t=Fo.json_to_sheet(e),n=Fo.book_new();Fo.book_append_sheet(n,t,"Received POs"),Dv(n,`received-pos-${Kn(new Date,"yyyy-MM-dd")}.xlsx`)}function uTe(r){if(!r||r.length===0){console.error("No Invoices to export"),xe.error("No Invoices data to export");return}const e=r.map(a=>({"Invoice Number":a.invoiceNumber||"",Status:a.status||"","Project Code":a.projectCode||"","Project Title":a.projectName||"","Client Name":a.clientName||"",Amount:a.amount||0,Currency:a.currency||"MYR","Percentage of Total (%)":a.percentageOfTotal||a.percentage_of_total||0,"Invoice Date":a.invoiceDate||a.invoice_date?Kn(new Date(a.invoiceDate||a.invoice_date),"yyyy-MM-dd"):"","Due Date":a.dueDate?Kn(new Date(a.dueDate),"yyyy-MM-dd"):"",Remark:a.remark||""})),t=Fo.json_to_sheet(e),n=Fo.book_new();Fo.book_append_sheet(n,t,"Invoices"),Dv(n,`invoices-${Kn(new Date,"yyyy-MM-dd")}.xlsx`)}function dTe(r){if(!r||r.length===0){console.error("No Issued POs to export"),xe.error("No Issued POs data to export");return}const e=r.map(a=>({"PO Number":a.poNumber||a.po_number||"",Status:a.status||"","Project Code":a.projectCode||a.project_code||"","Project Title":a.project?.title||"",Recipient:a.recipient||"",Amount:a.amount||0,Currency:a.currency||"MYR",Items:a.items||"","Issue Date":a.issueDate?Kn(new Date(a.issueDate),"yyyy-MM-dd"):"","Due Date":a.dueDate?Kn(new Date(a.dueDate),"yyyy-MM-dd"):""})),t=Fo.json_to_sheet(e),n=Fo.book_new();Fo.book_append_sheet(n,t,"Issued POs"),Dv(n,`issued-pos-${Kn(new Date,"yyyy-MM-dd")}.xlsx`)}function ATe(r){if(!r||r.length===0){console.error("No Received Invoices to export"),xe.error("No Received Invoices data to export");return}const e=["Invoice Number","Status","Vendor Name","Issued PO Number","Amount","Currency","Invoice Date","Received Date","Due Date","Description"],t=r.map(a=>[a.invoiceNumber||"",a.status||"",a.vendorName||"",a.issuedPO?.po_number||a.issuedPoNumber||"",a.amount||0,a.currency||"MYR",a.invoiceDate?Kn(new Date(a.invoiceDate),"yyyy-MM-dd"):"",a.receivedDate?Kn(new Date(a.receivedDate),"yyyy-MM-dd"):"",a.dueDate?Kn(new Date(a.dueDate),"yyyy-MM-dd"):"",a.description||""]),n=[e.join(","),...t.map(a=>a.map(s=>JSON.stringify(s||"")).join(","))].join(`
`);x5(n,`received-invoices-${Kn(new Date,"yyyy-MM-dd")}.csv`,"text/csv")}function hTe(r){if(!r||r.length===0){console.error("No Received Invoices to export"),xe.error("No Received Invoices data to export");return}const e=r.map(a=>({"Invoice Number":a.invoiceNumber||"",Status:a.status||"","Vendor Name":a.vendorName||"","Issued PO Number":a.issuedPO?.po_number||a.issuedPoNumber||"",Amount:a.amount||0,Currency:a.currency||"MYR","Invoice Date":a.invoiceDate?Kn(new Date(a.invoiceDate),"yyyy-MM-dd"):"","Received Date":a.receivedDate?Kn(new Date(a.receivedDate),"yyyy-MM-dd"):"","Due Date":a.dueDate?Kn(new Date(a.dueDate),"yyyy-MM-dd"):"",Description:a.description||""})),t=Fo.json_to_sheet(e),n=Fo.book_new();Fo.book_append_sheet(n,t,"Received Invoices"),Dv(n,`received-invoices-${Kn(new Date,"yyyy-MM-dd")}.xlsx`)}function x5(r,e,t){const n=document.createElement("a"),a=new Blob([r],{type:t});n.href=URL.createObjectURL(a),n.download=e,n.click(),URL.revokeObjectURL(n.href)}const fTe=({onExport:r,disabled:e=!1,totalCount:t=0})=>{const[n,a]=B.useState(!1),s=()=>{r("csv"),a(!1)},i=()=>{r("excel"),a(!1)};return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>a(!n),disabled:e||t===0,className:`flex items-center gap-2 px-4 py-2 border rounded-lg ${e||t===0?"bg-gray-100 text-gray-400 cursor-not-allowed border-gray-200":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[o.jsx(LA,{className:"w-4 h-4"}),"Export",o.jsx(Kl,{className:"w-4 h-4"})]}),n&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>a(!1)}),o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-20",children:o.jsxs("div",{className:"py-1",children:[o.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"font-medium",children:"CSV"}),o.jsx("span",{className:"text-xs text-gray-500",children:".csv file"})]}),o.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"font-medium",children:"Excel"}),o.jsx("span",{className:"text-xs text-gray-500",children:".xlsx file"})]})]})})]})]})},mTe=()=>{const r=_o(),e=r?.roles||[r?.role||"engineer"],t=r&&ol(e,"canAccessFinance"),n=r&&ol(e,"canUploadPO"),a=r&&ol(e,"canDeletePO"),s=r&&ol(e,"canDeleteInvoices"),i=r&&ol(e,"canApproveInvoices"),[l,c]=B.useState("received-pos"),[u,A]=B.useState(""),[h,p]=B.useState(!1),[m,y]=B.useState(null),[g,v]=B.useState(!1),[b,N]=B.useState(!1),[C,E]=B.useState(!1),[_,P]=B.useState(null),[O,D]=B.useState(!1),[k,H]=B.useState(!1),[L,Q]=B.useState(null),[R,K]=B.useState(!1),[ee,X]=B.useState(null),[ae,Y]=B.useState(!1),[de,pe]=B.useState(null),[Z,I]=B.useState(!1),[z,V]=B.useState([]),[q,ne]=B.useState([]),[ce,Be]=B.useState([]),[Ae,ye]=B.useState([]),[Pe,je]=B.useState(!1),Se=pt=>{switch(l){case"received-pos":pt==="csv"?iTe(z):cTe(z);break;case"invoices":pt==="csv"?oTe(q):uTe(q);break;case"issued-pos":pt==="csv"?lTe(ce):dTe(ce);break;case"received-invoices":pt==="csv"?ATe(Ae):hTe(Ae);break}};B.useEffect(()=>{Te()},[l]);const Te=async()=>{je(!0);try{if(l==="received-pos"){const pt=await lr.getAllPurchaseOrders(),Nt=Array.isArray(pt)?pt:pt.data||[];V(Nt)}else if(l==="invoices"){const pt=await lr.getAllInvoices();ne(pt||[])}else if(l==="issued-pos"){const pt=await lr.getAllIssuedPOs();Be(pt||[])}else if(l==="received-invoices"){const pt=await lr.getAllReceivedInvoices();ye(pt||[])}}catch(pt){Rt.error("Error loading data:",pt),xe.error(pt.message||"Failed to load data")}finally{je(!1)}};if(!t)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(yp,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),o.jsx("p",{className:"text-gray-600 mb-4",children:bd("access finance","senior")})]})});const J=()=>{if(!n){xe.error(bd("upload PO","senior"));return}switch(l){case"received-pos":v(!0);break;case"invoices":N(!0);break;case"issued-pos":D(!0);break;case"received-invoices":H(!0);break}},Le=async(pt,Nt)=>{if(Nt.length===0)return;const Qt=Nt[0],Kt=new FormData,jn=atob(Qt.fileData.split(",")[1]),Or=new Array(jn.length);for(let ba=0;ba<jn.length;ba++)Or[ba]=jn.charCodeAt(ba);const Rs=new Uint8Array(Or),Ga=new Blob([Rs],{type:Qt.fileType}),hr=new File([Ga],Qt.fileName,{type:Qt.fileType});Kt.append("file",hr);try{xe.loading("Uploading document...");const ba=localStorage.getItem("auth_token");if(!ba){xe.error("Authentication required");return}const Wa=m?.type||"invoice";let ca;if(Wa==="invoice")ca=`/api/invoices/${pt}/upload`;else if(Wa==="issued-po")ca=`/api/issued-pos/${pt}/upload`;else if(Wa==="received-po")ca=`/api/purchase-orders/${pt}/upload`;else if(Wa==="purchase-order")ca=`/api/purchase-orders/${pt}/upload`;else if(Wa==="received-invoice")ca=`/api/received-invoices/${pt}/upload`;else throw console.error("Unknown document type:",Wa),new Error(`Cannot upload: Unknown document type "${Wa}"`);const Bs=await fetch(ca,{method:"POST",headers:{Authorization:`Bearer ${ba}`},body:Kt});if(!Bs.ok){const _n=await Bs.json();throw new Error(_n.error||"Upload failed")}xe.dismiss(),xe.success("Document uploaded successfully!"),p(!1),y(null),Te()}catch(ba){xe.dismiss(),Rt.error("Error uploading document:",ba),xe.error(ba.message||"Failed to upload document")}},He=(pt,Nt)=>{xe.success("File removed successfully")},Je=async pt=>{try{xe.loading("Opening invoice PDF...");const Nt=localStorage.getItem("auth_token");if(!Nt){xe.error("Authentication required");return}const Qt=`/api/invoices/${pt}/pdf`;fetch(Qt,{headers:{Authorization:`Bearer ${Nt}`}}).then(Kt=>{if(!Kt.ok)throw new Error(`HTTP ${Kt.status}`);return Kt.blob()}).then(Kt=>{const jn=window.URL.createObjectURL(Kt),Or=document.createElement("a");Or.href=jn,Or.target="_blank",Or.click(),window.URL.revokeObjectURL(jn),xe.dismiss(),xe.success("Opening invoice PDF")}).catch(Kt=>{xe.dismiss(),Rt.error("Error opening PDF:",Kt),xe.error("Failed to open PDF: "+Kt.message)})}catch(Nt){xe.dismiss(),Rt.error("Error opening invoice PDF:",Nt),xe.error("Failed to open PDF")}},at=pt=>{y({type:"invoice",id:pt.id}),p(!0)},ze=pt=>{P(pt),E(!0)},mt=async pt=>{if(window.confirm(`Are you sure you want to delete PO ${pt.po_number||pt.poNumber}?`))try{xe.loading("Deleting PO..."),l==="issued-pos"?await lr.deleteIssuedPO(pt.id):await lr.deletePurchaseOrder(pt.id),xe.success("PO deleted successfully"),Te()}catch(Nt){Rt.error("Error deleting PO:",Nt),xe.error(Nt.message||"Failed to delete PO")}},Et=async pt=>{if(window.confirm(`Are you sure you want to delete invoice ${pt.invoiceNumber}?`))try{xe.loading("Deleting invoice..."),await lr.deleteInvoice(pt.id),xe.success("Invoice deleted successfully"),Te()}catch(Nt){Rt.error("Error deleting invoice:",Nt),xe.error(Nt.message||"Failed to delete invoice")}},Me=pt=>{y({type:"issued-po",id:pt.id}),p(!0)},vt=async pt=>{try{xe.loading("Opening issued PO PDF...");const Nt=localStorage.getItem("auth_token");if(!Nt){xe.error("Authentication required");return}const Qt=`/api/issued-pos/${pt}/pdf`;fetch(Qt,{headers:{Authorization:`Bearer ${Nt}`}}).then(Kt=>{if(!Kt.ok)throw new Error(`HTTP ${Kt.status}`);return Kt.blob()}).then(Kt=>{const jn=window.URL.createObjectURL(Kt),Or=document.createElement("a");Or.href=jn,Or.target="_blank",Or.click(),window.URL.revokeObjectURL(jn),xe.dismiss(),xe.success("Opening issued PO PDF")}).catch(Kt=>{xe.dismiss(),Rt.error("Error opening PDF:",Kt),xe.error("Failed to open PDF: "+Kt.message)})}catch(Nt){xe.dismiss(),Rt.error("Error opening PO PDF:",Nt),xe.error("Failed to open PDF")}},De=async pt=>{try{console.log("=== handleViewDocument called ==="),console.log("Full PO object:",pt),console.log("po.file_url:",pt.file_url),console.log("po.fileUrl:",pt.fileUrl),console.log("All PO keys:",Object.keys(pt));const Nt=pt.fileUrl||pt.file_url;if(!Nt){console.log("No fileUrl found, returning early"),xe.error("No document available");return}console.log("Using fileUrl:",Nt),xe.loading("Opening document...");const Qt=localStorage.getItem("auth_token");if(!Qt){xe.error("Authentication required");return}const Kt=Nt.split("/").pop();if(!Kt){xe.error("Invalid file URL");return}const jn=`/api/purchase-orders/download/${Kt}`;fetch(jn,{headers:{Authorization:`Bearer ${Qt}`}}).then(Or=>{if(!Or.ok)throw new Error(`HTTP ${Or.status}`);return Or.blob()}).then(Or=>{const Rs=window.URL.createObjectURL(Or),Ga=document.createElement("a");Ga.href=Rs,Ga.target="_blank",Ga.click(),window.URL.revokeObjectURL(Rs),xe.dismiss(),xe.success("Opening document")}).catch(Or=>{xe.dismiss(),Rt.error("Error opening document:",Or),xe.error("Failed to open document: "+Or.message)})}catch(Nt){xe.dismiss(),Rt.error("Error opening PO document:",Nt),xe.error("Failed to open document")}},it=pt=>{y({id:pt,type:"received-po"}),p(!0)},wt=pt=>{y({id:pt.id,type:"received-invoice"}),p(!0)},Bt=async pt=>{try{xe.loading("Opening received invoice document...");const Nt=localStorage.getItem("auth_token");if(!Nt){xe.error("Authentication required");return}const Qt=`/api/received-invoices/${pt.id}/file`;fetch(Qt,{headers:{Authorization:`Bearer ${Nt}`}}).then(Kt=>{if(!Kt.ok)throw new Error(`HTTP ${Kt.status}`);return Kt.blob()}).then(Kt=>{const jn=window.URL.createObjectURL(Kt),Or=document.createElement("a");Or.href=jn,Or.target="_blank",Or.click(),window.URL.revokeObjectURL(jn),xe.dismiss(),xe.success("Opening document")}).catch(Kt=>{xe.dismiss(),Rt.error("Error opening document:",Kt),xe.error("Failed to open document: "+Kt.message)})}catch(Nt){xe.dismiss(),Rt.error("Error opening received invoice document:",Nt),xe.error("Failed to open document")}},Ee=pt=>{X(pt),K(!0)},ot=pt=>{pe(pt),Y(!0)},ct=pt=>{X(pt),I(!0)},Zt=async pt=>{try{await lr.submitInvoiceForApproval(pt),xe.success("Invoice submitted for approval"),Te()}catch(Nt){Rt.error("Error submitting invoice:",Nt),xe.error(Nt.message||"Failed to submit invoice for approval")}},It=async pt=>{try{await lr.approveInvoice(pt),xe.success("Invoice approved successfully"),Te()}catch(Nt){Rt.error("Error approving invoice:",Nt),xe.error(Nt.message||"Failed to approve invoice")}},Tt=async pt=>{try{await lr.withdrawInvoice(pt),xe.success("Invoice withdrawn from approval"),Te()}catch(Nt){Rt.error("Error withdrawing invoice:",Nt),xe.error(Nt.message||"Failed to withdraw invoice")}},cr=async pt=>{try{await lr.markInvoiceAsSent(pt),xe.success("Invoice marked as sent"),Te()}catch(Nt){Rt.error("Error marking invoice as sent:",Nt),xe.error(Nt.message||"Failed to mark invoice as sent")}},Br=async pt=>{try{await lr.markInvoiceAsPaid(pt),xe.success("Invoice marked as paid"),Te()}catch(Nt){Rt.error("Error marking invoice as paid:",Nt),xe.error(Nt.message||"Failed to mark invoice as paid")}},zt=pt=>{Q(pt),H(!0)},Yr=async pt=>{if(window.confirm("Are you sure you want to delete this received invoice?"))try{xe.loading("Deleting received invoice..."),await lr.deleteReceivedInvoice(pt),xe.success("Received invoice deleted successfully"),Te()}catch(Nt){Rt.error("Error deleting received invoice:",Nt),xe.error(Nt.message||"Failed to delete received invoice")}},nr=async pt=>{try{xe.loading("Verifying received invoice..."),await lr.verifyReceivedInvoice(pt),xe.success("Received invoice verified successfully"),Te()}catch(Nt){Rt.error("Error verifying received invoice:",Nt),xe.error(Nt.message||"Failed to verify received invoice")}},pr=async pt=>{try{xe.loading("Marking received invoice as paid..."),await lr.markReceivedInvoiceAsPaid(pt),xe.success("Received invoice marked as paid"),Te()}catch(Nt){Rt.error("Error marking received invoice as paid:",Nt),xe.error(Nt.message||"Failed to mark received invoice as paid")}};return o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6  space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Finance Documents"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage POs, invoices, and financial documents"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(fTe,{onExport:Se,disabled:Pe,totalCount:l==="received-pos"?z.length:l==="invoices"?q.length:l==="issued-pos"?ce.length:Ae.length}),o.jsxs("button",{onClick:J,disabled:!n,className:`flex items-center gap-2 px-4 py-2 rounded-lg ${n?"bg-primary-600 text-white hover:bg-primary-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx(ei,{className:"w-4 h-4"}),"Create New"]})]})]})}),o.jsx(tEe,{activeTab:l,onTabChange:c,receivedPOCount:z.length,invoiceCount:q.length,issuedPOCount:ce.length,receivedInvoiceCount:Ae.length}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-6",children:o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(Do,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search PO number, client, or project...",value:u,onChange:pt=>A(pt.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),u&&o.jsx("button",{onClick:()=>A(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.jsx(Fr,{className:"w-4 h-4"})})]})})}),Pe?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):o.jsxs(o.Fragment,{children:[l==="received-pos"&&o.jsx(Y4e,{receivedPOs:z,searchQuery:u,canUpload:n,canDeletePO:a||!1,onViewDocument:De,onAttachDocument:it,onEditPO:Ee,onDeletePO:mt,onViewDetails:ct}),l==="invoices"&&o.jsx(X4e,{invoices:q,searchQuery:u,onViewPDF:Je,onUploadDocument:at,onEditInvoice:ze,onDeleteInvoice:Et,canUpload:n,canDelete:s||!1,canApprove:i,onSubmitForApproval:Zt,onApprove:It,onWithdraw:Tt,onMarkAsSent:cr,onMarkAsPaid:Br,currentUserId:r?.id}),l==="issued-pos"&&o.jsx(J4e,{issuedPOs:ce,searchQuery:u,canApprove:i,canDeletePO:a||!1,canUpload:n,onViewPDF:vt,onUploadDocument:Me,onDeletePO:mt,onEditPO:ot}),l==="received-invoices"&&o.jsx(Z4e,{receivedInvoices:Ae,searchQuery:u,canVerify:i,canDelete:s||!1,canUpload:!0,onViewDocument:Bt,onEditInvoice:zt,onDeleteInvoice:pt=>Yr(pt.id),onVerify:nr,onMarkAsPaid:pr,onUploadDocument:wt})]}),h&&m&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upload Documents"})}),o.jsx("div",{className:"p-6",children:o.jsx(I4e,{attachments:[],onFilesAdded:pt=>Le(m.id,pt),onFileRemoved:pt=>He(m.id)})}),o.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{p(!1),y(null)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Cancel"}),o.jsx("button",{onClick:()=>{p(!1),y(null)},className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Done"})]})]})}),o.jsx(L4e,{isOpen:g,onClose:()=>{v(!1),Te()}}),o.jsx(M4e,{isOpen:b,onClose:()=>{N(!1),Te()}}),C&&_&&o.jsx(R4e,{isOpen:C,onClose:()=>{E(!1),P(null),Te()},invoice:_,onSave:()=>{E(!1),P(null),Te()}}),o.jsx(U4e,{isOpen:O,onClose:()=>{D(!1),Te()}}),k&&o.jsx(Q4e,{isOpen:k,onClose:()=>{H(!1),Q(null),Te()},onSuccess:()=>{Q(null),Te(),H(!1)},editingInvoice:L}),R&&ee&&o.jsx(H4e,{isOpen:R,po:ee,onClose:()=>K(!1),onSave:async pt=>{try{await lr.updatePurchaseOrder(ee.id,pt),await Te(),K(!1),xe.success("PO updated successfully!")}catch(Nt){Rt.error("Error updating PO:",Nt),xe.error(Nt.response?.data?.message||"Failed to update PO"),K(!1)}}}),ae&&de&&o.jsx(z4e,{isOpen:ae,issuedPO:de,onClose:()=>{Y(!1),pe(null)},onSave:()=>{Te(),Y(!1),pe(null)}}),Z&&ee&&o.jsx(K4e,{isOpen:Z,po:ee,onClose:()=>{I(!1),X(null)}})]})})},pTe={USD:"US Dollar",EUR:"Euro",GBP:"British Pound",JPY:"Japanese Yen",AUD:"Australian Dollar",CAD:"Canadian Dollar",CHF:"Swiss Franc",NZD:"New Zealand Dollar",SGD:"Singapore Dollar",THB:"Thai Baht",IDR:"Indonesian Rupiah",PHP:"Philippine Peso",VND:"Vietnamese Dong",MMK:"Myanmar Kyat",BND:"Brunei Dollar",KHR:"Cambodian Riel",LAK:"Lao Kip",INR:"Indian Rupee",HKD:"Hong Kong Dollar",KRW:"South Korean Won",TWD:"Taiwan Dollar",CNY:"Chinese Yuan",SEK:"Swedish Krona",NOK:"Norwegian Krone",DKK:"Danish Krone"},gTe=["USD","EUR","GBP","JPY","AUD","CAD","CHF","SGD","THB","IDR","PHP","VND","MMK","BND","KHR","LAK","INR","HKD","KRW","TWD","CNY"],xTe=()=>{const[r,e]=B.useState([]),[t,n]=B.useState(!1),[a,s]=B.useState(null),[i,l]=B.useState(null),c=ws.useRef(!1),u=ws.useRef(!1),A=B.useCallback(async()=>{n(!0),s(null);try{const h=new AbortController,p=setTimeout(()=>h.abort(),15e3),m=await fetch(`https://api.frankfurter.app/latest?from=MYR&to=${gTe.join(",")}`,{signal:h.signal});if(clearTimeout(p),!m.ok)throw new Error(`API error: ${m.status}`);const y=await m.json();if(!y.rates)throw new Error("Invalid response from API");const g=Object.entries(y.rates).map(([v,b])=>({currency:v,rate:1/b,name:pTe[v]||v}));g.sort((v,b)=>v.currency.localeCompare(b.currency)),e(g),l(y.date),(u.current||!c.current)&&(xe.success("Exchange rates updated",{id:"exchange-rates-updated"}),c.current=!0,u.current=!1)}catch(h){h.name==="AbortError"?s("Request timed out. Please try again."):s(h.message||"Failed to fetch exchange rates"),console.error("Error fetching exchange rates:",h)}finally{n(!1)}},[]);return B.useEffect(()=>{A()},[A]),o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx(J7,{title:"Exchange Rates",description:"Live currency conversion rates to MYR (Malaysian Ringgit)"}),o.jsx(Vr,{padding:"sm",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(cee,{className:"w-5 h-5 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Frankfurter API"}),o.jsx("p",{className:"text-xs text-gray-500",children:"European Central Bank data"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[i&&o.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[o.jsx(so,{className:"w-4 h-4"}),o.jsxs("span",{children:["Date: ",i]})]}),o.jsxs("button",{onClick:()=>{u.current=!0,A()},disabled:t,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 transition-colors",children:[o.jsx(dC,{className:`w-4 h-4 ${t?"animate-spin":""}`}),t?"Loading...":"Refresh"]})]})]})}),a&&o.jsx(Vr,{className:"bg-red-50 border-red-200",children:o.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[o.jsx(ls,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{children:a}),o.jsx("button",{onClick:()=>{u.current=!0,A()},className:"ml-auto text-sm underline hover:no-underline",children:"Retry"})]})}),o.jsxs(Vr,{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Exchange Rates to MYR"}),t&&r.length===0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((h,p)=>o.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 animate-pulse",children:[o.jsx("div",{className:"h-5 bg-gray-200 rounded w-16 mb-3"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-28"})]},p))}):r.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(g_,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),o.jsx("p",{children:"No exchange rates available"}),o.jsx("button",{onClick:()=>{u.current=!0,A()},className:"mt-3 text-emerald-600 hover:underline",children:"Click to fetch rates"})]}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.map(h=>o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-lg font-bold text-gray-900",children:h.currency}),o.jsx("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-0.5 rounded",children:h.name})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["1 ",h.currency," ="]}),o.jsxs("div",{className:"text-xl font-semibold text-emerald-600",children:["MYR ",h.rate.toFixed(4)]})]},h.currency))})]}),o.jsx(Vr,{className:"bg-blue-50 border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Note:"})," Exchange rates are from the"," ",o.jsx("a",{href:"https://www.frankfurter.app/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:"Frankfurter API"})," ","(European Central Bank data). Rates are updated daily on business days."]})})]})},yTe=()=>{const{user:r}=hf(),{projects:e,timesheets:t,fetchProjects:n,fetchTimesheets:a}=os(),{clients:s,fetchClients:i}=ff(),{researchProjects:l,researchTimesheets:c,fetchResearchProjects:u,fetchResearchTimesheets:A}=nf(),[h,p]=B.useState(new Date().getFullYear()),[m,y]=B.useState(null),[g,v]=B.useState(!1);B.useEffect(()=>{n(),a(),i(),u(),A()},[]);const b=B.useMemo(()=>r?(Array.isArray(t)?t:[]).filter(Y=>Y.engineerId===r.id):[],[t,r?.id]),N=B.useMemo(()=>r?e.filter(Y=>Y.engineerId===r.id):[],[e,r?.id]),C=B.useMemo(()=>h==="all"?b:b.filter(Y=>new Date(Y.date).getFullYear()===h),[b,h]),E=B.useMemo(()=>r?(Array.isArray(c)?c:[]).filter(Y=>Y.teamMemberId===r.id):[],[c,r?.id]),_=B.useMemo(()=>h==="all"?E:E.filter(Y=>new Date(Y.date).getFullYear()===h),[E,h]),P=B.useMemo(()=>{const Y=C.reduce((Z,I)=>Z+parseFloat(I.hours.toString()||"0"),0),de=new Set(C.map(Z=>Z.projectId.toString())).size,pe=de>0?Y/de:0;return{totalHours:Y,projectsWorkedOn:de,avgHoursPerProject:pe}},[C]),O=B.useMemo(()=>{const Y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],de={};return Y.forEach(pe=>{de[pe]={}}),C.forEach(pe=>{const Z=new Date(pe.date),I=Y[Z.getMonth()],V=e.find(q=>q.id===pe.projectId.toString())?.projectCode||"Unknown";de[I][V]||(de[I][V]=0),de[I][V]+=parseFloat(pe.hours.toString()||"0")}),Y.map(pe=>({name:pe,...de[pe]}))},[C,e]),D=B.useMemo(()=>{const Y=new Set;return C.forEach(de=>{const pe=e.find(Z=>Z.id===de.projectId.toString());pe&&Y.add(pe.projectCode)}),Array.from(Y)},[C,e]),k=B.useMemo(()=>{const Y=["#00bfb3","#4285f4","#fbbc04","#ea4335","#9c27b0","#34a853","#ff6d00","#ab47bc"],de={};return D.forEach((pe,Z)=>{de[pe]=Y[Z%Y.length]}),de},[D]);B.useMemo(()=>{const Y={},de=["#00bfb3","#4285f4","#fbbc04","#ea4335","#9c27b0"];return C.forEach(pe=>{const Z=e.find(I=>I.id===pe.projectId.toString());Z&&(Y[Z.id]||(Y[Z.id]={name:Z.projectCode,hours:0,color:de[Object.keys(Y).length%de.length]}),Y[Z.id].hours+=parseFloat(pe.hours.toString()||"0"))}),Object.values(Y).sort((pe,Z)=>Z.hours-pe.hours).slice(0,5)},[C,e]);const H=B.useMemo(()=>{const Y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],de={};return Y.forEach(pe=>{de[pe]={}}),_.forEach(pe=>{const Z=new Date(pe.date),I=Y[Z.getMonth()],z=l.find(q=>q.id===pe.projectId.toString()),V=z?.researchCode||z?.title||"Unknown";de[I][V]||(de[I][V]=0),de[I][V]+=parseFloat(pe.hoursLogged.toString()||"0")}),Y.map(pe=>({name:pe,...de[pe]}))},[_,l]),L=B.useMemo(()=>{const Y=new Set;return _.forEach(de=>{const pe=l.find(Z=>Z.id===de.projectId.toString());pe&&Y.add(pe.researchCode||pe.title||"Unknown")}),Array.from(Y)},[_,l]),Q=B.useMemo(()=>{const Y=["#10b981","#8b5cf6","#f59e0b","#ef4444","#06b6d4","#ec4899","#84cc16","#f97316"],de={};return L.forEach((pe,Z)=>{de[pe]=Y[Z%Y.length]}),de},[L]),R=B.useMemo(()=>{const Y={engineering:0,"project-management":0,"measurement-site":0,"measurement-office":0};C.forEach(Z=>{Y[Z.workCategory]+=parseFloat(Z.hours.toString()||"0")});const de=Object.values(Y).reduce((Z,I)=>Z+I,0),pe={engineering:"#00bfb3","project-management":"#4285f4","measurement-site":"#fbbc04","measurement-office":"#ea4335"};return[{name:"Engineering",value:Y.engineering,percentage:de>0?Y.engineering/de*100:0,color:pe.engineering},{name:"Project Mgmt",value:Y["project-management"],percentage:de>0?Y["project-management"]/de*100:0,color:pe["project-management"]},{name:"Measurement (Site)",value:Y["measurement-site"],percentage:de>0?Y["measurement-site"]/de*100:0,color:pe["measurement-site"]},{name:"Measurement (Office)",value:Y["measurement-office"],percentage:de>0?Y["measurement-office"]/de*100:0,color:pe["measurement-office"]}].filter(Z=>Z.value>0)},[C]),K=B.useMemo(()=>{const Y={CFD:0,FEA:0,"Vibration & Acoustic":0},de={"computational-fluid-dynamic":"CFD","Computational Fluid Dynamics":"CFD",CFD:"CFD","finite-element-analysis":"FEA","Finite Element Analysis":"FEA",FEA:"FEA","vibration-acoustic":"Vibration & Acoustic",Vibration:"Vibration & Acoustic","Vibration & Acoustic":"Vibration & Acoustic",Acoustic:"Vibration & Acoustic"};N.forEach(I=>{let z=I.categories||I.workTypes;if(typeof z=="string")try{z=JSON.parse(z)}catch{console.warn("Failed to parse categories:",z)}z&&Array.isArray(z)&&z.forEach(V=>{const q=de[V];if(q){const ne=C.filter(ce=>ce.projectId===I.id).reduce((ce,Be)=>ce+Be.hours,0);Y[q]+=ne}})});const pe={CFD:"#6366f1",FEA:"#ec4899","Vibration & Acoustic":"#f59e0b"},Z=Object.values(Y).reduce((I,z)=>I+z,0);return Object.entries(Y).map(([I,z])=>({name:I,value:z,percentage:Z>0?z/Z*100:0,color:pe[I]})).filter(I=>I.value>0)},[N,C]),ee=B.useMemo(()=>N.map(Y=>{const de=C.filter(pe=>pe.projectId===Y.id).reduce((pe,Z)=>pe+Z.hours,0);return{...Y,hoursWorked:de}}),[N,C]),X=Y=>{y(Y),v(!0)},ae=[new Date().getFullYear()-2,new Date().getFullYear()-1,new Date().getFullYear()];return o.jsxs("div",{className:"min-h-full bg-gray-50 p-4 md:p-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Dashboard"}),o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Your personal work progress and statistics"})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[o.jsx(so,{className:"w-4 h-4 text-gray-600 ml-2"}),o.jsxs("select",{value:h,onChange:Y=>p(Y.target.value==="all"?"all":parseInt(Y.target.value)),className:"px-3 py-2 bg-transparent border-0 rounded font-medium text-gray-900 focus:ring-2 focus:ring-primary-500",children:[ae.map(Y=>o.jsx("option",{value:Y,children:Y},Y)),o.jsx("option",{value:"all",children:"All Time"})]})]})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"bg-white rounded-lg p-5 border border-gray-200 hover:border-cyan-200 hover:shadow-sm transition-all",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Hours"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:P.totalHours.toFixed(1)}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"hours tracked"})]}),o.jsx("div",{className:"w-12 h-12 bg-cyan-50 rounded-lg flex items-center justify-center",children:o.jsx(ho,{className:"w-6 h-6 text-primary-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg p-5 border border-gray-200 hover:border-blue-200 hover:shadow-sm transition-all",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Projects"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:P.projectsWorkedOn}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"projects worked on"})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center",children:o.jsx(Nu,{className:"w-6 h-6 text-blue-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg p-5 border border-gray-200 hover:border-green-200 hover:shadow-sm transition-all",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Avg Hours/Project"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:P.avgHoursPerProject.toFixed(1)}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"hours per project"})]}),o.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-lg flex items-center justify-center",children:o.jsx(A7,{className:"w-6 h-6 text-green-600"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Monthly Project Hours"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hours tracked each month on engineering projects"})]}),o.jsx(wp,{width:"100%",height:300,children:o.jsxs(LL,{data:O,margin:{top:5,right:20,left:-20,bottom:5},children:[o.jsx(t4,{strokeDasharray:"3 3",stroke:"#e5e7eb",vertical:!1}),o.jsx(n4,{dataKey:"name",tick:{fontSize:11,fill:"#9CA3AF"},axisLine:!1,tickLine:!1}),o.jsx(s4,{tick:{fontSize:11,fill:"#9CA3AF"},axisLine:!1,tickLine:!1}),o.jsx(bp,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},formatter:(Y,de)=>[`${Y} hrs`,de]}),o.jsx(jy,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"},iconType:"rect"}),D.map(Y=>o.jsx(Zj,{dataKey:Y,stackId:"hours",fill:k[Y],radius:[0,0,0,0]},Y))]})})]}),o.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Work by Category"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Time spent on different work types"})]}),o.jsx(wp,{width:"100%",height:300,children:o.jsxs(C2,{children:[o.jsx(Iy,{data:R,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",animationDuration:800,children:R.map((Y,de)=>o.jsx(Zh,{fill:Y.color},`cell-${de}`))}),o.jsx(bp,{formatter:Y=>`${Y} hrs`})]})}),o.jsx("div",{className:"space-y-2 mt-4",children:R.map((Y,de)=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:Y.color}}),o.jsx("span",{className:"text-gray-700",children:Y.name})]}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[Y.percentage.toFixed(0),"%"]})]},de))})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Monthly Research Hours"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hours tracked each month on research projects"})]}),L.length===0?o.jsx("div",{className:"h-[300px] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-gray-500",children:"No research hours tracked"}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Hours will appear here when you log time on research projects"})]})}):o.jsx(wp,{width:"100%",height:300,children:o.jsxs(LL,{data:H,margin:{top:5,right:20,left:-20,bottom:5},children:[o.jsx(t4,{strokeDasharray:"3 3",stroke:"#e5e7eb",vertical:!1}),o.jsx(n4,{dataKey:"name",tick:{fontSize:11,fill:"#9CA3AF"},axisLine:!1,tickLine:!1}),o.jsx(s4,{tick:{fontSize:11,fill:"#9CA3AF"},axisLine:!1,tickLine:!1}),o.jsx(bp,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},formatter:(Y,de)=>[`${Y} hrs`,de]}),o.jsx(jy,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"},iconType:"rect"}),L.map(Y=>o.jsx(Zj,{dataKey:Y,stackId:"hours",fill:Q[Y],radius:[0,0,0,0]},Y))]})})]}),o.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Work Fields"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Time spent by engineering field"})]}),K.length===0?o.jsx("div",{className:"h-[300px] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-gray-500",children:"No field data available"}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Fields will appear when you work on projects with work types assigned"})]})}):o.jsxs(o.Fragment,{children:[o.jsx(wp,{width:"100%",height:240,children:o.jsxs(C2,{children:[o.jsx(Iy,{data:K,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",animationDuration:800,children:K.map((Y,de)=>o.jsx(Zh,{fill:Y.color},`cell-field-${de}`))}),o.jsx(bp,{formatter:Y=>`${Y} hrs`})]})}),o.jsx("div",{className:"space-y-2 mt-4",children:K.map((Y,de)=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:Y.color}}),o.jsx("span",{className:"text-gray-700",children:Y.name})]}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[Y.percentage.toFixed(0),"%"]})]},de))})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"My Projects"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Projects you're assigned to"})]})}),ee.length===0?o.jsxs("div",{className:"px-6 py-12 text-center",children:[o.jsx(Nu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No projects assigned yet"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Code"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Project"}),o.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Client"}),o.jsx("th",{className:"px-6 py-3 text-right font-semibold text-gray-700",children:"Hours"}),o.jsx("th",{className:"px-6 py-3 text-center font-semibold text-gray-700",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:ee.map(Y=>{const de=s.find(pe=>pe.id===Y.companyId);return Y.plannedHours>0&&(Y.actualHours||0)/Y.plannedHours*100,o.jsxs("tr",{onClick:()=>X(Y),className:"hover:bg-gray-50 transition-colors cursor-pointer",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-block px-2.5 py-1 rounded text-xs font-semibold bg-cyan-50 text-primary-600",children:Y.projectCode})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:"font-medium text-gray-900 truncate",children:Y.title})}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:de?.name||"Unknown"}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex flex-col items-end gap-1.5",children:[o.jsxs("div",{className:"font-medium",children:[Y.hoursWorked," hrs"]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["of ",Y.plannedHours," planned"]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 max-w-[100px] shadow-inner overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full transition-all duration-300 ease-in-out shadow-sm ${(Y.actualHours||0)>Y.plannedHours?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-green-500 to-green-600"}`,style:{width:`${Math.min(Math.max(Y.plannedHours>0?(Y.actualHours||0)/Y.plannedHours*100:0,2),100)}%`}})})]})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded text-xs font-semibold ${Y.status==="ongoing"?"bg-blue-50 text-blue-700":Y.status==="completed"?"bg-emerald-50 text-emerald-700":Y.status==="pre-lim"?"bg-amber-50 text-amber-700":"bg-gray-100 text-gray-700"}`,children:Y.status==="pre-lim"?"Preliminary":Y.status.charAt(0).toUpperCase()+Y.status.slice(1)})})]},Y.id)})})]})})]})]}),g&&m&&o.jsx(E_,{project:m,isOpen:g,onClose:()=>{v(!1),y(null)}})]})},vTe=()=>o.jsx(yTe,{}),bTe=()=>{const{teamMembers:r}=fo(),{projects:e}=os(),[t,n]=B.useState([]),[a,s]=B.useState(!0),[i,l]=B.useState(null),[c,u]=B.useState("all"),[A,h]=B.useState(new Set),p=B.useCallback(async()=>{s(!0),l(null);try{const v=await wr.getAllTeamMembers({status:"all"}),b=Array.isArray(v)?v:v?.data||[];if(console.log("TeamWorkload: Fetched",b.length,"team members"),b.length===0){console.log("TeamWorkload: No team members found"),n([]),s(!1);return}let N={};try{N=await vp.getAllTeamAssignments(),console.log("TeamWorkload: Fetched assignments:",JSON.stringify(N,null,2)),console.log("TeamWorkload: Assignment keys:",Object.keys(N)),console.log("TeamWorkload: Fetched assignments for",Object.keys(N).length,"members");const E=b.find(_=>_.name?.toLowerCase().includes("hadi")||_.email?.toLowerCase().includes("hadi"));E&&(console.log("TeamWorkload: Hadi member ID:",E.id),console.log("TeamWorkload: Hadi assignments:",N[E.id]))}catch(E){console.error("TeamWorkload: Error fetching assignments:",E)}const C=[];for(const E of b)try{const _=E.user||{},P=_.name||E.name||"Unknown",O=_.email||E.email||"",D=_.avatar||E.avatar||"male-01",k=_.role||E.role||"engineer",L=(N[E.id]||[]).map(R=>({projectId:R.projectId,projectCode:R.projectCode,projectTitle:R.projectTitle,role:R.role,status:R.status})),Q=L.filter(R=>R.status!=="completed");C.push({id:E.id,name:P,email:O,avatar:D,role:k,department:E.department||"Engineering",assignedProjects:L,totalAssignments:Q.length,isAvailable:Q.length===0})}catch(_){console.error("TeamWorkload: Error processing member:",_)}console.log("TeamWorkload: Built",C.length,"workload entries"),n(C)}catch(v){console.error("TeamWorkload: Error loading data:",v),l(v.message||"Failed to load team workload data")}finally{s(!1)}},[]);B.useEffect(()=>{p();const v=setTimeout(()=>{s(b=>b&&(console.warn("TeamWorkload: Loading timeout reached"),!1))},15e3);return()=>clearTimeout(v)},[p]);const m=B.useMemo(()=>{switch(c){case"assigned":return t.filter(v=>v.totalAssignments>0);case"available":return t.filter(v=>v.totalAssignments===0);default:return t}},[t,c]),y=B.useMemo(()=>{const v=t.length,b=t.filter(E=>E.totalAssignments>0).length,N=t.filter(E=>E.totalAssignments===0).length,C=t.reduce((E,_)=>E+_.totalAssignments,0);return{total:v,assigned:b,available:N,totalAssignments:C}},[t]),g=v=>{const b=new Set(A);b.has(v)?b.delete(v):b.add(v),h(b)};return a?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"Loading team workload data..."})]}):i?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[o.jsx(yp,{className:"w-16 h-16 mb-4 text-red-400"}),o.jsx("p",{className:"text-lg font-medium mb-2 text-red-600",children:"Error loading data"}),o.jsx("p",{className:"text-sm text-gray-400 mb-4",children:i}),o.jsx(Ut,{onClick:p,variant:"outline",size:"sm",children:"Retry"})]}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[o.jsx(Su,{className:"w-16 h-16 mb-4 text-gray-300"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"No team members found"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Add team members to see workload data"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[o.jsxs("div",{onClick:()=>u("all"),className:`bg-white rounded-2xl shadow-sm border p-6 cursor-pointer transition-all ${c==="all"?"border-primary-500 ring-2 ring-primary-100":"border-gray-100 hover:shadow-md"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:o.jsx(Su,{className:"w-6 h-6 text-blue-600"})}),c==="all"&&o.jsx("span",{className:"text-xs font-medium text-primary-600 bg-primary-100 px-2 py-1 rounded-full",children:"Showing"})]}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Engineers"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y.total})]}),o.jsxs("div",{onClick:()=>u("assigned"),className:`bg-white rounded-2xl shadow-sm border p-6 cursor-pointer transition-all ${c==="assigned"?"border-green-500 ring-2 ring-green-100":"border-gray-100 hover:shadow-md"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center",children:o.jsx(Cu,{className:"w-6 h-6 text-green-600"})}),c==="assigned"&&o.jsx("span",{className:"text-xs font-medium text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"Showing"})]}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Assigned"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y.assigned}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Working on projects"})]}),o.jsxs("div",{onClick:()=>u("available"),className:`bg-white rounded-2xl shadow-sm border p-6 cursor-pointer transition-all ${c==="available"?"border-emerald-500 ring-2 ring-emerald-100":"border-gray-100 hover:shadow-md"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-100 flex items-center justify-center",children:o.jsx(za,{className:"w-6 h-6 text-emerald-600"})}),c==="available"&&o.jsx("span",{className:"text-xs font-medium text-emerald-600 bg-emerald-100 px-2 py-1 rounded-full",children:"Showing"})]}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Available"}),o.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:y.available}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Ready for assignment"})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center",children:o.jsx(Cu,{className:"w-6 h-6 text-purple-600"})})}),o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Assignments"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y.totalAssignments})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(pg,{className:"w-4 h-4"}),o.jsxs("span",{children:["Showing: ",o.jsx("span",{className:"font-medium capitalize",children:c==="all"?"All Engineers":c==="assigned"?"Assigned Engineers":"Available Engineers"})," ","(",m.length," results)"]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Engineer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Projects"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:m.map(v=>{const b=A.has(v.id);return o.jsxs(ws.Fragment,{children:[o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Mw,{src:v.avatar,alt:v.name,size:"sm"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:v.name}),o.jsx("p",{className:"text-xs text-gray-500",children:v.email})]})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 capitalize",children:v.department}),o.jsx("td",{className:"px-6 py-4",children:v.isAvailable?o.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800",children:[o.jsx(za,{className:"w-3 h-3"}),"Available"]}):o.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[o.jsx(Cu,{className:"w-3 h-3"}),"Assigned"]})}),o.jsx("td",{className:"px-6 py-4",children:v.totalAssignments>0?o.jsxs("button",{onClick:()=>g(v.id),className:"flex items-center gap-2 text-sm text-primary-600 hover:text-primary-700",children:[b?o.jsx(Kl,{className:"w-4 h-4"}):o.jsx(gA,{className:"w-4 h-4"}),o.jsxs("span",{className:"font-medium",children:[v.totalAssignments," project",v.totalAssignments!==1?"s":""]})]}):o.jsx("span",{className:"text-sm text-gray-400",children:"-"})})]}),b&&v.assignedProjects.filter(N=>N.status!=="completed").length>0&&o.jsx("tr",{className:"bg-gray-50",children:o.jsx("td",{colSpan:4,className:"px-6 py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Assigned Projects:"}),v.assignedProjects.filter(N=>N.status!=="completed").map(N=>o.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white rounded-lg border border-gray-200",children:[o.jsx("span",{className:"font-mono text-xs font-semibold text-gray-900",children:N.projectCode}),o.jsx("span",{className:"text-sm text-gray-700 flex-1",children:N.projectTitle}),o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${N.role==="lead_engineer"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:N.role==="lead_engineer"?"Lead":"Engineer"}),o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${N.status==="ongoing"?"bg-blue-100 text-blue-800":N.status==="pre-lim"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:N.status})]},N.projectId))]})})})]},v.id)})})]})}),m.length===0&&o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(Su,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{children:"No engineers found matching the selected filter"})]})]})]})};var E4=function(r,e){return E4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},E4(r,e)};function Du(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");E4(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var j4=function(){return j4=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},j4.apply(this,arguments)};function wo(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(A){try{u(n.next(A))}catch(h){i(h)}}function c(A){try{u(n.throw(A))}catch(h){i(h)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(r,[])).next())})}function to(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,i;return i={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(u){return function(A){return c([u,A])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,a=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(A){u=[6,A],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Ob(r,e,t){if(arguments.length===2)for(var n=0,a=e.length,s;n<a;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||e)}var PA=(function(){function r(e,t,n,a){this.left=e,this.top=t,this.width=n,this.height=a}return r.prototype.add=function(e,t,n,a){return new r(this.left+e,this.top+t,this.width+n,this.height+a)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(a){return a.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r})(),y5=function(r,e){return PA.fromClientRect(r,e.getBoundingClientRect())},wTe=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),a=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new PA(0,0,n,a)},v5=function(r){for(var e=[],t=0,n=r.length;t<n;){var a=r.charCodeAt(t++);if(a>=55296&&a<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),t--)}else e.push(a)}return e},xs=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],a=-1,s="";++a<t;){var i=r[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},pR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",CTe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Db=0;Db<pR.length;Db++)CTe[pR.charCodeAt(Db)]=Db;var gR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zx=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Pb=0;Pb<gR.length;Pb++)Zx[gR.charCodeAt(Pb)]=Pb;var NTe=function(r){var e=r.length*.75,t=r.length,n,a=0,s,i,l,c;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<t;n+=4)s=Zx[r.charCodeAt(n)],i=Zx[r.charCodeAt(n+1)],l=Zx[r.charCodeAt(n+2)],c=Zx[r.charCodeAt(n+3)],A[a++]=s<<2|i>>4,A[a++]=(i&15)<<4|l>>2,A[a++]=(l&3)<<6|c&63;return u},STe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},BTe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},B0=5,pk=11,aE=2,ETe=pk-B0,xq=65536>>B0,jTe=1<<B0,sE=jTe-1,_Te=1024>>B0,TTe=xq+_Te,kTe=TTe,FTe=32,OTe=kTe+FTe,DTe=65536>>pk,PTe=1<<ETe,ITe=PTe-1,xR=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},LTe=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},MTe=function(r,e){var t=NTe(r),n=Array.isArray(t)?BTe(t):new Uint32Array(t),a=Array.isArray(t)?STe(t):new Uint16Array(t),s=24,i=xR(a,s/2,n[4]/2),l=n[5]===2?xR(a,(s+n[4])/2):LTe(n,Math.ceil((s+n[4])/4));return new RTe(n[0],n[1],n[2],n[3],i,l)},RTe=(function(){function r(e,t,n,a,s,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=i}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>B0],t=(t<<aE)+(e&sE),this.data[t];if(e<=65535)return t=this.index[xq+(e-55296>>B0)],t=(t<<aE)+(e&sE),this.data[t];if(e<this.highStart)return t=OTe-DTe+(e>>pk),t=this.index[t],t+=e>>B0&ITe,t=this.index[t],t=(t<<aE)+(e&sE),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),yR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",UTe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ib=0;Ib<yR.length;Ib++)UTe[yR.charCodeAt(Ib)]=Ib;var QTe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",vR=50,HTe=1,yq=2,vq=3,zTe=4,KTe=5,bR=7,bq=8,wR=9,zh=10,_4=11,CR=12,T4=13,$Te=14,ey=15,k4=16,Lb=17,Qx=18,VTe=19,NR=20,F4=21,Hx=22,iE=23,np=24,kl=25,ty=26,ry=27,ap=28,qTe=29,o0=30,GTe=31,Mb=32,Rb=33,O4=34,D4=35,P4=36,Jy=37,I4=38,Cw=39,Nw=40,oE=41,wq=42,WTe=43,YTe=[9001,65288],Cq="!",rn="",Ub="",L4=MTe(QTe),sA=[o0,P4],M4=[HTe,yq,vq,KTe],Nq=[zh,bq],SR=[ry,ty],XTe=M4.concat(Nq),BR=[I4,Cw,Nw,O4,D4],JTe=[ey,T4],ZTe=function(r,e){e===void 0&&(e="strict");var t=[],n=[],a=[];return r.forEach(function(s,i){var l=L4.get(s);if(l>vR?(a.push(!0),l-=vR):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(i),t.push(k4);if(l===zTe||l===_4){if(i===0)return n.push(i),t.push(o0);var c=t[i-1];return XTe.indexOf(c)===-1?(n.push(n[i-1]),t.push(c)):(n.push(i),t.push(o0))}if(n.push(i),l===GTe)return t.push(e==="strict"?F4:Jy);if(l===wq||l===qTe)return t.push(o0);if(l===WTe)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(Jy):t.push(o0);t.push(l)}),[n,t,a]},lE=function(r,e,t,n){var a=n[t];if(Array.isArray(r)?r.indexOf(a)!==-1:r===a)for(var s=t;s<=n.length;){s++;var i=n[s];if(i===e)return!0;if(i!==zh)break}if(a===zh)for(var s=t;s>0;){s--;var l=n[s];if(Array.isArray(r)?r.indexOf(l)!==-1:r===l)for(var c=t;c<=n.length;){c++;var i=n[c];if(i===e)return!0;if(i!==zh)break}if(l!==zh)break}return!1},ER=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===zh)t--;else return n}return 0},e3e=function(r,e,t,n,a){if(t[n]===0)return rn;var s=n-1;if(Array.isArray(a)&&a[s]===!0)return rn;var i=s-1,l=s+1,c=e[s],u=i>=0?e[i]:0,A=e[l];if(c===yq&&A===vq)return rn;if(M4.indexOf(c)!==-1)return Cq;if(M4.indexOf(A)!==-1||Nq.indexOf(A)!==-1)return rn;if(ER(s,e)===bq)return Ub;if(L4.get(r[s])===_4||(c===Mb||c===Rb)&&L4.get(r[l])===_4||c===bR||A===bR||c===wR||[zh,T4,ey].indexOf(c)===-1&&A===wR||[Lb,Qx,VTe,np,ap].indexOf(A)!==-1||ER(s,e)===Hx||lE(iE,Hx,s,e)||lE([Lb,Qx],F4,s,e)||lE(CR,CR,s,e))return rn;if(c===zh)return Ub;if(c===iE||A===iE)return rn;if(A===k4||c===k4)return Ub;if([T4,ey,F4].indexOf(A)!==-1||c===$Te||u===P4&&JTe.indexOf(c)!==-1||c===ap&&A===P4||A===NR||sA.indexOf(A)!==-1&&c===kl||sA.indexOf(c)!==-1&&A===kl||c===ry&&[Jy,Mb,Rb].indexOf(A)!==-1||[Jy,Mb,Rb].indexOf(c)!==-1&&A===ty||sA.indexOf(c)!==-1&&SR.indexOf(A)!==-1||SR.indexOf(c)!==-1&&sA.indexOf(A)!==-1||[ry,ty].indexOf(c)!==-1&&(A===kl||[Hx,ey].indexOf(A)!==-1&&e[l+1]===kl)||[Hx,ey].indexOf(c)!==-1&&A===kl||c===kl&&[kl,ap,np].indexOf(A)!==-1)return rn;if([kl,ap,np,Lb,Qx].indexOf(A)!==-1)for(var h=s;h>=0;){var p=e[h];if(p===kl)return rn;if([ap,np].indexOf(p)!==-1)h--;else break}if([ry,ty].indexOf(A)!==-1)for(var h=[Lb,Qx].indexOf(c)!==-1?i:s;h>=0;){var p=e[h];if(p===kl)return rn;if([ap,np].indexOf(p)!==-1)h--;else break}if(I4===c&&[I4,Cw,O4,D4].indexOf(A)!==-1||[Cw,O4].indexOf(c)!==-1&&[Cw,Nw].indexOf(A)!==-1||[Nw,D4].indexOf(c)!==-1&&A===Nw||BR.indexOf(c)!==-1&&[NR,ty].indexOf(A)!==-1||BR.indexOf(A)!==-1&&c===ry||sA.indexOf(c)!==-1&&sA.indexOf(A)!==-1||c===np&&sA.indexOf(A)!==-1||sA.concat(kl).indexOf(c)!==-1&&A===Hx&&YTe.indexOf(r[l])===-1||sA.concat(kl).indexOf(A)!==-1&&c===Qx)return rn;if(c===oE&&A===oE){for(var m=t[s],y=1;m>0&&(m--,e[m]===oE);)y++;if(y%2!==0)return rn}return c===Mb&&A===Rb?rn:Ub},t3e=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=ZTe(r,e.lineBreak),n=t[0],a=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(l){return[kl,o0,wq].indexOf(l)!==-1?Jy:l}));var i=e.wordBreak==="keep-all"?s.map(function(l,c){return l&&r[c]>=19968&&r[c]<=40959}):void 0;return[n,a,i]},r3e=(function(){function r(e,t,n,a){this.codePoints=e,this.required=t===Cq,this.start=n,this.end=a}return r.prototype.slice=function(){return xs.apply(void 0,this.codePoints.slice(this.start,this.end))},r})(),n3e=function(r,e){var t=v5(r),n=t3e(t,e),a=n[0],s=n[1],i=n[2],l=t.length,c=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var A=rn;u<l&&(A=e3e(t,s,a,++u,i))===rn;);if(A!==rn||u===l){var h=new r3e(t,A,c,u);return c=u,{value:h,done:!1}}return{done:!0,value:null}}}},a3e=1,s3e=2,$v=4,jR=8,K2=10,_R=47,py=92,i3e=9,o3e=32,Qb=34,zx=61,l3e=35,c3e=36,u3e=37,Hb=39,zb=40,Kx=41,d3e=95,sl=45,A3e=33,h3e=60,f3e=62,m3e=64,p3e=91,g3e=93,x3e=61,y3e=123,Kb=63,v3e=125,TR=124,b3e=126,w3e=128,kR=65533,cE=42,p0=43,C3e=44,N3e=58,S3e=59,Zy=46,B3e=0,E3e=8,j3e=11,_3e=14,T3e=31,k3e=127,ld=-1,Sq=48,Bq=97,Eq=101,F3e=102,O3e=117,D3e=122,jq=65,_q=69,Tq=70,P3e=85,I3e=90,ao=function(r){return r>=Sq&&r<=57},L3e=function(r){return r>=55296&&r<=57343},sp=function(r){return ao(r)||r>=jq&&r<=Tq||r>=Bq&&r<=F3e},M3e=function(r){return r>=Bq&&r<=D3e},R3e=function(r){return r>=jq&&r<=I3e},U3e=function(r){return M3e(r)||R3e(r)},Q3e=function(r){return r>=w3e},$b=function(r){return r===K2||r===i3e||r===o3e},$2=function(r){return U3e(r)||Q3e(r)||r===d3e},FR=function(r){return $2(r)||ao(r)||r===sl},H3e=function(r){return r>=B3e&&r<=E3e||r===j3e||r>=_3e&&r<=T3e||r===k3e},Ih=function(r,e){return r!==py?!1:e!==K2},Vb=function(r,e,t){return r===sl?$2(e)||Ih(e,t):$2(r)?!0:!!(r===py&&Ih(r,e))},uE=function(r,e,t){return r===p0||r===sl?ao(e)?!0:e===Zy&&ao(t):ao(r===Zy?e:r)},z3e=function(r){var e=0,t=1;(r[e]===p0||r[e]===sl)&&(r[e]===sl&&(t=-1),e++);for(var n=[];ao(r[e]);)n.push(r[e++]);var a=n.length?parseInt(xs.apply(void 0,n),10):0;r[e]===Zy&&e++;for(var s=[];ao(r[e]);)s.push(r[e++]);var i=s.length,l=i?parseInt(xs.apply(void 0,s),10):0;(r[e]===_q||r[e]===Eq)&&e++;var c=1;(r[e]===p0||r[e]===sl)&&(r[e]===sl&&(c=-1),e++);for(var u=[];ao(r[e]);)u.push(r[e++]);var A=u.length?parseInt(xs.apply(void 0,u),10):0;return t*(a+l*Math.pow(10,-i))*Math.pow(10,c*A)},K3e={type:2},$3e={type:3},V3e={type:4},q3e={type:13},G3e={type:8},W3e={type:21},Y3e={type:9},X3e={type:10},J3e={type:11},Z3e={type:12},eke={type:14},qb={type:23},tke={type:1},rke={type:25},nke={type:24},ake={type:26},ske={type:27},ike={type:28},oke={type:29},lke={type:31},R4={type:32},kq=(function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(v5(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==R4;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Qb:return this.consumeStringToken(Qb);case l3e:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(FR(t)||Ih(n,a)){var s=Vb(t,n,a)?s3e:a3e,i=this.consumeName();return{type:5,value:i,flags:s}}break;case c3e:if(this.peekCodePoint(0)===zx)return this.consumeCodePoint(),q3e;break;case Hb:return this.consumeStringToken(Hb);case zb:return K3e;case Kx:return $3e;case cE:if(this.peekCodePoint(0)===zx)return this.consumeCodePoint(),eke;break;case p0:if(uE(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case C3e:return V3e;case sl:var l=e,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(uE(l,c,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Vb(l,c,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===sl&&u===f3e)return this.consumeCodePoint(),this.consumeCodePoint(),nke;break;case Zy:if(uE(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case _R:if(this.peekCodePoint(0)===cE)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===cE&&(A=this.consumeCodePoint(),A===_R))return this.consumeToken();if(A===ld)return this.consumeToken()}break;case N3e:return ake;case S3e:return ske;case h3e:if(this.peekCodePoint(0)===A3e&&this.peekCodePoint(1)===sl&&this.peekCodePoint(2)===sl)return this.consumeCodePoint(),this.consumeCodePoint(),rke;break;case m3e:var h=this.peekCodePoint(0),p=this.peekCodePoint(1),m=this.peekCodePoint(2);if(Vb(h,p,m)){var i=this.consumeName();return{type:7,value:i}}break;case p3e:return ike;case py:if(Ih(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case g3e:return oke;case x3e:if(this.peekCodePoint(0)===zx)return this.consumeCodePoint(),G3e;break;case y3e:return J3e;case v3e:return Z3e;case O3e:case P3e:var y=this.peekCodePoint(0),g=this.peekCodePoint(1);return y===p0&&(sp(g)||g===Kb)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case TR:if(this.peekCodePoint(0)===zx)return this.consumeCodePoint(),Y3e;if(this.peekCodePoint(0)===TR)return this.consumeCodePoint(),W3e;break;case b3e:if(this.peekCodePoint(0)===zx)return this.consumeCodePoint(),X3e;break;case ld:return R4}return $b(e)?(this.consumeWhiteSpace(),lke):ao(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):$2(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:xs(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();sp(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===Kb&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(xs.apply(void 0,e.map(function(c){return c===Kb?Sq:c})),16),s=parseInt(xs.apply(void 0,e.map(function(c){return c===Kb?Tq:c})),16);return{type:30,start:a,end:s}}var i=parseInt(xs.apply(void 0,e),16);if(this.peekCodePoint(0)===sl&&sp(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var l=[];sp(t)&&l.length<6;)l.push(t),t=this.consumeCodePoint();var s=parseInt(xs.apply(void 0,l),16);return{type:30,start:i,end:s}}else return{type:30,start:i,end:i}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===zb?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===zb?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ld)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Hb||t===Qb){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ld||this.peekCodePoint(0)===Kx)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),qb)}for(;;){var a=this.consumeCodePoint();if(a===ld||a===Kx)return{type:22,value:xs.apply(void 0,e)};if($b(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ld||this.peekCodePoint(0)===Kx?(this.consumeCodePoint(),{type:22,value:xs.apply(void 0,e)}):(this.consumeBadUrlRemnants(),qb);if(a===Qb||a===Hb||a===zb||H3e(a))return this.consumeBadUrlRemnants(),qb;if(a===py)if(Ih(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),qb;else e.push(a)}},r.prototype.consumeWhiteSpace=function(){for(;$b(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Kx||e===ld)return;Ih(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var a=Math.min(t,e);n+=xs.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var a=this._value[n];if(a===ld||a===void 0||a===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(a===K2)return this._value.splice(0,n),tke;if(a===py){var s=this._value[n+1];s!==ld&&s!==void 0&&(s===K2?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):Ih(a,s)&&(t+=this.consumeStringSlice(n),t+=xs(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=$v,n=this.peekCodePoint(0);for((n===p0||n===sl)&&e.push(this.consumeCodePoint());ao(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===Zy&&ao(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=jR;ao(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===_q||n===Eq)&&((a===p0||a===sl)&&ao(s)||ao(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=jR;ao(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[z3e(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],a=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Vb(a,s,i)){var l=this.consumeName();return{type:15,number:t,flags:n,unit:l}}return a===u3e?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(sp(e)){for(var t=xs(e);sp(this.peekCodePoint(0))&&t.length<6;)t+=xs(this.consumeCodePoint());$b(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||L3e(n)||n>1114111?kR:n}return e===ld?kR:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(FR(t))e+=xs(t);else if(Ih(t,this.peekCodePoint(0)))e+=xs(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r})(),Fq=(function(){function r(e){this._tokens=e}return r.create=function(e){var t=new kq;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||uke(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?R4:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r})(),Vv=function(r){return r.type===15},Lg=function(r){return r.type===17},ra=function(r){return r.type===20},cke=function(r){return r.type===0},U4=function(r,e){return ra(r)&&r.value===e},Oq=function(r){return r.type!==31},ug=function(r){return r.type!==31&&r.type!==4},Bd=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},uke=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},uf=function(r){return r.type===17||r.type===15},Ds=function(r){return r.type===16||uf(r)},Dq=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},Ki={type:17,number:0,flags:$v},gk={type:16,number:50,flags:$v},Kh={type:16,number:100,flags:$v},ny=function(r,e,t){var n=r[0],a=r[1];return[da(n,e),da(typeof a<"u"?a:n,t)]},da=function(r,e){if(r.type===16)return r.number/100*e;if(Vv(r))switch(r.unit){case"rem":case"em":return 16*r.number;default:return r.number}return r.number},Pq="deg",Iq="grad",Lq="rad",Mq="turn",b5={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case Pq:return Math.PI*e.number/180;case Iq:return Math.PI/200*e.number;case Lq:return e.number;case Mq:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Rq=function(r){return r.type===15&&(r.unit===Pq||r.unit===Iq||r.unit===Lq||r.unit===Mq)},Uq=function(r){var e=r.filter(ra).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ki,Ki];case"to top":case"bottom":return Tc(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ki,Kh];case"to right":case"left":return Tc(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Kh,Kh];case"to bottom":case"top":return Tc(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Kh,Ki];case"to left":case"right":return Tc(270)}return 0},Tc=function(r){return Math.PI*r/180},Wh={name:"color",parse:function(r,e){if(e.type===18){var t=dke[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),a=e.value.substring(1,2),s=e.value.substring(2,3);return $h(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),a=e.value.substring(1,2),s=e.value.substring(2,3),i=e.value.substring(3,4);return $h(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),a=e.value.substring(2,4),s=e.value.substring(4,6);return $h(parseInt(n,16),parseInt(a,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),a=e.value.substring(2,4),s=e.value.substring(4,6),i=e.value.substring(6,8);return $h(parseInt(n,16),parseInt(a,16),parseInt(s,16),parseInt(i,16)/255)}}if(e.type===20){var l=NA[e.value.toUpperCase()];if(typeof l<"u")return l}return NA.TRANSPARENT}},Yh=function(r){return(255&r)===0},di=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,a=255&r>>24;return e<255?"rgba("+a+","+n+","+t+","+e/255+")":"rgb("+a+","+n+","+t+")"},$h=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},OR=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},DR=function(r,e){var t=e.filter(ug);if(t.length===3){var n=t.map(OR),a=n[0],s=n[1],i=n[2];return $h(a,s,i,1)}if(t.length===4){var l=t.map(OR),a=l[0],s=l[1],i=l[2],c=l[3];return $h(a,s,i,c)}return 0};function dE(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var PR=function(r,e){var t=e.filter(ug),n=t[0],a=t[1],s=t[2],i=t[3],l=(n.type===17?Tc(n.number):b5.parse(r,n))/(Math.PI*2),c=Ds(a)?a.number/100:0,u=Ds(s)?s.number/100:0,A=typeof i<"u"&&Ds(i)?da(i,1):1;if(c===0)return $h(u*255,u*255,u*255,1);var h=u<=.5?u*(c+1):u+c-u*c,p=u*2-h,m=dE(p,h,l+1/3),y=dE(p,h,l),g=dE(p,h,l-1/3);return $h(m*255,y*255,g*255,A)},dke={hsl:PR,hsla:PR,rgb:DR,rgba:DR},gy=function(r,e){return Wh.parse(r,Fq.create(e).parseComponentValue())},NA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ake={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(ra(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},hke={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},w5=function(r,e){var t=Wh.parse(r,e[0]),n=e[1];return n&&Ds(n)?{color:t,stop:n}:{color:t,stop:null}},IR=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=Ki),n.stop===null&&(n.stop=Kh);for(var a=[],s=0,i=0;i<r.length;i++){var l=r[i].stop;if(l!==null){var c=da(l,e);c>s?a.push(c):a.push(s),s=c}else a.push(null)}for(var u=null,i=0;i<a.length;i++){var A=a[i];if(A===null)u===null&&(u=i);else if(u!==null){for(var h=i-u,p=a[u-1],m=(A-p)/(h+1),y=1;y<=h;y++)a[u+y-1]=m*y;u=null}}return r.map(function(g,v){var b=g.color;return{color:b,stop:Math.max(Math.min(1,a[v]/e),0)}})},fke=function(r,e,t){var n=e/2,a=t/2,s=da(r[0],e)-n,i=a-da(r[1],t);return(Math.atan2(i,s)+Math.PI*2)%(Math.PI*2)},mke=function(r,e,t){var n=typeof r=="number"?r:fke(r,e,t),a=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),s=e/2,i=t/2,l=a/2,c=Math.sin(n-Math.PI/2)*l,u=Math.cos(n-Math.PI/2)*l;return[a,s-u,s+u,i-c,i+c]},gu=function(r,e){return Math.sqrt(r*r+e*e)},LR=function(r,e,t,n,a){var s=[[0,0],[0,e],[r,0],[r,e]];return s.reduce(function(i,l){var c=l[0],u=l[1],A=gu(t-c,n-u);return(a?A<i.optimumDistance:A>i.optimumDistance)?{optimumCorner:l,optimumDistance:A}:i},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},pke=function(r,e,t,n,a){var s=0,i=0;switch(r.size){case 0:r.shape===0?s=i=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-a)):r.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),i=Math.min(Math.abs(t),Math.abs(t-a)));break;case 2:if(r.shape===0)s=i=Math.min(gu(e,t),gu(e,t-a),gu(e-n,t),gu(e-n,t-a));else if(r.shape===1){var l=Math.min(Math.abs(t),Math.abs(t-a))/Math.min(Math.abs(e),Math.abs(e-n)),c=LR(n,a,e,t,!0),u=c[0],A=c[1];s=gu(u-e,(A-t)/l),i=l*s}break;case 1:r.shape===0?s=i=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-a)):r.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),i=Math.max(Math.abs(t),Math.abs(t-a)));break;case 3:if(r.shape===0)s=i=Math.max(gu(e,t),gu(e,t-a),gu(e-n,t),gu(e-n,t-a));else if(r.shape===1){var l=Math.max(Math.abs(t),Math.abs(t-a))/Math.max(Math.abs(e),Math.abs(e-n)),h=LR(n,a,e,t,!1),u=h[0],A=h[1];s=gu(u-e,(A-t)/l),i=l*s}break}return Array.isArray(r.size)&&(s=da(r.size[0],n),i=r.size.length===2?da(r.size[1],a):s),[s,i]},gke=function(r,e){var t=Tc(180),n=[];return Bd(e).forEach(function(a,s){if(s===0){var i=a[0];if(i.type===20&&i.value==="to"){t=Uq(a);return}else if(Rq(i)){t=b5.parse(r,i);return}}var l=w5(r,a);n.push(l)}),{angle:t,stops:n,type:1}},Gb=function(r,e){var t=Tc(180),n=[];return Bd(e).forEach(function(a,s){if(s===0){var i=a[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){t=Uq(a);return}else if(Rq(i)){t=(b5.parse(r,i)+Tc(270))%Tc(360);return}}var l=w5(r,a);n.push(l)}),{angle:t,stops:n,type:1}},xke=function(r,e){var t=Tc(180),n=[],a=1,s=0,i=3,l=[];return Bd(e).forEach(function(c,u){var A=c[0];if(u===0){if(ra(A)&&A.value==="linear"){a=1;return}else if(ra(A)&&A.value==="radial"){a=2;return}}if(A.type===18){if(A.name==="from"){var h=Wh.parse(r,A.values[0]);n.push({stop:Ki,color:h})}else if(A.name==="to"){var h=Wh.parse(r,A.values[0]);n.push({stop:Kh,color:h})}else if(A.name==="color-stop"){var p=A.values.filter(ug);if(p.length===2){var h=Wh.parse(r,p[1]),m=p[0];Lg(m)&&n.push({stop:{type:16,number:m.number*100,flags:m.flags},color:h})}}}}),a===1?{angle:(t+Tc(180))%Tc(360),stops:n,type:a}:{size:i,shape:s,stops:n,position:l,type:a}},Qq="closest-side",Hq="farthest-side",zq="closest-corner",Kq="farthest-corner",$q="circle",Vq="ellipse",qq="cover",Gq="contain",yke=function(r,e){var t=0,n=3,a=[],s=[];return Bd(e).forEach(function(i,l){var c=!0;if(l===0){var u=!1;c=i.reduce(function(h,p){if(u)if(ra(p))switch(p.value){case"center":return s.push(gk),h;case"top":case"left":return s.push(Ki),h;case"right":case"bottom":return s.push(Kh),h}else(Ds(p)||uf(p))&&s.push(p);else if(ra(p))switch(p.value){case $q:return t=0,!1;case Vq:return t=1,!1;case"at":return u=!0,!1;case Qq:return n=0,!1;case qq:case Hq:return n=1,!1;case Gq:case zq:return n=2,!1;case Kq:return n=3,!1}else if(uf(p)||Ds(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return h},c)}if(c){var A=w5(r,i);a.push(A)}}),{size:n,shape:t,stops:a,position:s,type:2}},Wb=function(r,e){var t=0,n=3,a=[],s=[];return Bd(e).forEach(function(i,l){var c=!0;if(l===0?c=i.reduce(function(A,h){if(ra(h))switch(h.value){case"center":return s.push(gk),!1;case"top":case"left":return s.push(Ki),!1;case"right":case"bottom":return s.push(Kh),!1}else if(Ds(h)||uf(h))return s.push(h),!1;return A},c):l===1&&(c=i.reduce(function(A,h){if(ra(h))switch(h.value){case $q:return t=0,!1;case Vq:return t=1,!1;case Gq:case Qq:return n=0,!1;case Hq:return n=1,!1;case zq:return n=2,!1;case qq:case Kq:return n=3,!1}else if(uf(h)||Ds(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return A},c)),c){var u=w5(r,i);a.push(u)}}),{size:n,shape:t,stops:a,position:s,type:2}},vke=function(r){return r.type===1},bke=function(r){return r.type===2},xk={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=Wq[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function wke(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!Wq[r.name])}var Wq={"linear-gradient":gke,"-moz-linear-gradient":Gb,"-ms-linear-gradient":Gb,"-o-linear-gradient":Gb,"-webkit-linear-gradient":Gb,"radial-gradient":yke,"-moz-radial-gradient":Wb,"-ms-radial-gradient":Wb,"-o-radial-gradient":Wb,"-webkit-radial-gradient":Wb,"-webkit-gradient":xke},Cke={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return ug(n)&&wke(n)}).map(function(n){return xk.parse(r,n)})}},Nke={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(ra(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ske={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return Bd(e).map(function(t){return t.filter(Ds)}).map(Dq)}},Bke={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return Bd(e).map(function(t){return t.filter(ra).map(function(n){return n.value}).join(" ")}).map(Eke)}},Eke=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Up;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(Up||(Up={}));var jke={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return Bd(e).map(function(t){return t.filter(_ke)})}},_ke=function(r){return ra(r)||Ds(r)},C5=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Tke=C5("top"),kke=C5("right"),Fke=C5("bottom"),Oke=C5("left"),N5=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Dq(t.filter(Ds))}}},Dke=N5("top-left"),Pke=N5("top-right"),Ike=N5("bottom-right"),Lke=N5("bottom-left"),S5=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Mke=S5("top"),Rke=S5("right"),Uke=S5("bottom"),Qke=S5("left"),B5=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Vv(t)?t.number:0}}},Hke=B5("top"),zke=B5("right"),Kke=B5("bottom"),$ke=B5("left"),Vke={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qke={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){return e==="rtl"?1:0}},Gke={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(ra).reduce(function(t,n){return t|Wke(n.value)},0)}},Wke=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Yke={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Xke={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},V2;(function(r){r.NORMAL="normal",r.STRICT="strict"})(V2||(V2={}));var Jke={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){return e==="strict"?V2.STRICT:V2.NORMAL}},Zke={name:"line-height",initialValue:"normal",prefix:!1,type:4},MR=function(r,e){return ra(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:Ds(r)?da(r,e):e},eFe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:xk.parse(r,e)}},tFe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){return e==="inside"?0:1}},Q4={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},E5=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},rFe=E5("top"),nFe=E5("right"),aFe=E5("bottom"),sFe=E5("left"),iFe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(ra).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},oFe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){return e==="break-word"?"break-word":"normal"}},j5=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},lFe=j5("top"),cFe=j5("right"),uFe=j5("bottom"),dFe=j5("left"),AFe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},hFe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},fFe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&U4(e[0],"none")?[]:Bd(e).map(function(t){for(var n={color:NA.TRANSPARENT,offsetX:Ki,offsetY:Ki,blur:Ki},a=0,s=0;s<t.length;s++){var i=t[s];uf(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:n.blur=i,a++):n.color=Wh.parse(r,i)}return n})}},mFe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},pFe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=yFe[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},gFe=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},xFe=function(r){var e=r.filter(function(c){return c.type===17}).map(function(c){return c.number}),t=e[0],n=e[1];e[2],e[3];var a=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var i=e[12],l=e[13];return e[14],e[15],e.length===16?[t,n,a,s,i,l]:null},yFe={matrix:gFe,matrix3d:xFe},RR={type:16,number:50,flags:$v},vFe=[RR,RR],bFe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(Ds);return t.length!==2?vFe:[t[0],t[1]]}},wFe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}},xy;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(xy||(xy={}));var CFe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return xy.BREAK_ALL;case"keep-all":return xy.KEEP_ALL;default:return xy.NORMAL}}},NFe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(Lg(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Yq={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},SFe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return Lg(e)?e.number:1}},BFe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},EFe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(ra).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},jFe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(a){switch(a.type){case 20:case 0:t.push(a.value);break;case 17:t.push(a.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},_Fe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},TFe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){return Lg(e)?e.number:ra(e)&&e.value==="bold"?700:400}},kFe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(ra).map(function(t){return t.value})}},FFe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Js=function(r,e){return(r&e)!==0},OFe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},DFe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],a=e.filter(Oq),s=0;s<a.length;s++){var i=a[s],l=a[s+1];if(i.type===20){var c=l&&Lg(l)?l.number:1;n.push({counter:i.value,increment:c})}}return n}},PFe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(Oq),a=0;a<n.length;a++){var s=n[a],i=n[a+1];if(ra(s)&&s.value!=="none"){var l=i&&Lg(i)?i.number:0;t.push({counter:s.value,reset:l})}}return t}},IFe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(Vv).map(function(t){return Yq.parse(r,t)})}},LFe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],a=e.filter(cke);if(a.length%2!==0)return null;for(var s=0;s<a.length;s+=2){var i=a[s].value,l=a[s+1].value;n.push({open:i,close:l})}return n}},UR=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},MFe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&U4(e[0],"none")?[]:Bd(e).map(function(t){for(var n={color:255,offsetX:Ki,offsetY:Ki,blur:Ki,spread:Ki,inset:!1},a=0,s=0;s<t.length;s++){var i=t[s];U4(i,"inset")?n.inset=!0:uf(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:a===2?n.blur=i:n.spread=i,a++):n.color=Wh.parse(r,i)}return n})}},RFe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(ra).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},UFe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},QFe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return Vv(e)?e.number:0}},HFe=(function(){function r(e,t){var n,a;this.animationDuration=qt(e,IFe,t.animationDuration),this.backgroundClip=qt(e,Ake,t.backgroundClip),this.backgroundColor=qt(e,hke,t.backgroundColor),this.backgroundImage=qt(e,Cke,t.backgroundImage),this.backgroundOrigin=qt(e,Nke,t.backgroundOrigin),this.backgroundPosition=qt(e,Ske,t.backgroundPosition),this.backgroundRepeat=qt(e,Bke,t.backgroundRepeat),this.backgroundSize=qt(e,jke,t.backgroundSize),this.borderTopColor=qt(e,Tke,t.borderTopColor),this.borderRightColor=qt(e,kke,t.borderRightColor),this.borderBottomColor=qt(e,Fke,t.borderBottomColor),this.borderLeftColor=qt(e,Oke,t.borderLeftColor),this.borderTopLeftRadius=qt(e,Dke,t.borderTopLeftRadius),this.borderTopRightRadius=qt(e,Pke,t.borderTopRightRadius),this.borderBottomRightRadius=qt(e,Ike,t.borderBottomRightRadius),this.borderBottomLeftRadius=qt(e,Lke,t.borderBottomLeftRadius),this.borderTopStyle=qt(e,Mke,t.borderTopStyle),this.borderRightStyle=qt(e,Rke,t.borderRightStyle),this.borderBottomStyle=qt(e,Uke,t.borderBottomStyle),this.borderLeftStyle=qt(e,Qke,t.borderLeftStyle),this.borderTopWidth=qt(e,Hke,t.borderTopWidth),this.borderRightWidth=qt(e,zke,t.borderRightWidth),this.borderBottomWidth=qt(e,Kke,t.borderBottomWidth),this.borderLeftWidth=qt(e,$ke,t.borderLeftWidth),this.boxShadow=qt(e,MFe,t.boxShadow),this.color=qt(e,Vke,t.color),this.direction=qt(e,qke,t.direction),this.display=qt(e,Gke,t.display),this.float=qt(e,Yke,t.cssFloat),this.fontFamily=qt(e,jFe,t.fontFamily),this.fontSize=qt(e,_Fe,t.fontSize),this.fontStyle=qt(e,FFe,t.fontStyle),this.fontVariant=qt(e,kFe,t.fontVariant),this.fontWeight=qt(e,TFe,t.fontWeight),this.letterSpacing=qt(e,Xke,t.letterSpacing),this.lineBreak=qt(e,Jke,t.lineBreak),this.lineHeight=qt(e,Zke,t.lineHeight),this.listStyleImage=qt(e,eFe,t.listStyleImage),this.listStylePosition=qt(e,tFe,t.listStylePosition),this.listStyleType=qt(e,Q4,t.listStyleType),this.marginTop=qt(e,rFe,t.marginTop),this.marginRight=qt(e,nFe,t.marginRight),this.marginBottom=qt(e,aFe,t.marginBottom),this.marginLeft=qt(e,sFe,t.marginLeft),this.opacity=qt(e,SFe,t.opacity);var s=qt(e,iFe,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=qt(e,oFe,t.overflowWrap),this.paddingTop=qt(e,lFe,t.paddingTop),this.paddingRight=qt(e,cFe,t.paddingRight),this.paddingBottom=qt(e,uFe,t.paddingBottom),this.paddingLeft=qt(e,dFe,t.paddingLeft),this.paintOrder=qt(e,RFe,t.paintOrder),this.position=qt(e,hFe,t.position),this.textAlign=qt(e,AFe,t.textAlign),this.textDecorationColor=qt(e,BFe,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=qt(e,EFe,(a=t.textDecorationLine)!==null&&a!==void 0?a:t.textDecoration),this.textShadow=qt(e,fFe,t.textShadow),this.textTransform=qt(e,mFe,t.textTransform),this.transform=qt(e,pFe,t.transform),this.transformOrigin=qt(e,bFe,t.transformOrigin),this.visibility=qt(e,wFe,t.visibility),this.webkitTextStrokeColor=qt(e,UFe,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=qt(e,QFe,t.webkitTextStrokeWidth),this.wordBreak=qt(e,CFe,t.wordBreak),this.zIndex=qt(e,NFe,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return Yh(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return Js(this.display,4)||Js(this.display,33554432)||Js(this.display,268435456)||Js(this.display,536870912)||Js(this.display,67108864)||Js(this.display,134217728)},r})(),zFe=(function(){function r(e,t){this.content=qt(e,OFe,t.content),this.quotes=qt(e,LFe,t.quotes)}return r})(),QR=(function(){function r(e,t){this.counterIncrement=qt(e,DFe,t.counterIncrement),this.counterReset=qt(e,PFe,t.counterReset)}return r})(),qt=function(r,e,t){var n=new kq,a=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(a);var s=new Fq(n.read());switch(e.type){case 2:var i=s.parseComponentValue();return e.parse(r,ra(i)?i.value:e.initialValue);case 0:return e.parse(r,s.parseComponentValue());case 1:return e.parse(r,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return b5.parse(r,s.parseComponentValue());case"color":return Wh.parse(r,s.parseComponentValue());case"image":return xk.parse(r,s.parseComponentValue());case"length":var l=s.parseComponentValue();return uf(l)?l:Ki;case"length-percentage":var c=s.parseComponentValue();return Ds(c)?c:Ki;case"time":return Yq.parse(r,s.parseComponentValue())}break}},KFe="data-html2canvas-debug",$Fe=function(r){var e=r.getAttribute(KFe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},H4=function(r,e){var t=$Fe(r);return t===1||e===t},Ed=(function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,H4(t,3))debugger;this.styles=new HFe(e,window.getComputedStyle(t,null)),$4(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=y5(this.context,t),H4(t,4)&&(this.flags|=16)}return r})(),VFe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",HR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ay=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Yb=0;Yb<HR.length;Yb++)ay[HR.charCodeAt(Yb)]=Yb;var qFe=function(r){var e=r.length*.75,t=r.length,n,a=0,s,i,l,c;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<t;n+=4)s=ay[r.charCodeAt(n)],i=ay[r.charCodeAt(n+1)],l=ay[r.charCodeAt(n+2)],c=ay[r.charCodeAt(n+3)],A[a++]=s<<2|i>>4,A[a++]=(i&15)<<4|l>>2,A[a++]=(l&3)<<6|c&63;return u},GFe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},WFe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},E0=5,yk=11,AE=2,YFe=yk-E0,Xq=65536>>E0,XFe=1<<E0,hE=XFe-1,JFe=1024>>E0,ZFe=Xq+JFe,eOe=ZFe,tOe=32,rOe=eOe+tOe,nOe=65536>>yk,aOe=1<<YFe,sOe=aOe-1,zR=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},iOe=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},oOe=function(r,e){var t=qFe(r),n=Array.isArray(t)?WFe(t):new Uint32Array(t),a=Array.isArray(t)?GFe(t):new Uint16Array(t),s=24,i=zR(a,s/2,n[4]/2),l=n[5]===2?zR(a,(s+n[4])/2):iOe(n,Math.ceil((s+n[4])/4));return new lOe(n[0],n[1],n[2],n[3],i,l)},lOe=(function(){function r(e,t,n,a,s,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=i}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>E0],t=(t<<AE)+(e&hE),this.data[t];if(e<=65535)return t=this.index[Xq+(e-55296>>E0)],t=(t<<AE)+(e&hE),this.data[t];if(e<this.highStart)return t=rOe-nOe+(e>>yk),t=this.index[t],t+=e>>E0&sOe,t=this.index[t],t=(t<<AE)+(e&hE),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),KR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cOe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Xb=0;Xb<KR.length;Xb++)cOe[KR.charCodeAt(Xb)]=Xb;var uOe=1,fE=2,mE=3,$R=4,VR=5,dOe=7,qR=8,pE=9,gE=10,GR=11,WR=12,YR=13,XR=14,xE=15,AOe=function(r){for(var e=[],t=0,n=r.length;t<n;){var a=r.charCodeAt(t++);if(a>=55296&&a<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),t--)}else e.push(a)}return e},hOe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],a=-1,s="";++a<t;){var i=r[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},fOe=oOe(VFe),Sc="",yE="",mOe=function(r){return fOe.get(r)},pOe=function(r,e,t){var n=t-2,a=e[n],s=e[t-1],i=e[t];if(s===fE&&i===mE)return Sc;if(s===fE||s===mE||s===$R||i===fE||i===mE||i===$R)return yE;if(s===qR&&[qR,pE,GR,WR].indexOf(i)!==-1||(s===GR||s===pE)&&(i===pE||i===gE)||(s===WR||s===gE)&&i===gE||i===YR||i===VR||i===dOe||s===uOe)return Sc;if(s===YR&&i===XR){for(;a===VR;)a=e[--n];if(a===XR)return Sc}if(s===xE&&i===xE){for(var l=0;a===xE;)l++,a=e[--n];if(l%2===0)return Sc}return yE},gOe=function(r){var e=AOe(r),t=e.length,n=0,a=0,s=e.map(mOe);return{next:function(){if(n>=t)return{done:!0,value:null};for(var i=Sc;n<t&&(i=pOe(e,s,++n))===Sc;);if(i!==Sc||n===t){var l=hOe.apply(null,e.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},xOe=function(r){for(var e=gOe(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},yOe=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var a=t.getBoundingClientRect(),s=Math.round(a.height);if(r.body.removeChild(n),s===e)return!0}}return!1},vOe=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,a=v5(n.data).map(function(c){return xs(c)}),s=0,i={},l=a.every(function(c,u){t.setStart(n,s),t.setEnd(n,s+c.length);var A=t.getBoundingClientRect();s+=c.length;var h=A.x>i.x||A.y>i.y;return i=A,u===0?!0:h});return r.body.removeChild(e),l},bOe=function(){return typeof new Image().crossOrigin<"u"},wOe=function(){return typeof new XMLHttpRequest().responseType=="string"},COe=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},JR=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},NOe=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var a=new Image,s=e.toDataURL();a.src=s;var i=z4(t,t,0,0,a);return n.fillStyle="red",n.fillRect(0,0,t,t),ZR(i).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var u=r.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=t+"px",JR(c)?ZR(z4(t,t,0,0,u)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),JR(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},z4=function(r,e,t,n,a){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",r.toString()),i.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(l),l.appendChild(a),i},ZR=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},Mi={get SUPPORT_RANGE_BOUNDS(){var r=yOe(document);return Object.defineProperty(Mi,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=Mi.SUPPORT_RANGE_BOUNDS&&vOe(document);return Object.defineProperty(Mi,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=COe(document);return Object.defineProperty(Mi,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?NOe(document):Promise.resolve(!1);return Object.defineProperty(Mi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=bOe();return Object.defineProperty(Mi,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=wOe();return Object.defineProperty(Mi,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Mi,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Mi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},yy=(function(){function r(e,t){this.text=e,this.bounds=t}return r})(),SOe=function(r,e,t,n){var a=jOe(e,t),s=[],i=0;return a.forEach(function(l){if(t.textDecorationLine.length||l.trim().length>0)if(Mi.SUPPORT_RANGE_BOUNDS){var c=eU(n,i,l.length).getClientRects();if(c.length>1){var u=vk(l),A=0;u.forEach(function(p){s.push(new yy(p,PA.fromDOMRectList(r,eU(n,A+i,p.length).getClientRects()))),A+=p.length})}else s.push(new yy(l,PA.fromDOMRectList(r,c)))}else{var h=n.splitText(l.length);s.push(new yy(l,BOe(r,n))),n=h}else Mi.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));i+=l.length}),s},BOe=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(n,e);var s=y5(r,n);return n.firstChild&&a.replaceChild(n.firstChild,n),s}}return PA.EMPTY},eU=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(r,e),a.setEnd(r,e+t),a},vk=function(r){if(Mi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return xOe(r)},EOe=function(r,e){if(Mi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return TOe(r,e)},jOe=function(r,e){return e.letterSpacing!==0?vk(r):EOe(r,e)},_Oe=[32,160,4961,65792,65793,4153,4241],TOe=function(r,e){for(var t=n3e(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],a,s=function(){if(a.value){var i=a.value.slice(),l=v5(i),c="";l.forEach(function(u){_Oe.indexOf(u)===-1?c+=xs(u):(c.length&&n.push(c),n.push(xs(u)),c="")}),c.length&&n.push(c)}};!(a=t.next()).done;)s();return n},kOe=(function(){function r(e,t,n){this.text=FOe(t.data,n.textTransform),this.textBounds=SOe(e,this.text,n,t)}return r})(),FOe=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(OOe,DOe);case 2:return r.toUpperCase();default:return r}},OOe=/(^|\s|:|-|\(|\))([a-z])/g,DOe=function(r,e,t){return r.length>0?e+t.toUpperCase():r},Jq=(function(r){Du(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return e})(Ed),Zq=(function(r){Du(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return e})(Ed),eG=(function(r){Du(e,r);function e(t,n){var a=r.call(this,t,n)||this,s=new XMLSerializer,i=y5(t,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e})(Ed),tG=(function(r){Du(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.value=n.value,a}return e})(Ed),K4=(function(r){Du(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return e})(Ed),POe=[{type:15,flags:0,unit:"px",number:3}],IOe=[{type:16,flags:0,number:50}],LOe=function(r){return r.width>r.height?new PA(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new PA(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},MOe=function(r){var e=r.type===ROe?new Array(r.value.length+1).join(""):r.value;return e.length===0?r.placeholder||"":e},q2="checkbox",G2="radio",ROe="password",tU=707406591,bk=(function(r){Du(e,r);function e(t,n){var a=r.call(this,t,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=MOe(n),(a.type===q2||a.type===G2)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=LOe(a.bounds)),a.type){case q2:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=POe;break;case G2:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=IOe;break}return a}return e})(Ed),rG=(function(r){Du(e,r);function e(t,n){var a=r.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return a.value=s&&s.text||"",a}return e})(Ed),nG=(function(r){Du(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.value=n.value,a}return e})(Ed),aG=(function(r){Du(e,r);function e(t,n){var a=r.call(this,t,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=iG(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?gy(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):NA.TRANSPARENT,i=n.contentWindow.document.body?gy(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):NA.TRANSPARENT;a.backgroundColor=Yh(s)?Yh(i)?a.styles.backgroundColor:i:s}}catch{}return a}return e})(Ed),UOe=["OL","UL","MENU"],Sw=function(r,e,t,n){for(var a=e.firstChild,s=void 0;a;a=s)if(s=a.nextSibling,oG(a)&&a.data.trim().length>0)t.textNodes.push(new kOe(r,a,t.styles));else if(Ep(a))if(dG(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return Sw(r,l,t,n)});else{var i=sG(r,a);i.styles.isVisible()&&(QOe(a,i,n)?i.flags|=4:HOe(i.styles)&&(i.flags|=2),UOe.indexOf(a.tagName)!==-1&&(i.flags|=8),t.elements.push(i),a.slot,a.shadowRoot?Sw(r,a.shadowRoot,i,n):!W2(a)&&!lG(a)&&!Y2(a)&&Sw(r,a,i,n))}},sG=function(r,e){return V4(e)?new Jq(r,e):cG(e)?new Zq(r,e):lG(e)?new eG(r,e):zOe(e)?new tG(r,e):KOe(e)?new K4(r,e):$Oe(e)?new bk(r,e):Y2(e)?new rG(r,e):W2(e)?new nG(r,e):uG(e)?new aG(r,e):new Ed(r,e)},iG=function(r,e){var t=sG(r,e);return t.flags|=4,Sw(r,e,t,t),t},QOe=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||wk(r)&&t.styles.isTransparent()},HOe=function(r){return r.isPositioned()||r.isFloating()},oG=function(r){return r.nodeType===Node.TEXT_NODE},Ep=function(r){return r.nodeType===Node.ELEMENT_NODE},$4=function(r){return Ep(r)&&typeof r.style<"u"&&!Bw(r)},Bw=function(r){return typeof r.className=="object"},zOe=function(r){return r.tagName==="LI"},KOe=function(r){return r.tagName==="OL"},$Oe=function(r){return r.tagName==="INPUT"},VOe=function(r){return r.tagName==="HTML"},lG=function(r){return r.tagName==="svg"},wk=function(r){return r.tagName==="BODY"},cG=function(r){return r.tagName==="CANVAS"},rU=function(r){return r.tagName==="VIDEO"},V4=function(r){return r.tagName==="IMG"},uG=function(r){return r.tagName==="IFRAME"},nU=function(r){return r.tagName==="STYLE"},qOe=function(r){return r.tagName==="SCRIPT"},W2=function(r){return r.tagName==="TEXTAREA"},Y2=function(r){return r.tagName==="SELECT"},dG=function(r){return r.tagName==="SLOT"},aU=function(r){return r.tagName.indexOf("-")>0},GOe=(function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,a=e.counterReset,s=!0;n!==null&&n.forEach(function(l){var c=t.counters[l.counter];c&&l.increment!==0&&(s=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var i=[];return s&&a.forEach(function(l){var c=t.counters[l.counter];i.push(l.counter),c||(c=t.counters[l.counter]=[]),c.push(l.reset)}),i},r})(),sU={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},iU={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},WOe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},YOe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ip=function(r,e,t,n,a,s){return r<e||r>t?ev(r,a,s.length>0):n.integers.reduce(function(i,l,c){for(;r>=l;)r-=l,i+=n.values[c];return i},"")+s},AG=function(r,e,t,n){var a="";do t||r--,a=n(r)+a,r/=e;while(r*e>=e);return a},fs=function(r,e,t,n,a){var s=t-e+1;return(r<0?"-":"")+(AG(Math.abs(r),s,n,function(i){return xs(Math.floor(i%s)+e)})+a)},Xf=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return AG(Math.abs(r),n,!1,function(a){return e[Math.floor(a%n)]})+t},mp=1,kh=2,Fh=4,sy=8,iA=function(r,e,t,n,a,s){if(r<-9999||r>9999)return ev(r,4,a.length>0);var i=Math.abs(r),l=a;if(i===0)return e[0]+l;for(var c=0;i>0&&c<=4;c++){var u=i%10;u===0&&Js(s,mp)&&l!==""?l=e[u]+l:u>1||u===1&&c===0||u===1&&c===1&&Js(s,kh)||u===1&&c===1&&Js(s,Fh)&&r>100||u===1&&c>1&&Js(s,sy)?l=e[u]+(c>0?t[c-1]:"")+l:u===1&&c>0&&(l=t[c-1]+l),i=Math.floor(i/10)}return(r<0?n:"")+l},oU="",lU="",cU="",vE="",ev=function(r,e,t){var n=t?". ":"",a=t?"":"",s=t?", ":"",i=t?" ":"";switch(e){case 0:return""+i;case 1:return""+i;case 2:return""+i;case 5:var l=fs(r,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return Xf(r,"",a);case 6:return ip(r,1,3999,sU,3,n).toLowerCase();case 7:return ip(r,1,3999,sU,3,n);case 8:return fs(r,945,969,!1,n);case 9:return fs(r,97,122,!1,n);case 10:return fs(r,65,90,!1,n);case 11:return fs(r,1632,1641,!0,n);case 12:case 49:return ip(r,1,9999,iU,3,n);case 35:return ip(r,1,9999,iU,3,n).toLowerCase();case 13:return fs(r,2534,2543,!0,n);case 14:case 30:return fs(r,6112,6121,!0,n);case 15:return Xf(r,"",a);case 16:return Xf(r,"",a);case 17:case 48:return iA(r,"",oU,"",a,kh|Fh|sy);case 47:return iA(r,"",lU,"",a,mp|kh|Fh|sy);case 42:return iA(r,"",oU,"",a,kh|Fh|sy);case 41:return iA(r,"",lU,"",a,mp|kh|Fh|sy);case 26:return iA(r,"","",cU,a,0);case 25:return iA(r,"","",cU,a,mp|kh|Fh);case 31:return iA(r,"","",vE,s,mp|kh|Fh);case 33:return iA(r,"","",vE,s,0);case 32:return iA(r,"","",vE,s,mp|kh|Fh);case 18:return fs(r,2406,2415,!0,n);case 20:return ip(r,1,19999,YOe,3,n);case 21:return fs(r,2790,2799,!0,n);case 22:return fs(r,2662,2671,!0,n);case 22:return ip(r,1,10999,WOe,3,n);case 23:return Xf(r,"");case 24:return Xf(r,"");case 27:return fs(r,3302,3311,!0,n);case 28:return Xf(r,"",a);case 29:return Xf(r,"",a);case 34:return fs(r,3792,3801,!0,n);case 37:return fs(r,6160,6169,!0,n);case 38:return fs(r,4160,4169,!0,n);case 39:return fs(r,2918,2927,!0,n);case 40:return fs(r,1776,1785,!0,n);case 43:return fs(r,3046,3055,!0,n);case 44:return fs(r,3174,3183,!0,n);case 45:return fs(r,3664,3673,!0,n);case 46:return fs(r,3872,3881,!0,n);default:return fs(r,48,57,!0,n)}},hG="data-html2canvas-ignore",uU=(function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new GOe,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,a=XOe(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,i=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,u=e6e(a).then(function(){return wo(n,void 0,void 0,function(){var A,h;return to(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(a6e),l&&(l.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==t.top||l.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),A=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ZOe(c)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(c,h)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(r6e(document.doctype)+"<html></html>"),n6e(this.referenceElement.ownerDocument,s,i),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},r.prototype.createElementClone=function(e){if(H4(e,2))debugger;if(cG(e))return this.createCanvasClone(e);if(rU(e))return this.createVideoClone(e);if(nU(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return V4(t)&&(V4(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),aU(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return bE(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(s,i){return i&&typeof i.cssText=="string"?s+i.cssText:s},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var s=e.getContext("2d"),i=a.getContext("2d");if(i)if(!this.options.allowTaint&&s)i.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var l=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(l){var c=l.getContextAttributes();c?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}i.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},r.prototype.appendChildNode=function(e,t,n){(!Ep(t)||!qOe(t)&&!t.hasAttribute(hG)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Ep(t)||!nU(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var a=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Ep(s)&&dG(s)&&typeof s.assignedNodes=="function"){var i=s.assignedNodes();i.length&&i.forEach(function(l){return a.appendChildNode(t,l,n)})}else this.appendChildNode(t,s,n)},r.prototype.cloneNode=function(e,t){if(oG(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Ep(e)&&($4(e)||Bw(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var s=n.getComputedStyle(e),i=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&$4(a)&&(this.clonedReferenceElement=a),wk(a)&&o6e(a);var c=this.counters.parse(new QR(this.context,s)),u=this.resolvePseudoContent(e,a,i,vy.BEFORE);aU(e)&&(t=!0),rU(e)||this.cloneChildNodes(e,a,t),u&&a.insertBefore(u,a.firstChild);var A=this.resolvePseudoContent(e,a,l,vy.AFTER);return A&&a.appendChild(A),this.counters.pop(c),(s&&(this.options.copyStyles||Bw(e))&&!uG(e)||t)&&bE(s,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(W2(e)||Y2(e))&&(W2(a)||Y2(a))&&(a.value=e.value),a}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,a){var s=this;if(n){var i=n.content,l=t.ownerDocument;if(!(!l||!i||i==="none"||i==="-moz-alt-content"||n.display==="none")){this.counters.parse(new QR(this.context,n));var c=new zFe(this.context,n),u=l.createElement("html2canvaspseudoelement");bE(n,u),c.content.forEach(function(h){if(h.type===0)u.appendChild(l.createTextNode(h.value));else if(h.type===22){var p=l.createElement("img");p.src=h.value,p.style.opacity="1",u.appendChild(p)}else if(h.type===18){if(h.name==="attr"){var m=h.values.filter(ra);m.length&&u.appendChild(l.createTextNode(e.getAttribute(m[0].value)||""))}else if(h.name==="counter"){var y=h.values.filter(ug),g=y[0],v=y[1];if(g&&ra(g)){var b=s.counters.getCounterValue(g.value),N=v&&ra(v)?Q4.parse(s.context,v.value):3;u.appendChild(l.createTextNode(ev(b,N,!1)))}}else if(h.name==="counters"){var C=h.values.filter(ug),g=C[0],E=C[1],v=C[2];if(g&&ra(g)){var _=s.counters.getCounterValues(g.value),P=v&&ra(v)?Q4.parse(s.context,v.value):3,O=E&&E.type===0?E.value:"",D=_.map(function(L){return ev(L,P,!1)}).join(O);u.appendChild(l.createTextNode(D))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(l.createTextNode(UR(c.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(UR(c.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(h.value))}}),u.className=q4+" "+G4;var A=a===vy.BEFORE?" "+q4:" "+G4;return Bw(t)?t.className.baseValue+=A:t.className+=A,u}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r})(),vy;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(vy||(vy={}));var XOe=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(hG,"true"),r.body.appendChild(t),t},JOe=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},ZOe=function(r){return Promise.all([].slice.call(r.images,0).map(JOe))},e6e=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var a=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var s=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(s),e(r))},50)}})},t6e=["all","d","content"],bE=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);t6e.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},r6e=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},n6e=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},a6e=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},s6e=":before",i6e=":after",q4="___html2canvas___pseudoelement_before",G4="___html2canvas___pseudoelement_after",dU=`{
    content: "" !important;
    display: none !important;
}`,o6e=function(r){l6e(r,"."+q4+s6e+dU+`
         .`+G4+i6e+dU)},l6e=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},fG=(function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r})(),c6e=(function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(CE(e)||h6e(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return wo(this,void 0,void 0,function(){var t,n,a,s,i=this;return to(this,function(l){switch(l.label){case 0:return t=fG.isSameOrigin(e),n=!wE(e)&&this._options.useCORS===!0&&Mi.SUPPORT_CORS_IMAGES&&!t,a=!wE(e)&&!t&&!CE(e)&&typeof this._options.proxy=="string"&&Mi.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!wE(e)&&!CE(e)&&!a&&!n?[2]:(s=e,a?[4,this.proxy(s)]:[3,2]);case 1:s=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,u){var A=new Image;A.onload=function(){return c(A)},A.onerror=u,(f6e(s)||n)&&(A.crossOrigin="anonymous"),A.src=s,A.complete===!0&&setTimeout(function(){return c(A)},500),i._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(s,i){var l=Mi.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")s(c.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(p){return i(p)},!1),h.readAsDataURL(c.response)}else i("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=i;var u=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),t._options.imageTimeout){var A=t._options.imageTimeout;c.timeout=A,c.ontimeout=function(){return i("Timed out ("+A+"ms) proxying "+a)}}c.send()})},r})(),u6e=/^data:image\/svg\+xml/i,d6e=/^data:image\/.*;base64,/i,A6e=/^data:image\/.*/i,h6e=function(r){return Mi.SUPPORT_SVG_DRAWING||!m6e(r)},wE=function(r){return A6e.test(r)},f6e=function(r){return d6e.test(r)},CE=function(r){return r.substr(0,4)==="blob"},m6e=function(r){return r.substr(-3).toLowerCase()==="svg"||u6e.test(r)},Ht=(function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r})(),op=function(r,e,t){return new Ht(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},Jb=(function(){function r(e,t,n,a){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=a}return r.prototype.subdivide=function(e,t){var n=op(this.start,this.startControl,e),a=op(this.startControl,this.endControl,e),s=op(this.endControl,this.end,e),i=op(n,a,e),l=op(a,s,e),c=op(i,l,e);return t?new r(this.start,n,i,c):new r(c,l,s,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r})(),jc=function(r){return r.type===1},p6e=(function(){function r(e){var t=e.styles,n=e.bounds,a=ny(t.borderTopLeftRadius,n.width,n.height),s=a[0],i=a[1],l=ny(t.borderTopRightRadius,n.width,n.height),c=l[0],u=l[1],A=ny(t.borderBottomRightRadius,n.width,n.height),h=A[0],p=A[1],m=ny(t.borderBottomLeftRadius,n.width,n.height),y=m[0],g=m[1],v=[];v.push((s+c)/n.width),v.push((y+h)/n.width),v.push((i+g)/n.height),v.push((u+p)/n.height);var b=Math.max.apply(Math,v);b>1&&(s/=b,i/=b,c/=b,u/=b,h/=b,p/=b,y/=b,g/=b);var N=n.width-c,C=n.height-p,E=n.width-h,_=n.height-g,P=t.borderTopWidth,O=t.borderRightWidth,D=t.borderBottomWidth,k=t.borderLeftWidth,H=da(t.paddingTop,e.bounds.width),L=da(t.paddingRight,e.bounds.width),Q=da(t.paddingBottom,e.bounds.width),R=da(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?ja(n.left+k/3,n.top+P/3,s-k/3,i-P/3,Fn.TOP_LEFT):new Ht(n.left+k/3,n.top+P/3),this.topRightBorderDoubleOuterBox=s>0||i>0?ja(n.left+N,n.top+P/3,c-O/3,u-P/3,Fn.TOP_RIGHT):new Ht(n.left+n.width-O/3,n.top+P/3),this.bottomRightBorderDoubleOuterBox=h>0||p>0?ja(n.left+E,n.top+C,h-O/3,p-D/3,Fn.BOTTOM_RIGHT):new Ht(n.left+n.width-O/3,n.top+n.height-D/3),this.bottomLeftBorderDoubleOuterBox=y>0||g>0?ja(n.left+k/3,n.top+_,y-k/3,g-D/3,Fn.BOTTOM_LEFT):new Ht(n.left+k/3,n.top+n.height-D/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?ja(n.left+k*2/3,n.top+P*2/3,s-k*2/3,i-P*2/3,Fn.TOP_LEFT):new Ht(n.left+k*2/3,n.top+P*2/3),this.topRightBorderDoubleInnerBox=s>0||i>0?ja(n.left+N,n.top+P*2/3,c-O*2/3,u-P*2/3,Fn.TOP_RIGHT):new Ht(n.left+n.width-O*2/3,n.top+P*2/3),this.bottomRightBorderDoubleInnerBox=h>0||p>0?ja(n.left+E,n.top+C,h-O*2/3,p-D*2/3,Fn.BOTTOM_RIGHT):new Ht(n.left+n.width-O*2/3,n.top+n.height-D*2/3),this.bottomLeftBorderDoubleInnerBox=y>0||g>0?ja(n.left+k*2/3,n.top+_,y-k*2/3,g-D*2/3,Fn.BOTTOM_LEFT):new Ht(n.left+k*2/3,n.top+n.height-D*2/3),this.topLeftBorderStroke=s>0||i>0?ja(n.left+k/2,n.top+P/2,s-k/2,i-P/2,Fn.TOP_LEFT):new Ht(n.left+k/2,n.top+P/2),this.topRightBorderStroke=s>0||i>0?ja(n.left+N,n.top+P/2,c-O/2,u-P/2,Fn.TOP_RIGHT):new Ht(n.left+n.width-O/2,n.top+P/2),this.bottomRightBorderStroke=h>0||p>0?ja(n.left+E,n.top+C,h-O/2,p-D/2,Fn.BOTTOM_RIGHT):new Ht(n.left+n.width-O/2,n.top+n.height-D/2),this.bottomLeftBorderStroke=y>0||g>0?ja(n.left+k/2,n.top+_,y-k/2,g-D/2,Fn.BOTTOM_LEFT):new Ht(n.left+k/2,n.top+n.height-D/2),this.topLeftBorderBox=s>0||i>0?ja(n.left,n.top,s,i,Fn.TOP_LEFT):new Ht(n.left,n.top),this.topRightBorderBox=c>0||u>0?ja(n.left+N,n.top,c,u,Fn.TOP_RIGHT):new Ht(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||p>0?ja(n.left+E,n.top+C,h,p,Fn.BOTTOM_RIGHT):new Ht(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=y>0||g>0?ja(n.left,n.top+_,y,g,Fn.BOTTOM_LEFT):new Ht(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||i>0?ja(n.left+k,n.top+P,Math.max(0,s-k),Math.max(0,i-P),Fn.TOP_LEFT):new Ht(n.left+k,n.top+P),this.topRightPaddingBox=c>0||u>0?ja(n.left+Math.min(N,n.width-O),n.top+P,N>n.width+O?0:Math.max(0,c-O),Math.max(0,u-P),Fn.TOP_RIGHT):new Ht(n.left+n.width-O,n.top+P),this.bottomRightPaddingBox=h>0||p>0?ja(n.left+Math.min(E,n.width-k),n.top+Math.min(C,n.height-D),Math.max(0,h-O),Math.max(0,p-D),Fn.BOTTOM_RIGHT):new Ht(n.left+n.width-O,n.top+n.height-D),this.bottomLeftPaddingBox=y>0||g>0?ja(n.left+k,n.top+Math.min(_,n.height-D),Math.max(0,y-k),Math.max(0,g-D),Fn.BOTTOM_LEFT):new Ht(n.left+k,n.top+n.height-D),this.topLeftContentBox=s>0||i>0?ja(n.left+k+R,n.top+P+H,Math.max(0,s-(k+R)),Math.max(0,i-(P+H)),Fn.TOP_LEFT):new Ht(n.left+k+R,n.top+P+H),this.topRightContentBox=c>0||u>0?ja(n.left+Math.min(N,n.width+k+R),n.top+P+H,N>n.width+k+R?0:c-k+R,u-(P+H),Fn.TOP_RIGHT):new Ht(n.left+n.width-(O+L),n.top+P+H),this.bottomRightContentBox=h>0||p>0?ja(n.left+Math.min(E,n.width-(k+R)),n.top+Math.min(C,n.height+P+H),Math.max(0,h-(O+L)),p-(D+Q),Fn.BOTTOM_RIGHT):new Ht(n.left+n.width-(O+L),n.top+n.height-(D+Q)),this.bottomLeftContentBox=y>0||g>0?ja(n.left+k+R,n.top+_,Math.max(0,y-(k+R)),g-(D+Q),Fn.BOTTOM_LEFT):new Ht(n.left+k+R,n.top+n.height-(D+Q))}return r})(),Fn;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Fn||(Fn={}));var ja=function(r,e,t,n,a){var s=4*((Math.sqrt(2)-1)/3),i=t*s,l=n*s,c=r+t,u=e+n;switch(a){case Fn.TOP_LEFT:return new Jb(new Ht(r,u),new Ht(r,u-l),new Ht(c-i,e),new Ht(c,e));case Fn.TOP_RIGHT:return new Jb(new Ht(r,e),new Ht(r+i,e),new Ht(c,u-l),new Ht(c,u));case Fn.BOTTOM_RIGHT:return new Jb(new Ht(c,e),new Ht(c,e+l),new Ht(r+i,u),new Ht(r,u));case Fn.BOTTOM_LEFT:default:return new Jb(new Ht(c,u),new Ht(c-i,u),new Ht(r,e+l),new Ht(r,e))}},X2=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},g6e=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},J2=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},x6e=(function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r})(),Zb=(function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r})(),y6e=(function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r})(),v6e=function(r){return r.type===0},mG=function(r){return r.type===1},b6e=function(r){return r.type===2},AU=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},w6e=function(r,e,t,n,a){return r.map(function(s,i){switch(i){case 0:return s.add(e,t);case 1:return s.add(e+n,t);case 2:return s.add(e+n,t+a);case 3:return s.add(e,t+a)}return s})},pG=(function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r})(),gG=(function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new p6e(this.container),this.container.styles.opacity<1&&this.effects.push(new y6e(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new x6e(n,a,s))}if(this.container.styles.overflowX!==0){var i=X2(this.curves),l=J2(this.curves);AU(i,l)?this.effects.push(new Zb(i,6)):(this.effects.push(new Zb(i,2)),this.effects.push(new Zb(l,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var s=n.effects.filter(function(c){return!mG(c)});if(t||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,s),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var i=X2(n.curves),l=J2(n.curves);AU(i,l)||a.unshift(new Zb(l,6))}}else a.unshift.apply(a,s);n=n.parent}return a.filter(function(c){return Js(c.target,e)})},r})(),W4=function(r,e,t,n){r.container.elements.forEach(function(a){var s=Js(a.flags,4),i=Js(a.flags,2),l=new gG(a,r);Js(a.styles.display,2048)&&n.push(l);var c=Js(a.flags,8)?[]:n;if(s||i){var u=s||a.styles.isPositioned()?t:e,A=new pG(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var h=a.styles.zIndex.order;if(h<0){var p=0;u.negativeZIndex.some(function(y,g){return h>y.element.container.styles.zIndex.order?(p=g,!1):p>0}),u.negativeZIndex.splice(p,0,A)}else if(h>0){var m=0;u.positiveZIndex.some(function(y,g){return h>=y.element.container.styles.zIndex.order?(m=g+1,!1):m>0}),u.positiveZIndex.splice(m,0,A)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else a.styles.isFloating()?u.nonPositionedFloats.push(A):u.nonPositionedInlineLevel.push(A);W4(l,A,s?A:t,c)}else a.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),W4(l,e,t,c);Js(a.flags,8)&&xG(a,c)})},xG=function(r,e){for(var t=r instanceof K4?r.start:1,n=r instanceof K4?r.reversed:!1,a=0;a<e.length;a++){var s=e[a];s.container instanceof tG&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=ev(t,s.container.styles.listStyleType,!0),t+=n?-1:1}},C6e=function(r){var e=new gG(r,null),t=new pG(e),n=[];return W4(e,t,t,n),xG(e.container,n),t},hU=function(r,e){switch(e){case 0:return kc(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return kc(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return kc(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);default:return kc(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},N6e=function(r,e){switch(e){case 0:return kc(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return kc(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return kc(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);default:return kc(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},S6e=function(r,e){switch(e){case 0:return kc(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return kc(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return kc(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);default:return kc(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},B6e=function(r,e){switch(e){case 0:return ew(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return ew(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return ew(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);default:return ew(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},ew=function(r,e){var t=[];return jc(r)?t.push(r.subdivide(.5,!1)):t.push(r),jc(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},kc=function(r,e,t,n){var a=[];return jc(r)?a.push(r.subdivide(.5,!1)):a.push(r),jc(t)?a.push(t.subdivide(.5,!0)):a.push(t),jc(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),jc(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},yG=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},Z2=function(r){var e=r.styles,t=r.bounds,n=da(e.paddingLeft,t.width),a=da(e.paddingRight,t.width),s=da(e.paddingTop,t.width),i=da(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+a),-(e.borderTopWidth+e.borderBottomWidth+s+i))},E6e=function(r,e){return r===0?e.bounds:r===2?Z2(e):yG(e)},j6e=function(r,e){return r===0?e.bounds:r===2?Z2(e):yG(e)},NE=function(r,e,t){var n=E6e(pp(r.styles.backgroundOrigin,e),r),a=j6e(pp(r.styles.backgroundClip,e),r),s=_6e(pp(r.styles.backgroundSize,e),t,n),i=s[0],l=s[1],c=ny(pp(r.styles.backgroundPosition,e),n.width-i,n.height-l),u=T6e(pp(r.styles.backgroundRepeat,e),c,s,n,a),A=Math.round(n.left+c[0]),h=Math.round(n.top+c[1]);return[u,A,h,i,l]},lp=function(r){return ra(r)&&r.value===Up.AUTO},tw=function(r){return typeof r=="number"},_6e=function(r,e,t){var n=e[0],a=e[1],s=e[2],i=r[0],l=r[1];if(!i)return[0,0];if(Ds(i)&&l&&Ds(l))return[da(i,t.width),da(l,t.height)];var c=tw(s);if(ra(i)&&(i.value===Up.CONTAIN||i.value===Up.COVER)){if(tw(s)){var u=t.width/t.height;return u<s!=(i.value===Up.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var A=tw(n),h=tw(a),p=A||h;if(lp(i)&&(!l||lp(l))){if(A&&h)return[n,a];if(!c&&!p)return[t.width,t.height];if(p&&c){var m=A?n:a*s,y=h?a:n/s;return[m,y]}var g=A?n:t.width,v=h?a:t.height;return[g,v]}if(c){var b=0,N=0;return Ds(i)?b=da(i,t.width):Ds(l)&&(N=da(l,t.height)),lp(i)?b=N*s:(!l||lp(l))&&(N=b/s),[b,N]}var C=null,E=null;if(Ds(i)?C=da(i,t.width):l&&Ds(l)&&(E=da(l,t.height)),C!==null&&(!l||lp(l))&&(E=A&&h?C/n*a:t.height),E!==null&&lp(i)&&(C=A&&h?E/a*n:t.width),C!==null&&E!==null)return[C,E];throw new Error("Unable to calculate background-size for element")},pp=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},T6e=function(r,e,t,n,a){var s=e[0],i=e[1],l=t[0],c=t[1];switch(r){case 2:return[new Ht(Math.round(n.left),Math.round(n.top+i)),new Ht(Math.round(n.left+n.width),Math.round(n.top+i)),new Ht(Math.round(n.left+n.width),Math.round(c+n.top+i)),new Ht(Math.round(n.left),Math.round(c+n.top+i))];case 3:return[new Ht(Math.round(n.left+s),Math.round(n.top)),new Ht(Math.round(n.left+s+l),Math.round(n.top)),new Ht(Math.round(n.left+s+l),Math.round(n.height+n.top)),new Ht(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new Ht(Math.round(n.left+s),Math.round(n.top+i)),new Ht(Math.round(n.left+s+l),Math.round(n.top+i)),new Ht(Math.round(n.left+s+l),Math.round(n.top+i+c)),new Ht(Math.round(n.left+s),Math.round(n.top+i+c))];default:return[new Ht(Math.round(a.left),Math.round(a.top)),new Ht(Math.round(a.left+a.width),Math.round(a.top)),new Ht(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Ht(Math.round(a.left),Math.round(a.height+a.top))]}},k6e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",fU="Hidden Text",F6e=(function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),a=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),a.src=k6e,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(fU)),n.appendChild(s),n.appendChild(a);var l=a.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(fU)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:l,middle:c}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r})(),vG=(function(){function r(e,t){this.context=e,this.options=t}return r})(),O6e=1e4,D6e=(function(r){Du(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new F6e(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(a){return n.applyEffect(a)})},e.prototype.applyEffect=function(t){this.ctx.save(),b6e(t)&&(this.ctx.globalAlpha=t.opacity),v6e(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),mG(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return wo(this,void 0,void 0,function(){var n;return to(this,function(a){switch(a.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return wo(this,void 0,void 0,function(){return to(this,function(n){switch(n.label){case 0:if(Js(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,a){var s=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+a);else{var i=vk(t.text);i.reduce(function(l,c){return s.ctx.fillText(c,l,t.bounds.top+a),l+s.ctx.measureText(c).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),a=R6e(t.fontFamily).join(", "),s=Vv(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,s,a].join(" "),a,s]},e.prototype.renderTextNode=function(t,n){return wo(this,void 0,void 0,function(){var a,s,i,l,c,u,A,h,p=this;return to(this,function(m){return a=this.createFontStyle(n),s=a[0],i=a[1],l=a[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(i,l),u=c.baseline,A=c.middle,h=n.paintOrder,t.textBounds.forEach(function(y){h.forEach(function(g){switch(g){case 0:p.ctx.fillStyle=di(n.color),p.renderTextWithLetterSpacing(y,n.letterSpacing,u);var v=n.textShadow;v.length&&y.text.trim().length&&(v.slice(0).reverse().forEach(function(b){p.ctx.shadowColor=di(b.color),p.ctx.shadowOffsetX=b.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=b.offsetY.number*p.options.scale,p.ctx.shadowBlur=b.blur.number,p.renderTextWithLetterSpacing(y,n.letterSpacing,u)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=di(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(b){switch(b){case 1:p.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top+u),y.bounds.width,1);break;case 2:p.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top),y.bounds.width,1);break;case 3:p.ctx.fillRect(y.bounds.left,Math.ceil(y.bounds.top+A),y.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&y.text.trim().length&&(p.ctx.strokeStyle=di(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(y.text,y.bounds.left,y.bounds.top+u)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,a){if(a&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=Z2(t),i=J2(n);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return wo(this,void 0,void 0,function(){var n,a,s,i,l,c,N,N,u,A,h,p,E,m,y,_,g,v,b,N,C,E,_;return to(this,function(P){switch(P.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,a=t.curves,s=n.styles,i=0,l=n.textNodes,P.label=1;case 1:return i<l.length?(c=l[i],[4,this.renderTextNode(c,s)]):[3,4];case 2:P.sent(),P.label=3;case 3:return i++,[3,1];case 4:if(!(n instanceof Jq))return[3,8];P.label=5;case 5:return P.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return N=P.sent(),this.renderReplacedElement(n,a,N),[3,8];case 7:return P.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Zq&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof eG))return[3,12];P.label=9;case 9:return P.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return N=P.sent(),this.renderReplacedElement(n,a,N),[3,12];case 11:return P.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof aG&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:A=P.sent(),n.width&&n.height&&this.ctx.drawImage(A,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),P.label=14;case 14:if(n instanceof bk&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===q2?n.checked&&(this.ctx.save(),this.path([new Ht(n.bounds.left+h*.39363,n.bounds.top+h*.79),new Ht(n.bounds.left+h*.16,n.bounds.top+h*.5549),new Ht(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new Ht(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new Ht(n.bounds.left+h*.72983,n.bounds.top+h*.23),new Ht(n.bounds.left+h*.84,n.bounds.top+h*.34085),new Ht(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=di(tU),this.ctx.fill(),this.ctx.restore()):n.type===G2&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=di(tU),this.ctx.fill(),this.ctx.restore())),P6e(n)&&n.value.length){switch(p=this.createFontStyle(s),E=p[0],m=p[1],y=this.fontMetrics.getMetrics(E,m).baseline,this.ctx.font=E,this.ctx.fillStyle=di(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=L6e(n.styles.textAlign),_=Z2(n),g=0,n.styles.textAlign){case 1:g+=_.width/2;break;case 2:g+=_.width;break}v=_.add(g,0,0,-_.height/2+1),this.ctx.save(),this.path([new Ht(_.left,_.top),new Ht(_.left+_.width,_.top),new Ht(_.left+_.width,_.top+_.height),new Ht(_.left,_.top+_.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new yy(n.value,v),s.letterSpacing,y),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Js(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(b=n.styles.listStyleImage,b.type!==0)return[3,18];N=void 0,C=b.url,P.label=15;case 15:return P.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return N=P.sent(),this.ctx.drawImage(N,n.bounds.left-(N.width+10),n.bounds.top),[3,18];case 17:return P.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(E=this.createFontStyle(s)[0],this.ctx.font=E,this.ctx.fillStyle=di(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",_=new PA(n.bounds.left,n.bounds.top+da(n.styles.paddingTop,n.bounds.width),n.bounds.width,MR(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new yy(t.listValue,_),s.letterSpacing,MR(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),P.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return wo(this,void 0,void 0,function(){var n,a,b,s,i,b,l,c,b,u,A,b,h,p,b,m,y,b,g,v,b;return to(this,function(N){switch(N.label){case 0:if(Js(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:N.sent(),n=0,a=t.negativeZIndex,N.label=2;case 2:return n<a.length?(b=a[n],[4,this.renderStack(b)]):[3,5];case 3:N.sent(),N.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:N.sent(),s=0,i=t.nonInlineLevel,N.label=7;case 7:return s<i.length?(b=i[s],[4,this.renderNode(b)]):[3,10];case 8:N.sent(),N.label=9;case 9:return s++,[3,7];case 10:l=0,c=t.nonPositionedFloats,N.label=11;case 11:return l<c.length?(b=c[l],[4,this.renderStack(b)]):[3,14];case 12:N.sent(),N.label=13;case 13:return l++,[3,11];case 14:u=0,A=t.nonPositionedInlineLevel,N.label=15;case 15:return u<A.length?(b=A[u],[4,this.renderStack(b)]):[3,18];case 16:N.sent(),N.label=17;case 17:return u++,[3,15];case 18:h=0,p=t.inlineLevel,N.label=19;case 19:return h<p.length?(b=p[h],[4,this.renderNode(b)]):[3,22];case 20:N.sent(),N.label=21;case 21:return h++,[3,19];case 22:m=0,y=t.zeroOrAutoZIndexOrTransformedOrOpacity,N.label=23;case 23:return m<y.length?(b=y[m],[4,this.renderStack(b)]):[3,26];case 24:N.sent(),N.label=25;case 25:return m++,[3,23];case 26:g=0,v=t.positiveZIndex,N.label=27;case 27:return g<v.length?(b=v[g],[4,this.renderStack(b)]):[3,30];case 28:N.sent(),N.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(a,s){var i=jc(a)?a.start:a;s===0?n.ctx.moveTo(i.x,i.y):n.ctx.lineTo(i.x,i.y),jc(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(t,n,a,s){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},e.prototype.resizeImage=function(t,n,a){var s;if(t.width===n&&t.height===a)return t;var i=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,l=i.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(t,0,0,t.width,t.height,0,0,n,a),l},e.prototype.renderBackgroundImage=function(t){return wo(this,void 0,void 0,function(){var n,a,s,i,l,c;return to(this,function(u){switch(u.label){case 0:n=t.styles.backgroundImage.length-1,a=function(A){var h,p,m,H,X,ae,R,K,D,y,H,X,ae,R,K,g,v,b,N,C,E,_,P,O,D,k,H,L,Q,R,K,ee,X,ae,Y,de,pe,Z,I,z,V,q;return to(this,function(ne){switch(ne.label){case 0:if(A.type!==0)return[3,5];h=void 0,p=A.url,ne.label=1;case 1:return ne.trys.push([1,3,,4]),[4,s.context.cache.match(p)];case 2:return h=ne.sent(),[3,4];case 3:return ne.sent(),s.context.logger.error("Error loading background-image "+p),[3,4];case 4:return h&&(m=NE(t,n,[h.width,h.height,h.width/h.height]),H=m[0],X=m[1],ae=m[2],R=m[3],K=m[4],D=s.ctx.createPattern(s.resizeImage(h,R,K),"repeat"),s.renderRepeat(H,D,X,ae)),[3,6];case 5:vke(A)?(y=NE(t,n,[null,null,null]),H=y[0],X=y[1],ae=y[2],R=y[3],K=y[4],g=mke(A.angle,R,K),v=g[0],b=g[1],N=g[2],C=g[3],E=g[4],_=document.createElement("canvas"),_.width=R,_.height=K,P=_.getContext("2d"),O=P.createLinearGradient(b,C,N,E),IR(A.stops,v).forEach(function(ce){return O.addColorStop(ce.stop,di(ce.color))}),P.fillStyle=O,P.fillRect(0,0,R,K),R>0&&K>0&&(D=s.ctx.createPattern(_,"repeat"),s.renderRepeat(H,D,X,ae))):bke(A)&&(k=NE(t,n,[null,null,null]),H=k[0],L=k[1],Q=k[2],R=k[3],K=k[4],ee=A.position.length===0?[gk]:A.position,X=da(ee[0],R),ae=da(ee[ee.length-1],K),Y=pke(A,X,ae,R,K),de=Y[0],pe=Y[1],de>0&&pe>0&&(Z=s.ctx.createRadialGradient(L+X,Q+ae,0,L+X,Q+ae,de),IR(A.stops,de*2).forEach(function(ce){return Z.addColorStop(ce.stop,di(ce.color))}),s.path(H),s.ctx.fillStyle=Z,de!==pe?(I=t.bounds.left+.5*t.bounds.width,z=t.bounds.top+.5*t.bounds.height,V=pe/de,q=1/V,s.ctx.save(),s.ctx.translate(I,z),s.ctx.transform(1,0,0,V,0,0),s.ctx.translate(-I,-z),s.ctx.fillRect(L,q*(Q-z)+z,R,K*q),s.ctx.restore()):s.ctx.fill())),ne.label=6;case 6:return n--,[2]}})},s=this,i=0,l=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return i<l.length?(c=l[i],[5,a(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,a){return wo(this,void 0,void 0,function(){return to(this,function(s){return this.path(hU(a,n)),this.ctx.fillStyle=di(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,a,s){return wo(this,void 0,void 0,function(){var i,l;return to(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(t,a,s)]:[3,2];case 1:return c.sent(),[2];case 2:return i=N6e(s,a),this.path(i),this.ctx.fillStyle=di(t),this.ctx.fill(),l=S6e(s,a),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return wo(this,void 0,void 0,function(){var n,a,s,i,l,c,u,A,h=this;return to(this,function(p){switch(p.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,a=!Yh(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],i=I6e(pp(n.backgroundClip,0),t.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),Yh(n.backgroundColor)||(this.ctx.fillStyle=di(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(m){h.ctx.save();var y=X2(t.curves),g=m.inset?0:O6e,v=w6e(y,-g+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(h.path(y),h.ctx.clip(),h.mask(v)):(h.mask(y),h.ctx.clip(),h.path(v)),h.ctx.shadowOffsetX=m.offsetX.number+g,h.ctx.shadowOffsetY=m.offsetY.number,h.ctx.shadowColor=di(m.color),h.ctx.shadowBlur=m.blur.number,h.ctx.fillStyle=m.inset?di(m.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),p.label=2;case 2:l=0,c=0,u=s,p.label=3;case 3:return c<u.length?(A=u[c],A.style!==0&&!Yh(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,l,t.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,l,t.curves,3)];case 6:return p.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,l,t.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,l,t.curves)];case 10:p.sent(),p.label=11;case 11:l++,p.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,a,s,i){return wo(this,void 0,void 0,function(){var l,c,u,A,h,p,m,y,g,v,b,N,C,E,_,P,_,P;return to(this,function(O){return this.ctx.save(),l=B6e(s,a),c=hU(s,a),i===2&&(this.path(c),this.ctx.clip()),jc(c[0])?(u=c[0].start.x,A=c[0].start.y):(u=c[0].x,A=c[0].y),jc(c[1])?(h=c[1].end.x,p=c[1].end.y):(h=c[1].x,p=c[1].y),a===0||a===2?m=Math.abs(u-h):m=Math.abs(A-p),this.ctx.beginPath(),i===3?this.formatPath(l):this.formatPath(c.slice(0,2)),y=n<3?n*3:n*2,g=n<3?n*2:n,i===3&&(y=n,g=n),v=!0,m<=y*2?v=!1:m<=y*2+g?(b=m/(2*y+g),y*=b,g*=b):(N=Math.floor((m+g)/(y+g)),C=(m-N*y)/(N-1),E=(m-(N+1)*y)/N,g=E<=0||Math.abs(g-C)<Math.abs(g-E)?C:E),v&&(i===3?this.ctx.setLineDash([0,y+g]):this.ctx.setLineDash([y,g])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=di(t),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(jc(c[0])&&(_=c[3],P=c[0],this.ctx.beginPath(),this.formatPath([new Ht(_.end.x,_.end.y),new Ht(P.start.x,P.start.y)]),this.ctx.stroke()),jc(c[1])&&(_=c[1],P=c[2],this.ctx.beginPath(),this.formatPath([new Ht(_.end.x,_.end.y),new Ht(P.start.x,P.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return wo(this,void 0,void 0,function(){var n;return to(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=di(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=C6e(t),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(vG),P6e=function(r){return r instanceof nG||r instanceof rG?!0:r instanceof bk&&r.type!==G2&&r.type!==q2},I6e=function(r,e){switch(r){case 0:return X2(e);case 2:return g6e(e);default:return J2(e)}},L6e=function(r){switch(r){case 1:return"center";case 2:return"right";default:return"left"}},M6e=["-apple-system","system-ui"],R6e=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return M6e.indexOf(e)===-1}):r},U6e=(function(r){Du(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return e.prototype.render=function(t){return wo(this,void 0,void 0,function(){var n,a;return to(this,function(s){switch(s.label){case 0:return n=z4(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,Q6e(n)];case 1:return a=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=di(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(vG),Q6e=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},H6e=(function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Ob([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Ob([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Ob([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Ob([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r})(),z6e=(function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new H6e({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new c6e(this,e)}return r.instanceCount=1,r})(),Ck=function(r,e){return e===void 0&&(e={}),K6e(r,e)};typeof window<"u"&&fG.setContext(window);var K6e=function(r,e){return wo(void 0,void 0,void 0,function(){var t,n,a,s,i,l,c,u,A,h,p,m,y,g,v,b,N,C,E,_,O,P,O,D,k,H,L,Q,R,K,ee,X,ae,Y,de,pe,Z,I,z,V;return to(this,function(q){switch(q.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(D=e.allowTaint)!==null&&D!==void 0?D:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(H=e.useCORS)!==null&&H!==void 0?H:!1},s=j4({logging:(L=e.logging)!==null&&L!==void 0?L:!0,cache:e.cache},a),i={windowWidth:(Q=e.windowWidth)!==null&&Q!==void 0?Q:n.innerWidth,windowHeight:(R=e.windowHeight)!==null&&R!==void 0?R:n.innerHeight,scrollX:(K=e.scrollX)!==null&&K!==void 0?K:n.pageXOffset,scrollY:(ee=e.scrollY)!==null&&ee!==void 0?ee:n.pageYOffset},l=new PA(i.scrollX,i.scrollY,i.windowWidth,i.windowHeight),c=new z6e(s,l),u=(X=e.foreignObjectRendering)!==null&&X!==void 0?X:!1,A={allowTaint:(ae=e.allowTaint)!==null&&ae!==void 0?ae:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),h=new uU(c,r,A),p=h.clonedReferenceElement,p?[4,h.toIFrame(t,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=q.sent(),y=wk(p)||VOe(p)?wTe(p.ownerDocument):y5(c,p),g=y.width,v=y.height,b=y.left,N=y.top,C=$6e(c,p,e.backgroundColor),E={canvas:e.canvas,backgroundColor:C,scale:(de=(Y=e.scale)!==null&&Y!==void 0?Y:n.devicePixelRatio)!==null&&de!==void 0?de:1,x:((pe=e.x)!==null&&pe!==void 0?pe:0)+b,y:((Z=e.y)!==null&&Z!==void 0?Z:0)+N,width:(I=e.width)!==null&&I!==void 0?I:Math.ceil(g),height:(z=e.height)!==null&&z!==void 0?z:Math.ceil(v)},u?(c.logger.debug("Document cloned, using foreign object rendering"),O=new U6e(c,E),[4,O.render(p)]):[3,3];case 2:return _=q.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+b+","+N+" with size "+g+"x"+v+" using computed rendering"),c.logger.debug("Starting DOM parsing"),P=iG(c,p),C===P.styles.backgroundColor&&(P.styles.backgroundColor=NA.TRANSPARENT),c.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),O=new D6e(c,E),[4,O.render(P)];case 4:_=q.sent(),q.label=5;case 5:return(!((V=e.removeContainer)!==null&&V!==void 0)||V)&&(uU.destroy(m)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,_]}})})},$6e=function(r,e,t){var n=e.ownerDocument,a=n.documentElement?gy(r,getComputedStyle(n.documentElement).backgroundColor):NA.TRANSPARENT,s=n.body?gy(r,getComputedStyle(n.body).backgroundColor):NA.TRANSPARENT,i=typeof t=="string"?gy(r,t):t===null?NA.TRANSPARENT:4294967295;return e===n.documentElement?Yh(a)?Yh(s)?i:s:a:i};const V6e=Object.freeze(Object.defineProperty({__proto__:null,default:Ck},Symbol.toStringTag,{value:"Module"}));function Hn(r){"@babel/helpers - typeof";return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(r)}var ju=Uint8Array,zl=Uint16Array,Nk=Int32Array,Sk=new ju([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Bk=new ju([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),mU=new ju([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bG=function(r,e){for(var t=new zl(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var a=new Nk(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)a[s]=s-t[n]<<5|n;return{b:t,r:a}},wG=bG(Sk,2),q6e=wG.b,Y4=wG.r;q6e[28]=258,Y4[258]=28;var G6e=bG(Bk,0),pU=G6e.r,X4=new zl(32768);for(var ya=0;ya<32768;++ya){var _h=(ya&43690)>>1|(ya&21845)<<1;_h=(_h&52428)>>2|(_h&13107)<<2,_h=(_h&61680)>>4|(_h&3855)<<4,X4[ya]=((_h&65280)>>8|(_h&255)<<8)>>1}var by=(function(r,e,t){for(var n=r.length,a=0,s=new zl(e);a<n;++a)r[a]&&++s[r[a]-1];var i=new zl(e);for(a=1;a<e;++a)i[a]=i[a-1]+s[a-1]<<1;var l;if(t){l=new zl(1<<e);var c=15-e;for(a=0;a<n;++a)if(r[a])for(var u=a<<4|r[a],A=e-r[a],h=i[r[a]-1]++<<A,p=h|(1<<A)-1;h<=p;++h)l[X4[h]>>c]=u}else for(l=new zl(n),a=0;a<n;++a)r[a]&&(l[a]=X4[i[r[a]-1]++]>>15-r[a]);return l}),K0=new ju(288);for(var ya=0;ya<144;++ya)K0[ya]=8;for(var ya=144;ya<256;++ya)K0[ya]=9;for(var ya=256;ya<280;++ya)K0[ya]=7;for(var ya=280;ya<288;++ya)K0[ya]=8;var eC=new ju(32);for(var ya=0;ya<32;++ya)eC[ya]=5;var W6e=by(K0,9,0),Y6e=by(eC,5,0),CG=function(r){return(r+7)/8|0},X6e=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new ju(r.subarray(e,t))},oA=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},$x=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},SE=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var a=t.length,s=t.slice();if(!a)return{t:SG,l:0};if(a==1){var i=new ju(t[0].s+1);return i[t[0].s]=1,{t:i,l:1}}t.sort(function(_,P){return _.f-P.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],u=0,A=1,h=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};A!=a-1;)l=t[t[u].f<t[h].f?u++:h++],c=t[u!=A&&t[u].f<t[h].f?u++:h++],t[A++]={s:-1,f:l.f+c.f,l,r:c};for(var p=s[0].s,n=1;n<a;++n)s[n].s>p&&(p=s[n].s);var m=new zl(p+1),y=J4(t[A-1],m,0);if(y>e){var n=0,g=0,v=y-e,b=1<<v;for(s.sort(function(P,O){return m[O.s]-m[P.s]||P.f-O.f});n<a;++n){var N=s[n].s;if(m[N]>e)g+=b-(1<<y-m[N]),m[N]=e;else break}for(g>>=v;g>0;){var C=s[n].s;m[C]<e?g-=1<<e-m[C]++-1:++n}for(;n>=0&&g;--n){var E=s[n].s;m[E]==e&&(--m[E],++g)}y=e}return{t:new ju(m),l:y}},J4=function(r,e,t){return r.s==-1?Math.max(J4(r.l,e,t+1),J4(r.r,e,t+1)):e[r.s]=t},gU=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new zl(++e),n=0,a=r[0],s=1,i=function(c){t[n++]=c},l=1;l<=e;++l)if(r[l]==a&&l!=e)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=r[l]}return{c:t.subarray(0,n),n:e}},Vx=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},NG=function(r,e,t){var n=t.length,a=CG(e+2);r[a]=n&255,r[a+1]=n>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var s=0;s<n;++s)r[a+s+4]=t[s];return(a+4+n)*8},xU=function(r,e,t,n,a,s,i,l,c,u,A){oA(e,A++,t),++a[256];for(var h=SE(a,15),p=h.t,m=h.l,y=SE(s,15),g=y.t,v=y.l,b=gU(p),N=b.c,C=b.n,E=gU(g),_=E.c,P=E.n,O=new zl(19),D=0;D<N.length;++D)++O[N[D]&31];for(var D=0;D<_.length;++D)++O[_[D]&31];for(var k=SE(O,7),H=k.t,L=k.l,Q=19;Q>4&&!H[mU[Q-1]];--Q);var R=u+5<<3,K=Vx(a,K0)+Vx(s,eC)+i,ee=Vx(a,p)+Vx(s,g)+i+14+3*Q+Vx(O,H)+2*O[16]+3*O[17]+7*O[18];if(c>=0&&R<=K&&R<=ee)return NG(e,A,r.subarray(c,c+u));var X,ae,Y,de;if(oA(e,A,1+(ee<K)),A+=2,ee<K){X=by(p,m,0),ae=p,Y=by(g,v,0),de=g;var pe=by(H,L,0);oA(e,A,C-257),oA(e,A+5,P-1),oA(e,A+10,Q-4),A+=14;for(var D=0;D<Q;++D)oA(e,A+3*D,H[mU[D]]);A+=3*Q;for(var Z=[N,_],I=0;I<2;++I)for(var z=Z[I],D=0;D<z.length;++D){var V=z[D]&31;oA(e,A,pe[V]),A+=H[V],V>15&&(oA(e,A,z[D]>>5&127),A+=z[D]>>12)}}else X=W6e,ae=K0,Y=Y6e,de=eC;for(var D=0;D<l;++D){var q=n[D];if(q>255){var V=q>>18&31;$x(e,A,X[V+257]),A+=ae[V+257],V>7&&(oA(e,A,q>>23&31),A+=Sk[V]);var ne=q&31;$x(e,A,Y[ne]),A+=de[ne],ne>3&&($x(e,A,q>>5&8191),A+=Bk[ne])}else $x(e,A,X[q]),A+=ae[q]}return $x(e,A,X[256]),A+ae[256]},J6e=new Nk([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),SG=new ju(0),Z6e=function(r,e,t,n,a,s){var i=s.z||r.length,l=new ju(n+i+5*(1+Math.ceil(i/7e3))+a),c=l.subarray(n,l.length-a),u=s.l,A=(s.r||0)&7;if(e){A&&(c[0]=s.r>>3);for(var h=J6e[e-1],p=h>>13,m=h&8191,y=(1<<t)-1,g=s.p||new zl(32768),v=s.h||new zl(y+1),b=Math.ceil(t/3),N=2*b,C=function(Te){return(r[Te]^r[Te+1]<<b^r[Te+2]<<N)&y},E=new Nk(25e3),_=new zl(288),P=new zl(32),O=0,D=0,k=s.i||0,H=0,L=s.w||0,Q=0;k+2<i;++k){var R=C(k),K=k&32767,ee=v[R];if(g[K]=ee,v[R]=K,L<=k){var X=i-k;if((O>7e3||H>24576)&&(X>423||!u)){A=xU(r,c,0,E,_,P,D,H,Q,k-Q,A),H=O=D=0,Q=k;for(var ae=0;ae<286;++ae)_[ae]=0;for(var ae=0;ae<30;++ae)P[ae]=0}var Y=2,de=0,pe=m,Z=K-ee&32767;if(X>2&&R==C(k-Z))for(var I=Math.min(p,X)-1,z=Math.min(32767,k),V=Math.min(258,X);Z<=z&&--pe&&K!=ee;){if(r[k+Y]==r[k+Y-Z]){for(var q=0;q<V&&r[k+q]==r[k+q-Z];++q);if(q>Y){if(Y=q,de=Z,q>I)break;for(var ne=Math.min(Z,q-2),ce=0,ae=0;ae<ne;++ae){var Be=k-Z+ae&32767,Ae=g[Be],ye=Be-Ae&32767;ye>ce&&(ce=ye,ee=Be)}}}K=ee,ee=g[K],Z+=K-ee&32767}if(de){E[H++]=268435456|Y4[Y]<<18|pU[de];var Pe=Y4[Y]&31,je=pU[de]&31;D+=Sk[Pe]+Bk[je],++_[257+Pe],++P[je],L=k+Y,++O}else E[H++]=r[k],++_[r[k]]}}for(k=Math.max(k,L);k<i;++k)E[H++]=r[k],++_[r[k]];A=xU(r,c,u,E,_,P,D,H,Q,k-Q,A),u||(s.r=A&7|c[A/8|0]<<3,A-=7,s.h=v,s.p=g,s.i=k,s.w=L)}else{for(var k=s.w||0;k<i+u;k+=65535){var Se=k+65535;Se>=i&&(c[A/8|0]=u,Se=i),A=NG(c,A+1,r.subarray(k,Se))}s.i=i}return X6e(l,0,n+CG(A)+a)},BG=function(){var r=1,e=0;return{p:function(t){for(var n=r,a=e,s=t.length|0,i=0;i!=s;){for(var l=Math.min(i+2655,s);i<l;++i)a+=n+=t[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}r=n,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},eDe=function(r,e,t,n,a){if(!a&&(a={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),i=new ju(s.length+r.length);i.set(s),i.set(r,s.length),r=i,a.w=s.length}return Z6e(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,a)},EG=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},tDe=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=BG();a.p(e.dictionary),EG(r,2,a.d())}};function Z4(r,e){e||(e={});var t=BG();t.p(r);var n=eDe(r,e,e.dictionary?6:2,4);return tDe(n,e),EG(n,n.length-4,t.d()),n}var rDe=typeof TextDecoder<"u"&&new TextDecoder,nDe=0;try{rDe.decode(SG,{stream:!0}),nDe=1}catch{}function aDe(r){if(Array.isArray(r))return r}function sDe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(c=(n=s.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&t.return!=null&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function yU(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function iDe(r,e){if(r){if(typeof r=="string")return yU(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?yU(r,e):void 0}}function oDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vU(r,e){return aDe(r)||sDe(r,e)||iDe(r,e)||oDe()}function bU(r,e="utf8"){return new TextDecoder(e).decode(r)}const lDe=new TextEncoder;function cDe(r){return lDe.encode(r)}const uDe=1024*8,dDe=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),BE={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ek{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=uDe,t={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,s=e.byteLength-a;let i=a;(ArrayBuffer.isView(e)||e instanceof Ek)&&(e.byteLength!==e.buffer.byteLength&&(i=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=i,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,i,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=BE[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+n);if(this.littleEndian===dDe&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new BE[t](l.buffer);return this.offset+=n,c.reverse(),c}const i=new BE[t](s);return this.offset+=n,i}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return bU(this.readBytes(e))}decodeText(e=1,t="utf8"){return bU(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(cDe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Mg(r){let e=r.length;for(;--e>=0;)r[e]=0}const ADe=3,hDe=258,jG=29,fDe=256,mDe=fDe+1+jG,_G=30,pDe=512,gDe=new Array((mDe+2)*2);Mg(gDe);const xDe=new Array(_G*2);Mg(xDe);const yDe=new Array(pDe);Mg(yDe);const vDe=new Array(hDe-ADe+1);Mg(vDe);const bDe=new Array(jG);Mg(bDe);const wDe=new Array(_G);Mg(wDe);const CDe=(r,e,t,n)=>{let a=r&65535|0,s=r>>>16&65535|0,i=0;for(;t!==0;){i=t>2e3?2e3:t,t-=i;do a=a+e[n++]|0,s=s+a|0;while(--i);a%=65521,s%=65521}return a|s<<16|0};var e_=CDe;const NDe=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},SDe=new Uint32Array(NDe()),BDe=(r,e,t,n)=>{const a=SDe,s=n+t;r^=-1;for(let i=n;i<s;i++)r=r>>>8^a[(r^e[i])&255];return r^-1};var cd=BDe,t_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},TG={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const EDe=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var jDe=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)EDe(t,n)&&(r[n]=t[n])}}return r},_De=r=>{let e=0;for(let n=0,a=r.length;n<a;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,a=0,s=r.length;n<s;n++){let i=r[n];t.set(i,a),a+=i.length}return t},kG={assign:jDe,flattenChunks:_De};let FG=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{FG=!1}const tv=new Uint8Array(256);for(let r=0;r<256;r++)tv[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;tv[254]=tv[254]=1;var TDe=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,a,s,i=r.length,l=0;for(a=0;a<i;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<i&&(n=r.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(l),s=0,a=0;s<l;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<i&&(n=r.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const kDe=(r,e)=>{if(e<65534&&r.subarray&&FG)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var FDe=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,a;const s=new Array(t*2);for(a=0,n=0;n<t;){let i=r[n++];if(i<128){s[a++]=i;continue}let l=tv[i];if(l>4){s[a++]=65533,n+=l-1;continue}for(i&=l===2?31:l===3?15:7;l>1&&n<t;)i=i<<6|r[n++]&63,l--;if(l>1){s[a++]=65533;continue}i<65536?s[a++]=i:(i-=65536,s[a++]=55296|i>>10&1023,s[a++]=56320|i&1023)}return kDe(s,a)},ODe=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+tv[r[t]]>e?t:e},r_={string2buf:TDe,buf2string:FDe,utf8border:ODe};function DDe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var PDe=DDe;const rw=16209,IDe=16191;var LDe=function(e,t){let n,a,s,i,l,c,u,A,h,p,m,y,g,v,b,N,C,E,_,P,O,D,k,H;const L=e.state;n=e.next_in,k=e.input,a=n+(e.avail_in-5),s=e.next_out,H=e.output,i=s-(t-e.avail_out),l=s+(e.avail_out-257),c=L.dmax,u=L.wsize,A=L.whave,h=L.wnext,p=L.window,m=L.hold,y=L.bits,g=L.lencode,v=L.distcode,b=(1<<L.lenbits)-1,N=(1<<L.distbits)-1;e:do{y<15&&(m+=k[n++]<<y,y+=8,m+=k[n++]<<y,y+=8),C=g[m&b];t:for(;;){if(E=C>>>24,m>>>=E,y-=E,E=C>>>16&255,E===0)H[s++]=C&65535;else if(E&16){_=C&65535,E&=15,E&&(y<E&&(m+=k[n++]<<y,y+=8),_+=m&(1<<E)-1,m>>>=E,y-=E),y<15&&(m+=k[n++]<<y,y+=8,m+=k[n++]<<y,y+=8),C=v[m&N];r:for(;;){if(E=C>>>24,m>>>=E,y-=E,E=C>>>16&255,E&16){if(P=C&65535,E&=15,y<E&&(m+=k[n++]<<y,y+=8,y<E&&(m+=k[n++]<<y,y+=8)),P+=m&(1<<E)-1,P>c){e.msg="invalid distance too far back",L.mode=rw;break e}if(m>>>=E,y-=E,E=s-i,P>E){if(E=P-E,E>A&&L.sane){e.msg="invalid distance too far back",L.mode=rw;break e}if(O=0,D=p,h===0){if(O+=u-E,E<_){_-=E;do H[s++]=p[O++];while(--E);O=s-P,D=H}}else if(h<E){if(O+=u+h-E,E-=h,E<_){_-=E;do H[s++]=p[O++];while(--E);if(O=0,h<_){E=h,_-=E;do H[s++]=p[O++];while(--E);O=s-P,D=H}}}else if(O+=h-E,E<_){_-=E;do H[s++]=p[O++];while(--E);O=s-P,D=H}for(;_>2;)H[s++]=D[O++],H[s++]=D[O++],H[s++]=D[O++],_-=3;_&&(H[s++]=D[O++],_>1&&(H[s++]=D[O++]))}else{O=s-P;do H[s++]=H[O++],H[s++]=H[O++],H[s++]=H[O++],_-=3;while(_>2);_&&(H[s++]=H[O++],_>1&&(H[s++]=H[O++]))}}else if((E&64)===0){C=v[(C&65535)+(m&(1<<E)-1)];continue r}else{e.msg="invalid distance code",L.mode=rw;break e}break}}else if((E&64)===0){C=g[(C&65535)+(m&(1<<E)-1)];continue t}else if(E&32){L.mode=IDe;break e}else{e.msg="invalid literal/length code",L.mode=rw;break e}break}}while(n<a&&s<l);_=y>>3,n-=_,y-=_<<3,m&=(1<<y)-1,e.next_in=n,e.next_out=s,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=s<l?257+(l-s):257-(s-l),L.hold=m,L.bits=y};const cp=15,wU=852,CU=592,NU=0,EE=1,SU=2,MDe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),RDe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),UDe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),QDe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),HDe=(r,e,t,n,a,s,i,l)=>{const c=l.bits;let u=0,A=0,h=0,p=0,m=0,y=0,g=0,v=0,b=0,N=0,C,E,_,P,O,D=null,k;const H=new Uint16Array(cp+1),L=new Uint16Array(cp+1);let Q=null,R,K,ee;for(u=0;u<=cp;u++)H[u]=0;for(A=0;A<n;A++)H[e[t+A]]++;for(m=c,p=cp;p>=1&&H[p]===0;p--);if(m>p&&(m=p),p===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<p&&H[h]===0;h++);for(m<h&&(m=h),v=1,u=1;u<=cp;u++)if(v<<=1,v-=H[u],v<0)return-1;if(v>0&&(r===NU||p!==1))return-1;for(L[1]=0,u=1;u<cp;u++)L[u+1]=L[u]+H[u];for(A=0;A<n;A++)e[t+A]!==0&&(i[L[e[t+A]]++]=A);if(r===NU?(D=Q=i,k=20):r===EE?(D=MDe,Q=RDe,k=257):(D=UDe,Q=QDe,k=0),N=0,A=0,u=h,O=s,y=m,g=0,_=-1,b=1<<m,P=b-1,r===EE&&b>wU||r===SU&&b>CU)return 1;for(;;){R=u-g,i[A]+1<k?(K=0,ee=i[A]):i[A]>=k?(K=Q[i[A]-k],ee=D[i[A]-k]):(K=96,ee=0),C=1<<u-g,E=1<<y,h=E;do E-=C,a[O+(N>>g)+E]=R<<24|K<<16|ee|0;while(E!==0);for(C=1<<u-1;N&C;)C>>=1;if(C!==0?(N&=C-1,N+=C):N=0,A++,--H[u]===0){if(u===p)break;u=e[t+i[A]]}if(u>m&&(N&P)!==_){for(g===0&&(g=m),O+=h,y=u-g,v=1<<y;y+g<p&&(v-=H[y+g],!(v<=0));)y++,v<<=1;if(b+=1<<y,r===EE&&b>wU||r===SU&&b>CU)return 1;_=N&P,a[_]=m<<24|y<<16|O-s|0}}return N!==0&&(a[O+N]=u-g<<24|64<<16|0),l.bits=m,0};var wy=HDe;const zDe=0,OG=1,DG=2,{Z_FINISH:BU,Z_BLOCK:KDe,Z_TREES:nw,Z_OK:$0,Z_STREAM_END:$De,Z_NEED_DICT:VDe,Z_STREAM_ERROR:Dc,Z_DATA_ERROR:PG,Z_MEM_ERROR:IG,Z_BUF_ERROR:qDe,Z_DEFLATED:EU}=TG,_5=16180,jU=16181,_U=16182,TU=16183,kU=16184,FU=16185,OU=16186,DU=16187,PU=16188,IU=16189,tC=16190,lA=16191,jE=16192,LU=16193,_E=16194,MU=16195,RU=16196,UU=16197,QU=16198,aw=16199,sw=16200,HU=16201,zU=16202,KU=16203,$U=16204,VU=16205,TE=16206,qU=16207,GU=16208,_a=16209,LG=16210,MG=16211,GDe=852,WDe=592,YDe=15,XDe=YDe,WU=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function JDe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const am=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<_5||e.mode>MG?1:0},RG=r=>{if(am(r))return Dc;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=_5,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(GDe),e.distcode=e.distdyn=new Int32Array(WDe),e.sane=1,e.back=-1,$0},UG=r=>{if(am(r))return Dc;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,RG(r)},QG=(r,e)=>{let t;if(am(r))return Dc;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Dc:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,UG(r))},HG=(r,e)=>{if(!r)return Dc;const t=new JDe;r.state=t,t.strm=r,t.window=null,t.mode=_5;const n=QG(r,e);return n!==$0&&(r.state=null),n},ZDe=r=>HG(r,XDe);let YU=!0,kE,FE;const ePe=r=>{if(YU){kE=new Int32Array(512),FE=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(wy(OG,r.lens,0,288,kE,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;wy(DG,r.lens,0,32,FE,0,r.work,{bits:5}),YU=!1}r.lencode=kE,r.lenbits=9,r.distcode=FE,r.distbits=5},zG=(r,e,t,n)=>{let a;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>n&&(a=n),s.window.set(e.subarray(t-n,t-n+a),s.wnext),n-=a,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},tPe=(r,e)=>{let t,n,a,s,i,l,c,u,A,h,p,m,y,g,v=0,b,N,C,E,_,P,O,D;const k=new Uint8Array(4);let H,L;const Q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(am(r)||!r.output||!r.input&&r.avail_in!==0)return Dc;t=r.state,t.mode===lA&&(t.mode=jE),i=r.next_out,a=r.output,c=r.avail_out,s=r.next_in,n=r.input,l=r.avail_in,u=t.hold,A=t.bits,h=l,p=c,D=$0;e:for(;;)switch(t.mode){case _5:if(t.wrap===0){t.mode=jE;break}for(;A<16;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if(t.wrap&2&&u===35615){t.wbits===0&&(t.wbits=15),t.check=0,k[0]=u&255,k[1]=u>>>8&255,t.check=cd(t.check,k,2,0),u=0,A=0,t.mode=jU;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((u&255)<<8)+(u>>8))%31){r.msg="incorrect header check",t.mode=_a;break}if((u&15)!==EU){r.msg="unknown compression method",t.mode=_a;break}if(u>>>=4,A-=4,O=(u&15)+8,t.wbits===0&&(t.wbits=O),O>15||O>t.wbits){r.msg="invalid window size",t.mode=_a;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=u&512?IU:lA,u=0,A=0;break;case jU:for(;A<16;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if(t.flags=u,(t.flags&255)!==EU){r.msg="unknown compression method",t.mode=_a;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=_a;break}t.head&&(t.head.text=u>>8&1),t.flags&512&&t.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,t.check=cd(t.check,k,2,0)),u=0,A=0,t.mode=_U;case _U:for(;A<32;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}t.head&&(t.head.time=u),t.flags&512&&t.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,t.check=cd(t.check,k,4,0)),u=0,A=0,t.mode=TU;case TU:for(;A<16;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}t.head&&(t.head.xflags=u&255,t.head.os=u>>8),t.flags&512&&t.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,t.check=cd(t.check,k,2,0)),u=0,A=0,t.mode=kU;case kU:if(t.flags&1024){for(;A<16;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}t.length=u,t.head&&(t.head.extra_len=u),t.flags&512&&t.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,t.check=cd(t.check,k,2,0)),u=0,A=0}else t.head&&(t.head.extra=null);t.mode=FU;case FU:if(t.flags&1024&&(m=t.length,m>l&&(m=l),m&&(t.head&&(O=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+m),O)),t.flags&512&&t.wrap&4&&(t.check=cd(t.check,n,m,s)),l-=m,s+=m,t.length-=m),t.length))break e;t.length=0,t.mode=OU;case OU:if(t.flags&2048){if(l===0)break e;m=0;do O=n[s+m++],t.head&&O&&t.length<65536&&(t.head.name+=String.fromCharCode(O));while(O&&m<l);if(t.flags&512&&t.wrap&4&&(t.check=cd(t.check,n,m,s)),l-=m,s+=m,O)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=DU;case DU:if(t.flags&4096){if(l===0)break e;m=0;do O=n[s+m++],t.head&&O&&t.length<65536&&(t.head.comment+=String.fromCharCode(O));while(O&&m<l);if(t.flags&512&&t.wrap&4&&(t.check=cd(t.check,n,m,s)),l-=m,s+=m,O)break e}else t.head&&(t.head.comment=null);t.mode=PU;case PU:if(t.flags&512){for(;A<16;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if(t.wrap&4&&u!==(t.check&65535)){r.msg="header crc mismatch",t.mode=_a;break}u=0,A=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=lA;break;case IU:for(;A<32;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}r.adler=t.check=WU(u),u=0,A=0,t.mode=tC;case tC:if(t.havedict===0)return r.next_out=i,r.avail_out=c,r.next_in=s,r.avail_in=l,t.hold=u,t.bits=A,VDe;r.adler=t.check=1,t.mode=lA;case lA:if(e===KDe||e===nw)break e;case jE:if(t.last){u>>>=A&7,A-=A&7,t.mode=TE;break}for(;A<3;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}switch(t.last=u&1,u>>>=1,A-=1,u&3){case 0:t.mode=LU;break;case 1:if(ePe(t),t.mode=aw,e===nw){u>>>=2,A-=2;break e}break;case 2:t.mode=RU;break;case 3:r.msg="invalid block type",t.mode=_a}u>>>=2,A-=2;break;case LU:for(u>>>=A&7,A-=A&7;A<32;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if((u&65535)!==(u>>>16^65535)){r.msg="invalid stored block lengths",t.mode=_a;break}if(t.length=u&65535,u=0,A=0,t.mode=_E,e===nw)break e;case _E:t.mode=MU;case MU:if(m=t.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;a.set(n.subarray(s,s+m),i),l-=m,s+=m,c-=m,i+=m,t.length-=m;break}t.mode=lA;break;case RU:for(;A<14;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if(t.nlen=(u&31)+257,u>>>=5,A-=5,t.ndist=(u&31)+1,u>>>=5,A-=5,t.ncode=(u&15)+4,u>>>=4,A-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=_a;break}t.have=0,t.mode=UU;case UU:for(;t.have<t.ncode;){for(;A<3;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}t.lens[Q[t.have++]]=u&7,u>>>=3,A-=3}for(;t.have<19;)t.lens[Q[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,H={bits:t.lenbits},D=wy(zDe,t.lens,0,19,t.lencode,0,t.work,H),t.lenbits=H.bits,D){r.msg="invalid code lengths set",t.mode=_a;break}t.have=0,t.mode=QU;case QU:for(;t.have<t.nlen+t.ndist;){for(;v=t.lencode[u&(1<<t.lenbits)-1],b=v>>>24,N=v>>>16&255,C=v&65535,!(b<=A);){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if(C<16)u>>>=b,A-=b,t.lens[t.have++]=C;else{if(C===16){for(L=b+2;A<L;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if(u>>>=b,A-=b,t.have===0){r.msg="invalid bit length repeat",t.mode=_a;break}O=t.lens[t.have-1],m=3+(u&3),u>>>=2,A-=2}else if(C===17){for(L=b+3;A<L;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}u>>>=b,A-=b,O=0,m=3+(u&7),u>>>=3,A-=3}else{for(L=b+7;A<L;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}u>>>=b,A-=b,O=0,m=11+(u&127),u>>>=7,A-=7}if(t.have+m>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=_a;break}for(;m--;)t.lens[t.have++]=O}}if(t.mode===_a)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=_a;break}if(t.lenbits=9,H={bits:t.lenbits},D=wy(OG,t.lens,0,t.nlen,t.lencode,0,t.work,H),t.lenbits=H.bits,D){r.msg="invalid literal/lengths set",t.mode=_a;break}if(t.distbits=6,t.distcode=t.distdyn,H={bits:t.distbits},D=wy(DG,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,H),t.distbits=H.bits,D){r.msg="invalid distances set",t.mode=_a;break}if(t.mode=aw,e===nw)break e;case aw:t.mode=sw;case sw:if(l>=6&&c>=258){r.next_out=i,r.avail_out=c,r.next_in=s,r.avail_in=l,t.hold=u,t.bits=A,LDe(r,p),i=r.next_out,a=r.output,c=r.avail_out,s=r.next_in,n=r.input,l=r.avail_in,u=t.hold,A=t.bits,t.mode===lA&&(t.back=-1);break}for(t.back=0;v=t.lencode[u&(1<<t.lenbits)-1],b=v>>>24,N=v>>>16&255,C=v&65535,!(b<=A);){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if(N&&(N&240)===0){for(E=b,_=N,P=C;v=t.lencode[P+((u&(1<<E+_)-1)>>E)],b=v>>>24,N=v>>>16&255,C=v&65535,!(E+b<=A);){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}u>>>=E,A-=E,t.back+=E}if(u>>>=b,A-=b,t.back+=b,t.length=C,N===0){t.mode=VU;break}if(N&32){t.back=-1,t.mode=lA;break}if(N&64){r.msg="invalid literal/length code",t.mode=_a;break}t.extra=N&15,t.mode=HU;case HU:if(t.extra){for(L=t.extra;A<L;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,A-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=zU;case zU:for(;v=t.distcode[u&(1<<t.distbits)-1],b=v>>>24,N=v>>>16&255,C=v&65535,!(b<=A);){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if((N&240)===0){for(E=b,_=N,P=C;v=t.distcode[P+((u&(1<<E+_)-1)>>E)],b=v>>>24,N=v>>>16&255,C=v&65535,!(E+b<=A);){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}u>>>=E,A-=E,t.back+=E}if(u>>>=b,A-=b,t.back+=b,N&64){r.msg="invalid distance code",t.mode=_a;break}t.offset=C,t.extra=N&15,t.mode=KU;case KU:if(t.extra){for(L=t.extra;A<L;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,A-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=_a;break}t.mode=$U;case $U:if(c===0)break e;if(m=p-c,t.offset>m){if(m=t.offset-m,m>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=_a;break}m>t.wnext?(m-=t.wnext,y=t.wsize-m):y=t.wnext-m,m>t.length&&(m=t.length),g=t.window}else g=a,y=i-t.offset,m=t.length;m>c&&(m=c),c-=m,t.length-=m;do a[i++]=g[y++];while(--m);t.length===0&&(t.mode=sw);break;case VU:if(c===0)break e;a[i++]=t.length,c--,t.mode=sw;break;case TE:if(t.wrap){for(;A<32;){if(l===0)break e;l--,u|=n[s++]<<A,A+=8}if(p-=c,r.total_out+=p,t.total+=p,t.wrap&4&&p&&(r.adler=t.check=t.flags?cd(t.check,a,p,i-p):e_(t.check,a,p,i-p)),p=c,t.wrap&4&&(t.flags?u:WU(u))!==t.check){r.msg="incorrect data check",t.mode=_a;break}u=0,A=0}t.mode=qU;case qU:if(t.wrap&&t.flags){for(;A<32;){if(l===0)break e;l--,u+=n[s++]<<A,A+=8}if(t.wrap&4&&u!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=_a;break}u=0,A=0}t.mode=GU;case GU:D=$De;break e;case _a:D=PG;break e;case LG:return IG;case MG:default:return Dc}return r.next_out=i,r.avail_out=c,r.next_in=s,r.avail_in=l,t.hold=u,t.bits=A,(t.wsize||p!==r.avail_out&&t.mode<_a&&(t.mode<TE||e!==BU))&&zG(r,r.output,r.next_out,p-r.avail_out),h-=r.avail_in,p-=r.avail_out,r.total_in+=h,r.total_out+=p,t.total+=p,t.wrap&4&&p&&(r.adler=t.check=t.flags?cd(t.check,a,p,r.next_out-p):e_(t.check,a,p,r.next_out-p)),r.data_type=t.bits+(t.last?64:0)+(t.mode===lA?128:0)+(t.mode===aw||t.mode===_E?256:0),(h===0&&p===0||e===BU)&&D===$0&&(D=qDe),D},rPe=r=>{if(am(r))return Dc;let e=r.state;return e.window&&(e.window=null),r.state=null,$0},nPe=(r,e)=>{if(am(r))return Dc;const t=r.state;return(t.wrap&2)===0?Dc:(t.head=e,e.done=!1,$0)},aPe=(r,e)=>{const t=e.length;let n,a,s;return am(r)||(n=r.state,n.wrap!==0&&n.mode!==tC)?Dc:n.mode===tC&&(a=1,a=e_(a,e,t,0),a!==n.check)?PG:(s=zG(r,e,t,t),s?(n.mode=LG,IG):(n.havedict=1,$0))};var sPe=UG,iPe=QG,oPe=RG,lPe=ZDe,cPe=HG,uPe=tPe,dPe=rPe,APe=nPe,hPe=aPe,fPe="pako inflate (from Nodeca project)",uA={inflateReset:sPe,inflateReset2:iPe,inflateResetKeep:oPe,inflateInit:lPe,inflateInit2:cPe,inflate:uPe,inflateEnd:dPe,inflateGetHeader:APe,inflateSetDictionary:hPe,inflateInfo:fPe};function mPe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var pPe=mPe;const KG=Object.prototype.toString,{Z_NO_FLUSH:gPe,Z_FINISH:xPe,Z_OK:rv,Z_STREAM_END:OE,Z_NEED_DICT:DE,Z_STREAM_ERROR:yPe,Z_DATA_ERROR:XU,Z_MEM_ERROR:vPe}=TG;function qv(r){this.options=kG.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new PDe,this.strm.avail_out=0;let t=uA.inflateInit2(this.strm,e.windowBits);if(t!==rv)throw new Error(t_[t]);if(this.header=new pPe,uA.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=r_.string2buf(e.dictionary):KG.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=uA.inflateSetDictionary(this.strm,e.dictionary),t!==rv)))throw new Error(t_[t])}qv.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let s,i,l;if(this.ended)return!1;for(e===~~e?i=e:i=e===!0?xPe:gPe,KG.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=uA.inflate(t,i),s===DE&&a&&(s=uA.inflateSetDictionary(t,a),s===rv?s=uA.inflate(t,i):s===XU&&(s=DE));t.avail_in>0&&s===OE&&t.state.wrap>0&&r[t.next_in]!==0;)uA.inflateReset(t),s=uA.inflate(t,i);switch(s){case yPe:case XU:case DE:case vPe:return this.onEnd(s),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||s===OE))if(this.options.to==="string"){let c=r_.utf8border(t.output,t.next_out),u=t.next_out-c,A=r_.buf2string(t.output,c);t.next_out=u,t.avail_out=n-u,u&&t.output.set(t.output.subarray(c,c+u),0),this.onData(A)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===rv&&l===0)){if(s===OE)return s=uA.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};qv.prototype.onData=function(r){this.chunks.push(r)};qv.prototype.onEnd=function(r){r===rv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=kG.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function bPe(r,e){const t=new qv(e);if(t.push(r),t.err)throw t.msg||t_[t.err];return t.result}var wPe=qv,CPe=bPe,NPe={Inflate:wPe,inflate:CPe};const{Inflate:SPe,inflate:BPe}=NPe;var JU=SPe,EPe=BPe;const $G=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;$G[r]=e}const ZU=4294967295;function jPe(r,e,t){let n=r;for(let a=0;a<t;a++)n=$G[(n^e[a])&255]^n>>>8;return n}function _Pe(r,e){return(jPe(ZU,r,e)^ZU)>>>0}function e8(r,e,t){const n=r.readUint32(),a=_Pe(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${a}`)}function VG(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function qG(r,e,t,n){let a=0;for(;a<n;a++)e[a]=r[a];for(;a<t;a++)e[a]=r[a]+e[a-n]&255}function GG(r,e,t,n){let a=0;if(t.length===0)for(;a<n;a++)e[a]=r[a];else for(;a<n;a++)e[a]=r[a]+t[a]&255}function WG(r,e,t,n,a){let s=0;if(t.length===0){for(;s<a;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+(e[s-a]>>1)&255}else{for(;s<a;s++)e[s]=r[s]+(t[s]>>1)&255;for(;s<n;s++)e[s]=r[s]+(e[s-a]+t[s]>>1)&255}}function YG(r,e,t,n,a){let s=0;if(t.length===0){for(;s<a;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+e[s-a]&255}else{for(;s<a;s++)e[s]=r[s]+t[s]&255;for(;s<n;s++)e[s]=r[s]+TPe(e[s-a],t[s],t[s-a])&255}}function TPe(r,e,t){const n=r+e-t,a=Math.abs(n-r),s=Math.abs(n-e),i=Math.abs(n-t);return a<=s&&a<=i?r:s<=i?e:t}function kPe(r,e,t,n,a,s){switch(r){case 0:VG(e,t,a);break;case 1:qG(e,t,a,s);break;case 2:GG(e,t,n,a);break;case 3:WG(e,t,n,a,s);break;case 4:YG(e,t,n,a,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const FPe=new Uint16Array([255]),OPe=new Uint8Array(FPe.buffer),DPe=OPe[0]===255;function PPe(r){const{data:e,width:t,height:n,channels:a,depth:s}=r,i=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*a,c=new Uint8Array(n*t*l);let u=0;for(let A=0;A<7;A++){const h=i[A],p=Math.ceil((t-h.x)/h.xStep),m=Math.ceil((n-h.y)/h.yStep);if(p<=0||m<=0)continue;const y=p*l,g=new Uint8Array(y);for(let v=0;v<m;v++){const b=e[u++],N=e.subarray(u,u+y);u+=y;const C=new Uint8Array(y);kPe(b,N,C,g,y,l),g.set(C);for(let E=0;E<p;E++){const _=h.x+E*h.xStep,P=h.y+v*h.yStep;if(!(_>=t||P>=n))for(let O=0;O<l;O++)c[(P*t+_)*l+O]=C[E*l+O]}}}if(s===16){const A=new Uint16Array(c.buffer);if(DPe)for(let h=0;h<A.length;h++)A[h]=IPe(A[h]);return A}else return c}function IPe(r){return(r&255)<<8|r>>8&255}const LPe=new Uint16Array([255]),MPe=new Uint8Array(LPe.buffer),RPe=MPe[0]===255,UPe=new Uint8Array(0);function t8(r){const{data:e,width:t,height:n,channels:a,depth:s}=r,i=Math.ceil(s/8)*a,l=Math.ceil(s/8*a*t),c=new Uint8Array(n*l);let u=UPe,A=0,h,p;for(let m=0;m<n;m++){switch(h=e.subarray(A+1,A+1+l),p=c.subarray(m*l,(m+1)*l),e[A]){case 0:VG(h,p,l);break;case 1:qG(h,p,l,i);break;case 2:GG(h,p,u,l);break;case 3:WG(h,p,u,l,i);break;case 4:YG(h,p,u,l,i);break;default:throw new Error(`Unsupported filter: ${e[A]}`)}u=p,A+=l+1}if(s===16){const m=new Uint16Array(c.buffer);if(RPe)for(let y=0;y<m.length;y++)m[y]=QPe(m[y]);return m}else return c}function QPe(r){return(r&255)<<8|r>>8&255}const Ew=Uint8Array.of(137,80,78,71,13,10,26,10);function r8(r){if(!HPe(r.readBytes(Ew.length)))throw new Error("wrong PNG signature")}function HPe(r){if(r.length<Ew.length)return!1;for(let e=0;e<Ew.length;e++)if(r[e]!==Ew[e])return!1;return!0}const zPe="tEXt",KPe=0,XG=new TextDecoder("latin1");function $Pe(r){if(qPe(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const VPe=/^[\u0000-\u00FF]*$/;function qPe(r){if(!VPe.test(r))throw new Error("invalid latin1 text")}function GPe(r,e,t){const n=JG(e);r[n]=WPe(e,t-n.length-1)}function JG(r){for(r.mark();r.readByte()!==KPe;);const e=r.offset;r.reset();const t=XG.decode(r.readBytes(e-r.offset-1));return r.skip(1),$Pe(t),t}function WPe(r,e){return XG.decode(r.readBytes(e))}const Tl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},PE={UNKNOWN:-1,DEFLATE:0},n8={UNKNOWN:-1,ADAPTIVE:0},IE={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},iw={NONE:0,BACKGROUND:1,PREVIOUS:2},LE={SOURCE:0,OVER:1};class YPe extends Ek{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new JU,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=PE.UNKNOWN,this._filterMethod=n8.UNKNOWN,this._interlaceMethod=IE.UNKNOWN,this._colorType=Tl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(r8(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(r8(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case zPe:GPe(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?e8(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?e8(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=XPe(this.readUint8());const t=this.readUint8();this._colorType=t;let n;switch(t){case Tl.GREYSCALE:n=1;break;case Tl.TRUECOLOUR:n=3;break;case Tl.INDEXED_COLOUR:n=1;break;case Tl.GREYSCALE_ALPHA:n=2;break;case Tl.TRUECOLOUR_ALPHA:n=4;break;case Tl.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==PE.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<t;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Tl.GREYSCALE:case Tl.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Tl.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const n=this.readByte();this._palette[t].push(n)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Tl.UNKNOWN:case Tl.GREYSCALE_ALPHA:case Tl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=JG(this),n=this.readUint8();if(n!==PE.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:EPe(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=t8({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(n,a,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case iw.NONE:break;case iw.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const i=(a*e.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[i+l]=0}break;case iw.PREVIOUS:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,a=(s,i)=>{const l=((s+t.yOffset)*this._png.width+t.xOffset+i)*this._png.channels,c=(s*t.width+i)*this._png.channels;return{index:l,frameIndex:c}};switch(t.blendOp){case LE.SOURCE:for(let s=0;s<t.height;s++)for(let i=0;i<t.width;i++){const{index:l,frameIndex:c}=a(s,i);for(let u=0;u<this._png.channels;u++)e.data[l+u]=t.data[c+u]}break;case LE.OVER:for(let s=0;s<t.height;s++)for(let i=0;i<t.width;i++){const{index:l,frameIndex:c}=a(s,i);for(let u=0;u<this._png.channels;u++){const A=t.data[c+this._png.channels-1]/n,h=u%(this._png.channels-1)===0?1:t.data[c+u],p=Math.floor(A*h+(1-A)*e.data[l+u]);e.data[l+u]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==n8.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===IE.NO_INTERLACE)this._png.data=t8({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===IE.ADAM7)this._png.data=PPe({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:iw.NONE,blendOp:LE.SOURCE,data:e}),this._inflator=new JU,this._writingDataChunks=!1}}function XPe(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var a8;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(a8||(a8={}));function JPe(r,e){return new YPe(r,e).decode()}var kr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function ME(){kr.console&&typeof kr.console.log=="function"&&kr.console.log.apply(kr.console,arguments)}var ia={log:ME,warn:function(r){kr.console&&(typeof kr.console.warn=="function"?kr.console.warn.apply(kr.console,arguments):ME.call(null,arguments))},error:function(r){kr.console&&(typeof kr.console.error=="function"?kr.console.error.apply(kr.console,arguments):ME(r))}};function RE(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){n0(n.response,e,t)},n.onerror=function(){ia.error("could not download file")},n.send()}function s8(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function ow(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var n0=kr.saveAs||((typeof window>"u"?"undefined":Hn(window))!=="object"||window!==kr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=kr.URL||kr.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?s8(a.href)?RE(r,e,t):ow(a,a.target="_blank"):ow(a)):(a.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){ow(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(s8(r))RE(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){ow(n)})}else navigator.msSaveOrOpenBlob((function(a,s){return s===void 0?s={autoBom:!1}:Hn(s)!=="object"&&(ia.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return RE(r,e,t);var a=r.type==="application/octet-stream",s=/constructor/i.test(kr.HTMLElement)||kr.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&s)&&(typeof FileReader>"u"?"undefined":Hn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var A=l.result;A=i?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=A:location=A,n=null},l.readAsDataURL(r)}else{var c=kr.URL||kr.webkitURL,u=c.createObjectURL(r);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});function ZG(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<t.length;n++){var a=t[n].re,s=t[n].process,i=a.exec(r);i&&(e=s(i),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var jw=kr.atob.bind(kr),i8=kr.btoa.bind(kr);function UE(r,e){var t=r[0],n=r[1],a=r[2],s=r[3];t=Xi(t,n,a,s,e[0],7,-680876936),s=Xi(s,t,n,a,e[1],12,-389564586),a=Xi(a,s,t,n,e[2],17,606105819),n=Xi(n,a,s,t,e[3],22,-1044525330),t=Xi(t,n,a,s,e[4],7,-176418897),s=Xi(s,t,n,a,e[5],12,1200080426),a=Xi(a,s,t,n,e[6],17,-1473231341),n=Xi(n,a,s,t,e[7],22,-45705983),t=Xi(t,n,a,s,e[8],7,1770035416),s=Xi(s,t,n,a,e[9],12,-1958414417),a=Xi(a,s,t,n,e[10],17,-42063),n=Xi(n,a,s,t,e[11],22,-1990404162),t=Xi(t,n,a,s,e[12],7,1804603682),s=Xi(s,t,n,a,e[13],12,-40341101),a=Xi(a,s,t,n,e[14],17,-1502002290),t=Ji(t,n=Xi(n,a,s,t,e[15],22,1236535329),a,s,e[1],5,-165796510),s=Ji(s,t,n,a,e[6],9,-1069501632),a=Ji(a,s,t,n,e[11],14,643717713),n=Ji(n,a,s,t,e[0],20,-373897302),t=Ji(t,n,a,s,e[5],5,-701558691),s=Ji(s,t,n,a,e[10],9,38016083),a=Ji(a,s,t,n,e[15],14,-660478335),n=Ji(n,a,s,t,e[4],20,-405537848),t=Ji(t,n,a,s,e[9],5,568446438),s=Ji(s,t,n,a,e[14],9,-1019803690),a=Ji(a,s,t,n,e[3],14,-187363961),n=Ji(n,a,s,t,e[8],20,1163531501),t=Ji(t,n,a,s,e[13],5,-1444681467),s=Ji(s,t,n,a,e[2],9,-51403784),a=Ji(a,s,t,n,e[7],14,1735328473),t=Zi(t,n=Ji(n,a,s,t,e[12],20,-1926607734),a,s,e[5],4,-378558),s=Zi(s,t,n,a,e[8],11,-2022574463),a=Zi(a,s,t,n,e[11],16,1839030562),n=Zi(n,a,s,t,e[14],23,-35309556),t=Zi(t,n,a,s,e[1],4,-1530992060),s=Zi(s,t,n,a,e[4],11,1272893353),a=Zi(a,s,t,n,e[7],16,-155497632),n=Zi(n,a,s,t,e[10],23,-1094730640),t=Zi(t,n,a,s,e[13],4,681279174),s=Zi(s,t,n,a,e[0],11,-358537222),a=Zi(a,s,t,n,e[3],16,-722521979),n=Zi(n,a,s,t,e[6],23,76029189),t=Zi(t,n,a,s,e[9],4,-640364487),s=Zi(s,t,n,a,e[12],11,-421815835),a=Zi(a,s,t,n,e[15],16,530742520),t=eo(t,n=Zi(n,a,s,t,e[2],23,-995338651),a,s,e[0],6,-198630844),s=eo(s,t,n,a,e[7],10,1126891415),a=eo(a,s,t,n,e[14],15,-1416354905),n=eo(n,a,s,t,e[5],21,-57434055),t=eo(t,n,a,s,e[12],6,1700485571),s=eo(s,t,n,a,e[3],10,-1894986606),a=eo(a,s,t,n,e[10],15,-1051523),n=eo(n,a,s,t,e[1],21,-2054922799),t=eo(t,n,a,s,e[8],6,1873313359),s=eo(s,t,n,a,e[15],10,-30611744),a=eo(a,s,t,n,e[6],15,-1560198380),n=eo(n,a,s,t,e[13],21,1309151649),t=eo(t,n,a,s,e[4],6,-145523070),s=eo(s,t,n,a,e[11],10,-1120210379),a=eo(a,s,t,n,e[2],15,718787259),n=eo(n,a,s,t,e[9],21,-343485551),r[0]=Vh(t,r[0]),r[1]=Vh(n,r[1]),r[2]=Vh(a,r[2]),r[3]=Vh(s,r[3])}function T5(r,e,t,n,a,s){return e=Vh(Vh(e,r),Vh(n,s)),Vh(e<<a|e>>>32-a,t)}function Xi(r,e,t,n,a,s,i){return T5(e&t|~e&n,r,e,a,s,i)}function Ji(r,e,t,n,a,s,i){return T5(e&n|t&~n,r,e,a,s,i)}function Zi(r,e,t,n,a,s,i){return T5(e^t^n,r,e,a,s,i)}function eo(r,e,t,n,a,s,i){return T5(t^(e|~n),r,e,a,s,i)}function eW(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)UE(n,ZPe(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(UE(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,UE(n,a),n}function ZPe(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var o8="0123456789abcdef".split("");function eIe(r){for(var e="",t=0;t<4;t++)e+=o8[r>>8*t+4&15]+o8[r>>8*t&15];return e}function tIe(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function n_(r){return eW(r).map(tIe).join("")}var rIe=(function(r){for(var e=0;e<r.length;e++)r[e]=eIe(r[e]);return r.join("")})(eW("hello"))!="5d41402abc4b2a76b9719d911017c592";function Vh(r,e){if(rIe){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}function a_(r,e){var t,n,a,s;if(r!==t){for(var i=(a=r,s=1+(256/r.length|0),new Array(s+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var A=l[c];u=(u+A+i.charCodeAt(c))%256,l[c]=l[u],l[u]=A}t=r,n=l}else l=n;var h=e.length,p=0,m=0,y="";for(c=0;c<h;c++)m=(m+(A=l[p=(p+1)%256]))%256,l[p]=l[m],l[m]=A,i=l[(l[p]+l[m])%256],y+=String.fromCharCode(e.charCodeAt(c)^i);return y}var l8={print:4,modify:8,copy:16,"annot-forms":32};function gp(r,e,t,n){this.v=1,this.r=2;var a=192;r.forEach(function(l){if(l8.perm!==void 0)throw new Error("Invalid permission: "+l);a+=l8[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),i=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=n_(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=a_(this.encryptionKey,this.padding)}function xp(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var a=r.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):r[n]}return e}function c8(r){if(Hn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,a){if(a=a||!1,typeof t!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!a],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in e[t]){var i=e[t][s];try{i[0].apply(r,n)}catch(l){kr.console&&ia.error("jsPDF PubSub Error",l.message,l)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function rC(r){if(!(this instanceof rC))return new rC(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function tW(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function l0(r,e,t,n,a){if(!(this instanceof l0))return new l0(r,e,t,n,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,tW.call(this,n,a)}function jp(r,e,t,n,a){if(!(this instanceof jp))return new jp(r,e,t,n,a);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,tW.call(this,n,a)}function mr(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],i=[],l=1,c=16,u="S",A=null;Hn(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,a=r.format||a,s=r.compress||r.compressPdf||s,(A=r.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),u=r.defaultPathOperation||"S"),i=r.filters||(s===!0?["FlateEncode"]:i),n=n||"mm",t=(""+(t||"P")).toLowerCase();var h=r.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=c8;var y="1.3",g=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(M){y=M};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return v};var b=m.__private__.getPageFormat=function(M){return v[M]};a=a||"a4";var N="compat",C="advanced",E=N;function _(){this.saveGraphicsState(),J(new hr(ot,0,0,-ot,0,qc()*ot).toString()+" cm"),this.setFontSize(this.getFontSize()/ot),u="n",E=C}function P(){this.restoreGraphicsState(),u="S",E=N}var O=m.__private__.combineFontStyleAndFontWeight=function(M,te){if(M=="bold"&&te=="normal"||M=="bold"&&te==400||M=="normal"&&te=="italic"||M=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(M=te==400||te==="normal"?M==="italic"?"italic":"normal":te!=700&&te!=="bold"||M!=="normal"?(te==700?"bold":te)+""+M:"bold"),M};m.advancedAPI=function(M){var te=E===N;return te&&_.call(this),typeof M!="function"||(M(this),te&&P.call(this)),this},m.compatAPI=function(M){var te=E===C;return te&&P.call(this),typeof M!="function"||(M(this),te&&_.call(this)),this},m.isAdvancedAPI=function(){return E===C};var D,k=function(M){if(E!==C)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=m.roundToPrecision=m.__private__.roundToPrecision=function(M,te){var Ce=e||te;if(isNaN(M)||isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(Ce).replace(/0+$/,"")};D=m.hpf=m.__private__.hpf=typeof c=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return H(M,c)}:c==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return H(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return H(M,16)};var L=m.f2=m.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return H(M,2)},Q=m.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return H(M,3)},R=m.scale=m.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return E===N?M*ot:E===C?M:void 0},K=function(M){return R((function(te){return E===N?qc()-te:E===C?te:void 0})(M))};m.__private__.setPrecision=m.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(e=parseInt(M,10))};var ee,X="00000000000000000000000000000000",ae=m.__private__.getFileId=function(){return X},Y=m.__private__.setFileId=function(M){return X=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&(us=new gp(A.userPermissions,A.userPassword,A.ownerPassword,X)),X};m.setFileId=function(M){return Y(M),this},m.getFileId=function(){return ae()};var de=m.__private__.convertDateToPDFDate=function(M){var te=M.getTimezoneOffset(),Ce=te<0?"+":"-",ke=Math.floor(Math.abs(te/60)),Re=Math.abs(te%60),ht=[Ce,V(ke),"'",V(Re),"'"].join("");return["D:",M.getFullYear(),V(M.getMonth()+1),V(M.getDate()),V(M.getHours()),V(M.getMinutes()),V(M.getSeconds()),ht].join("")},pe=m.__private__.convertPDFDateToDate=function(M){var te=parseInt(M.substr(2,4),10),Ce=parseInt(M.substr(6,2),10)-1,ke=parseInt(M.substr(8,2),10),Re=parseInt(M.substr(10,2),10),ht=parseInt(M.substr(12,2),10),bt=parseInt(M.substr(14,2),10);return new Date(te,Ce,ke,Re,ht,bt,0)},Z=m.__private__.setCreationDate=function(M){var te;if(M===void 0&&(M=new Date),M instanceof Date)te=de(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=M}return ee=te},I=m.__private__.getCreationDate=function(M){var te=ee;return M==="jsDate"&&(te=pe(ee)),te};m.setCreationDate=function(M){return Z(M),this},m.getCreationDate=function(M){return I(M)};var z,V=m.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},q=m.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},ne=0,ce=[],Be=[],Ae=0,ye=[],Pe=[],je=!1,Se=Be;m.__private__.setCustomOutputDestination=function(M){je=!0,Se=M};var Te=function(M){je||(Se=M)};m.__private__.resetCustomOutputDestination=function(){je=!1,Se=Be};var J=m.__private__.out=function(M){return M=M.toString(),Ae+=M.length+1,Se.push(M),Se},Le=m.__private__.write=function(M){return J(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},He=m.__private__.getArrayBuffer=function(M){for(var te=M.length,Ce=new ArrayBuffer(te),ke=new Uint8Array(Ce);te--;)ke[te]=M.charCodeAt(te);return Ce},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Je};var at=r.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(M){return at=E===C?M/ot:M,this};var ze,mt=m.__private__.getFontSize=m.getFontSize=function(){return E===N?at:at*ot},Et=r.R2L||!1;m.__private__.setR2L=m.setR2L=function(M){return Et=M,this},m.__private__.getR2L=m.getR2L=function(){return Et};var Me,vt=m.__private__.setZoomMode=function(M){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))ze=M;else if(isNaN(M)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');ze=M}else ze=parseInt(M,10)};m.__private__.getZoomMode=function(){return ze};var De,it=m.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');Me=M};m.__private__.getPageMode=function(){return Me};var wt=m.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');De=M};m.__private__.getLayoutMode=function(){return De},m.__private__.setDisplayMode=m.setDisplayMode=function(M,te,Ce){return vt(M),wt(te),it(Ce),this};var Bt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(M){if(Object.keys(Bt).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Bt[M]},m.__private__.getDocumentProperties=function(){return Bt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(M){for(var te in Bt)Bt.hasOwnProperty(te)&&M[te]&&(Bt[te]=M[te]);return this},m.__private__.setDocumentProperty=function(M,te){if(Object.keys(Bt).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Bt[M]=te};var Ee,ot,ct,Zt,It,Tt={},cr={},Br=[],zt={},Yr={},nr={},pr={},pt=null,Nt=0,Qt=[],Kt=new c8(m),jn=r.hotfixes||[],Or={},Rs={},Ga=[],hr=function M(te,Ce,ke,Re,ht,bt){if(!(this instanceof M))return new M(te,Ce,ke,Re,ht,bt);isNaN(te)&&(te=1),isNaN(Ce)&&(Ce=0),isNaN(ke)&&(ke=0),isNaN(Re)&&(Re=1),isNaN(ht)&&(ht=0),isNaN(bt)&&(bt=0),this._matrix=[te,Ce,ke,Re,ht,bt]};Object.defineProperty(hr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(hr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(hr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(hr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(hr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(hr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(hr.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(hr.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(hr.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(hr.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(hr.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(hr.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(hr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(hr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(hr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(hr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),hr.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(M)},hr.prototype.multiply=function(M){var te=M.sx*this.sx+M.shy*this.shx,Ce=M.sx*this.shy+M.shy*this.sy,ke=M.shx*this.sx+M.sy*this.shx,Re=M.shx*this.shy+M.sy*this.sy,ht=M.tx*this.sx+M.ty*this.shx+this.tx,bt=M.tx*this.shy+M.ty*this.sy+this.ty;return new hr(te,Ce,ke,Re,ht,bt)},hr.prototype.decompose=function(){var M=this.sx,te=this.shy,Ce=this.shx,ke=this.sy,Re=this.tx,ht=this.ty,bt=Math.sqrt(M*M+te*te),er=(M/=bt)*Ce+(te/=bt)*ke;Ce-=M*er,ke-=te*er;var ur=Math.sqrt(Ce*Ce+ke*ke);return er/=ur,M*(ke/=ur)<te*(Ce/=ur)&&(M=-M,te=-te,er=-er,bt=-bt),{scale:new hr(bt,0,0,ur,0,0),translate:new hr(1,0,0,1,Re,ht),rotate:new hr(M,te,-te,M,0,0),skew:new hr(1,0,er,1,0,0)}},hr.prototype.toString=function(M){return this.join(" ")},hr.prototype.inversed=function(){var M=this.sx,te=this.shy,Ce=this.shx,ke=this.sy,Re=this.tx,ht=this.ty,bt=1/(M*ke-te*Ce),er=ke*bt,ur=-te*bt,jr=-Ce*bt,Dr=M*bt;return new hr(er,ur,jr,Dr,-er*Re-jr*ht,-ur*Re-Dr*ht)},hr.prototype.applyToPoint=function(M){var te=M.x*this.sx+M.y*this.shx+this.tx,Ce=M.x*this.shy+M.y*this.sy+this.ty;return new Mo(te,Ce)},hr.prototype.applyToRectangle=function(M){var te=this.applyToPoint(M),Ce=this.applyToPoint(new Mo(M.x+M.w,M.y+M.h));return new Hc(te.x,te.y,Ce.x-te.x,Ce.y-te.y)},hr.prototype.clone=function(){var M=this.sx,te=this.shy,Ce=this.shx,ke=this.sy,Re=this.tx,ht=this.ty;return new hr(M,te,Ce,ke,Re,ht)},m.Matrix=hr;var ba=m.matrixMult=function(M,te){return te.multiply(M)},Wa=new hr(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Wa;var ca=function(M,te){if(!Yr[M]){var Ce=(te instanceof l0?"Sh":"P")+(Object.keys(zt).length+1).toString(10);te.id=Ce,Yr[M]=Ce,zt[Ce]=te,Kt.publish("addPattern",te)}};m.ShadingPattern=l0,m.TilingPattern=jp,m.addShadingPattern=function(M,te){return k("addShadingPattern()"),ca(M,te),this},m.beginTilingPattern=function(M){k("beginTilingPattern()"),Od(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},m.endTilingPattern=function(M,te){k("endTilingPattern()"),te.stream=Pe[z].join(`
`),ca(M,te),Kt.publish("endTilingPattern",te),Ga.pop().restore()};var Bs,_n=m.__private__.newObject=function(){var M=wa();return se(M,!0),M},wa=m.__private__.newObjectDeferred=function(){return ne++,ce[ne]=function(){return Ae},ne},se=function(M,te){return te=typeof te=="boolean"&&te,ce[M]=Ae,te&&J(M+" 0 obj"),M},we=m.__private__.newAdditionalObject=function(){var M={objId:wa(),content:""};return ye.push(M),M},he=wa(),fe=wa(),ge=m.__private__.decodeColorString=function(M){var te=M.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length!==5||te[4]!=="k"&&te[4]!=="K"||(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var Ce=parseFloat(te[0]);te=[Ce,Ce,Ce,"r"]}for(var ke="#",Re=0;Re<3;Re++)ke+=("0"+Math.floor(255*parseFloat(te[Re])).toString(16)).slice(-2);return ke},Ne=m.__private__.encodeColorString=function(M){var te;typeof M=="string"&&(M={ch1:M});var Ce=M.ch1,ke=M.ch2,Re=M.ch3,ht=M.ch4,bt=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ce=="string"&&Ce.charAt(0)!=="#"){var er=new ZG(Ce);if(er.ok)Ce=er.toHex();else if(!/^\d*\.?\d*$/.test(Ce))throw new Error('Invalid color "'+Ce+'" passed to jsPDF.encodeColorString.')}if(typeof Ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ce)&&(Ce="#"+Ce[1]+Ce[1]+Ce[2]+Ce[2]+Ce[3]+Ce[3]),typeof Ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ce)){var ur=parseInt(Ce.substr(1),16);Ce=ur>>16&255,ke=ur>>8&255,Re=255&ur}if(ke===void 0||ht===void 0&&Ce===ke&&ke===Re)te=typeof Ce=="string"?Ce+" "+bt[0]:M.precision===2?L(Ce/255)+" "+bt[0]:Q(Ce/255)+" "+bt[0];else if(ht===void 0||Hn(ht)==="object"){if(ht&&!isNaN(ht.a)&&ht.a===0)return["1.","1.","1.",bt[1]].join(" ");te=typeof Ce=="string"?[Ce,ke,Re,bt[1]].join(" "):M.precision===2?[L(Ce/255),L(ke/255),L(Re/255),bt[1]].join(" "):[Q(Ce/255),Q(ke/255),Q(Re/255),bt[1]].join(" ")}else te=typeof Ce=="string"?[Ce,ke,Re,ht,bt[2]].join(" "):M.precision===2?[L(Ce),L(ke),L(Re),L(ht),bt[2]].join(" "):[Q(Ce),Q(ke),Q(Re),Q(ht),bt[2]].join(" ");return te},Ke=m.__private__.getFilters=function(){return i},st=m.__private__.putStream=function(M){var te=(M=M||{}).data||"",Ce=M.filters||Ke(),ke=M.alreadyAppliedFilters||[],Re=M.addLength1||!1,ht=te.length,bt=M.objectId,er=function(ds){return ds};if(A!==null&&bt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(er=us.encryptor(bt,0));var ur={};Ce===!0&&(Ce=["FlateEncode"]);var jr=M.additionalKeyValues||[],Dr=(ur=mr.API.processDataByFilters!==void 0?mr.API.processDataByFilters(te,Ce):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(ke)?ke.join(" "):ke.toString());if(ur.data.length!==0&&(jr.push({key:"Length",value:ur.data.length}),Re===!0&&jr.push({key:"Length1",value:ht})),Dr.length!=0)if(Dr.split("/").length-1==1)jr.push({key:"Filter",value:Dr});else{jr.push({key:"Filter",value:"["+Dr+"]"});for(var an=0;an<jr.length;an+=1)if(jr[an].key==="DecodeParms"){for(var ha=[],Ia=0;Ia<ur.reverseChain.split("/").length-1;Ia+=1)ha.push("null");ha.push(jr[an].value),jr[an].value="["+ha.join(" ")+"]"}}J("<<");for(var Vn=0;Vn<jr.length;Vn++)J("/"+jr[Vn].key+" "+jr[Vn].value);J(">>"),ur.data.length!==0&&(J("stream"),J(er(ur.data)),J("endstream"))},Ve=m.__private__.putPage=function(M){var te=M.number,Ce=M.data,ke=M.objId,Re=M.contentsObjId;se(ke,!0),J("<</Type /Page"),J("/Parent "+M.rootDictionaryObjId+" 0 R"),J("/Resources "+M.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(D(M.mediaBox.bottomLeftX))+" "+parseFloat(D(M.mediaBox.bottomLeftY))+" "+D(M.mediaBox.topRightX)+" "+D(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&J("/CropBox ["+D(M.cropBox.bottomLeftX)+" "+D(M.cropBox.bottomLeftY)+" "+D(M.cropBox.topRightX)+" "+D(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&J("/BleedBox ["+D(M.bleedBox.bottomLeftX)+" "+D(M.bleedBox.bottomLeftY)+" "+D(M.bleedBox.topRightX)+" "+D(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&J("/TrimBox ["+D(M.trimBox.bottomLeftX)+" "+D(M.trimBox.bottomLeftY)+" "+D(M.trimBox.topRightX)+" "+D(M.trimBox.topRightY)+"]"),M.artBox!==null&&J("/ArtBox ["+D(M.artBox.bottomLeftX)+" "+D(M.artBox.bottomLeftY)+" "+D(M.artBox.topRightX)+" "+D(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&J("/UserUnit "+M.userUnit),Kt.publish("putPage",{objId:ke,pageContext:Qt[te],pageNumber:te,page:Ce}),J("/Contents "+Re+" 0 R"),J(">>"),J("endobj");var ht=Ce.join(`
`);return E===C&&(ht+=`
Q`),se(Re,!0),st({data:ht,filters:Ke(),objectId:Re}),J("endobj"),ke},qe=m.__private__.putPages=function(){var M,te,Ce=[];for(M=1;M<=Nt;M++)Qt[M].objId=wa(),Qt[M].contentsObjId=wa();for(M=1;M<=Nt;M++)Ce.push(Ve({number:M,data:Pe[M],objId:Qt[M].objId,contentsObjId:Qt[M].contentsObjId,mediaBox:Qt[M].mediaBox,cropBox:Qt[M].cropBox,bleedBox:Qt[M].bleedBox,trimBox:Qt[M].trimBox,artBox:Qt[M].artBox,userUnit:Qt[M].userUnit,rootDictionaryObjId:he,resourceDictionaryObjId:fe}));se(he,!0),J("<</Type /Pages");var ke="/Kids [";for(te=0;te<Nt;te++)ke+=Ce[te]+" 0 R ";J(ke+"]"),J("/Count "+Nt),J(">>"),J("endobj"),Kt.publish("postPutPages")},We=function(M){Kt.publish("putFont",{font:M,out:J,newObject:_n,putStream:st}),M.isAlreadyPutted!==!0&&(M.objectNumber=_n(),J("<<"),J("/Type /Font"),J("/BaseFont /"+xp(M.postScriptName)),J("/Subtype /Type1"),typeof M.encoding=="string"&&J("/Encoding /"+M.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},St=function(M){M.objectNumber=_n();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[D(M.x),D(M.y),D(M.x+M.width),D(M.y+M.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var Ce=M.pages[1].join(`
`);st({data:Ce,additionalKeyValues:te,objectId:M.objectNumber}),J("endobj")},kt=function(M,te){te||(te=21);var Ce=_n(),ke=(function(bt,er){var ur,jr=[],Dr=1/(er-1);for(ur=0;ur<1;ur+=Dr)jr.push(ur);if(jr.push(1),bt[0].offset!=0){var an={offset:0,color:bt[0].color};bt.unshift(an)}if(bt[bt.length-1].offset!=1){var ha={offset:1,color:bt[bt.length-1].color};bt.push(ha)}for(var Ia="",Vn=0,ds=0;ds<jr.length;ds++){for(ur=jr[ds];ur>bt[Vn+1].offset;)Vn++;var Xa=bt[Vn].offset,Qs=(ur-Xa)/(bt[Vn+1].offset-Xa),Gc=bt[Vn].color,bl=bt[Vn+1].color;Ia+=q(Math.round((1-Qs)*Gc[0]+Qs*bl[0]).toString(16))+q(Math.round((1-Qs)*Gc[1]+Qs*bl[1]).toString(16))+q(Math.round((1-Qs)*Gc[2]+Qs*bl[2]).toString(16))}return Ia.trim()})(M.colors,te),Re=[];Re.push({key:"FunctionType",value:"0"}),Re.push({key:"Domain",value:"[0.0 1.0]"}),Re.push({key:"Size",value:"["+te+"]"}),Re.push({key:"BitsPerSample",value:"8"}),Re.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Re.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),st({data:ke,additionalKeyValues:Re,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ce}),J("endobj"),M.objectNumber=_n(),J("<< /ShadingType "+M.type),J("/ColorSpace /DeviceRGB");var ht="/Coords ["+D(parseFloat(M.coords[0]))+" "+D(parseFloat(M.coords[1]))+" ";M.type===2?ht+=D(parseFloat(M.coords[2]))+" "+D(parseFloat(M.coords[3])):ht+=D(parseFloat(M.coords[2]))+" "+D(parseFloat(M.coords[3]))+" "+D(parseFloat(M.coords[4]))+" "+D(parseFloat(M.coords[5])),J(ht+="]"),M.matrix&&J("/Matrix ["+M.matrix.toString()+"]"),J("/Function "+Ce+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Mt=function(M,te){var Ce=wa(),ke=_n();te.push({resourcesOid:Ce,objectOid:ke}),M.objectNumber=ke;var Re=[];Re.push({key:"Type",value:"/Pattern"}),Re.push({key:"PatternType",value:"1"}),Re.push({key:"PaintType",value:"1"}),Re.push({key:"TilingType",value:"1"}),Re.push({key:"BBox",value:"["+M.boundingBox.map(D).join(" ")+"]"}),Re.push({key:"XStep",value:D(M.xStep)}),Re.push({key:"YStep",value:D(M.yStep)}),Re.push({key:"Resources",value:Ce+" 0 R"}),M.matrix&&Re.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),st({data:M.stream,additionalKeyValues:Re,objectId:M.objectNumber}),J("endobj")},_t=function(M){for(var te in M.objectNumber=_n(),J("<<"),M)switch(te){case"opacity":J("/ca "+L(M[te]));break;case"stroke-opacity":J("/CA "+L(M[te]))}J(">>"),J("endobj")},Dt=function(M){se(M.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var te in J("/Font <<"),Tt)Tt.hasOwnProperty(te)&&(h===!1||h===!0&&p.hasOwnProperty(te))&&J("/"+te+" "+Tt[te].objectNumber+" 0 R");J(">>")})(),(function(){if(Object.keys(zt).length>0){for(var te in J("/Shading <<"),zt)zt.hasOwnProperty(te)&&zt[te]instanceof l0&&zt[te].objectNumber>=0&&J("/"+te+" "+zt[te].objectNumber+" 0 R");Kt.publish("putShadingPatternDict"),J(">>")}})(),(function(te){if(Object.keys(zt).length>0){for(var Ce in J("/Pattern <<"),zt)zt.hasOwnProperty(Ce)&&zt[Ce]instanceof m.TilingPattern&&zt[Ce].objectNumber>=0&&zt[Ce].objectNumber<te&&J("/"+Ce+" "+zt[Ce].objectNumber+" 0 R");Kt.publish("putTilingPatternDict"),J(">>")}})(M.objectOid),(function(){if(Object.keys(nr).length>0){var te;for(te in J("/ExtGState <<"),nr)nr.hasOwnProperty(te)&&nr[te].objectNumber>=0&&J("/"+te+" "+nr[te].objectNumber+" 0 R");Kt.publish("putGStateDict"),J(">>")}})(),(function(){for(var te in J("/XObject <<"),Or)Or.hasOwnProperty(te)&&Or[te].objectNumber>=0&&J("/"+te+" "+Or[te].objectNumber+" 0 R");Kt.publish("putXobjectDict"),J(">>")})(),J(">>"),J("endobj")},Gt=function(M){cr[M.fontName]=cr[M.fontName]||{},cr[M.fontName][M.fontStyle]=M.id},Cn=function(M,te,Ce,ke,Re){var ht={id:"F"+(Object.keys(Tt).length+1).toString(10),postScriptName:M,fontName:te,fontStyle:Ce,encoding:ke,isStandardFont:Re||!1,metadata:{}};return Kt.publish("addFont",{font:ht,instance:this}),Tt[ht.id]=ht,Gt(ht),ht.id},qr=m.__private__.pdfEscape=m.pdfEscape=function(M,te){return(function(Ce,ke){var Re,ht,bt,er,ur,jr,Dr,an,ha;if(bt=(ke=ke||{}).sourceEncoding||"Unicode",ur=ke.outputEncoding,(ke.autoencode||ur)&&Tt[Ee].metadata&&Tt[Ee].metadata[bt]&&Tt[Ee].metadata[bt].encoding&&(er=Tt[Ee].metadata[bt].encoding,!ur&&Tt[Ee].encoding&&(ur=Tt[Ee].encoding),!ur&&er.codePages&&(ur=er.codePages[0]),typeof ur=="string"&&(ur=er[ur]),ur)){for(Dr=!1,jr=[],Re=0,ht=Ce.length;Re<ht;Re++)(an=ur[Ce.charCodeAt(Re)])?jr.push(String.fromCharCode(an)):jr.push(Ce[Re]),jr[Re].charCodeAt(0)>>8&&(Dr=!0);Ce=jr.join("")}for(Re=Ce.length;Dr===void 0&&Re!==0;)Ce.charCodeAt(Re-1)>>8&&(Dr=!0),Re--;if(!Dr)return Ce;for(jr=ke.noBOM?[]:[254,255],Re=0,ht=Ce.length;Re<ht;Re++){if((ha=(an=Ce.charCodeAt(Re))>>8)>>8)throw new Error("Character at position "+Re+" of string '"+Ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");jr.push(ha),jr.push(an-(ha<<8))}return String.fromCharCode.apply(void 0,jr)})(M,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tn=m.__private__.beginPage=function(M){Pe[++Nt]=[],Qt[Nt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},gl(Nt),Te(Pe[z])},Si=function(M,te){var Ce,ke,Re;switch(t=te||t,typeof M=="string"&&(Ce=b(M.toLowerCase()),Array.isArray(Ce)&&(ke=Ce[0],Re=Ce[1])),Array.isArray(M)&&(ke=M[0]*ot,Re=M[1]*ot),isNaN(ke)&&(ke=a[0],Re=a[1]),(ke>14400||Re>14400)&&(ia.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ke=Math.min(14400,ke),Re=Math.min(14400,Re)),a=[ke,Re],t.substr(0,1)){case"l":Re>ke&&(a=[Re,ke]);break;case"p":ke>Re&&(a=[Re,ke])}Tn(a),Nr(Td),J(go),qA!==0&&J(qA+" J"),Es!==0&&J(Es+" j"),Kt.publish("addPage",{pageNumber:Nt})},pl=function(M){M>0&&M<=Nt&&(Pe.splice(M,1),Qt.splice(M,1),Nt--,z>Nt&&(z=Nt),this.setPage(z))},gl=function(M){M>0&&M<=Nt&&(z=M)},mo=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Pe.length-1},Lu=function(M,te,Ce){var ke,Re=void 0;return Ce=Ce||{},M=M!==void 0?M:Tt[Ee].fontName,te=te!==void 0?te:Tt[Ee].fontStyle,ke=M.toLowerCase(),cr[ke]!==void 0&&cr[ke][te]!==void 0?Re=cr[ke][te]:cr[M]!==void 0&&cr[M][te]!==void 0?Re=cr[M][te]:Ce.disableWarning===!1&&ia.warn("Unable to look up font label for font '"+M+"', '"+te+"'. Refer to getFontList() for available fonts."),Re||Ce.noFallback||(Re=cr.times[te])==null&&(Re=cr.times.normal),Re},Aa=m.__private__.putInfo=function(){var M=_n(),te=function(ke){return ke};for(var Ce in A!==null&&(te=us.encryptor(M,0)),J("<<"),J("/Producer ("+qr(te("jsPDF "+mr.version))+")"),Bt)Bt.hasOwnProperty(Ce)&&Bt[Ce]&&J("/"+Ce.substr(0,1).toUpperCase()+Ce.substr(1)+" ("+qr(te(Bt[Ce]))+")");J("/CreationDate ("+qr(te(ee))+")"),J(">>"),J("endobj")},Uc=m.__private__.putCatalog=function(M){var te=(M=M||{}).rootDictionaryObjId||he;switch(_n(),J("<<"),J("/Type /Catalog"),J("/Pages "+te+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ce=""+ze;Ce.substr(Ce.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&J("/OpenAction [3 0 R /XYZ null null "+L(ze)+"]")}switch(De||(De="continuous"),De){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}Me&&J("/PageMode /"+Me),Kt.publish("putCatalog"),J(">>"),J("endobj")},xl=m.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(ne+1)),J("/Root "+ne+" 0 R"),J("/Info "+(ne-1)+" 0 R"),A!==null&&J("/Encrypt "+us.oid+" 0 R"),J("/ID [ <"+X+"> <"+X+"> ]"),J(">>")},hn=m.__private__.putHeader=function(){J("%PDF-"+y),J("%")},vf=m.__private__.putXRef=function(){var M="0000000000";J("xref"),J("0 "+(ne+1)),J("0000000000 65535 f ");for(var te=1;te<=ne;te++)typeof ce[te]=="function"?J((M+ce[te]()).slice(-10)+" 00000 n "):ce[te]!==void 0?J((M+ce[te]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},tc=m.__private__.buildDocument=function(){var M;ne=0,Ae=0,Be=[],ce=[],ye=[],he=wa(),fe=wa(),Te(Be),Kt.publish("buildDocument"),hn(),qe(),(function(){Kt.publish("putAdditionalObjects");for(var Ce=0;Ce<ye.length;Ce++){var ke=ye[Ce];se(ke.objId,!0),J(ke.content),J("endobj")}Kt.publish("postPutAdditionalObjects")})(),M=[],(function(){for(var Ce in Tt)Tt.hasOwnProperty(Ce)&&(h===!1||h===!0&&p.hasOwnProperty(Ce))&&We(Tt[Ce])})(),(function(){var Ce;for(Ce in nr)nr.hasOwnProperty(Ce)&&_t(nr[Ce])})(),(function(){for(var Ce in Or)Or.hasOwnProperty(Ce)&&St(Or[Ce])})(),(function(Ce){var ke;for(ke in zt)zt.hasOwnProperty(ke)&&(zt[ke]instanceof l0?kt(zt[ke]):zt[ke]instanceof jp&&Mt(zt[ke],Ce))})(M),Kt.publish("putResources"),M.forEach(Dt),Dt({resourcesOid:fe,objectOid:Number.MAX_SAFE_INTEGER}),Kt.publish("postPutResources"),A!==null&&(us.oid=_n(),J("<<"),J("/Filter /Standard"),J("/V "+us.v),J("/R "+us.r),J("/U <"+us.toHexString(us.U)+">"),J("/O <"+us.toHexString(us.O)+">"),J("/P "+us.P),J(">>"),J("endobj")),Aa(),Uc();var te=Ae;return vf(),xl(),J("startxref"),J(""+te),J("%%EOF"),Te(Pe[z]),Be.join(`
`)},Mu=m.__private__.getBlob=function(M){return new Blob([He(M)],{type:"application/pdf"})},bf=m.output=m.__private__.output=(Bs=function(M,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",M){case void 0:return tc();case"save":m.save(te.filename);break;case"arraybuffer":return He(tc());case"blob":return Mu(tc());case"bloburi":case"bloburl":if(kr.URL!==void 0&&typeof kr.URL.createObjectURL=="function")return kr.URL&&kr.URL.createObjectURL(Mu(tc()))||void 0;ia.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ce="",ke=tc();try{Ce=i8(ke)}catch{Ce=i8(unescape(encodeURIComponent(ke)))}return"data:application/pdf;filename="+te.filename+";base64,"+Ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(kr)==="[object Window]"){var Re="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ht=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(Re=te.pdfObjectUrl,ht="");var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Re+'"'+ht+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",er=kr.open();return er!==null&&er.document.write(bt),er}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(kr)==="[object Window]"){var ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',jr=kr.open();if(jr!==null){jr.document.write(ur);var Dr=this;jr.document.documentElement.querySelector("#pdfViewer").onload=function(){jr.document.title=te.filename,jr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Dr.output("bloburl"))}}return jr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(kr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var an='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',ha=kr.open();if(ha!==null&&(ha.document.write(an),ha.document.title=te.filename),ha||typeof safari>"u")return ha;break;case"datauri":case"dataurl":return kr.document.location.href=this.output("datauristring",te);default:return null}},Bs.foo=function(){try{return Bs.apply(this,arguments)}catch(Ce){var M=Ce.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var te="Error in function "+M.split(`
`)[0].split("<")[0]+": "+Ce.message;if(!kr.console)throw new Error(te);kr.console.error(te,Ce),kr.alert&&alert(te)}},Bs.foo.bar=Bs,Bs.foo),Bi=function(M){return Array.isArray(jn)===!0&&jn.indexOf(M)>-1};switch(n){case"pt":ot=1;break;case"mm":ot=72/25.4;break;case"cm":ot=72/2.54;break;case"in":ot=72;break;case"px":ot=Bi("px_scaling")==1?.75:96/72;break;case"pc":case"em":ot=12;break;case"ex":ot=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ot=n}var us=null;Z(),Y();var Ya=m.__private__.getPageInfo=m.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Qt[M].objId,pageNumber:M,pageContext:Qt[M]}},$A=m.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in Qt)if(Qt[te].objId===M)break;return Ya(te)},im=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Qt[z].objId,pageNumber:z,pageContext:Qt[z]}};m.addPage=function(){return Si.apply(this,arguments),this},m.setPage=function(){return gl.apply(this,arguments),Te.call(this,Pe[z]),this},m.insertPage=function(M){return this.addPage(),this.movePage(z,M),this},m.movePage=function(M,te){var Ce,ke;if(M>te){Ce=Pe[M],ke=Qt[M];for(var Re=M;Re>te;Re--)Pe[Re]=Pe[Re-1],Qt[Re]=Qt[Re-1];Pe[te]=Ce,Qt[te]=ke,this.setPage(te)}else if(M<te){Ce=Pe[M],ke=Qt[M];for(var ht=M;ht<te;ht++)Pe[ht]=Pe[ht+1],Qt[ht]=Qt[ht+1];Pe[te]=Ce,Qt[te]=ke,this.setPage(te)}return this},m.deletePage=function(){return pl.apply(this,arguments),this},m.__private__.text=m.text=function(M,te,Ce,ke,Re){var ht,bt,er,ur,jr,Dr,an,ha,Ia,Vn=(ke=ke||{}).scope||this;if(typeof M=="number"&&typeof te=="number"&&(typeof Ce=="string"||Array.isArray(Ce))){var ds=Ce;Ce=te,te=M,M=ds}if(arguments[3]instanceof hr==0?(er=arguments[4],ur=arguments[5],Hn(an=arguments[3])==="object"&&an!==null||(typeof er=="string"&&(ur=er,er=null),typeof an=="string"&&(ur=an,an=null),typeof an=="number"&&(er=an,an=null),ke={flags:an,angle:er,align:ur})):(k("The transform parameter of text() with a Matrix value"),Ia=Re),isNaN(te)||isNaN(Ce)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return Vn;var Xa,Qs="",Gc=typeof ke.lineHeightFactor=="number"?ke.lineHeightFactor:Qc,bl=Vn.internal.scaleFactor;function Wc(fn){return fn=fn.split("	").join(Array(ke.TabLen||9).join(" ")),qr(fn,an)}function Tf(fn){for(var sn,qn=fn.concat(),Ma=[],dc=qn.length;dc--;)typeof(sn=qn.shift())=="string"?Ma.push(sn):Array.isArray(fn)&&(sn.length===1||sn[1]===void 0&&sn[2]===void 0)?Ma.push(sn[0]):Ma.push([sn[0],sn[1],sn[2]]);return Ma}function WA(fn,sn){var qn;if(typeof fn=="string")qn=sn(fn)[0];else if(Array.isArray(fn)){for(var Ma,dc,Sl=fn.concat(),Ld=[],Of=Sl.length;Of--;)typeof(Ma=Sl.shift())=="string"?Ld.push(sn(Ma)[0]):Array.isArray(Ma)&&typeof Ma[0]=="string"&&(dc=sn(Ma[0],Ma[1],Ma[2]),Ld.push([dc[0],dc[1],dc[2]]));qn=Ld}return qn}var ac=!1,wl=!0;if(typeof M=="string")ac=!0;else if(Array.isArray(M)){var Pd=M.concat();bt=[];for(var Yc,js=Pd.length;js--;)(typeof(Yc=Pd.shift())!="string"||Array.isArray(Yc)&&typeof Yc[0]!="string")&&(wl=!1);ac=wl}if(ac===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var Uu=at/Vn.internal.scaleFactor,Qu=Uu*(Gc-1);switch(ke.baseline){case"bottom":Ce-=Qu;break;case"top":Ce+=Uu-Qu;break;case"hanging":Ce+=Uu-2*Qu;break;case"middle":Ce+=Uu/2-Qu}if((Dr=ke.maxWidth||0)>0&&(typeof M=="string"?M=Vn.splitTextToSize(M,Dr):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce(function(fn,sn){return fn.concat(Vn.splitTextToSize(sn,Dr))},[]))),ht={text:M,x:te,y:Ce,options:ke,mutex:{pdfEscape:qr,activeFontKey:Ee,fonts:Tt,activeFontSize:at}},Kt.publish("preProcessText",ht),M=ht.text,er=(ke=ht.options).angle,Ia instanceof hr==0&&er&&typeof er=="number"){er*=Math.PI/180,ke.rotationDirection===0&&(er=-er),E===C&&(er=-er);var YA=Math.cos(er),sc=Math.sin(er);Ia=new hr(YA,sc,-sc,YA,0,0)}else er&&er instanceof hr&&(Ia=er);E!==C||Ia||(Ia=Wa),(jr=ke.charSpace||Lo)!==void 0&&(Qs+=D(R(jr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ha=ke.horizontalScale)!==void 0&&(Qs+=D(100*ha)+` Tz
`),ke.lang;var ji=-1,Xc=ke.renderingMode!==void 0?ke.renderingMode:ke.stroke,XA=Vn.internal.getCurrentPageInfo().pageContext;switch(Xc){case 0:case!1:case"fill":ji=0;break;case 1:case!0:case"stroke":ji=1;break;case 2:case"fillThenStroke":ji=2;break;case 3:case"invisible":ji=3;break;case 4:case"fillAndAddForClipping":ji=4;break;case 5:case"strokeAndAddPathForClipping":ji=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ji=6;break;case 7:case"addToPathForClipping":ji=7}var kf=XA.usedRenderingMode!==void 0?XA.usedRenderingMode:-1;ji!==-1?Qs+=ji+` Tr
`:kf!==-1&&(Qs+=`0 Tr
`),ji!==-1&&(XA.usedRenderingMode=ji),ur=ke.align||"left";var xo,Cl=at*Gc,Jc=Vn.internal.pageSize.getWidth(),Ff=Tt[Ee];jr=ke.charSpace||Lo,Dr=ke.maxWidth||0,an=Object.assign({autoencode:!0,noBOM:!0},ke.flags);var Nl=[],Hu=function(fn){return Vn.getStringUnitWidth(fn,{font:Ff,charSpace:jr,fontSize:at,doKerning:!1})*at/bl};if(Object.prototype.toString.call(M)==="[object Array]"){var Gi;bt=Tf(M),ur!=="left"&&(xo=bt.map(Hu));var _i,ic=0;if(ur==="right"){te-=xo[0],M=[],js=bt.length;for(var oc=0;oc<js;oc++)oc===0?(_i=po(te),Gi=Us(Ce)):(_i=R(ic-xo[oc]),Gi=-Cl),M.push([bt[oc],_i,Gi]),ic=xo[oc]}else if(ur==="center"){te-=xo[0]/2,M=[],js=bt.length;for(var Zc=0;Zc<js;Zc++)Zc===0?(_i=po(te),Gi=Us(Ce)):(_i=R((ic-xo[Zc])/2),Gi=-Cl),M.push([bt[Zc],_i,Gi]),ic=xo[Zc]}else if(ur==="left"){M=[],js=bt.length;for(var JA=0;JA<js;JA++)M.push(bt[JA])}else if(ur==="justify"&&Ff.encoding==="Identity-H"){M=[],js=bt.length,Dr=Dr!==0?Dr:Jc;for(var ZA=0,La=0;La<js;La++)if(Gi=La===0?Us(Ce):-Cl,_i=La===0?po(te):ZA,La<js-1){var mm=R((Dr-xo[La])/(bt[La].split(" ").length-1)),lc=bt[La].split(" ");M.push([lc[0]+" ",_i,Gi]),ZA=0;for(var cc=1;cc<lc.length;cc++){var Hs=(Hu(lc[cc-1]+" "+lc[cc])-Hu(lc[cc]))*bl+mm;cc==lc.length-1?M.push([lc[cc],Hs,0]):M.push([lc[cc]+" ",Hs,0]),ZA-=Hs}}else M.push([bt[La],_i,Gi]);M.push(["",ZA,0])}else{if(ur!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],js=bt.length,Dr=Dr!==0?Dr:Jc,La=0;La<js;La++){Gi=La===0?Us(Ce):-Cl,_i=La===0?po(te):0;var eu=bt[La].split(" ").length-1,eh=eu>0?(Dr-xo[La])/eu:0;La<js-1?Nl.push(D(R(eh))):Nl.push(0),M.push([bt[La],_i,Gi])}}}(typeof ke.R2L=="boolean"?ke.R2L:Et)===!0&&(M=WA(M,function(fn,sn,qn){return[fn.split("").reverse().join(""),sn,qn]})),ht={text:M,x:te,y:Ce,options:ke,mutex:{pdfEscape:qr,activeFontKey:Ee,fonts:Tt,activeFontSize:at}},Kt.publish("postProcessText",ht),M=ht.text,Xa=ht.mutex.isHex||!1;var th=Tt[Ee].encoding;th!=="WinAnsiEncoding"&&th!=="StandardEncoding"||(M=WA(M,function(fn,sn,qn){return[Wc(fn),sn,qn]})),bt=Tf(M),M=[];for(var tu,ru,uc,Id=Array.isArray(bt[0])?1:0,yo="",nu=function(fn,sn,qn){var Ma="";return qn instanceof hr?(qn=typeof ke.angle=="number"?ba(qn,new hr(1,0,0,1,fn,sn)):ba(new hr(1,0,0,1,fn,sn),qn),E===C&&(qn=ba(new hr(1,0,0,-1,0,0),qn)),Ma=qn.join(" ")+` Tm
`):Ma=D(fn)+" "+D(sn)+` Td
`,Ma},si=0;si<bt.length;si++){switch(yo="",Id){case 1:uc=(Xa?"<":"(")+bt[si][0]+(Xa?">":")"),tu=parseFloat(bt[si][1]),ru=parseFloat(bt[si][2]);break;case 0:uc=(Xa?"<":"(")+bt[si]+(Xa?">":")"),tu=po(te),ru=Us(Ce)}Nl!==void 0&&Nl[si]!==void 0&&(yo=Nl[si]+` Tw
`),si===0?M.push(yo+nu(tu,ru,Ia)+uc):Id===0?M.push(yo+uc):Id===1&&M.push(yo+nu(tu,ru,Ia)+uc)}M=Id===0?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var Ro=`BT
/`;return Ro+=Ee+" "+at+` Tf
`,Ro+=D(at*Gc)+` TL
`,Ro+=rc+`
`,Ro+=Qs,Ro+=M,J(Ro+="ET"),p[Ee]=!0,Vn};var wf=m.__private__.clip=m.clip=function(M){return J(M==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return wf("evenodd")},m.__private__.discardPath=m.discardPath=function(){return J("n"),this};var Ei=m.__private__.isValidStyle=function(M){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(te=!0),te};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(M){return Ei(M)&&(u=M),this};var Cf=m.__private__.getStyle=m.getStyle=function(M){var te=u;switch(M){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=M}return te},Nf=m.close=function(){return J("h"),this};m.stroke=function(){return J("S"),this},m.fill=function(M){return yl("f",M),this},m.fillEvenOdd=function(M){return yl("f*",M),this},m.fillStroke=function(M){return yl("B",M),this},m.fillStrokeEvenOdd=function(M){return yl("B*",M),this};var yl=function(M,te){Hn(te)==="object"?lm(te,M):J(M)},_d=function(M){M===null||E===C&&M===void 0||(M=Cf(M),J(M))};function om(M,te,Ce,ke,Re){var ht=new jp(te||this.boundingBox,Ce||this.xStep,ke||this.yStep,this.gState,Re||this.matrix);ht.stream=this.stream;var bt=M+"$$"+this.cloneIndex+++"$$";return ca(bt,ht),ht}var lm=function(M,te){var Ce=Yr[M.key],ke=zt[Ce];if(ke instanceof l0)J("q"),J(Sf(te)),ke.gState&&m.setGState(ke.gState),J(M.matrix.toString()+" cm"),J("/"+Ce+" sh"),J("Q");else if(ke instanceof jp){var Re=new hr(1,0,0,-1,0,qc());M.matrix&&(Re=Re.multiply(M.matrix||Wa),Ce=om.call(ke,M.key,M.boundingBox,M.xStep,M.yStep,Re).id),J("q"),J("/Pattern cs"),J("/"+Ce+" scn"),ke.gState&&m.setGState(ke.gState),J(te),J("Q")}},Sf=function(M){switch(M){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Bf=m.moveTo=function(M,te){return J(D(R(M))+" "+D(K(te))+" m"),this},cm=m.lineTo=function(M,te){return J(D(R(M))+" "+D(K(te))+" l"),this},qi=m.curveTo=function(M,te,Ce,ke,Re,ht){return J([D(R(M)),D(K(te)),D(R(Ce)),D(K(ke)),D(R(Re)),D(K(ht)),"c"].join(" ")),this};m.__private__.line=m.line=function(M,te,Ce,ke,Re){if(isNaN(M)||isNaN(te)||isNaN(Ce)||isNaN(ke)||!Ei(Re))throw new Error("Invalid arguments passed to jsPDF.line");return E===N?this.lines([[Ce-M,ke-te]],M,te,[1,1],Re||"S"):this.lines([[Ce-M,ke-te]],M,te,[1,1]).stroke()},m.__private__.lines=m.lines=function(M,te,Ce,ke,Re,ht){var bt,er,ur,jr,Dr,an,ha,Ia,Vn,ds,Xa,Qs;if(typeof M=="number"&&(Qs=Ce,Ce=te,te=M,M=Qs),ke=ke||[1,1],ht=ht||!1,isNaN(te)||isNaN(Ce)||!Array.isArray(M)||!Array.isArray(ke)||!Ei(Re)||typeof ht!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Bf(te,Ce),bt=ke[0],er=ke[1],jr=M.length,ds=te,Xa=Ce,ur=0;ur<jr;ur++)(Dr=M[ur]).length===2?(ds=Dr[0]*bt+ds,Xa=Dr[1]*er+Xa,cm(ds,Xa)):(an=Dr[0]*bt+ds,ha=Dr[1]*er+Xa,Ia=Dr[2]*bt+ds,Vn=Dr[3]*er+Xa,ds=Dr[4]*bt+ds,Xa=Dr[5]*er+Xa,qi(an,ha,Ia,Vn,ds,Xa));return ht&&Nf(),_d(Re),this},m.path=function(M){for(var te=0;te<M.length;te++){var Ce=M[te],ke=Ce.c;switch(Ce.op){case"m":Bf(ke[0],ke[1]);break;case"l":cm(ke[0],ke[1]);break;case"c":qi.apply(this,ke);break;case"h":Nf()}}return this},m.__private__.rect=m.rect=function(M,te,Ce,ke,Re){if(isNaN(M)||isNaN(te)||isNaN(Ce)||isNaN(ke)||!Ei(Re))throw new Error("Invalid arguments passed to jsPDF.rect");return E===N&&(ke=-ke),J([D(R(M)),D(K(te)),D(R(Ce)),D(R(ke)),"re"].join(" ")),_d(Re),this},m.__private__.triangle=m.triangle=function(M,te,Ce,ke,Re,ht,bt){if(isNaN(M)||isNaN(te)||isNaN(Ce)||isNaN(ke)||isNaN(Re)||isNaN(ht)||!Ei(bt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ce-M,ke-te],[Re-Ce,ht-ke],[M-Re,te-ht]],M,te,[1,1],bt,!0),this},m.__private__.roundedRect=m.roundedRect=function(M,te,Ce,ke,Re,ht,bt){if(isNaN(M)||isNaN(te)||isNaN(Ce)||isNaN(ke)||isNaN(Re)||isNaN(ht)||!Ei(bt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var er=4/3*(Math.SQRT2-1);return Re=Math.min(Re,.5*Ce),ht=Math.min(ht,.5*ke),this.lines([[Ce-2*Re,0],[Re*er,0,Re,ht-ht*er,Re,ht],[0,ke-2*ht],[0,ht*er,-Re*er,ht,-Re,ht],[2*Re-Ce,0],[-Re*er,0,-Re,-ht*er,-Re,-ht],[0,2*ht-ke],[0,-ht*er,Re*er,-ht,Re,-ht]],M+Re,te,[1,1],bt,!0),this},m.__private__.ellipse=m.ellipse=function(M,te,Ce,ke,Re){if(isNaN(M)||isNaN(te)||isNaN(Ce)||isNaN(ke)||!Ei(Re))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ht=4/3*(Math.SQRT2-1)*Ce,bt=4/3*(Math.SQRT2-1)*ke;return Bf(M+Ce,te),qi(M+Ce,te-bt,M+ht,te-ke,M,te-ke),qi(M-ht,te-ke,M-Ce,te-bt,M-Ce,te),qi(M-Ce,te+bt,M-ht,te+ke,M,te+ke),qi(M+ht,te+ke,M+Ce,te+bt,M+Ce,te),_d(Re),this},m.__private__.circle=m.circle=function(M,te,Ce,ke){if(isNaN(M)||isNaN(te)||isNaN(Ce)||!Ei(ke))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,te,Ce,Ce,ke)},m.setFont=function(M,te,Ce){return Ce&&(te=O(te,Ce)),Ee=Lu(M,te,{disableWarning:!1}),this};var vl=m.__private__.getFont=m.getFont=function(){return Tt[Lu.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var M,te,Ce={};for(M in cr)if(cr.hasOwnProperty(M))for(te in Ce[M]=[],cr[M])cr[M].hasOwnProperty(te)&&Ce[M].push(te);return Ce},m.addFont=function(M,te,Ce,ke,Re){var ht=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ht.indexOf(arguments[3])!==-1?Re=arguments[3]:arguments[3]&&ht.indexOf(arguments[3])==-1&&(Ce=O(Ce,ke)),Cn.call(this,M,te,Ce,Re=Re||"Identity-H")};var Qc,Td=r.lineWidth||.200025,Ru=m.__private__.getLineWidth=m.getLineWidth=function(){return Td},Nr=m.__private__.setLineWidth=m.setLineWidth=function(M){return Td=M,J(D(R(M))+" w"),this};m.__private__.setLineDash=mr.API.setLineDash=mr.API.setLineDashPattern=function(M,te){if(M=M||[],te=te||0,isNaN(te)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(Ce){return D(R(Ce))}).join(" "),te=D(R(te)),J("["+M+"] "+te+" d"),this};var um=m.__private__.getLineHeight=m.getLineHeight=function(){return at*Qc};m.__private__.getLineHeight=m.getLineHeight=function(){return at*Qc};var Ef=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(Qc=M),this},dm=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Qc};Ef(r.lineHeight);var po=m.__private__.getHorizontalCoordinate=function(M){return R(M)},Us=m.__private__.getVerticalCoordinate=function(M){return E===C?M:Qt[z].mediaBox.topRightY-Qt[z].mediaBox.bottomLeftY-R(M)},jf=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(M){return D(po(M))},kd=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(M){return D(Us(M))},go=r.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return ge(go)},m.__private__.setStrokeColor=m.setDrawColor=function(M,te,Ce,ke){return go=Ne({ch1:M,ch2:te,ch3:Ce,ch4:ke,pdfColorType:"draw",precision:2}),J(go),this};var Fd=r.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return ge(Fd)},m.__private__.setFillColor=m.setFillColor=function(M,te,Ce,ke){return Fd=Ne({ch1:M,ch2:te,ch3:Ce,ch4:ke,pdfColorType:"fill",precision:2}),J(Fd),this};var rc=r.textColor||"0 g",Am=m.__private__.getTextColor=m.getTextColor=function(){return ge(rc)};m.__private__.setTextColor=m.setTextColor=function(M,te,Ce,ke){return rc=Ne({ch1:M,ch2:te,ch3:Ce,ch4:ke,pdfColorType:"text",precision:3}),this};var Lo=r.charSpace,VA=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Lo||0)};m.__private__.setCharSpace=m.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Lo=M,this};var qA=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(M){var te=m.CapJoinStyles[M];if(te===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qA=te,J(te+" J"),this};var Es=0;m.__private__.setLineJoin=m.setLineJoin=function(M){var te=m.CapJoinStyles[M];if(te===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Es=te,J(te+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(D(R(M))+" M"),this},m.GState=rC,m.setGState=function(M){(M=typeof M=="string"?nr[pr[M]]:nc(null,M)).equals(pt)||(J("/"+M.id+" gs"),pt=M)};var nc=function(M,te){if(!M||!pr[M]){var Ce=!1;for(var ke in nr)if(nr.hasOwnProperty(ke)&&nr[ke].equals(te)){Ce=!0;break}if(Ce)te=nr[ke];else{var Re="GS"+(Object.keys(nr).length+1).toString(10);nr[Re]=te,te.id=Re}return M&&(pr[M]=te.id),Kt.publish("addGState",te),te}};m.addGState=function(M,te){return nc(M,te),this},m.saveGraphicsState=function(){return J("q"),Br.push({key:Ee,size:at,color:rc}),this},m.restoreGraphicsState=function(){J("Q");var M=Br.pop();return Ee=M.key,at=M.size,rc=M.color,pt=null,this},m.setCurrentTransformationMatrix=function(M){return J(M.toString()+" cm"),this},m.comment=function(M){return J("#"+M),this};var Mo=function(M,te){var Ce=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ce},set:function(ht){isNaN(ht)||(Ce=parseFloat(ht))}});var ke=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(ht){isNaN(ht)||(ke=parseFloat(ht))}});var Re="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Re},set:function(ht){Re=ht.toString()}}),this},Hc=function(M,te,Ce,ke){Mo.call(this,M,te),this.type="rect";var Re=Ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Re},set:function(bt){isNaN(bt)||(Re=parseFloat(bt))}});var ht=ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ht},set:function(bt){isNaN(bt)||(ht=parseFloat(bt))}}),this},GA=function(){this.page=Nt,this.currentPage=z,this.pages=Pe.slice(0),this.pagesContext=Qt.slice(0),this.x=ct,this.y=Zt,this.matrix=It,this.width=Kc(z),this.height=_f(z),this.outputDestination=Se,this.id="",this.objectNumber=-1};GA.prototype.restore=function(){Nt=this.page,z=this.currentPage,Qt=this.pagesContext,Pe=this.pages,ct=this.x,Zt=this.y,It=this.matrix,Dd(z,this.width),$c(z,this.height),Se=this.outputDestination};var Od=function(M,te,Ce,ke,Re){Ga.push(new GA),Nt=z=0,Pe=[],ct=M,Zt=te,It=Re,Tn([Ce,ke])};for(var zc in m.beginFormObject=function(M,te,Ce,ke,Re){return Od(M,te,Ce,ke,Re),this},m.endFormObject=function(M){return(function(te){if(Rs[te])Ga.pop().restore();else{var Ce=new GA,ke="Xo"+(Object.keys(Or).length+1).toString(10);Ce.id=ke,Rs[te]=ke,Or[ke]=Ce,Kt.publish("addFormObject",Ce),Ga.pop().restore()}})(M),this},m.doFormObject=function(M,te){var Ce=Or[Rs[M]];return J("q"),J(te.toString()+" cm"),J("/"+Ce.id+" Do"),J("Q"),this},m.getFormObject=function(M){var te=Or[Rs[M]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},m.save=function(M,te){return M=M||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(n0(Mu(tc()),M),typeof n0.unload=="function"&&kr.setTimeout&&setTimeout(n0.unload,911),this):new Promise(function(Ce,ke){try{var Re=n0(Mu(tc()),M);typeof n0.unload=="function"&&kr.setTimeout&&setTimeout(n0.unload,911),Ce(Re)}catch(ht){ke(ht.message)}})},mr.API)mr.API.hasOwnProperty(zc)&&(zc==="events"&&mr.API.events.length?(function(M,te){var Ce,ke,Re;for(Re=te.length-1;Re!==-1;Re--)Ce=te[Re][0],ke=te[Re][1],M.subscribe.apply(M,[Ce].concat(typeof ke=="function"?[ke]:ke))})(Kt,mr.API.events):m[zc]=mr.API[zc]);function Kc(M){return Qt[M].mediaBox.topRightX-Qt[M].mediaBox.bottomLeftX}function Dd(M,te){Qt[M].mediaBox.topRightX=te+Qt[M].mediaBox.bottomLeftX}function _f(M){return Qt[M].mediaBox.topRightY-Qt[M].mediaBox.bottomLeftY}function $c(M,te){Qt[M].mediaBox.topRightY=te+Qt[M].mediaBox.bottomLeftY}var Vc=m.getPageWidth=function(M){return Kc(M=M||z)/ot},hm=m.setPageWidth=function(M,te){Dd(M,te*ot)},qc=m.getPageHeight=function(M){return _f(M=M||z)/ot},fm=m.setPageHeight=function(M,te){$c(M,te*ot)};return m.internal={pdfEscape:qr,getStyle:Cf,getFont:vl,getFontSize:mt,getCharSpace:VA,getTextColor:Am,getLineHeight:um,getLineHeightFactor:dm,getLineWidth:Ru,write:Le,getHorizontalCoordinate:po,getVerticalCoordinate:Us,getCoordinateString:jf,getVerticalCoordinateString:kd,collections:{},newObject:_n,newAdditionalObject:we,newObjectDeferred:wa,newObjectDeferredBegin:se,getFilters:Ke,putStream:st,events:Kt,scaleFactor:ot,pageSize:{getWidth:function(){return Vc(z)},setWidth:function(M){hm(z,M)},getHeight:function(){return qc(z)},setHeight:function(M){fm(z,M)}},encryptionOptions:A,encryption:us,getEncryptor:function(M){return A!==null?us.encryptor(M,0):function(te){return te}},output:bf,getNumberOfPages:mo,get pages(){return Pe},out:J,f2:L,f3:Q,getPageInfo:Ya,getPageInfoByObjId:$A,getCurrentPageInfo:im,getPDFVersion:g,Point:Mo,Rectangle:Hc,Matrix:hr,hasHotfix:Bi},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Vc(z)},set:function(M){hm(z,M)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return qc(z)},set:function(M){fm(z,M)},enumerable:!0,configurable:!0}),(function(M){for(var te=0,Ce=Je.length;te<Ce;te++){var ke=Cn.call(this,M[te][0],M[te][1],M[te][2],Je[te][3],!0);h===!1&&(p[ke]=!0);var Re=M[te][0].split("-");Gt({id:ke,fontName:Re[0],fontStyle:Re[1]||""})}Kt.publish("addFonts",{fonts:Tt,dictionary:cr})}).call(m,Je),Ee="F1",Si(a,t),Kt.publish("initialized"),m}gp.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},gp.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},gp.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},gp.prototype.processOwnerPassword=function(r,e){return a_(n_(e).substr(0,5),r)},gp.prototype.encryptor=function(r,e){var t=n_(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return a_(t,n)}},rC.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Hn(r)!==Hn(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},mr.API={events:[]},mr.version="4.0.0";var ss=mr.API,jk=1,sm=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},up=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Lr=function(r){return r.toFixed(2)},Th=function(r){return r.toFixed(5)};ss.__acroform__={};var ml=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},u8=function(r){return r*jk},Ad=function(r){var e=new nW,t=or.internal.getHeight(r)||0,n=or.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Lr(n)),Number(Lr(t))],e},nIe=ss.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},aIe=ss.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},sIe=ss.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},ys=ss.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sIe(r,e-1)},vs=ss.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return nIe(r,e-1)},bs=ss.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return aIe(r,e-1)},iIe=ss.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=r[0],s=r[1],i=r[2],l=r[3],c={};return c.lowerLeft_X=t(a)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=t(a+i)||0,c.upperRight_Y=n(s)||0,[Number(Lr(c.lowerLeft_X)),Number(Lr(c.lowerLeft_Y)),Number(Lr(c.upperRight_X)),Number(Lr(c.upperRight_Y))]},oIe=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=s_(r,t),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+Lr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ad(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},s_=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(L){return L.split(`
`)}):a.map(function(L){return[L]});var s=t,i=or.internal.getHeight(r)||0;i=i<0?-i:i;var l=or.internal.getWidth(r)||0;l=l<0?-l:l;var c=function(L,Q,R){if(L+1<a.length){var K=Q+" "+a[L+1][0];return lw(K,r,R).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var u,A,h=lw("3",r,s).height,p=r.multiline?i-s:(i-h)/2,m=p+=2,y=0,g=0,v=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+lw(e,r,s=12).width+", FieldWidth:"+l+`
`;break}for(var b="",N=0,C=0;C<a.length;C++)if(a.hasOwnProperty(C)){var E=!1;if(a[C].length!==1&&v!==a[C].length-1){if((h+2)*(N+2)+2>i)continue e;b+=a[C][v],E=!0,g=C,C--}else{b=(b+=a[C][v]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var _=parseInt(C),P=c(_,b,s),O=C>=a.length-1;if(P&&!O){b+=" ",v=0;continue}if(P||O){if(O)g=_;else if(r.multiline&&(h+2)*(N+2)+2>i)continue e}else{if(!r.multiline||(h+2)*(N+2)+2>i)continue e;g=_}}for(var D="",k=y;k<=g;k++){var H=a[k];if(r.multiline){if(k===g){D+=H[v]+" ",v=(v+1)%H.length;continue}if(k===y){D+=H[H.length-1]+" ";continue}}D+=H[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,A=lw(D,r,s).width,r.textAlign){case"right":u=l-A-2;break;case"center":u=(l-A)/2;break;default:u=2}e+=Lr(u)+" "+Lr(m)+` Td
`,e+="("+sm(D)+`) Tj
`,e+=-Lr(u)+` 0 Td
`,m=-(s+2),A=0,y=E?g:g+1,N++,b=""}break}return n.text=e,n.fontSize=s,n},lw=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},lIe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},cIe=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},uIe=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Pu.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(lIe)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");jk=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new aW,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&cIe(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,a){var s=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var l=n[i],c=[],u=l.Rect;if(l.Rect&&(l.Rect=iIe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=or.createDefaultAppearanceStream(l),Hn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var A=oIe(l);c.push({key:"AP",value:"<</N "+A+">>"}),a.internal.acroformPlugin.xForms.push(A)}if(l.appearanceStreamContent){var h="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var m=l.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var i in m)if(m.hasOwnProperty(i)){var y=m[i];typeof y=="function"&&(y=y.call(a,l)),h+="/"+i+" "+y+" ",a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(a,l)),h+="/"+i+" "+y,a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}s&&(function(g,v){for(var b in g)if(g.hasOwnProperty(b)){var N=b,C=g[b];v.internal.newObjectDeferredBegin(C.objId,!0),Hn(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete g[N]}})(a.internal.acroformPlugin.xForms,a)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},rW=ss.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(i){return i};if(Array.isArray(r)){for(var a="[",s=0;s<r.length;s++)switch(s!==0&&(a+=" "),Hn(r[s])){case"boolean":case"number":case"object":a+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),a+="("+sm(n(r[s].toString()))+")"):a+=r[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},QE=function(r,e,t){var n=function(a){return a};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+sm(n(r))+")"},vd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};vd.prototype.toString=function(){return this.objId+" 0 R"},vd.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},vd.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],a=this[n];a&&(Array.isArray(a)?r.push({key:n,value:rW(a,this.objId,this.scope)}):a instanceof vd?(a.scope=this.scope,r.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:n,value:a}))}return r};var nW=function(){vd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};ml(nW,vd);var aW=function(){vd.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+sm(t(r))+")"}},set:function(t){r=t}})};ml(aW,vd);var Pu=function r(){vd.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ys(e,3)},set:function(b){b?this.F=vs(e,3):this.F=bs(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');t=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof nC)return;s="FieldObject"+r.FieldNum++}var b=function(N){return N};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+sm(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(b){i=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/jk:u},set:function(b){u=b}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(b){A=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof nC||this instanceof j0))return QE(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof mi==0?QE(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof mi==0?b.substr(0,1)==="("?up(b.substr(1,b.length-2)):up(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi==1?up(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof mi==1?"/"+b:b}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof mi==0?QE(m,this.objId,this.scope):m},set:function(b){b=b.toString(),m=this instanceof mi==0?b.substr(0,1)==="("?up(b.substr(1,b.length-2)):up(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi==1?up(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof mi==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(b){b=!!b,g=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(b){y=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,1)},set:function(b){b?this.Ff=vs(this.Ff,1):this.Ff=bs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,2)},set:function(b){b?this.Ff=vs(this.Ff,2):this.Ff=bs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,3)},set:function(b){b?this.Ff=vs(this.Ff,3):this.Ff=bs(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');v=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(v){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};ml(Pu,vd);var Qp=function(){Pu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return rW(e,this.objId,this.scope)},set:function(t){var n,a;a=[],typeof(n=t)=="string"&&(a=(function(s,i,l){l||(l=1);for(var c,u=[];c=i.exec(s);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,18)},set:function(t){t?this.Ff=vs(this.Ff,18):this.Ff=bs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=vs(this.Ff,19):this.Ff=bs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,20)},set:function(t){t?(this.Ff=vs(this.Ff,20),e.sort()):this.Ff=bs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,22)},set:function(t){t?this.Ff=vs(this.Ff,22):this.Ff=bs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,23)},set:function(t){t?this.Ff=vs(this.Ff,23):this.Ff=bs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,27)},set:function(t){t?this.Ff=vs(this.Ff,27):this.Ff=bs(this.Ff,27)}}),this.hasAppearanceStream=!1};ml(Qp,Pu);var Hp=function(){Qp.call(this),this.fontName="helvetica",this.combo=!1};ml(Hp,Qp);var zp=function(){Hp.call(this),this.combo=!0};ml(zp,Hp);var _w=function(){zp.call(this),this.edit=!0};ml(_w,zp);var mi=function(){Pu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,15)},set:function(t){t?this.Ff=vs(this.Ff,15):this.Ff=bs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,16)},set:function(t){t?this.Ff=vs(this.Ff,16):this.Ff=bs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,17)},set:function(t){t?this.Ff=vs(this.Ff,17):this.Ff=bs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,26)},set:function(t){t?this.Ff=vs(this.Ff,26):this.Ff=bs(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+sm(t(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Hn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};ml(mi,Pu);var Tw=function(){mi.call(this),this.pushButton=!0};ml(Tw,mi);var Kp=function(){mi.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};ml(Kp,mi);var nC=function(){var r,e;Pu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,i=[];for(s in i.push("<<"),n)i.push("/"+s+" ("+sm(a(n[s]))+")");return i.push(">>"),i.join(`
`)},set:function(a){Hn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=or.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ml(nC,Pu),Kp.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Kp.prototype.createOption=function(r){var e=new nC;return e.Parent=this,e.optionName=r,this.Kids.push(e),dIe.call(this.scope,e),e};var kw=function(){mi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=or.CheckBox.createAppearanceStream()};ml(kw,mi);var j0=function(){Pu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,13)},set:function(e){e?this.Ff=vs(this.Ff,13):this.Ff=bs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,21)},set:function(e){e?this.Ff=vs(this.Ff,21):this.Ff=bs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,23)},set:function(e){e?this.Ff=vs(this.Ff,23):this.Ff=bs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,24)},set:function(e){e?this.Ff=vs(this.Ff,24):this.Ff=bs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,25)},set:function(e){e?this.Ff=vs(this.Ff,25):this.Ff=bs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,26)},set:function(e){e?this.Ff=vs(this.Ff,26):this.Ff=bs(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ml(j0,Pu);var Fw=function(){j0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ys(this.Ff,14)},set:function(r){r?this.Ff=vs(this.Ff,14):this.Ff=bs(this.Ff,14)}}),this.password=!0};ml(Fw,j0);var or={CheckBox:{createAppearanceStream:function(){return{N:{On:or.CheckBox.YesNormal},D:{On:or.CheckBox.YesPushDown,Off:or.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Ad(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),s=s_(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Lr(or.internal.getWidth(r))+" "+Lr(or.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Lr(s.fontSize)+" Tf "+a),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Ad(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),a=[],s=or.internal.getHeight(r),i=or.internal.getWidth(r),l=s_(r,r.caption);return a.push("1 g"),a.push("0 0 "+Lr(i)+" "+Lr(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Lr(i-1)+" "+Lr(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+Lr(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=Ad(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Lr(or.internal.getWidth(r))+" "+Lr(or.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:or.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=or.RadioButton.Circle.YesNormal,e.D[r]=or.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Ad(r);e.scope=r.scope;var t=[],n=or.internal.getWidth(r)<=or.internal.getHeight(r)?or.internal.getWidth(r)/4:or.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=or.internal.Bezier_C,s=Number((n*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Th(or.internal.getWidth(r)/2)+" "+Th(or.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Ad(r);e.scope=r.scope;var t=[],n=or.internal.getWidth(r)<=or.internal.getHeight(r)?or.internal.getWidth(r)/4:or.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*or.internal.Bezier_C).toFixed(5)),i=Number((n*or.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Th(or.internal.getWidth(r)/2)+" "+Th(or.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),t.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),t.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),t.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Th(or.internal.getWidth(r)/2)+" "+Th(or.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Ad(r);e.scope=r.scope;var t=[],n=or.internal.getWidth(r)<=or.internal.getHeight(r)?or.internal.getWidth(r)/4:or.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*or.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Th(or.internal.getWidth(r)/2)+" "+Th(or.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),t.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),t.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),t.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:or.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=or.RadioButton.Cross.YesNormal,e.D[r]=or.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Ad(r);e.scope=r.scope;var t=[],n=or.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Lr(or.internal.getWidth(r)-2)+" "+Lr(or.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Lr(n.x1.x)+" "+Lr(n.x1.y)+" m"),t.push(Lr(n.x2.x)+" "+Lr(n.x2.y)+" l"),t.push(Lr(n.x4.x)+" "+Lr(n.x4.y)+" m"),t.push(Lr(n.x3.x)+" "+Lr(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Ad(r);e.scope=r.scope;var t=or.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Lr(or.internal.getWidth(r))+" "+Lr(or.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Lr(or.internal.getWidth(r)-2)+" "+Lr(or.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Lr(t.x1.x)+" "+Lr(t.x1.y)+" m"),n.push(Lr(t.x2.x)+" "+Lr(t.x2.y)+" l"),n.push(Lr(t.x4.x)+" "+Lr(t.x4.y)+" m"),n.push(Lr(t.x3.x)+" "+Lr(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Ad(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Lr(or.internal.getWidth(r))+" "+Lr(or.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};or.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=or.internal.getWidth(r),t=or.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},or.internal.getWidth=function(r){var e=0;return Hn(r)==="object"&&(e=u8(r.Rect[2])),e},or.internal.getHeight=function(r){var e=0;return Hn(r)==="object"&&(e=u8(r.Rect[3])),e};var dIe=ss.addField=function(r){if(uIe(this,r),!(r instanceof Pu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};ss.AcroFormChoiceField=Qp,ss.AcroFormListBox=Hp,ss.AcroFormComboBox=zp,ss.AcroFormEditBox=_w,ss.AcroFormButton=mi,ss.AcroFormPushButton=Tw,ss.AcroFormRadioButton=Kp,ss.AcroFormCheckBox=kw,ss.AcroFormTextField=j0,ss.AcroFormPasswordField=Fw,ss.AcroFormAppearance=or,ss.AcroForm={ChoiceField:Qp,ListBox:Hp,ComboBox:zp,EditBox:_w,Button:mi,PushButton:Tw,RadioButton:Kp,CheckBox:kw,TextField:j0,PasswordField:Fw,Appearance:or},mr.AcroForm={ChoiceField:Qp,ListBox:Hp,ComboBox:zp,EditBox:_w,Button:mi,PushButton:Tw,RadioButton:Kp,CheckBox:kw,TextField:j0,PasswordField:Fw,Appearance:or};mr.AcroForm;function sW(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=r.__addimage__.getImageFileTypeByImageData=function(L,Q){var R,K,ee,X,ae,Y=t;if((Q=Q||t)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(P(L))for(ae in n)for(ee=n[ae],R=0;R<ee.length;R+=1){for(X=!0,K=0;K<ee[R].length;K+=1)if(ee[R][K]!==void 0&&ee[R][K]!==L[K]){X=!1;break}if(X===!0){Y=ae;break}}else for(ae in n)for(ee=n[ae],R=0;R<ee.length;R+=1){for(X=!0,K=0;K<ee[R].length;K+=1)if(ee[R][K]!==void 0&&ee[R][K]!==L.charCodeAt(K)){X=!1;break}if(X===!0){Y=ae;break}}return Y===t&&Q!==t&&(Y=Q),Y},s=function L(Q){for(var R=this.internal.write,K=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);Q.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:Q.width}),X.push({key:"Height",value:Q.height}),Q.colorSpace===b.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Q.palette.length/3-1)+" "+("sMask"in Q&&Q.sMask!==void 0?Q.objectId+2:Q.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+Q.colorSpace}),Q.colorSpace===b.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:Q.bitsPerComponent}),"decodeParameters"in Q&&Q.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+Q.decodeParameters+">>"}),"transparency"in Q&&Array.isArray(Q.transparency)&&Q.transparency.length>0){for(var ae="",Y=0,de=Q.transparency.length;Y<de;Y++)ae+=Q.transparency[Y]+" "+Q.transparency[Y]+" ";X.push({key:"Mask",value:"["+ae+"]"})}Q.sMask!==void 0&&X.push({key:"SMask",value:Q.objectId+1+" 0 R"});var pe=Q.filter!==void 0?["/"+Q.filter]:void 0;if(K({data:Q.data,additionalKeyValues:X,alreadyAppliedFilters:pe,objectId:Q.objectId}),R("endobj"),"sMask"in Q&&Q.sMask!==void 0){var Z,I=(Z=Q.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:Q.bitsPerComponent,z={width:Q.width,height:Q.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:Q.sMask};"filter"in Q&&(z.decodeParameters="/Predictor ".concat(Q.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat(Q.width),z.filter=Q.filter),L.call(this,z)}if(Q.colorSpace===b.INDEXED){var V=this.internal.newObject();K({data:D(new Uint8Array(Q.palette)),objectId:V}),R("endobj")}},i=function(){var L=this.internal.collections[e+"images"];for(var Q in L)s.call(this,L[Q])},l=function(){var L,Q=this.internal.collections[e+"images"],R=this.internal.write;for(var K in Q)R("/I"+(L=Q[K]).index,L.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var L=this.internal.collections[e+"images"];return c.call(this),L},A=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(L){return typeof r["process"+L.toUpperCase()]=="function"},p=function(L){return Hn(L)==="object"&&L.nodeType===1},m=function(L,Q){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var R=""+L.getAttribute("src");if(R.indexOf("data:image/")===0)return jw(unescape(R).split("base64,").pop());var K=r.loadFile(R,!0);if(K!==void 0)return K}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var ee;switch(Q){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;default:ee="image/jpeg"}return jw(L.toDataURL(ee,1).split("base64,").pop())}},y=function(L){var Q=this.internal.collections[e+"images"];if(Q){for(var R in Q)if(L===Q[R].alias)return Q[R]}},g=function(L,Q,R){return L||Q||(L=-96,Q=-96),L<0&&(L=-1*R.width*72/L/this.internal.scaleFactor),Q<0&&(Q=-1*R.height*72/Q/this.internal.scaleFactor),L===0&&(L=Q*R.width/R.height),Q===0&&(Q=L*R.height/R.width),[L,Q]},v=function(L,Q,R,K,ee,X){var ae=g.call(this,R,K,ee),Y=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,pe=u.call(this);if(R=ae[0],K=ae[1],pe[ee.index]=ee,X){X*=Math.PI/180;var Z=Math.cos(X),I=Math.sin(X),z=function(q){return q.toFixed(4)},V=[z(Z),z(I),z(-1*I),z(Z),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,Y(L),de(Q+K),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([Y(R),"0","0",Y(K),"0","0","cm"].join(" "))):this.internal.write([Y(R),"0","0",Y(K),Y(L),de(Q+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},b=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=r.__addimage__.sHashCode=function(L){var Q,R,K=0;if(typeof L=="string")for(R=L.length,Q=0;Q<R;Q++)K=(K<<5)-K+L.charCodeAt(Q),K|=0;else if(P(L))for(R=L.byteLength/2,Q=0;Q<R;Q++)K=(K<<5)-K+L[Q],K|=0;return K},E=r.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var Q=!0;return L.length===0&&(Q=!1),L.length%4!=0&&(Q=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(Q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(Q=!1),Q},_=r.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var Q=L.indexOf(",");return Q<0?null:L.substring(0,Q).trim().endsWith("base64")?L.substring(Q+1):null};r.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var P=r.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},O=r.__addimage__.binaryStringToUint8Array=function(L){for(var Q=L.length,R=new Uint8Array(Q),K=0;K<Q;K++)R[K]=L.charCodeAt(K);return R},D=r.__addimage__.arrayBufferToBinaryString=function(L){for(var Q="",R=P(L)?L:new Uint8Array(L),K=0;K<R.length;K+=8192)Q+=String.fromCharCode.apply(null,R.subarray(K,K+8192));return Q};r.addImage=function(){var L,Q,R,K,ee,X,ae,Y,de;if(typeof arguments[1]=="number"?(Q=t,R=arguments[1],K=arguments[2],ee=arguments[3],X=arguments[4],ae=arguments[5],Y=arguments[6],de=arguments[7]):(Q=arguments[1],R=arguments[2],K=arguments[3],ee=arguments[4],X=arguments[5],ae=arguments[6],Y=arguments[7],de=arguments[8]),Hn(L=arguments[0])==="object"&&!p(L)&&"imageData"in L){var pe=L;L=pe.imageData,Q=pe.format||Q||t,R=pe.x||R||0,K=pe.y||K||0,ee=pe.w||pe.width||ee,X=pe.h||pe.height||X,ae=pe.alias||ae,Y=pe.compression||Y,de=pe.rotation||pe.angle||de}var Z=this.internal.getFilters();if(Y===void 0&&Z.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(R)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var I=k.call(this,L,Q,ae,Y);return v.call(this,R,K,ee,X,I,de),this};var k=function(L,Q,R,K){var ee,X,ae;if(typeof L=="string"&&a(L)===t){L=unescape(L);var Y=H(L,!1);(Y!==""||(Y=r.loadFile(L,!0))!==void 0)&&(L=Y)}if(p(L)&&(L=m(L,Q)),Q=a(L,Q),!h(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(((ae=R)==null||ae.length===0)&&(R=(function(de){return typeof de=="string"||P(de)?C(de):P(de.data)?C(de.data):null})(L)),(ee=y.call(this,R))||(L instanceof Uint8Array||Q==="RGBA"||(X=L,L=O(L)),ee=this["process"+Q.toUpperCase()](L,A.call(this),R,(function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in r.image_compression?de:N.NONE})(K),X)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},H=r.__addimage__.convertBase64ToBinaryString=function(L,Q){Q=typeof Q!="boolean"||Q;var R,K="";if(typeof L=="string"){var ee;R=(ee=_(L))!==null&&ee!==void 0?ee:L;try{K=jw(R)}catch(X){if(Q)throw E(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};r.getImageProperties=function(L){var Q,R,K="";if(p(L)&&(L=m(L)),typeof L=="string"&&a(L)===t&&((K=H(L,!1))===""&&(K=r.loadFile(L)||""),L=K),R=a(L),!h(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(L instanceof Uint8Array||(L=O(L)),!(Q=this["process"+R.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return Q.fileType=R,Q}})(mr.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};mr.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,a,s,i=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,A=!1,h=0;h<u.length&&!A;h++)switch((n=u[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(g.objId),N=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(b(n.contents))+")",s+=" /Popup "+v.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(b(N))+") >>",g.content=s;var C=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+C,n.open&&(s+=" /Open true"),s+=" >>",v.content=s,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(y(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var P=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,a,s,i){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(t),y:u(n),w:c(t+a),h:u(n+s)},options:i,type:"link"})},r.textWithLink=function(t,n,a,s){var i,l,c=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var A=this.splitTextToSize(t,l).length;i=Math.ceil(u*A)}else l=c,i=u;return this.text(t,n,a,s),a+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-u,l,i,s),c},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(mr.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},i=r.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=r.__arabicParser__.isArabicEndLetter=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(g){return i(g)&&a.indexOf(g.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var u=r.__arabicParser__.arabicLetterHasFinalForm=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var A=r.__arabicParser__.arabicLetterHasMedialForm=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length==4},h=r.__arabicParser__.resolveLigatures=function(g){var v=0,b=t,N="",C=0;for(v=0;v<g.length;v+=1)b[g.charCodeAt(v)]!==void 0?(C++,typeof(b=b[g.charCodeAt(v)])=="number"&&(N+=String.fromCharCode(b),b=t,C=0),v===g.length-1&&(b=t,N+=g.charAt(v-(C-1)),v-=C-1,C=0)):(b=t,N+=g.charAt(v-C),v-=C,C=0);return N};r.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=r.__arabicParser__.getCorrectForm=function(g,v,b){return i(g)?s(g)===!1?-1:!u(g)||!i(v)&&!i(b)||!i(b)&&l(v)||l(g)&&!i(v)||l(g)&&c(v)||l(g)&&l(v)?0:A(g)&&i(v)&&!l(v)&&i(b)&&u(b)?3:l(g)||!i(b)?1:2:-1},m=function(g){var v=0,b=0,N=0,C="",E="",_="",P=(g=g||"").split("\\s+"),O=[];for(v=0;v<P.length;v+=1){for(O.push(""),b=0;b<P[v].length;b+=1)C=P[v][b],E=P[v][b-1],_=P[v][b+1],i(C)?(N=p(C,E,_),O[v]+=N!==-1?String.fromCharCode(e[C.charCodeAt(0)][N]):C):O[v]+=C;O[v]=h(O[v])}return O.join(" ")},y=r.__arabicParser__.processArabic=r.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(v)){var N=0;for(b=[],N=0;N<v.length;N+=1)Array.isArray(v[N])?b.push([m(v[N][0]),v[N][1],v[N][2]]):b.push([m(v[N])]);g=b}else g=m(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};r.events.push(["preProcessText",y])})(mr.API),mr.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(l){i=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var a;if((t=t||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(mr.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(g){A=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(g){y=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,u){n.call(this);var A=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,m=0,y=0,g=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(C,E){return C.concat(v.splitTextToSize(E,b))},[])):c=Array.isArray(c)?c:[c];for(var N=0;N<c.length;N++)m<(g=this.getStringUnitWidth(c[N],{font:h})*A)&&(m=g);return m!==0&&(y=c.length),{w:m/=p,h:Math.max((y*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/p,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=r.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,m&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-A,c.y+A,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+A,{align:"center",baseline:"top",maxWidth:c.width-A-A}):this.text(c.text,c.x+A,c.y+A,{align:"left",baseline:"top",maxWidth:c.width-A-A})),this.internal.__cell__.lastCell=c,this};r.table=function(c,u,A,h,p){if(n.call(this),!A)throw new Error("No data for PDF table.");var m,y,g,v,b=[],N=[],C=[],E={},_={},P=[],O=[],D=(p=p||{}).autoSize||!1,k=p.printHeaders!==!1,H=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,L=p.margins||Object.assign({width:this.getPageWidth()},e),Q=typeof p.padding=="number"?p.padding:3,R=p.headerBackgroundColor||"#c8c8c8",K=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=Q,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=K,this.setFontSize(H),h==null)N=b=Object.keys(A[0]),C=b.map(function(){return"left"});else if(Array.isArray(h)&&Hn(h[0])==="object")for(b=h.map(function(pe){return pe.name}),N=h.map(function(pe){return pe.prompt||pe.name||""}),C=h.map(function(pe){return pe.align||"left"}),m=0;m<h.length;m+=1)_[h[m].name]=.7499990551181103*h[m].width;else Array.isArray(h)&&typeof h[0]=="string"&&(N=b=h,C=b.map(function(){return"left"}));if(D||Array.isArray(h)&&typeof h[0]=="string")for(m=0;m<b.length;m+=1){for(E[v=b[m]]=A.map(function(pe){return pe[v]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(N[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=E[v],this.setFont(void 0,"normal"),g=0;g<y.length;g+=1)P.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[v]=Math.max.apply(null,P)+Q+Q,P=[]}if(k){var ee={};for(m=0;m<b.length;m+=1)ee[b[m]]={},ee[b[m]].text=N[m],ee[b[m]].align=C[m];var X=l.call(this,ee,_);O=b.map(function(pe){return new s(c,u,_[pe],X,ee[pe].text,void 0,ee[pe].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var ae=h.reduce(function(pe,Z){return pe[Z.name]=Z.align,pe},{});for(m=0;m<A.length;m+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:m,data:A[m]},this);var Y=l.call(this,A[m],_);for(g=0;g<b.length;g+=1){var de=A[m][b[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:m,col:g,data:de},this),i.call(this,new s(c,u,_[b[g]],Y,de,m+2,ae[b[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var A=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(m){var y=c[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[m]-A-A)},this).map(function(m){return this.getLineHeightFactor()*m.length*h/p+A+A},this).reduce(function(m,y){return Math.max(m,y)},0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){A=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(A.y=this.internal.__cell__.margins.top||0,p.push(A)),A.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,A),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),t=!1}})(mr.API);var iW={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},oW=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],i_=sW(oW),lW=[100,200,300,400,500,600,700,800,900],AIe=sW(lW);function HE(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return iW[s=s||"normal"]?s:"normal"})(r.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(r.weight),a=(function(s){return typeof i_[s=s||"normal"]=="number"?s:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,t,n].join(" ")}}}function d8(r,e,t,n){var a;for(a=t;a>=0&&a<e.length;a+=n)if(r[e[a]])return r[e[a]];for(a=t;a>=0&&a<e.length;a-=n)if(r[e[a]])return r[e[a]]}var hIe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},A8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function h8(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function f8(r){return r.trimLeft()}function fIe(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function mIe(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var cw,m8,p8,dp,uw,g8,x8,y8,zE=["times"];function v8(r,e,t,n,a){var s=4,i=w8;switch(a){case mr.API.image_compression.FAST:s=1,i=b8;break;case mr.API.image_compression.MEDIUM:s=6,i=C8;break;case mr.API.image_compression.SLOW:s=9,i=N8}r=(function(c,u,A,h){for(var p,m=c.length/u,y=new Uint8Array(c.length+m),g=[pIe,b8,w8,C8,N8],v=0;v<m;v+=1){var b=v*u,N=c.subarray(b,b+u);if(h)y.set(h(N,A,p),b+v);else{for(var C=g.length,E=[],_=0;_<C;_+=1)E[_]=g[_](N,A,p);var P=xIe(E.concat());y.set(E[P],b+v)}p=N}return y})(r,e,Math.ceil(t*n/8),i);var l=Z4(r,{level:s});return mr.API.__addimage__.arrayBufferToBinaryString(l)}function pIe(r){var e=Array.apply([],r);return e.unshift(0),e}function b8(r,e){var t=r.length,n=[];n[0]=1;for(var a=0;a<t;a+=1){var s=r[a-e]||0;n[a+1]=r[a]-s+256&255}return n}function w8(r,e,t){var n=r.length,a=[];a[0]=2;for(var s=0;s<n;s+=1){var i=t&&t[s]||0;a[s+1]=r[s]-i+256&255}return a}function C8(r,e,t){var n=r.length,a=[];a[0]=3;for(var s=0;s<n;s+=1){var i=r[s-e]||0,l=t&&t[s]||0;a[s+1]=r[s]+256-(i+l>>>1)&255}return a}function N8(r,e,t){var n=r.length,a=[];a[0]=4;for(var s=0;s<n;s+=1){var i=gIe(r[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);a[s+1]=r[s]-i+256&255}return a}function gIe(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),a=Math.abs(r-t),s=Math.abs(r+e-t-t);return n<=a&&n<=s?r:a<=s?e:t}function xIe(r){var e=r.map(function(t){return t.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function KE(r,e,t){var n=e*t,a=Math.floor(n/8),s=16-(n-8*a+t),i=(1<<t)-1;return cW(r,a)>>s&i}function S8(r,e,t,n){var a=t*n,s=Math.floor(a/8),i=16-(a-8*s+n),l=(1<<n)-1,c=(e&l)<<i;(function(u,A,h){if(A+1<u.byteLength)u.setUint16(A,h,!1);else{var p=h>>8&255;u.setUint8(A,p)}})(r,s,cW(r,s)&~(l<<i)&65535|c)}function cW(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function yIe(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,a=r[e++],s=a>>7,i=1<<1+(7&a);r[e++],r[e++];var l=null,c=null;s&&(l=e,c=i,e+=3*i);var u=!0,A=[],h=0,p=null,m=0,y=null;for(this.width=t,this.height=n;u&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,y=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((L=r[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=r[e++];h=r[e++]|r[e++]<<8,p=r[e++],1&g||(p=null),m=g>>2&7,e++;break;case 254:for(;;){if(!((L=r[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var v=r[e++]|r[e++]<<8,b=r[e++]|r[e++]<<8,N=r[e++]|r[e++]<<8,C=r[e++]|r[e++]<<8,E=r[e++],_=E>>6&1,P=1<<1+(7&E),O=l,D=c,k=!1;E>>7&&(k=!0,O=e,D=P,e+=3*P);var H=e;for(e++;;){var L;if(!((L=r[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}A.push({x:v,y:b,width:N,height:C,has_local_palette:k,palette_offset:O,palette_size:D,data_offset:H,data_length:e-H,transparent_index:p,interlaced:!!_,delay:h,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return y},this.frameInfo=function(Q){if(Q<0||Q>=A.length)throw new Error("Frame index out of range.");return A[Q]},this.decodeAndBlitFrameBGRA=function(Q,R){var K=this.frameInfo(Q),ee=K.width*K.height,X=new Uint8Array(ee);B8(r,K.data_offset,X,ee);var ae=K.palette_offset,Y=K.transparent_index;Y===null&&(Y=256);var de=K.width,pe=t-de,Z=de,I=4*(K.y*t+K.x),z=4*((K.y+K.height)*t+K.x),V=I,q=4*pe;K.interlaced===!0&&(q+=4*t*7);for(var ne=8,ce=0,Be=X.length;ce<Be;++ce){var Ae=X[ce];if(Z===0&&(Z=de,(V+=q)>=z&&(q=4*pe+4*t*(ne-1),V=I+(de+pe)*(ne<<1),ne>>=1)),Ae===Y)V+=4;else{var ye=r[ae+3*Ae],Pe=r[ae+3*Ae+1],je=r[ae+3*Ae+2];R[V++]=je,R[V++]=Pe,R[V++]=ye,R[V++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(Q,R){var K=this.frameInfo(Q),ee=K.width*K.height,X=new Uint8Array(ee);B8(r,K.data_offset,X,ee);var ae=K.palette_offset,Y=K.transparent_index;Y===null&&(Y=256);var de=K.width,pe=t-de,Z=de,I=4*(K.y*t+K.x),z=4*((K.y+K.height)*t+K.x),V=I,q=4*pe;K.interlaced===!0&&(q+=4*t*7);for(var ne=8,ce=0,Be=X.length;ce<Be;++ce){var Ae=X[ce];if(Z===0&&(Z=de,(V+=q)>=z&&(q=4*pe+4*t*(ne-1),V=I+(de+pe)*(ne<<1),ne>>=1)),Ae===Y)V+=4;else{var ye=r[ae+3*Ae],Pe=r[ae+3*Ae+1],je=r[ae+3*Ae+2];R[V++]=ye,R[V++]=Pe,R[V++]=je,R[V++]=255}--Z}}}function B8(r,e,t,n){for(var a=r[e++],s=1<<a,i=s+1,l=i+1,c=a+1,u=(1<<c)-1,A=0,h=0,p=0,m=r[e++],y=new Int32Array(4096),g=null;;){for(;A<16&&m!==0;)h|=r[e++]<<A,A+=8,m===1?m=r[e++]:--m;if(A<c)break;var v=h&u;if(h>>=c,A-=c,v!==s){if(v===i)break;for(var b=v<l?v:g,N=0,C=b;C>s;)C=y[C]>>8,++N;var E=C;if(p+N+(b!==v?1:0)>n)return void ia.log("Warning, gif stream longer than expected.");t[p++]=E;var _=p+=N;for(b!==v&&(t[p++]=E),C=b;N--;)C=y[C],t[--_]=255&C,C>>=8;g!==null&&l<4096&&(y[l++]=g<<8|E,l>=u+1&&c<12&&(++c,u=u<<1|1)),g=v}else l=i+1,u=(1<<(c=a+1))-1,g=null}return p!==n&&ia.log("Warning, gif stream shorter than expected."),t}function $E(r){var e,t,n,a,s,i=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),A=new Array(64),h=new Array(65535),p=new Array(65535),m=new Array(64),y=new Array(64),g=[],v=0,b=7,N=new Array(64),C=new Array(64),E=new Array(64),_=new Array(256),P=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(I,z){for(var V=0,q=0,ne=new Array,ce=1;ce<=16;ce++){for(var Be=1;Be<=I[ce];Be++)ne[z[q]]=[],ne[z[q]][0]=V,ne[z[q]][1]=ce,q++,V++;V*=2}return ne}function ae(I){for(var z=I[0],V=I[1]-1;V>=0;)z&1<<V&&(v|=1<<b),V--,--b<0&&(v==255?(Y(255),Y(0)):Y(v),b=7,v=0)}function Y(I){g.push(I)}function de(I){Y(I>>8&255),Y(255&I)}function pe(I,z,V,q,ne){for(var ce,Be=ne[0],Ae=ne[240],ye=(function(at,ze){var mt,Et,Me,vt,De,it,wt,Bt,Ee,ot,ct=0;for(Ee=0;Ee<8;++Ee){mt=at[ct],Et=at[ct+1],Me=at[ct+2],vt=at[ct+3],De=at[ct+4],it=at[ct+5],wt=at[ct+6];var Zt=mt+(Bt=at[ct+7]),It=mt-Bt,Tt=Et+wt,cr=Et-wt,Br=Me+it,zt=Me-it,Yr=vt+De,nr=vt-De,pr=Zt+Yr,pt=Zt-Yr,Nt=Tt+Br,Qt=Tt-Br;at[ct]=pr+Nt,at[ct+4]=pr-Nt;var Kt=.707106781*(Qt+pt);at[ct+2]=pt+Kt,at[ct+6]=pt-Kt;var jn=.382683433*((pr=nr+zt)-(Qt=cr+It)),Or=.5411961*pr+jn,Rs=1.306562965*Qt+jn,Ga=.707106781*(Nt=zt+cr),hr=It+Ga,ba=It-Ga;at[ct+5]=ba+Or,at[ct+3]=ba-Or,at[ct+1]=hr+Rs,at[ct+7]=hr-Rs,ct+=8}for(ct=0,Ee=0;Ee<8;++Ee){mt=at[ct],Et=at[ct+8],Me=at[ct+16],vt=at[ct+24],De=at[ct+32],it=at[ct+40],wt=at[ct+48];var Wa=mt+(Bt=at[ct+56]),ca=mt-Bt,Bs=Et+wt,_n=Et-wt,wa=Me+it,se=Me-it,we=vt+De,he=vt-De,fe=Wa+we,ge=Wa-we,Ne=Bs+wa,Ke=Bs-wa;at[ct]=fe+Ne,at[ct+32]=fe-Ne;var st=.707106781*(Ke+ge);at[ct+16]=ge+st,at[ct+48]=ge-st;var Ve=.382683433*((fe=he+se)-(Ke=_n+ca)),qe=.5411961*fe+Ve,We=1.306562965*Ke+Ve,St=.707106781*(Ne=se+_n),kt=ca+St,Mt=ca-St;at[ct+40]=Mt+qe,at[ct+24]=Mt-qe,at[ct+8]=kt+We,at[ct+56]=kt-We,ct++}for(Ee=0;Ee<64;++Ee)ot=at[Ee]*ze[Ee],m[Ee]=ot>0?ot+.5|0:ot-.5|0;return m})(I,z),Pe=0;Pe<64;++Pe)y[O[Pe]]=ye[Pe];var je=y[0]-V;V=y[0],je==0?ae(q[0]):(ae(q[p[ce=32767+je]]),ae(h[ce]));for(var Se=63;Se>0&&y[Se]==0;)Se--;if(Se==0)return ae(Be),V;for(var Te,J=1;J<=Se;){for(var Le=J;y[J]==0&&J<=Se;)++J;var He=J-Le;if(He>=16){Te=He>>4;for(var Je=1;Je<=Te;++Je)ae(Ae);He&=15}ce=32767+y[J],ae(ne[(He<<4)+p[ce]]),ae(h[ce]),J++}return Se!=63&&ae(Be),V}function Z(I){I=Math.min(Math.max(I,1),100),s!=I&&((function(z){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],q=0;q<64;q++){var ne=i((V[q]*z+50)/100);ne=Math.min(Math.max(ne,1),255),l[O[q]]=ne}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Be=0;Be<64;Be++){var Ae=i((ce[Be]*z+50)/100);Ae=Math.min(Math.max(Ae,1),255),c[O[Be]]=Ae}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,je=0;je<8;je++)for(var Se=0;Se<8;Se++)u[Pe]=1/(l[O[Pe]]*ye[je]*ye[Se]*8),A[Pe]=1/(c[O[Pe]]*ye[je]*ye[Se]*8),Pe++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,z){z&&Z(z),g=new Array,v=0,b=7,de(65496),de(65504),de(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),de(1),de(1),Y(0),Y(0),(function(){de(65499),de(132),Y(0);for(var Et=0;Et<64;Et++)Y(l[Et]);Y(1);for(var Me=0;Me<64;Me++)Y(c[Me])})(),(function(Et,Me){de(65472),de(17),Y(8),de(Me),de(Et),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)})(I.width,I.height),(function(){de(65476),de(418),Y(0);for(var Et=0;Et<16;Et++)Y(D[Et+1]);for(var Me=0;Me<=11;Me++)Y(k[Me]);Y(16);for(var vt=0;vt<16;vt++)Y(H[vt+1]);for(var De=0;De<=161;De++)Y(L[De]);Y(1);for(var it=0;it<16;it++)Y(Q[it+1]);for(var wt=0;wt<=11;wt++)Y(R[wt]);Y(17);for(var Bt=0;Bt<16;Bt++)Y(K[Bt+1]);for(var Ee=0;Ee<=161;Ee++)Y(ee[Ee])})(),de(65498),de(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var V=0,q=0,ne=0;v=0,b=7,this.encode.displayName="_encode_";for(var ce,Be,Ae,ye,Pe,je,Se,Te,J,Le=I.data,He=I.width,Je=I.height,at=4*He,ze=0;ze<Je;){for(ce=0;ce<at;){for(Pe=at*ze+ce,Se=-1,Te=0,J=0;J<64;J++)je=Pe+(Te=J>>3)*at+(Se=4*(7&J)),ze+Te>=Je&&(je-=at*(ze+1+Te-Je)),ce+Se>=at&&(je-=ce+Se-at+4),Be=Le[je++],Ae=Le[je++],ye=Le[je++],N[J]=(P[Be]+P[Ae+256|0]+P[ye+512|0]>>16)-128,C[J]=(P[Be+768|0]+P[Ae+1024|0]+P[ye+1280|0]>>16)-128,E[J]=(P[Be+1280|0]+P[Ae+1536|0]+P[ye+1792|0]>>16)-128;V=pe(N,u,V,e,n),q=pe(C,A,q,t,a),ne=pe(E,A,ne,t,a),ce+=32}ze+=8}if(b>=0){var mt=[];mt[1]=b+1,mt[0]=(1<<b+1)-1,ae(mt)}return de(65497),new Uint8Array(g)},r=r||50,(function(){for(var I=String.fromCharCode,z=0;z<256;z++)_[z]=I(z)})(),e=X(D,k),t=X(Q,R),n=X(H,L),a=X(K,ee),(function(){for(var I=1,z=2,V=1;V<=15;V++){for(var q=I;q<z;q++)p[32767+q]=V,h[32767+q]=[],h[32767+q][1]=V,h[32767+q][0]=q;for(var ne=-(z-1);ne<=-I;ne++)p[32767+ne]=V,h[32767+ne]=[],h[32767+ne][1]=V,h[32767+ne][0]=z-1+ne;I<<=1,z<<=1}})(),(function(){for(var I=0;I<256;I++)P[I]=19595*I,P[I+256|0]=38470*I,P[I+512|0]=7471*I+32768,P[I+768|0]=-11059*I,P[I+1024|0]=-21709*I,P[I+1280|0]=32768*I+8421375,P[I+1536|0]=-27439*I,P[I+1792|0]=-5329*I})(),Z(r)}function pu(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function E8(r){function e(k){if(!k)throw Error("assert :P")}function t(k,H,L){for(var Q=0;4>Q;Q++)if(k[H+Q]!=L.charCodeAt(Q))return!0;return!1}function n(k,H,L,Q,R){for(var K=0;K<R;K++)k[H+K]=L[Q+K]}function a(k,H,L,Q){for(var R=0;R<Q;R++)k[H+R]=L}function s(k){return new Int32Array(k)}function i(k,H){for(var L=[],Q=0;Q<k;Q++)L.push(new H);return L}function l(k,H){var L=[];return(function Q(R,K,ee){for(var X=ee[K],ae=0;ae<X&&(R.push(ee.length>K+1?[]:new H),!(ee.length<K+1));ae++)Q(R[ae],K+1,ee)})(L,0,k),L}var c=function(){var k=this;function H(S,T){for(var U=1<<T-1>>>0;S&U;)U>>>=1;return U?(S&U-1)+U:S}function L(S,T,U,G,re){e(!(G%U));do S[T+(G-=U)]=re;while(0<G)}function Q(S,T,U,G,re){if(e(2328>=re),512>=re)var ie=s(512);else if((ie=s(re))==null)return 0;return(function(oe,ue,me,be,Fe,Ge){var ve,Ie,Qe=ue,ut=1<<me,$e=s(16),lt=s(16);for(e(Fe!=0),e(be!=null),e(oe!=null),e(0<me),Ie=0;Ie<Fe;++Ie){if(15<be[Ie])return 0;++$e[be[Ie]]}if($e[0]==Fe)return 0;for(lt[1]=0,ve=1;15>ve;++ve){if($e[ve]>1<<ve)return 0;lt[ve+1]=lt[ve]+$e[ve]}for(Ie=0;Ie<Fe;++Ie)ve=be[Ie],0<be[Ie]&&(Ge[lt[ve]++]=Ie);if(lt[15]==1)return(be=new R).g=0,be.value=Ge[0],L(oe,Qe,1,ut,be),ut;var ft,jt=-1,yt=ut-1,ar=0,$t=1,Tr=1,Wt=1<<me;for(Ie=0,ve=1,Fe=2;ve<=me;++ve,Fe<<=1){if($t+=Tr<<=1,0>(Tr-=$e[ve]))return 0;for(;0<$e[ve];--$e[ve])(be=new R).g=ve,be.value=Ge[Ie++],L(oe,Qe+ar,Fe,Wt,be),ar=H(ar,ve)}for(ve=me+1,Fe=2;15>=ve;++ve,Fe<<=1){if($t+=Tr<<=1,0>(Tr-=$e[ve]))return 0;for(;0<$e[ve];--$e[ve]){if(be=new R,(ar&yt)!=jt){for(Qe+=Wt,ft=1<<(jt=ve)-me;15>jt&&!(0>=(ft-=$e[jt]));)++jt,ft<<=1;ut+=Wt=1<<(ft=jt-me),oe[ue+(jt=ar&yt)].g=ft+me,oe[ue+jt].value=Qe-ue-jt}be.g=ve-me,be.value=Ge[Ie++],L(oe,Qe+(ar>>me),Fe,Wt,be),ar=H(ar,ve)}}return $t!=2*lt[15]-1?0:ut})(S,T,U,G,re,ie)}function R(){this.value=this.g=0}function K(){this.value=this.g=0}function ee(){this.G=i(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Hu,K)}function X(S,T,U,G){e(S!=null),e(T!=null),e(2147483648>G),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=T,S.pa=U,S.Jd=T,S.Yc=U+G,S.Zc=4<=G?U+G-4+1:U,Be(S)}function ae(S,T){for(var U=0;0<T--;)U|=ye(S,128)<<T;return U}function Y(S,T){var U=ae(S,T);return Ae(S)?-U:U}function de(S,T,U,G){var re,ie=0;for(e(S!=null),e(T!=null),e(4294967288>G),S.Sb=G,S.Ra=0,S.u=0,S.h=0,4<G&&(G=4),re=0;re<G;++re)ie+=T[U+re]<<8*re;S.Ra=ie,S.bb=G,S.oa=T,S.pa=U}function pe(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<ic-8>>>0,++S.bb,S.u-=8;q(S)&&(S.h=1,S.u=0)}function Z(S,T){if(e(0<=T),!S.h&&T<=_i){var U=V(S)&Gi[T];return S.u+=T,pe(S),U}return S.h=1,S.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(S){return S.Ra>>>(S.u&ic-1)>>>0}function q(S){return e(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>ic}function ne(S,T){S.u=T,S.h=q(S)}function ce(S){S.u>=oc&&(e(S.u>=oc),pe(S))}function Be(S){e(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(e(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function Ae(S){return ae(S,1)}function ye(S,T){var U=S.Ca;0>S.b&&Be(S);var G=S.b,re=U*T>>>8,ie=(S.I>>>G>re)+0;for(ie?(U-=re,S.I-=re+1<<G>>>0):U=re+1,G=U,re=0;256<=G;)re+=8,G>>=8;return G=7^re+Zc[G],S.b-=G,S.Ca=(U<<G)-1,ie}function Pe(S,T,U){S[T+0]=U>>24&255,S[T+1]=U>>16&255,S[T+2]=U>>8&255,S[T+3]=255&U}function je(S,T){return S[T+0]|S[T+1]<<8}function Se(S,T){return je(S,T)|S[T+2]<<16}function Te(S,T){return je(S,T)|je(S,T+2)<<16}function J(S,T){var U=1<<T;return e(S!=null),e(0<T),S.X=s(U),S.X==null?0:(S.Mb=32-T,S.Xa=T,1)}function Le(S,T){e(S!=null),e(T!=null),e(S.Xa==T.Xa),n(T.X,0,S.X,0,1<<T.Xa)}function He(){this.X=[],this.Xa=this.Mb=0}function Je(S,T,U,G){e(U!=null),e(G!=null);var re=U[0],ie=G[0];return re==0&&(re=(S*ie+T/2)/T),ie==0&&(ie=(T*re+S/2)/S),0>=re||0>=ie?0:(U[0]=re,G[0]=ie,1)}function at(S,T){return S+(1<<T)-1>>>T}function ze(S,T){return((4278255360&S)+(4278255360&T)>>>0&4278255360)+((16711935&S)+(16711935&T)>>>0&16711935)>>>0}function mt(S,T){k[T]=function(U,G,re,ie,oe,ue,me){var be;for(be=0;be<oe;++be){var Fe=k[S](ue[me+be-1],re,ie+be);ue[me+be]=ze(U[G+be],Fe)}}}function Et(){this.ud=this.hd=this.jd=0}function Me(S,T){return((4278124286&(S^T))>>>1)+(S&T)>>>0}function vt(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function De(S,T){return vt(S+(S-T+.5>>1))}function it(S,T,U){return Math.abs(T-U)-Math.abs(S-U)}function wt(S,T,U,G,re,ie,oe){for(G=ie[oe-1],U=0;U<re;++U)ie[oe+U]=G=ze(S[T+U],G)}function Bt(S,T,U,G,re){var ie;for(ie=0;ie<U;++ie){var oe=S[T+ie],ue=oe>>8&255,me=16711935&(me=(me=16711935&oe)+((ue<<16)+ue));G[re+ie]=(4278255360&oe)+me>>>0}}function Ee(S,T){T.jd=255&S,T.hd=S>>8&255,T.ud=S>>16&255}function ot(S,T,U,G,re,ie){var oe;for(oe=0;oe<G;++oe){var ue=T[U+oe],me=ue>>>8,be=ue,Fe=255&(Fe=(Fe=ue>>>16)+((S.jd<<24>>24)*(me<<24>>24)>>>5));be=255&(be=(be+=(S.hd<<24>>24)*(me<<24>>24)>>>5)+((S.ud<<24>>24)*(Fe<<24>>24)>>>5)),re[ie+oe]=(4278255360&ue)+(Fe<<16)+be}}function ct(S,T,U,G,re){k[T]=function(ie,oe,ue,me,be,Fe,Ge,ve,Ie){for(me=Ge;me<ve;++me)for(Ge=0;Ge<Ie;++Ge)be[Fe++]=re(ue[G(ie[oe++])])},k[S]=function(ie,oe,ue,me,be,Fe,Ge){var ve=8>>ie.b,Ie=ie.Ea,Qe=ie.K[0],ut=ie.w;if(8>ve)for(ie=(1<<ie.b)-1,ut=(1<<ve)-1;oe<ue;++oe){var $e,lt=0;for($e=0;$e<Ie;++$e)$e&ie||(lt=G(me[be++])),Fe[Ge++]=re(Qe[lt&ut]),lt>>=ve}else k["VP8LMapColor"+U](me,be,Qe,ut,Fe,Ge,oe,ue,Ie)}}function Zt(S,T,U,G,re){for(U=T+U;T<U;){var ie=S[T++];G[re++]=ie>>16&255,G[re++]=ie>>8&255,G[re++]=255&ie}}function It(S,T,U,G,re){for(U=T+U;T<U;){var ie=S[T++];G[re++]=ie>>16&255,G[re++]=ie>>8&255,G[re++]=255&ie,G[re++]=ie>>24&255}}function Tt(S,T,U,G,re){for(U=T+U;T<U;){var ie=(oe=S[T++])>>16&240|oe>>12&15,oe=240&oe|oe>>28&15;G[re++]=ie,G[re++]=oe}}function cr(S,T,U,G,re){for(U=T+U;T<U;){var ie=(oe=S[T++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;G[re++]=ie,G[re++]=oe}}function Br(S,T,U,G,re){for(U=T+U;T<U;){var ie=S[T++];G[re++]=255&ie,G[re++]=ie>>8&255,G[re++]=ie>>16&255}}function zt(S,T,U,G,re,ie){if(ie==0)for(U=T+U;T<U;)Pe(G,((ie=S[T++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),re+=32;else n(G,re,S,T,U)}function Yr(S,T){k[T][0]=k[S+"0"],k[T][1]=k[S+"1"],k[T][2]=k[S+"2"],k[T][3]=k[S+"3"],k[T][4]=k[S+"4"],k[T][5]=k[S+"5"],k[T][6]=k[S+"6"],k[T][7]=k[S+"7"],k[T][8]=k[S+"8"],k[T][9]=k[S+"9"],k[T][10]=k[S+"10"],k[T][11]=k[S+"11"],k[T][12]=k[S+"12"],k[T][13]=k[S+"13"],k[T][14]=k[S+"0"],k[T][15]=k[S+"0"]}function nr(S){return S==Rf||S==vm||S==nh||S==bm}function pr(){this.eb=[],this.size=this.A=this.fb=0}function pt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Nt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pr,this.f.kb=new pt,this.sd=null}function Qt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Kt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function jn(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function Or(S,T){var U=S.T,G=T.ba.f.RGBA,re=G.eb,ie=G.fb+S.ka*G.A,oe=$s[T.ba.S],ue=S.y,me=S.O,be=S.f,Fe=S.N,Ge=S.ea,ve=S.W,Ie=T.cc,Qe=T.dc,ut=T.Mc,$e=T.Nc,lt=S.ka,ft=S.ka+S.T,jt=S.U,yt=jt+1>>1;for(lt==0?oe(ue,me,null,null,be,Fe,Ge,ve,be,Fe,Ge,ve,re,ie,null,null,jt):(oe(T.ec,T.fc,ue,me,Ie,Qe,ut,$e,be,Fe,Ge,ve,re,ie-G.A,re,ie,jt),++U);lt+2<ft;lt+=2)Ie=be,Qe=Fe,ut=Ge,$e=ve,Fe+=S.Rc,ve+=S.Rc,ie+=2*G.A,oe(ue,(me+=2*S.fa)-S.fa,ue,me,Ie,Qe,ut,$e,be,Fe,Ge,ve,re,ie-G.A,re,ie,jt);return me+=S.fa,S.j+ft<S.o?(n(T.ec,T.fc,ue,me,jt),n(T.cc,T.dc,be,Fe,yt),n(T.Mc,T.Nc,Ge,ve,yt),U--):1&ft||oe(ue,me,null,null,be,Fe,Ge,ve,be,Fe,Ge,ve,re,ie+G.A,null,null,jt),U}function Rs(S,T,U){var G=S.F,re=[S.J];if(G!=null){var ie=S.U,oe=T.ba.S,ue=oe==Mf||oe==nh;T=T.ba.f.RGBA;var me=[0],be=S.ka;me[0]=S.T,S.Kb&&(be==0?--me[0]:(--be,re[0]-=S.width),S.j+S.ka+S.T==S.o&&(me[0]=S.o-S.j-be));var Fe=T.eb;be=T.fb+be*T.A,S=Df(G,re[0],S.width,ie,me,Fe,be+(ue?0:3),T.A),e(U==me),S&&nr(oe)&&Md(Fe,be,ue,ie,me,T.A)}return 0}function Ga(S){var T=S.ma,U=T.ba.S,G=11>U,re=U==oi||U==Qo||U==Mf||U==rh||U==12||nr(U);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!Jc(T.Oa,S,re?11:12))return 0;if(re&&nr(U)&&Tf(),S.da)alert("todo:use_scaling");else{if(G){if(T.Ib=jn,S.Kb){if(U=S.U+1>>1,T.memory=s(S.U+2*U),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+S.U,T.Mc=T.cc,T.Nc=T.dc+U,T.Ib=Or,Tf()}}else alert("todo:EmitYUV");re&&(T.Jb=Rs,G&&bl())}if(G&&!Wu){for(S=0;256>S;++S)Vs[S]=89858*(S-128)+ih>>qo,k5[S]=-22014*(S-128)+ih,Zv[S]=-45773*(S-128),Bm[S]=113618*(S-128)+ih>>qo;for(S=Hd;S<Gu;++S)T=76283*(S-16)+ih>>qo,F5[S-Hd]=Aa(T,255),O5[S-Hd]=Aa(T+8>>4,15);Wu=1}return 1}function hr(S){var T=S.ma,U=S.U,G=S.T;return e(!(1&S.ka)),0>=U||0>=G?0:(U=T.Ib(S,T),T.Jb!=null&&T.Jb(S,T,U),T.Dc+=U,1)}function ba(S){S.ma.memory=null}function Wa(S,T,U,G){return Z(S,8)!=47?0:(T[0]=Z(S,14)+1,U[0]=Z(S,14)+1,G[0]=Z(S,1),Z(S,3)!=0?0:!S.h)}function ca(S,T){if(4>S)return S+1;var U=S-2>>1;return(2+(1&S)<<U)+Z(T,U)+1}function Bs(S,T){return 120<T?T-120:1<=(U=((U=zo[T-1])>>4)*S+(8-(15&U)))?U:1;var U}function _n(S,T,U){var G=V(U),re=S[T+=255&G].g-8;return 0<re&&(ne(U,U.u+8),G=V(U),T+=S[T].value,T+=G&(1<<re)-1),ne(U,U.u+S[T].g),S[T].value}function wa(S,T,U){return U.g+=S.g,U.value+=S.value<<T>>>0,e(8>=U.g),S.g}function se(S,T,U){var G=S.xc;return e((T=G==0?0:S.vc[S.md*(U>>G)+(T>>G)])<S.Wb),S.Ya[T]}function we(S,T,U,G){var re=S.ab,ie=S.c*T,oe=S.C;T=oe+T;var ue=U,me=G;for(G=S.Ta,U=S.Ua;0<re--;){var be=S.gc[re],Fe=oe,Ge=T,ve=ue,Ie=me,Qe=(me=G,ue=U,be.Ea);switch(e(Fe<Ge),e(Ge<=be.nc),be.hc){case 2:La(ve,Ie,(Ge-Fe)*Qe,me,ue);break;case 0:var ut=Fe,$e=Ge,lt=me,ft=ue,jt=(Wt=be).Ea;ut==0&&(JA(ve,Ie,null,null,1,lt,ft),wt(ve,Ie+1,0,0,jt-1,lt,ft+1),Ie+=jt,ft+=jt,++ut);for(var yt=1<<Wt.b,ar=yt-1,$t=at(jt,Wt.b),Tr=Wt.K,Wt=Wt.w+(ut>>Wt.b)*$t;ut<$e;){var Wr=Tr,aa=Wt,Pr=1;for(ZA(ve,Ie,lt,ft-jt,1,lt,ft);Pr<jt;){var Vt=(Pr&~ar)+yt;Vt>jt&&(Vt=jt),(0,eu[Wr[aa++]>>8&15])(ve,Ie+ +Pr,lt,ft+Pr-jt,Vt-Pr,lt,ft+Pr),Pr=Vt}Ie+=jt,ft+=jt,++ut&ar||(Wt+=$t)}Ge!=be.nc&&n(me,ue-Qe,me,ue+(Ge-Fe-1)*Qe,Qe);break;case 1:for(Qe=ve,$e=Ie,jt=(ve=be.Ea)-(ft=ve&~(lt=(Ie=1<<be.b)-1)),ut=at(ve,be.b),yt=be.K,be=be.w+(Fe>>be.b)*ut;Fe<Ge;){for(ar=yt,$t=be,Tr=new Et,Wt=$e+ft,Wr=$e+ve;$e<Wt;)Ee(ar[$t++],Tr),eh(Tr,Qe,$e,Ie,me,ue),$e+=Ie,ue+=Ie;$e<Wr&&(Ee(ar[$t++],Tr),eh(Tr,Qe,$e,jt,me,ue),$e+=jt,ue+=jt),++Fe&lt||(be+=ut)}break;case 3:if(ve==me&&Ie==ue&&0<be.b){for($e=me,ve=Qe=ue+(Ge-Fe)*Qe-(ft=(Ge-Fe)*at(be.Ea,be.b)),Ie=me,lt=ue,ut=[],ft=(jt=ft)-1;0<=ft;--ft)ut[ft]=Ie[lt+ft];for(ft=jt-1;0<=ft;--ft)$e[ve+ft]=ut[ft];mm(be,Fe,Ge,me,Qe,me,ue)}else mm(be,Fe,Ge,ve,Ie,me,ue)}ue=G,me=U}me!=U&&n(G,U,ue,me,ie)}function he(S,T){var U=S.V,G=S.Ba+S.c*S.C,re=T-S.C;if(e(T<=S.l.o),e(16>=re),0<re){var ie=S.l,oe=S.Ta,ue=S.Ua,me=ie.width;if(we(S,re,U,G),re=ue=[ue],e((U=S.C)<(G=T)),e(ie.v<ie.va),G>ie.o&&(G=ie.o),U<ie.j){var be=ie.j-U;U=ie.j,re[0]+=be*me}if(U>=G?U=0:(re[0]+=4*ie.v,ie.ka=U-ie.j,ie.U=ie.va-ie.v,ie.T=G-U,U=1),U){if(ue=ue[0],11>(U=S.ca).S){var Fe=U.f.RGBA,Ge=(G=U.S,re=ie.U,ie=ie.T,be=Fe.eb,Fe.A),ve=ie;for(Fe=Fe.fb+S.Ma*Fe.A;0<ve--;){var Ie=oe,Qe=ue,ut=re,$e=be,lt=Fe;switch(G){case xm:th(Ie,Qe,ut,$e,lt);break;case oi:tu(Ie,Qe,ut,$e,lt);break;case Rf:tu(Ie,Qe,ut,$e,lt),Md($e,lt,0,ut,1,0);break;case ym:Id(Ie,Qe,ut,$e,lt);break;case Qo:zt(Ie,Qe,ut,$e,lt,1);break;case vm:zt(Ie,Qe,ut,$e,lt,1),Md($e,lt,0,ut,1,0);break;case Mf:zt(Ie,Qe,ut,$e,lt,0);break;case nh:zt(Ie,Qe,ut,$e,lt,0),Md($e,lt,1,ut,1,0);break;case rh:ru(Ie,Qe,ut,$e,lt);break;case bm:ru(Ie,Qe,ut,$e,lt),Uo($e,lt,ut,1,0);break;case zu:uc(Ie,Qe,ut,$e,lt);break;default:e(0)}ue+=me,Fe+=Ge}S.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");e(S.Ma<=U.height)}}S.C=T,e(S.C<=S.i)}function fe(S){var T;if(0<S.ua)return 0;for(T=0;T<S.Wb;++T){var U=S.Ya[T].G,G=S.Ya[T].H;if(0<U[1][G[1]+0].g||0<U[2][G[2]+0].g||0<U[3][G[3]+0].g)return 0}return 1}function ge(S,T,U,G,re,ie){if(S.Z!=0){var oe=S.qd,ue=S.rd;for(e(su[S.Z]!=null);T<U;++T)su[S.Z](oe,ue,G,re,G,re,ie),oe=G,ue=re,re+=ie;S.qd=oe,S.rd=ue}}function Ne(S,T){var U=S.l.ma,G=U.Z==0||U.Z==1?S.l.j:S.C;if(G=S.C<G?G:S.C,e(T<=S.l.o),T>G){var re=S.l.width,ie=U.ca,oe=U.tb+re*G,ue=S.V,me=S.Ba+S.c*G,be=S.gc;e(S.ab==1),e(be[0].hc==3),cc(be[0],G,T,ue,me,ie,oe),ge(U,G,T,ie,oe,re)}S.C=S.Ma=T}function Ke(S,T,U,G,re,ie,oe){var ue=S.$/G,me=S.$%G,be=S.m,Fe=S.s,Ge=U+S.$,ve=Ge;re=U+G*re;var Ie=U+G*ie,Qe=280+Fe.ua,ut=S.Pb?ue:16777216,$e=0<Fe.ua?Fe.Wa:null,lt=Fe.wc,ft=Ge<Ie?se(Fe,me,ue):null;e(S.C<ie),e(Ie<=re);var jt=!1;e:for(;;){for(;jt||Ge<Ie;){var yt=0;if(ue>=ut){var ar=Ge-U;e((ut=S).Pb),ut.wd=ut.m,ut.xd=ar,0<ut.s.ua&&Le(ut.s.Wa,ut.s.vb),ut=ue+Ku}if(me&lt||(ft=se(Fe,me,ue)),e(ft!=null),ft.Qb&&(T[Ge]=ft.qb,jt=!0),!jt)if(ce(be),ft.jc){yt=be,ar=T;var $t=Ge,Tr=ft.pd[V(yt)&Hu-1];e(ft.jc),256>Tr.g?(ne(yt,yt.u+Tr.g),ar[$t]=Tr.value,yt=0):(ne(yt,yt.u+Tr.g-256),e(256<=Tr.value),yt=Tr.value),yt==0&&(jt=!0)}else yt=_n(ft.G[0],ft.H[0],be);if(be.h)break;if(jt||256>yt){if(!jt)if(ft.nd)T[Ge]=(ft.qb|yt<<8)>>>0;else{if(ce(be),jt=_n(ft.G[1],ft.H[1],be),ce(be),ar=_n(ft.G[2],ft.H[2],be),$t=_n(ft.G[3],ft.H[3],be),be.h)break;T[Ge]=($t<<24|jt<<16|yt<<8|ar)>>>0}if(jt=!1,++Ge,++me>=G&&(me=0,++ue,oe!=null&&ue<=ie&&!(ue%16)&&oe(S,ue),$e!=null))for(;ve<Ge;)yt=T[ve++],$e.X[(506832829*yt&4294967295)>>>$e.Mb]=yt}else if(280>yt){if(yt=ca(yt-256,be),ar=_n(ft.G[4],ft.H[4],be),ce(be),ar=Bs(G,ar=ca(ar,be)),be.h)break;if(Ge-U<ar||re-Ge<yt)break e;for($t=0;$t<yt;++$t)T[Ge+$t]=T[Ge+$t-ar];for(Ge+=yt,me+=yt;me>=G;)me-=G,++ue,oe!=null&&ue<=ie&&!(ue%16)&&oe(S,ue);if(e(Ge<=re),me&lt&&(ft=se(Fe,me,ue)),$e!=null)for(;ve<Ge;)yt=T[ve++],$e.X[(506832829*yt&4294967295)>>>$e.Mb]=yt}else{if(!(yt<Qe))break e;for(jt=yt-280,e($e!=null);ve<Ge;)yt=T[ve++],$e.X[(506832829*yt&4294967295)>>>$e.Mb]=yt;yt=Ge,e(!(jt>>>(ar=$e).Xa)),T[yt]=ar.X[jt],jt=!0}jt||e(be.h==q(be))}if(S.Pb&&be.h&&Ge<re)e(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&Le(S.s.vb,S.s.Wa);else{if(be.h)break e;oe?.(S,ue>ie?ie:ue),S.a=0,S.$=Ge-U}return 1}return S.a=3,0}function st(S){e(S!=null),S.vc=null,S.yc=null,S.Ya=null;var T=S.Wa;T!=null&&(T.X=null),S.vb=null,e(S!=null)}function Ve(){var S=new jr;return S==null?null:(S.a=0,S.xb=zg,Yr("Predictor","VP8LPredictors"),Yr("Predictor","VP8LPredictors_C"),Yr("PredictorAdd","VP8LPredictorsAdd"),Yr("PredictorAdd","VP8LPredictorsAdd_C"),La=Bt,eh=ot,th=Zt,tu=It,ru=Tt,uc=cr,Id=Br,k.VP8LMapColor32b=lc,k.VP8LMapColor8b=Hs,S)}function qe(S,T,U,G,re){var ie=1,oe=[S],ue=[T],me=G.m,be=G.s,Fe=null,Ge=0;e:for(;;){if(U)for(;ie&&Z(me,1);){var ve=oe,Ie=ue,Qe=G,ut=1,$e=Qe.m,lt=Qe.gc[Qe.ab],ft=Z($e,2);if(Qe.Oc&1<<ft)ie=0;else{switch(Qe.Oc|=1<<ft,lt.hc=ft,lt.Ea=ve[0],lt.nc=Ie[0],lt.K=[null],++Qe.ab,e(4>=Qe.ab),ft){case 0:case 1:lt.b=Z($e,3)+2,ut=qe(at(lt.Ea,lt.b),at(lt.nc,lt.b),0,Qe,lt.K),lt.K=lt.K[0];break;case 3:var jt,yt=Z($e,8)+1,ar=16<yt?0:4<yt?1:2<yt?2:3;if(ve[0]=at(lt.Ea,ar),lt.b=ar,jt=ut=qe(yt,1,0,Qe,lt.K)){var $t,Tr=yt,Wt=lt,Wr=1<<(8>>Wt.b),aa=s(Wr);if(aa==null)jt=0;else{var Pr=Wt.K[0],Vt=Wt.w;for(aa[0]=Wt.K[0][0],$t=1;$t<1*Tr;++$t)aa[$t]=ze(Pr[Vt+$t],aa[$t-1]);for(;$t<4*Wr;++$t)aa[$t]=0;Wt.K[0]=null,Wt.K[0]=aa,jt=1}}ut=jt;break;case 2:break;default:e(0)}ie=ut}}if(oe=oe[0],ue=ue[0],ie&&Z(me,1)&&!(ie=1<=(Ge=Z(me,4))&&11>=Ge)){G.a=3;break e}var Lt;if(Lt=ie)t:{var fa,Sr,Ur,Nn=G,As=oe,qs=ue,Gn=Ge,Ja=U,li=Nn.m,Za=Nn.s,Kr=[null],cn=1,ma=0,mn=Ko[Gn];r:for(;;){if(Ja&&Z(li,1)){var hs=Z(li,3)+2,pa=at(As,hs),un=at(qs,hs),Ua=pa*un;if(!qe(pa,un,0,Nn,Kr))break r;for(Kr=Kr[0],Za.xc=hs,fa=0;fa<Ua;++fa){var Sn=Kr[fa]>>8&65535;Kr[fa]=Sn,Sn>=cn&&(cn=Sn+1)}}if(li.h)break r;for(Sr=0;5>Sr;++Sr){var es=Ud[Sr];!Sr&&0<Gn&&(es+=1<<Gn),ma<es&&(ma=es)}var ts=i(cn*mn,R),Dn=cn,on=i(Dn,ee);if(on==null)var ci=null;else e(65536>=Dn),ci=on;var Na=s(ma);if(ci==null||Na==null||ts==null){Nn.a=1;break r}var gr=ts;for(fa=Ur=0;fa<cn;++fa){var yr=ci[fa],dn=yr.G,Wi=yr.H,Go=0,ki=1,rs=0;for(Sr=0;5>Sr;++Sr){es=Ud[Sr],dn[Sr]=gr,Wi[Sr]=Ur,!Sr&&0<Gn&&(es+=1<<Gn);a:{var Yu,Xu=es,jm=Nn,Wn=Na,$g=gr,Vg=Ur,_m=0,iu=jm.m,D5=Z(iu,1);if(a(Wn,0,0,Xu),D5){var qg=Z(iu,1)+1,Gg=Z(iu,1),Tm=Z(iu,Gg==0?1:8);Wn[Tm]=1,qg==2&&(Wn[Tm=Z(iu,8)]=1);var _s=1}else{var Sa=s(19),zf=Z(iu,4)+4;if(19<zf){jm.a=3;var Ju=0;break a}for(Yu=0;Yu<zf;++Yu)Sa[Uf[Yu]]=Z(iu,3);var lh=void 0,zd=void 0,hc=jm,km=Sa,ch=Xu,Fm=Wn,Om=0,ou=hc.m,Wg=8,Yg=i(128,R);n:for(;Q(Yg,0,7,km,19);){if(Z(ou,1)){var e1=2+2*Z(ou,3);if((lh=2+Z(ou,e1))>ch)break n}else lh=ch;for(zd=0;zd<ch&&lh--;){ce(ou);var Xg=Yg[0+(127&V(ou))];ne(ou,ou.u+Xg.g);var Zu=Xg.value;if(16>Zu)Fm[zd++]=Zu,Zu!=0&&(Wg=Zu);else{var t1=Zu==16,r1=Zu-16,n1=ah[r1],Jg=Z(ou,Ho[r1])+n1;if(zd+Jg>ch)break n;for(var a1=t1?Wg:0;0<Jg--;)Fm[zd++]=a1}}Om=1;break n}Om||(hc.a=3),_s=Om}(_s=_s&&!iu.h)&&(_m=Q($g,Vg,8,Wn,Xu)),_s&&_m!=0?Ju=_m:(jm.a=3,Ju=0)}if(Ju==0)break r;if(ki&&wm[Sr]==1&&(ki=gr[Ur].g==0),Go+=gr[Ur].g,Ur+=Ju,3>=Sr){var Kd,Dm=Na[0];for(Kd=1;Kd<es;++Kd)Na[Kd]>Dm&&(Dm=Na[Kd]);rs+=Dm}}if(yr.nd=ki,yr.Qb=0,ki&&(yr.qb=(dn[3][Wi[3]+0].value<<24|dn[1][Wi[1]+0].value<<16|dn[2][Wi[2]+0].value)>>>0,Go==0&&256>dn[0][Wi[0]+0].value&&(yr.Qb=1,yr.qb+=dn[0][Wi[0]+0].value<<8)),yr.jc=!yr.Qb&&6>rs,yr.jc){var Kf,fc=yr;for(Kf=0;Kf<Hu;++Kf){var lu=Kf,cu=fc.pd[lu],Pm=fc.G[0][fc.H[0]+lu];256<=Pm.value?(cu.g=Pm.g+256,cu.value=Pm.value):(cu.g=0,cu.value=0,lu>>=wa(Pm,8,cu),lu>>=wa(fc.G[1][fc.H[1]+lu],16,cu),lu>>=wa(fc.G[2][fc.H[2]+lu],0,cu),wa(fc.G[3][fc.H[3]+lu],24,cu))}}}Za.vc=Kr,Za.Wb=cn,Za.Ya=ci,Za.yc=ts,Lt=1;break t}Lt=0}if(!(ie=Lt)){G.a=3;break e}if(0<Ge){if(be.ua=1<<Ge,!J(be.Wa,Ge)){G.a=1,ie=0;break e}}else be.ua=0;var Im=G,$d=oe,s1=ue,uh=Im.s,dh=uh.xc;if(Im.c=$d,Im.i=s1,uh.md=at($d,dh),uh.wc=dh==0?-1:(1<<dh)-1,U){G.xb=$u;break e}if((Fe=s(oe*ue))==null){G.a=1,ie=0;break e}ie=(ie=Ke(G,Fe,0,oe,ue,ue,null))&&!me.h;break e}return ie?(re!=null?re[0]=Fe:(e(Fe==null),e(U)),G.$=0,U||st(be)):st(be),ie}function We(S,T){var U=S.c*S.i,G=U+T+16*T;return e(S.c<=T),S.V=s(G),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+U+T,1)}function St(S,T){var U=S.C,G=T-U,re=S.V,ie=S.Ba+S.c*U;for(e(T<=S.l.o);0<G;){var oe=16<G?16:G,ue=S.l.ma,me=S.l.width,be=me*oe,Fe=ue.ca,Ge=ue.tb+me*U,ve=S.Ta,Ie=S.Ua;we(S,oe,re,ie),vo(ve,Ie,Fe,Ge,be),ge(ue,U,U+oe,Fe,Ge,me),G-=oe,re+=oe*S.c,U+=oe}e(U==T),S.C=S.Ma=T}function kt(){this.ub=this.yd=this.td=this.Rb=0}function Mt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _t(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Dt(){this.Yb=(function(){var S=[];return(function T(U,G,re){for(var ie=re[G],oe=0;oe<ie&&(U.push(re.length>G+1?[]:0),!(re.length<G+1));oe++)T(U[oe],G+1,re)})(S,0,[3,11]),S})()}function Gt(){this.jb=s(3),this.Wc=l([4,8],Dt),this.Xc=l([4,17],Dt)}function Cn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function qr(){this.ld=this.La=this.dd=this.tc=0}function Tn(){this.Na=this.la=0}function Si(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function pl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function gl(){this.uc=this.M=this.Nb=0,this.wa=Array(new qr),this.Y=0,this.ya=Array(new pl),this.aa=0,this.l=new Uc}function mo(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Lu(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new kt,this.Kc=new Mt,this.ed=new Cn,this.Qa=new _t,this.Ic=this.$c=this.Aa=0,this.D=new gl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,I),this.ia=0,this.pb=i(4,Si),this.Pa=new Gt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new mo),this.Hd=0,this.rb=Array(new Tn),this.sb=0,this.wa=Array(new qr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new pl),this.L=this.aa=0,this.gd=l([4,2],qr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Aa(S,T){return 0>S?0:S>T?T:S}function Uc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xl(){var S=new Lu;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,bo||(bo=Mu)),S}function hn(S,T,U){return S.a==0&&(S.a=T,S.sc=U,S.cb=0),0}function vf(S,T,U){return 3<=U&&S[T+0]==157&&S[T+1]==1&&S[T+2]==42}function tc(S,T){if(S==null)return 0;if(S.a=0,S.sc="OK",T==null)return hn(S,2,"null VP8Io passed to VP8GetHeaders()");var U=T.data,G=T.w,re=T.ha;if(4>re)return hn(S,7,"Truncated header.");var ie=U[G+0]|U[G+1]<<8|U[G+2]<<16,oe=S.Od;if(oe.Rb=!(1&ie),oe.td=ie>>1&7,oe.yd=ie>>4&1,oe.ub=ie>>5,3<oe.td)return hn(S,3,"Incorrect keyframe parameters.");if(!oe.yd)return hn(S,4,"Frame not displayable.");G+=3,re-=3;var ue=S.Kc;if(oe.Rb){if(7>re)return hn(S,7,"cannot parse picture header");if(!vf(U,G,re))return hn(S,3,"Bad code word");ue.c=16383&(U[G+4]<<8|U[G+3]),ue.Td=U[G+4]>>6,ue.i=16383&(U[G+6]<<8|U[G+5]),ue.Ud=U[G+6]>>6,G+=7,re-=7,S.za=ue.c+15>>4,S.Ub=ue.i+15>>4,T.width=ue.c,T.height=ue.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,a((ie=S.Pa).jb,0,255,ie.jb.length),e((ie=S.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,a(ie.Zb,0,0,ie.Zb.length),a(ie.Lb,0,0,ie.Lb)}if(oe.ub>re)return hn(S,7,"bad partition length");X(ie=S.m,U,G,oe.ub),G+=oe.ub,re-=oe.ub,oe.Rb&&(ue.Ld=Ae(ie),ue.Kd=Ae(ie)),ue=S.Qa;var me,be=S.Pa;if(e(ie!=null),e(ue!=null),ue.Cb=Ae(ie),ue.Cb){if(ue.Bb=Ae(ie),Ae(ie)){for(ue.Fb=Ae(ie),me=0;4>me;++me)ue.Zb[me]=Ae(ie)?Y(ie,7):0;for(me=0;4>me;++me)ue.Lb[me]=Ae(ie)?Y(ie,6):0}if(ue.Bb)for(me=0;3>me;++me)be.jb[me]=Ae(ie)?ae(ie,8):255}else ue.Bb=0;if(ie.Ka)return hn(S,3,"cannot parse segment header");if((ue=S.ed).zd=Ae(ie),ue.Tb=ae(ie,6),ue.wb=ae(ie,3),ue.Pc=Ae(ie),ue.Pc&&Ae(ie)){for(be=0;4>be;++be)Ae(ie)&&(ue.vd[be]=Y(ie,6));for(be=0;4>be;++be)Ae(ie)&&(ue.od[be]=Y(ie,6))}if(S.L=ue.Tb==0?0:ue.zd?1:2,ie.Ka)return hn(S,3,"cannot parse filter header");var Fe=re;if(re=me=G,G=me+Fe,ue=Fe,S.Xb=(1<<ae(S.m,2))-1,Fe<3*(be=S.Xb))U=7;else{for(me+=3*be,ue-=3*be,Fe=0;Fe<be;++Fe){var Ge=U[re+0]|U[re+1]<<8|U[re+2]<<16;Ge>ue&&(Ge=ue),X(S.Jc[+Fe],U,me,Ge),me+=Ge,ue-=Ge,re+=3}X(S.Jc[+be],U,me,ue),U=me<G?0:5}if(U!=0)return hn(S,U,"cannot parse partitions");for(U=ae(me=S.m,7),re=Ae(me)?Y(me,4):0,G=Ae(me)?Y(me,4):0,ue=Ae(me)?Y(me,4):0,be=Ae(me)?Y(me,4):0,me=Ae(me)?Y(me,4):0,Fe=S.Qa,Ge=0;4>Ge;++Ge){if(Fe.Cb){var ve=Fe.Zb[Ge];Fe.Fb||(ve+=U)}else{if(0<Ge){S.pb[Ge]=S.pb[0];continue}ve=U}var Ie=S.pb[Ge];Ie.Sc[0]=$o[Aa(ve+re,127)],Ie.Sc[1]=Vo[Aa(ve+0,127)],Ie.Eb[0]=2*$o[Aa(ve+G,127)],Ie.Eb[1]=101581*Vo[Aa(ve+ue,127)]>>16,8>Ie.Eb[1]&&(Ie.Eb[1]=8),Ie.Qc[0]=$o[Aa(ve+be,117)],Ie.Qc[1]=Vo[Aa(ve+me,127)],Ie.lc=ve+me}if(!oe.Rb)return hn(S,4,"Not a key frame.");for(Ae(ie),oe=S.Pa,U=0;4>U;++U){for(re=0;8>re;++re)for(G=0;3>G;++G)for(ue=0;11>ue;++ue)be=ye(ie,na[U][re][G][ue])?ae(ie,8):Jv[U][re][G][ue],oe.Wc[U][re].Yb[G][ue]=be;for(re=0;17>re;++re)oe.Xc[U][re]=oe.Wc[U][Xr[re]]}return S.kc=Ae(ie),S.kc&&(S.Bd=ae(ie,8)),S.cb=1}function Mu(S,T,U,G,re,ie,oe){var ue=T[re].Yb[U];for(U=0;16>re;++re){if(!ye(S,ue[U+0]))return re;for(;!ye(S,ue[U+1]);)if(ue=T[++re].Yb[0],U=0,re==16)return 16;var me=T[re+1].Yb;if(ye(S,ue[U+2])){var be=S,Fe=0;if(ye(be,(ve=ue)[(Ge=U)+3]))if(ye(be,ve[Ge+6])){for(ue=0,Ge=2*(Fe=ye(be,ve[Ge+8]))+(ve=ye(be,ve[Ge+9+Fe])),Fe=0,ve=Xv[Ge];ve[ue];++ue)Fe+=Fe+ye(be,ve[ue]);Fe+=3+(8<<Ge)}else ye(be,ve[Ge+7])?(Fe=7+2*ye(be,165),Fe+=ye(be,145)):Fe=5+ye(be,159);else Fe=ye(be,ve[Ge+4])?3+ye(be,ve[Ge+5]):2;ue=me[2]}else Fe=1,ue=me[1];me=oe+Hg[re],0>(be=S).b&&Be(be);var Ge,ve=be.b,Ie=(Ge=be.Ca>>1)-(be.I>>ve)>>31;--be.b,be.Ca+=Ie,be.Ca|=1,be.I-=(Ge+1&Ie)<<ve,ie[me]=((Fe^Ie)-Ie)*G[(0<re)+0]}return 16}function bf(S){var T=S.rb[S.sb-1];T.la=0,T.Na=0,a(S.zc,0,0,S.zc.length),S.ja=0}function Bi(S,T,U,G,re){re=S[T+U+32*G]+(re>>3),S[T+U+32*G]=-256&re?0>re?0:255:re}function us(S,T,U,G,re,ie){Bi(S,T,0,U,G+re),Bi(S,T,1,U,G+ie),Bi(S,T,2,U,G-ie),Bi(S,T,3,U,G-re)}function Ya(S){return(20091*S>>16)+S}function $A(S,T,U,G){var re,ie=0,oe=s(16);for(re=0;4>re;++re){var ue=S[T+0]+S[T+8],me=S[T+0]-S[T+8],be=(35468*S[T+4]>>16)-Ya(S[T+12]),Fe=Ya(S[T+4])+(35468*S[T+12]>>16);oe[ie+0]=ue+Fe,oe[ie+1]=me+be,oe[ie+2]=me-be,oe[ie+3]=ue-Fe,ie+=4,T++}for(re=ie=0;4>re;++re)ue=(S=oe[ie+0]+4)+oe[ie+8],me=S-oe[ie+8],be=(35468*oe[ie+4]>>16)-Ya(oe[ie+12]),Bi(U,G,0,0,ue+(Fe=Ya(oe[ie+4])+(35468*oe[ie+12]>>16))),Bi(U,G,1,0,me+be),Bi(U,G,2,0,me-be),Bi(U,G,3,0,ue-Fe),ie++,G+=32}function im(S,T,U,G){var re=S[T+0]+4,ie=35468*S[T+4]>>16,oe=Ya(S[T+4]),ue=35468*S[T+1]>>16;us(U,G,0,re+oe,S=Ya(S[T+1]),ue),us(U,G,1,re+ie,S,ue),us(U,G,2,re-ie,S,ue),us(U,G,3,re-oe,S,ue)}function wf(S,T,U,G,re){$A(S,T,U,G),re&&$A(S,T+16,U,G+4)}function Ei(S,T,U,G){nu(S,T+0,U,G,1),nu(S,T+32,U,G+128,1)}function Cf(S,T,U,G){var re;for(S=S[T+0]+4,re=0;4>re;++re)for(T=0;4>T;++T)Bi(U,G,T,re,S)}function Nf(S,T,U,G){S[T+0]&&fn(S,T+0,U,G),S[T+16]&&fn(S,T+16,U,G+4),S[T+32]&&fn(S,T+32,U,G+128),S[T+48]&&fn(S,T+48,U,G+128+4)}function yl(S,T,U,G){var re,ie=s(16);for(re=0;4>re;++re){var oe=S[T+0+re]+S[T+12+re],ue=S[T+4+re]+S[T+8+re],me=S[T+4+re]-S[T+8+re],be=S[T+0+re]-S[T+12+re];ie[0+re]=oe+ue,ie[8+re]=oe-ue,ie[4+re]=be+me,ie[12+re]=be-me}for(re=0;4>re;++re)oe=(S=ie[0+4*re]+3)+ie[3+4*re],ue=ie[1+4*re]+ie[2+4*re],me=ie[1+4*re]-ie[2+4*re],be=S-ie[3+4*re],U[G+0]=oe+ue>>3,U[G+16]=be+me>>3,U[G+32]=oe-ue>>3,U[G+48]=be-me>>3,G+=64}function _d(S,T,U){var G,re=T-32,ie=ii,oe=255-S[re-1];for(G=0;G<U;++G){var ue,me=ie,be=oe+S[T-1];for(ue=0;ue<U;++ue)S[T+ue]=me[be+S[re+ue]];T+=32}}function om(S,T){_d(S,T,4)}function lm(S,T){_d(S,T,8)}function Sf(S,T){_d(S,T,16)}function Bf(S,T){var U;for(U=0;16>U;++U)n(S,T+32*U,S,T-32,16)}function cm(S,T){var U;for(U=16;0<U;--U)a(S,T,S[T-1],16),T+=32}function qi(S,T,U){var G;for(G=0;16>G;++G)a(T,U+32*G,S,16)}function vl(S,T){var U,G=16;for(U=0;16>U;++U)G+=S[T-1+32*U]+S[T+U-32];qi(G>>5,S,T)}function Qc(S,T){var U,G=8;for(U=0;16>U;++U)G+=S[T-1+32*U];qi(G>>4,S,T)}function Td(S,T){var U,G=8;for(U=0;16>U;++U)G+=S[T+U-32];qi(G>>4,S,T)}function Ru(S,T){qi(128,S,T)}function Nr(S,T,U){return S+2*T+U+2>>2}function um(S,T){var U,G=T-32;for(G=new Uint8Array([Nr(S[G-1],S[G+0],S[G+1]),Nr(S[G+0],S[G+1],S[G+2]),Nr(S[G+1],S[G+2],S[G+3]),Nr(S[G+2],S[G+3],S[G+4])]),U=0;4>U;++U)n(S,T+32*U,G,0,G.length)}function Ef(S,T){var U=S[T-1],G=S[T-1+32],re=S[T-1+64],ie=S[T-1+96];Pe(S,T+0,16843009*Nr(S[T-1-32],U,G)),Pe(S,T+32,16843009*Nr(U,G,re)),Pe(S,T+64,16843009*Nr(G,re,ie)),Pe(S,T+96,16843009*Nr(re,ie,ie))}function dm(S,T){var U,G=4;for(U=0;4>U;++U)G+=S[T+U-32]+S[T-1+32*U];for(G>>=3,U=0;4>U;++U)a(S,T+32*U,G,4)}function po(S,T){var U=S[T-1+0],G=S[T-1+32],re=S[T-1+64],ie=S[T-1-32],oe=S[T+0-32],ue=S[T+1-32],me=S[T+2-32],be=S[T+3-32];S[T+0+96]=Nr(G,re,S[T-1+96]),S[T+1+96]=S[T+0+64]=Nr(U,G,re),S[T+2+96]=S[T+1+64]=S[T+0+32]=Nr(ie,U,G),S[T+3+96]=S[T+2+64]=S[T+1+32]=S[T+0+0]=Nr(oe,ie,U),S[T+3+64]=S[T+2+32]=S[T+1+0]=Nr(ue,oe,ie),S[T+3+32]=S[T+2+0]=Nr(me,ue,oe),S[T+3+0]=Nr(be,me,ue)}function Us(S,T){var U=S[T+1-32],G=S[T+2-32],re=S[T+3-32],ie=S[T+4-32],oe=S[T+5-32],ue=S[T+6-32],me=S[T+7-32];S[T+0+0]=Nr(S[T+0-32],U,G),S[T+1+0]=S[T+0+32]=Nr(U,G,re),S[T+2+0]=S[T+1+32]=S[T+0+64]=Nr(G,re,ie),S[T+3+0]=S[T+2+32]=S[T+1+64]=S[T+0+96]=Nr(re,ie,oe),S[T+3+32]=S[T+2+64]=S[T+1+96]=Nr(ie,oe,ue),S[T+3+64]=S[T+2+96]=Nr(oe,ue,me),S[T+3+96]=Nr(ue,me,me)}function jf(S,T){var U=S[T-1+0],G=S[T-1+32],re=S[T-1+64],ie=S[T-1-32],oe=S[T+0-32],ue=S[T+1-32],me=S[T+2-32],be=S[T+3-32];S[T+0+0]=S[T+1+64]=ie+oe+1>>1,S[T+1+0]=S[T+2+64]=oe+ue+1>>1,S[T+2+0]=S[T+3+64]=ue+me+1>>1,S[T+3+0]=me+be+1>>1,S[T+0+96]=Nr(re,G,U),S[T+0+64]=Nr(G,U,ie),S[T+0+32]=S[T+1+96]=Nr(U,ie,oe),S[T+1+32]=S[T+2+96]=Nr(ie,oe,ue),S[T+2+32]=S[T+3+96]=Nr(oe,ue,me),S[T+3+32]=Nr(ue,me,be)}function kd(S,T){var U=S[T+0-32],G=S[T+1-32],re=S[T+2-32],ie=S[T+3-32],oe=S[T+4-32],ue=S[T+5-32],me=S[T+6-32],be=S[T+7-32];S[T+0+0]=U+G+1>>1,S[T+1+0]=S[T+0+64]=G+re+1>>1,S[T+2+0]=S[T+1+64]=re+ie+1>>1,S[T+3+0]=S[T+2+64]=ie+oe+1>>1,S[T+0+32]=Nr(U,G,re),S[T+1+32]=S[T+0+96]=Nr(G,re,ie),S[T+2+32]=S[T+1+96]=Nr(re,ie,oe),S[T+3+32]=S[T+2+96]=Nr(ie,oe,ue),S[T+3+64]=Nr(oe,ue,me),S[T+3+96]=Nr(ue,me,be)}function go(S,T){var U=S[T-1+0],G=S[T-1+32],re=S[T-1+64],ie=S[T-1+96];S[T+0+0]=U+G+1>>1,S[T+2+0]=S[T+0+32]=G+re+1>>1,S[T+2+32]=S[T+0+64]=re+ie+1>>1,S[T+1+0]=Nr(U,G,re),S[T+3+0]=S[T+1+32]=Nr(G,re,ie),S[T+3+32]=S[T+1+64]=Nr(re,ie,ie),S[T+3+64]=S[T+2+64]=S[T+0+96]=S[T+1+96]=S[T+2+96]=S[T+3+96]=ie}function Fd(S,T){var U=S[T-1+0],G=S[T-1+32],re=S[T-1+64],ie=S[T-1+96],oe=S[T-1-32],ue=S[T+0-32],me=S[T+1-32],be=S[T+2-32];S[T+0+0]=S[T+2+32]=U+oe+1>>1,S[T+0+32]=S[T+2+64]=G+U+1>>1,S[T+0+64]=S[T+2+96]=re+G+1>>1,S[T+0+96]=ie+re+1>>1,S[T+3+0]=Nr(ue,me,be),S[T+2+0]=Nr(oe,ue,me),S[T+1+0]=S[T+3+32]=Nr(U,oe,ue),S[T+1+32]=S[T+3+64]=Nr(G,U,oe),S[T+1+64]=S[T+3+96]=Nr(re,G,U),S[T+1+96]=Nr(ie,re,G)}function rc(S,T){var U;for(U=0;8>U;++U)n(S,T+32*U,S,T-32,8)}function Am(S,T){var U;for(U=0;8>U;++U)a(S,T,S[T-1],8),T+=32}function Lo(S,T,U){var G;for(G=0;8>G;++G)a(T,U+32*G,S,8)}function VA(S,T){var U,G=8;for(U=0;8>U;++U)G+=S[T+U-32]+S[T-1+32*U];Lo(G>>4,S,T)}function qA(S,T){var U,G=4;for(U=0;8>U;++U)G+=S[T+U-32];Lo(G>>3,S,T)}function Es(S,T){var U,G=4;for(U=0;8>U;++U)G+=S[T-1+32*U];Lo(G>>3,S,T)}function nc(S,T){Lo(128,S,T)}function Mo(S,T,U){var G=S[T-U],re=S[T+0],ie=3*(re-G)+au[1020+S[T-2*U]-S[T+U]],oe=Lf[112+(ie+4>>3)];S[T-U]=ii[255+G+Lf[112+(ie+3>>3)]],S[T+0]=ii[255+re-oe]}function Hc(S,T,U,G){var re=S[T+0],ie=S[T+U];return zs[255+S[T-2*U]-S[T-U]]>G||zs[255+ie-re]>G}function GA(S,T,U,G){return 4*zs[255+S[T-U]-S[T+0]]+zs[255+S[T-2*U]-S[T+U]]<=G}function Od(S,T,U,G,re){var ie=S[T-3*U],oe=S[T-2*U],ue=S[T-U],me=S[T+0],be=S[T+U],Fe=S[T+2*U],Ge=S[T+3*U];return 4*zs[255+ue-me]+zs[255+oe-be]>G?0:zs[255+S[T-4*U]-ie]<=re&&zs[255+ie-oe]<=re&&zs[255+oe-ue]<=re&&zs[255+Ge-Fe]<=re&&zs[255+Fe-be]<=re&&zs[255+be-me]<=re}function zc(S,T,U,G){var re=2*G+1;for(G=0;16>G;++G)GA(S,T+G,U,re)&&Mo(S,T+G,U)}function Kc(S,T,U,G){var re=2*G+1;for(G=0;16>G;++G)GA(S,T+G*U,1,re)&&Mo(S,T+G*U,1)}function Dd(S,T,U,G){var re;for(re=3;0<re;--re)zc(S,T+=4*U,U,G)}function _f(S,T,U,G){var re;for(re=3;0<re;--re)Kc(S,T+=4,U,G)}function $c(S,T,U,G,re,ie,oe,ue){for(ie=2*ie+1;0<re--;){if(Od(S,T,U,ie,oe))if(Hc(S,T,U,ue))Mo(S,T,U);else{var me=S,be=T,Fe=U,Ge=me[be-2*Fe],ve=me[be-Fe],Ie=me[be+0],Qe=me[be+Fe],ut=me[be+2*Fe],$e=27*(ft=au[1020+3*(Ie-ve)+au[1020+Ge-Qe]])+63>>7,lt=18*ft+63>>7,ft=9*ft+63>>7;me[be-3*Fe]=ii[255+me[be-3*Fe]+ft],me[be-2*Fe]=ii[255+Ge+lt],me[be-Fe]=ii[255+ve+$e],me[be+0]=ii[255+Ie-$e],me[be+Fe]=ii[255+Qe-lt],me[be+2*Fe]=ii[255+ut-ft]}T+=G}}function Vc(S,T,U,G,re,ie,oe,ue){for(ie=2*ie+1;0<re--;){if(Od(S,T,U,ie,oe))if(Hc(S,T,U,ue))Mo(S,T,U);else{var me=S,be=T,Fe=U,Ge=me[be-Fe],ve=me[be+0],Ie=me[be+Fe],Qe=Lf[112+(4+(ut=3*(ve-Ge))>>3)],ut=Lf[112+(ut+3>>3)],$e=Qe+1>>1;me[be-2*Fe]=ii[255+me[be-2*Fe]+$e],me[be-Fe]=ii[255+Ge+ut],me[be+0]=ii[255+ve-Qe],me[be+Fe]=ii[255+Ie-$e]}T+=G}}function hm(S,T,U,G,re,ie){$c(S,T,U,1,16,G,re,ie)}function qc(S,T,U,G,re,ie){$c(S,T,1,U,16,G,re,ie)}function fm(S,T,U,G,re,ie){var oe;for(oe=3;0<oe;--oe)Vc(S,T+=4*U,U,1,16,G,re,ie)}function M(S,T,U,G,re,ie){var oe;for(oe=3;0<oe;--oe)Vc(S,T+=4,1,U,16,G,re,ie)}function te(S,T,U,G,re,ie,oe,ue){$c(S,T,re,1,8,ie,oe,ue),$c(U,G,re,1,8,ie,oe,ue)}function Ce(S,T,U,G,re,ie,oe,ue){$c(S,T,1,re,8,ie,oe,ue),$c(U,G,1,re,8,ie,oe,ue)}function ke(S,T,U,G,re,ie,oe,ue){Vc(S,T+4*re,re,1,8,ie,oe,ue),Vc(U,G+4*re,re,1,8,ie,oe,ue)}function Re(S,T,U,G,re,ie,oe,ue){Vc(S,T+4,1,re,8,ie,oe,ue),Vc(U,G+4,1,re,8,ie,oe,ue)}function ht(){this.ba=new Nt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Kt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function bt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function er(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ur(){this.ua=0,this.Wa=new He,this.vb=new He,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new R}function jr(){this.xb=this.a=0,this.l=new Uc,this.ca=new Nt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ur,this.ab=0,this.gc=i(4,er),this.Oc=0}function Dr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Uc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function an(S,T,U,G,re,ie,oe){for(S=S==null?0:S[T+0],T=0;T<oe;++T)re[ie+T]=S+U[G+T]&255,S=re[ie+T]}function ha(S,T,U,G,re,ie,oe){var ue;if(S==null)an(null,null,U,G,re,ie,oe);else for(ue=0;ue<oe;++ue)re[ie+ue]=S[T+ue]+U[G+ue]&255}function Ia(S,T,U,G,re,ie,oe){if(S==null)an(null,null,U,G,re,ie,oe);else{var ue,me=S[T+0],be=me,Fe=me;for(ue=0;ue<oe;++ue)be=Fe+(me=S[T+ue])-be,Fe=U[G+ue]+(-256&be?0>be?0:255:be)&255,be=me,re[ie+ue]=Fe}}function Vn(S,T,U,G){var re=T.width,ie=T.o;if(e(S!=null&&T!=null),0>U||0>=G||U+G>ie)return null;if(!S.Cc){if(S.ga==null){var oe;if(S.ga=new Dr,(oe=S.ga==null)||(oe=T.width*T.o,e(S.Gb.length==0),S.Gb=s(oe),S.Uc=0,S.Gb==null?oe=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,oe=1),oe=!oe),!oe){oe=S.ga;var ue=S.Fa,me=S.P,be=S.qc,Fe=S.mb,Ge=S.nb,ve=me+1,Ie=be-1,Qe=oe.l;if(e(ue!=null&&Fe!=null&&T!=null),su[0]=null,su[1]=an,su[2]=ha,su[3]=Ia,oe.ca=Fe,oe.tb=Ge,oe.c=T.width,oe.i=T.height,e(0<oe.c&&0<oe.i),1>=be)T=0;else if(oe.$a=3&ue[me+0],oe.Z=ue[me+0]>>2&3,oe.Lc=ue[me+0]>>4&3,me=ue[me+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||me)T=0;else if(Qe.put=hr,Qe.ac=Ga,Qe.bc=ba,Qe.ma=oe,Qe.width=T.width,Qe.height=T.height,Qe.Da=T.Da,Qe.v=T.v,Qe.va=T.va,Qe.j=T.j,Qe.o=T.o,oe.$a)e:{e(oe.$a==1),T=Ve();t:for(;;){if(T==null){T=0;break e}if(e(oe!=null),oe.mc=T,T.c=oe.c,T.i=oe.i,T.l=oe.l,T.l.ma=oe,T.l.width=oe.c,T.l.height=oe.i,T.a=0,de(T.m,ue,ve,Ie),!qe(oe.c,oe.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&fe(T.s)?(oe.ic=1,ue=T.c*T.i,T.Ta=null,T.Ua=0,T.V=s(ue),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(oe.ic=0,T=We(T,oe.c)),!T))break t;T=1;break e}oe.mc=null,T=0}else T=Ie>=oe.c*oe.i;oe=!T}if(oe)return null;S.ga.Lc!=1?S.Ga=0:G=ie-U}e(S.ga!=null),e(U+G<=ie);e:{if(T=(ue=S.ga).c,ie=ue.l.o,ue.$a==0){if(ve=S.rc,Ie=S.Vc,Qe=S.Fa,me=S.P+1+U*T,be=S.mb,Fe=S.nb+U*T,e(me<=S.P+S.qc),ue.Z!=0)for(e(su[ue.Z]!=null),oe=0;oe<G;++oe)su[ue.Z](ve,Ie,Qe,me,be,Fe,T),ve=be,Ie=Fe,Fe+=T,me+=T;else for(oe=0;oe<G;++oe)n(be,Fe,Qe,me,T),ve=be,Ie=Fe,Fe+=T,me+=T;S.rc=ve,S.Vc=Ie}else{if(e(ue.mc!=null),T=U+G,e((oe=ue.mc)!=null),e(T<=oe.i),oe.C>=T)T=1;else if(ue.ic||bl(),ue.ic){ue=oe.V,ve=oe.Ba,Ie=oe.c;var ut=oe.i,$e=(Qe=1,me=oe.$/Ie,be=oe.$%Ie,Fe=oe.m,Ge=oe.s,oe.$),lt=Ie*ut,ft=Ie*T,jt=Ge.wc,yt=$e<ft?se(Ge,be,me):null;e($e<=lt),e(T<=ut),e(fe(Ge));t:for(;;){for(;!Fe.h&&$e<ft;){if(be&jt||(yt=se(Ge,be,me)),e(yt!=null),ce(Fe),256>(ut=_n(yt.G[0],yt.H[0],Fe)))ue[ve+$e]=ut,++$e,++be>=Ie&&(be=0,++me<=T&&!(me%16)&&Ne(oe,me));else{if(!(280>ut)){Qe=0;break t}ut=ca(ut-256,Fe);var ar,$t=_n(yt.G[4],yt.H[4],Fe);if(ce(Fe),!($e>=($t=Bs(Ie,$t=ca($t,Fe)))&&lt-$e>=ut)){Qe=0;break t}for(ar=0;ar<ut;++ar)ue[ve+$e+ar]=ue[ve+$e+ar-$t];for($e+=ut,be+=ut;be>=Ie;)be-=Ie,++me<=T&&!(me%16)&&Ne(oe,me);$e<ft&&be&jt&&(yt=se(Ge,be,me))}e(Fe.h==q(Fe))}Ne(oe,me>T?T:me);break t}!Qe||Fe.h&&$e<lt?(Qe=0,oe.a=Fe.h?5:3):oe.$=$e,T=Qe}else T=Ke(oe,oe.V,oe.Ba,oe.c,oe.i,T,St);if(!T){G=0;break e}}U+G>=ie&&(S.Cc=1),G=1}if(!G)return null;if(S.Cc&&((G=S.ga)!=null&&(G.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+U*re}function ds(S,T,U,G,re,ie){for(;0<re--;){var oe,ue=S,me=T+(U?1:0),be=S,Fe=T+(U?0:3);for(oe=0;oe<G;++oe){var Ge=be[Fe+4*oe];Ge!=255&&(Ge*=32897,ue[me+4*oe+0]=ue[me+4*oe+0]*Ge>>23,ue[me+4*oe+1]=ue[me+4*oe+1]*Ge>>23,ue[me+4*oe+2]=ue[me+4*oe+2]*Ge>>23)}T+=ie}}function Xa(S,T,U,G,re){for(;0<G--;){var ie;for(ie=0;ie<U;++ie){var oe=S[T+2*ie+0],ue=15&(be=S[T+2*ie+1]),me=4369*ue,be=(240&be|be>>4)*me>>16;S[T+2*ie+0]=(240&oe|oe>>4)*me>>16&240|(15&oe|oe<<4)*me>>16>>4&15,S[T+2*ie+1]=240&be|ue}T+=re}}function Qs(S,T,U,G,re,ie,oe,ue){var me,be,Fe=255;for(be=0;be<re;++be){for(me=0;me<G;++me){var Ge=S[T+me];ie[oe+4*me]=Ge,Fe&=Ge}T+=U,oe+=ue}return Fe!=255}function Gc(S,T,U,G,re){var ie;for(ie=0;ie<re;++ie)U[G+ie]=S[T+ie]>>8}function bl(){Md=ds,Uo=Xa,Df=Qs,vo=Gc}function Wc(S,T,U){k[S]=function(G,re,ie,oe,ue,me,be,Fe,Ge,ve,Ie,Qe,ut,$e,lt,ft,jt){var yt,ar=jt-1>>1,$t=ue[me+0]|be[Fe+0]<<16,Tr=Ge[ve+0]|Ie[Qe+0]<<16;e(G!=null);var Wt=3*$t+Tr+131074>>2;for(T(G[re+0],255&Wt,Wt>>16,ut,$e),ie!=null&&(Wt=3*Tr+$t+131074>>2,T(ie[oe+0],255&Wt,Wt>>16,lt,ft)),yt=1;yt<=ar;++yt){var Wr=ue[me+yt]|be[Fe+yt]<<16,aa=Ge[ve+yt]|Ie[Qe+yt]<<16,Pr=$t+Wr+Tr+aa+524296,Vt=Pr+2*(Wr+Tr)>>3;Wt=Vt+$t>>1,$t=(Pr=Pr+2*($t+aa)>>3)+Wr>>1,T(G[re+2*yt-1],255&Wt,Wt>>16,ut,$e+(2*yt-1)*U),T(G[re+2*yt-0],255&$t,$t>>16,ut,$e+(2*yt-0)*U),ie!=null&&(Wt=Pr+Tr>>1,$t=Vt+aa>>1,T(ie[oe+2*yt-1],255&Wt,Wt>>16,lt,ft+(2*yt-1)*U),T(ie[oe+2*yt+0],255&$t,$t>>16,lt,ft+(2*yt+0)*U)),$t=Wr,Tr=aa}1&jt||(Wt=3*$t+Tr+131074>>2,T(G[re+jt-1],255&Wt,Wt>>16,ut,$e+(jt-1)*U),ie!=null&&(Wt=3*Tr+$t+131074>>2,T(ie[oe+jt-1],255&Wt,Wt>>16,lt,ft+(jt-1)*U)))}}function Tf(){$s[xm]=Qd,$s[oi]=sh,$s[ym]=Kg,$s[Qo]=Nm,$s[Mf]=Vu,$s[rh]=Ac,$s[zu]=qu,$s[Rf]=sh,$s[vm]=Nm,$s[nh]=Vu,$s[bm]=Ac}function WA(S){return S&-16384?0>S?0:255:S>>Sm}function ac(S,T){return WA((19077*S>>8)+(26149*T>>8)-14234)}function wl(S,T,U){return WA((19077*S>>8)-(6419*T>>8)-(13320*U>>8)+8708)}function Pd(S,T){return WA((19077*S>>8)+(33050*T>>8)-17685)}function Yc(S,T,U,G,re){G[re+0]=ac(S,U),G[re+1]=wl(S,T,U),G[re+2]=Pd(S,T)}function js(S,T,U,G,re){G[re+0]=Pd(S,T),G[re+1]=wl(S,T,U),G[re+2]=ac(S,U)}function Uu(S,T,U,G,re){var ie=wl(S,T,U);T=ie<<3&224|Pd(S,T)>>3,G[re+0]=248&ac(S,U)|ie>>5,G[re+1]=T}function Qu(S,T,U,G,re){var ie=240&Pd(S,T)|15;G[re+0]=240&ac(S,U)|wl(S,T,U)>>4,G[re+1]=ie}function YA(S,T,U,G,re){G[re+0]=255,Yc(S,T,U,G,re+1)}function sc(S,T,U,G,re){js(S,T,U,G,re),G[re+3]=255}function ji(S,T,U,G,re){Yc(S,T,U,G,re),G[re+3]=255}function Xc(S,T,U){k[S]=function(G,re,ie,oe,ue,me,be,Fe,Ge){for(var ve=Fe+(-2&Ge)*U;Fe!=ve;)T(G[re+0],ie[oe+0],ue[me+0],be,Fe),T(G[re+1],ie[oe+0],ue[me+0],be,Fe+U),re+=2,++oe,++me,Fe+=2*U;1&Ge&&T(G[re+0],ie[oe+0],ue[me+0],be,Fe)}}function XA(S,T,U){return U==0?S==0?T==0?6:5:T==0?4:0:U}function kf(S,T,U,G,re){switch(S>>>30){case 3:nu(T,U,G,re,0);break;case 2:si(T,U,G,re);break;case 1:fn(T,U,G,re)}}function xo(S,T){var U,G,re=T.M,ie=T.Nb,oe=S.oc,ue=S.pc+40,me=S.oc,be=S.pc+584,Fe=S.oc,Ge=S.pc+600;for(U=0;16>U;++U)oe[ue+32*U-1]=129;for(U=0;8>U;++U)me[be+32*U-1]=129,Fe[Ge+32*U-1]=129;for(0<re?oe[ue-1-32]=me[be-1-32]=Fe[Ge-1-32]=129:(a(oe,ue-32-1,127,21),a(me,be-32-1,127,9),a(Fe,Ge-32-1,127,9)),G=0;G<S.za;++G){var ve=T.ya[T.aa+G];if(0<G){for(U=-1;16>U;++U)n(oe,ue+32*U-4,oe,ue+32*U+12,4);for(U=-1;8>U;++U)n(me,be+32*U-4,me,be+32*U+4,4),n(Fe,Ge+32*U-4,Fe,Ge+32*U+4,4)}var Ie=S.Gd,Qe=S.Hd+G,ut=ve.ad,$e=ve.Hc;if(0<re&&(n(oe,ue-32,Ie[Qe].y,0,16),n(me,be-32,Ie[Qe].f,0,8),n(Fe,Ge-32,Ie[Qe].ea,0,8)),ve.Za){var lt=oe,ft=ue-32+16;for(0<re&&(G>=S.za-1?a(lt,ft,Ie[Qe].y[15],4):n(lt,ft,Ie[Qe+1].y,0,4)),U=0;4>U;U++)lt[ft+128+U]=lt[ft+256+U]=lt[ft+384+U]=lt[ft+0+U];for(U=0;16>U;++U,$e<<=2)lt=oe,ft=ue+Ra[U],Ca[ve.Ob[U]](lt,ft),kf($e,ut,16*+U,lt,ft)}else if(lt=XA(G,re,ve.Ob[0]),Ti[lt](oe,ue),$e!=0)for(U=0;16>U;++U,$e<<=2)kf($e,ut,16*+U,oe,ue+Ra[U]);for(U=ve.Gc,lt=XA(G,re,ve.Dd),Bl[lt](me,be),Bl[lt](Fe,Ge),$e=ut,lt=me,ft=be,255&(ve=0|U)&&(170&ve?Ro($e,256,lt,ft):sn($e,256,lt,ft)),ve=Fe,$e=Ge,255&(U>>=8)&&(170&U?Ro(ut,320,ve,$e):sn(ut,320,ve,$e)),re<S.Ub-1&&(n(Ie[Qe].y,0,oe,ue+480,16),n(Ie[Qe].f,0,me,be+224,8),n(Ie[Qe].ea,0,Fe,Ge+224,8)),U=8*ie*S.B,Ie=S.sa,Qe=S.ta+16*G+16*ie*S.R,ut=S.qa,ve=S.ra+8*G+U,$e=S.Ha,lt=S.Ia+8*G+U,U=0;16>U;++U)n(Ie,Qe+U*S.R,oe,ue+32*U,16);for(U=0;8>U;++U)n(ut,ve+U*S.B,me,be+32*U,8),n($e,lt+U*S.B,Fe,Ge+32*U,8)}}function Cl(S,T,U,G,re,ie,oe,ue,me){var be=[0],Fe=[0],Ge=0,ve=me!=null?me.kd:0,Ie=me??new bt;if(S==null||12>U)return 7;Ie.data=S,Ie.w=T,Ie.ha=U,T=[T],U=[U],Ie.gb=[Ie.gb];e:{var Qe=T,ut=U,$e=Ie.gb;if(e(S!=null),e(ut!=null),e($e!=null),$e[0]=0,12<=ut[0]&&!t(S,Qe[0],"RIFF")){if(t(S,Qe[0]+8,"WEBP")){$e=3;break e}var lt=Te(S,Qe[0]+4);if(12>lt||4294967286<lt){$e=3;break e}if(ve&&lt>ut[0]-8){$e=7;break e}$e[0]=lt,Qe[0]+=12,ut[0]-=12}$e=0}if($e!=0)return $e;for(lt=0<Ie.gb[0],U=U[0];;){e:{var ft=S;ut=T,$e=U;var jt=be,yt=Fe,ar=Qe=[0];if((Wt=Ge=[Ge])[0]=0,8>$e[0])$e=7;else{if(!t(ft,ut[0],"VP8X")){if(Te(ft,ut[0]+4)!=10){$e=3;break e}if(18>$e[0]){$e=7;break e}var $t=Te(ft,ut[0]+8),Tr=1+Se(ft,ut[0]+12);if(2147483648<=Tr*(ft=1+Se(ft,ut[0]+15))){$e=3;break e}ar!=null&&(ar[0]=$t),jt!=null&&(jt[0]=Tr),yt!=null&&(yt[0]=ft),ut[0]+=18,$e[0]-=18,Wt[0]=1}$e=0}}if(Ge=Ge[0],Qe=Qe[0],$e!=0)return $e;if(ut=!!(2&Qe),!lt&&Ge)return 3;if(ie!=null&&(ie[0]=!!(16&Qe)),oe!=null&&(oe[0]=ut),ue!=null&&(ue[0]=0),oe=be[0],Qe=Fe[0],Ge&&ut&&me==null){$e=0;break}if(4>U){$e=7;break}if(lt&&Ge||!lt&&!Ge&&!t(S,T[0],"ALPH")){U=[U],Ie.na=[Ie.na],Ie.P=[Ie.P],Ie.Sa=[Ie.Sa];e:{$t=S,$e=T,lt=U;var Wt=Ie.gb;jt=Ie.na,yt=Ie.P,ar=Ie.Sa,Tr=22,e($t!=null),e(lt!=null),ft=$e[0];var Wr=lt[0];for(e(jt!=null),e(ar!=null),jt[0]=null,yt[0]=null,ar[0]=0;;){if($e[0]=ft,lt[0]=Wr,8>Wr){$e=7;break e}var aa=Te($t,ft+4);if(4294967286<aa){$e=3;break e}var Pr=8+aa+1&-2;if(Tr+=Pr,0<Wt&&Tr>Wt){$e=3;break e}if(!t($t,ft,"VP8 ")||!t($t,ft,"VP8L")){$e=0;break e}if(Wr[0]<Pr){$e=7;break e}t($t,ft,"ALPH")||(jt[0]=$t,yt[0]=ft+8,ar[0]=aa),ft+=Pr,Wr-=Pr}}if(U=U[0],Ie.na=Ie.na[0],Ie.P=Ie.P[0],Ie.Sa=Ie.Sa[0],$e!=0)break}U=[U],Ie.Ja=[Ie.Ja],Ie.xa=[Ie.xa];e:if(Wt=S,$e=T,lt=U,jt=Ie.gb[0],yt=Ie.Ja,ar=Ie.xa,$t=$e[0],ft=!t(Wt,$t,"VP8 "),Tr=!t(Wt,$t,"VP8L"),e(Wt!=null),e(lt!=null),e(yt!=null),e(ar!=null),8>lt[0])$e=7;else{if(ft||Tr){if(Wt=Te(Wt,$t+4),12<=jt&&Wt>jt-12){$e=3;break e}if(ve&&Wt>lt[0]-8){$e=7;break e}yt[0]=Wt,$e[0]+=8,lt[0]-=8,ar[0]=Tr}else ar[0]=5<=lt[0]&&Wt[$t+0]==47&&!(Wt[$t+4]>>5),yt[0]=lt[0];$e=0}if(U=U[0],Ie.Ja=Ie.Ja[0],Ie.xa=Ie.xa[0],T=T[0],$e!=0)break;if(4294967286<Ie.Ja)return 3;if(ue==null||ut||(ue[0]=Ie.xa?2:1),oe=[oe],Qe=[Qe],Ie.xa){if(5>U){$e=7;break}ue=oe,ve=Qe,ut=ie,S==null||5>U?S=0:5<=U&&S[T+0]==47&&!(S[T+4]>>5)?(lt=[0],Wt=[0],jt=[0],de(yt=new z,S,T,U),Wa(yt,lt,Wt,jt)?(ue!=null&&(ue[0]=lt[0]),ve!=null&&(ve[0]=Wt[0]),ut!=null&&(ut[0]=jt[0]),S=1):S=0):S=0}else{if(10>U){$e=7;break}ue=Qe,S==null||10>U||!vf(S,T+3,U-3)?S=0:(ve=S[T+0]|S[T+1]<<8|S[T+2]<<16,ut=16383&(S[T+7]<<8|S[T+6]),S=16383&(S[T+9]<<8|S[T+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=Ie.Ja||!ut||!S?S=0:(oe&&(oe[0]=ut),ue&&(ue[0]=S),S=1))}if(!S||(oe=oe[0],Qe=Qe[0],Ge&&(be[0]!=oe||Fe[0]!=Qe)))return 3;me!=null&&(me[0]=Ie,me.offset=T-me.w,e(4294967286>T-me.w),e(me.offset==me.ha-U));break}return $e==0||$e==7&&Ge&&me==null?(ie!=null&&(ie[0]|=Ie.na!=null&&0<Ie.na.length),G!=null&&(G[0]=oe),re!=null&&(re[0]=Qe),0):$e}function Jc(S,T,U){var G=T.width,re=T.height,ie=0,oe=0,ue=G,me=re;if(T.Da=S!=null&&0<S.Da,T.Da&&(ue=S.cd,me=S.bd,ie=S.v,oe=S.j,11>U||(ie&=-2,oe&=-2),0>ie||0>oe||0>=ue||0>=me||ie+ue>G||oe+me>re))return 0;if(T.v=ie,T.j=oe,T.va=ie+ue,T.o=oe+me,T.U=ue,T.T=me,T.da=S!=null&&0<S.da,T.da){if(!Je(ue,me,U=[S.ib],ie=[S.hb]))return 0;T.ib=U[0],T.hb=ie[0]}return T.ob=S!=null&&S.ob,T.Kb=S==null||!S.Sd,T.da&&(T.ob=T.ib<3*G/4&&T.hb<3*re/4,T.Kb=0),1}function Ff(S){if(S==null)return 2;if(11>S.S){var T=S.f.RGBA;T.fb+=(S.height-1)*T.A,T.A=-T.A}else T=S.f.kb,S=S.height,T.O+=(S-1)*T.fa,T.fa=-T.fa,T.N+=(S-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(S-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(S-1)*T.lb,T.lb=-T.lb);return 0}function Nl(S,T,U,G){if(G==null||0>=S||0>=T)return 2;if(U!=null){if(U.Da){var re=U.cd,ie=U.bd,oe=-2&U.v,ue=-2&U.j;if(0>oe||0>ue||0>=re||0>=ie||oe+re>S||ue+ie>T)return 2;S=re,T=ie}if(U.da){if(!Je(S,T,re=[U.ib],ie=[U.hb]))return 2;S=re[0],T=ie[0]}}G.width=S,G.height=T;e:{var me=G.width,be=G.height;if(S=G.S,0>=me||0>=be||!(S>=xm&&13>S))S=2;else{if(0>=G.Rd&&G.sd==null){oe=ie=re=T=0;var Fe=(ue=me*Em[S])*be;if(11>S||(ie=(be+1)/2*(T=(me+1)/2),S==12&&(oe=(re=me)*be)),(be=s(Fe+2*ie+oe))==null){S=1;break e}G.sd=be,11>S?((me=G.f.RGBA).eb=be,me.fb=0,me.A=ue,me.size=Fe):((me=G.f.kb).y=be,me.O=0,me.fa=ue,me.Fd=Fe,me.f=be,me.N=0+Fe,me.Ab=T,me.Cd=ie,me.ea=be,me.W=0+Fe+ie,me.Db=T,me.Ed=ie,S==12&&(me.F=be,me.J=0+Fe+2*ie),me.Tc=oe,me.lb=re)}if(T=1,re=G.S,ie=G.width,oe=G.height,re>=xm&&13>re)if(11>re)S=G.f.RGBA,T&=(ue=Math.abs(S.A))*(oe-1)+ie<=S.size,T&=ue>=ie*Em[re],T&=S.eb!=null;else{S=G.f.kb,ue=(ie+1)/2,Fe=(oe+1)/2,me=Math.abs(S.fa),be=Math.abs(S.Ab);var Ge=Math.abs(S.Db),ve=Math.abs(S.lb),Ie=ve*(oe-1)+ie;T&=me*(oe-1)+ie<=S.Fd,T&=be*(Fe-1)+ue<=S.Cd,T=(T&=Ge*(Fe-1)+ue<=S.Ed)&me>=ie&be>=ue&Ge>=ue,T&=S.y!=null,T&=S.f!=null,T&=S.ea!=null,re==12&&(T&=ve>=ie,T&=Ie<=S.Tc,T&=S.F!=null)}else T=0;S=T?0:2}}return S!=0||U!=null&&U.fd&&(S=Ff(G)),S}var Hu=64,Gi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],_i=24,ic=32,oc=8,Zc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];mt("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(S){return S},k.Predictor2=function(S,T,U){return T[U+0]},k.Predictor3=function(S,T,U){return T[U+1]},k.Predictor4=function(S,T,U){return T[U-1]},k.Predictor5=function(S,T,U){return Me(Me(S,T[U+1]),T[U+0])},k.Predictor6=function(S,T,U){return Me(S,T[U-1])},k.Predictor7=function(S,T,U){return Me(S,T[U+0])},k.Predictor8=function(S,T,U){return Me(T[U-1],T[U+0])},k.Predictor9=function(S,T,U){return Me(T[U+0],T[U+1])},k.Predictor10=function(S,T,U){return Me(Me(S,T[U-1]),Me(T[U+0],T[U+1]))},k.Predictor11=function(S,T,U){var G=T[U+0];return 0>=it(G>>24&255,S>>24&255,(T=T[U-1])>>24&255)+it(G>>16&255,S>>16&255,T>>16&255)+it(G>>8&255,S>>8&255,T>>8&255)+it(255&G,255&S,255&T)?G:S},k.Predictor12=function(S,T,U){var G=T[U+0];return(vt((S>>24&255)+(G>>24&255)-((T=T[U-1])>>24&255))<<24|vt((S>>16&255)+(G>>16&255)-(T>>16&255))<<16|vt((S>>8&255)+(G>>8&255)-(T>>8&255))<<8|vt((255&S)+(255&G)-(255&T)))>>>0},k.Predictor13=function(S,T,U){var G=T[U-1];return(De((S=Me(S,T[U+0]))>>24&255,G>>24&255)<<24|De(S>>16&255,G>>16&255)<<16|De(S>>8&255,G>>8&255)<<8|De(255&S,255&G))>>>0};var JA=k.PredictorAdd0;k.PredictorAdd1=wt,mt("Predictor2","PredictorAdd2"),mt("Predictor3","PredictorAdd3"),mt("Predictor4","PredictorAdd4"),mt("Predictor5","PredictorAdd5"),mt("Predictor6","PredictorAdd6"),mt("Predictor7","PredictorAdd7"),mt("Predictor8","PredictorAdd8"),mt("Predictor9","PredictorAdd9"),mt("Predictor10","PredictorAdd10"),mt("Predictor11","PredictorAdd11"),mt("Predictor12","PredictorAdd12"),mt("Predictor13","PredictorAdd13");var ZA=k.PredictorAdd2;ct("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var La,mm=k.ColorIndexInverseTransform,lc=k.MapARGB,cc=k.VP8LColorIndexInverseTransformAlpha,Hs=k.MapAlpha,eu=k.VP8LPredictorsAdd=[];eu.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var eh,th,tu,ru,uc,Id,yo,nu,si,Ro,fn,sn,qn,Ma,dc,Sl,Ld,Of,Rg,Gv,Wv,Yv,Ug,Qg,Md,Uo,Df,vo,Rd=s(511),pm=s(2041),Pf=s(225),If=s(767),gm=0,au=pm,Lf=Pf,ii=If,zs=Rd,xm=0,oi=1,ym=2,Qo=3,Mf=4,rh=5,zu=6,Rf=7,vm=8,nh=9,bm=10,Ho=[2,3,7],ah=[3,3,11],Ud=[280,256,256,256,40],wm=[0,1,1,1,0],Uf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ko=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ku=8,$o=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Vo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],bo=null,Xv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hg=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Cm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Jv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ks=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],na=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ti=[],Ca=[],Bl=[],$u=1,zg=2,su=[],$s=[];Wc("UpsampleRgbLinePair",Yc,3),Wc("UpsampleBgrLinePair",js,3),Wc("UpsampleRgbaLinePair",ji,4),Wc("UpsampleBgraLinePair",sc,4),Wc("UpsampleArgbLinePair",YA,4),Wc("UpsampleRgba4444LinePair",Qu,2),Wc("UpsampleRgb565LinePair",Uu,2);var Qd=k.UpsampleRgbLinePair,Kg=k.UpsampleBgrLinePair,sh=k.UpsampleRgbaLinePair,Nm=k.UpsampleBgraLinePair,Vu=k.UpsampleArgbLinePair,Ac=k.UpsampleRgba4444LinePair,qu=k.UpsampleRgb565LinePair,qo=16,ih=1<<qo-1,Hd=-227,Gu=482,Sm=6,Wu=0,Vs=s(256),Bm=s(256),Zv=s(256),k5=s(256),F5=s(Gu-Hd),O5=s(Gu-Hd);Xc("YuvToRgbRow",Yc,3),Xc("YuvToBgrRow",js,3),Xc("YuvToRgbaRow",ji,4),Xc("YuvToBgraRow",sc,4),Xc("YuvToArgbRow",YA,4),Xc("YuvToRgba4444Row",Qu,2),Xc("YuvToRgb565Row",Uu,2);var Ra=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],oh=[0,2,8],Qf=[8,7,6,4,4,2,2,2,1,1,1,1],Hf=1;this.WebPDecodeRGBA=function(S,T,U,G,re){var ie=oi,oe=new ht,ue=new Nt;oe.ba=ue,ue.S=ie,ue.width=[ue.width],ue.height=[ue.height];var me=ue.width,be=ue.height,Fe=new Qt;if(Fe==null||S==null)var Ge=2;else e(Fe!=null),Ge=Cl(S,T,U,Fe.width,Fe.height,Fe.Pd,Fe.Qd,Fe.format,null);if(Ge!=0?me=0:(me!=null&&(me[0]=Fe.width[0]),be!=null&&(be[0]=Fe.height[0]),me=1),me){ue.width=ue.width[0],ue.height=ue.height[0],G!=null&&(G[0]=ue.width),re!=null&&(re[0]=ue.height);e:{if(G=new Uc,(re=new bt).data=S,re.w=T,re.ha=U,re.kd=1,T=[0],e(re!=null),((S=Cl(re.data,re.w,re.ha,null,null,null,T,null,re))==0||S==7)&&T[0]&&(S=4),(T=S)==0){if(e(oe!=null),G.data=re.data,G.w=re.w+re.offset,G.ha=re.ha-re.offset,G.put=hr,G.ac=Ga,G.bc=ba,G.ma=oe,re.xa){if((S=Ve())==null){oe=1;break e}if((function(ve,Ie){var Qe=[0],ut=[0],$e=[0];t:for(;;){if(ve==null)return 0;if(Ie==null)return ve.a=2,0;if(ve.l=Ie,ve.a=0,de(ve.m,Ie.data,Ie.w,Ie.ha),!Wa(ve.m,Qe,ut,$e)){ve.a=3;break t}if(ve.xb=zg,Ie.width=Qe[0],Ie.height=ut[0],!qe(Qe[0],ut[0],1,ve,null))break t;return 1}return e(ve.a!=0),0})(S,G)){if(G=(T=Nl(G.width,G.height,oe.Oa,oe.ba))==0){t:{G=S;r:for(;;){if(G==null){G=0;break t}if(e(G.s.yc!=null),e(G.s.Ya!=null),e(0<G.s.Wb),e((U=G.l)!=null),e((re=U.ma)!=null),G.xb!=0){if(G.ca=re.ba,G.tb=re.tb,e(G.ca!=null),!Jc(re.Oa,U,Qo)){G.a=2;break r}if(!We(G,U.width)||U.da)break r;if((U.da||nr(G.ca.S))&&bl(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&bl()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!J(G.s.vb,G.s.Wa.Xa)){G.a=1;break r}G.xb=0}if(!Ke(G,G.V,G.Ba,G.c,G.i,U.o,he))break r;re.Dc=G.Ma,G=1;break t}e(G.a!=0),G=0}G=!G}G&&(T=S.a)}else T=S.a}else{if((S=new xl)==null){oe=1;break e}if(S.Fa=re.na,S.P=re.P,S.qc=re.Sa,tc(S,G)){if((T=Nl(G.width,G.height,oe.Oa,oe.ba))==0){if(S.Aa=0,U=oe.Oa,e((re=S)!=null),U!=null){if(0<(me=0>(me=U.Md)?0:100<me?255:255*me/100)){for(be=Fe=0;4>be;++be)12>(Ge=re.pb[be]).lc&&(Ge.ia=me*Qf[0>Ge.lc?0:Ge.lc]>>3),Fe|=Ge.ia;Fe&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=U.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}(function(ve,Ie){if(ve==null)return 0;if(Ie==null)return hn(ve,2,"NULL VP8Io parameter in VP8Decode().");if(!ve.cb&&!tc(ve,Ie))return 0;if(e(ve.cb),Ie.ac==null||Ie.ac(Ie)){Ie.ob&&(ve.L=0);var Qe=oh[ve.L];if(ve.L==2?(ve.yb=0,ve.zb=0):(ve.yb=Ie.v-Qe>>4,ve.zb=Ie.j-Qe>>4,0>ve.yb&&(ve.yb=0),0>ve.zb&&(ve.zb=0)),ve.Va=Ie.o+15+Qe>>4,ve.Hb=Ie.va+15+Qe>>4,ve.Hb>ve.za&&(ve.Hb=ve.za),ve.Va>ve.Ub&&(ve.Va=ve.Ub),0<ve.L){var ut=ve.ed;for(Qe=0;4>Qe;++Qe){var $e;if(ve.Qa.Cb){var lt=ve.Qa.Lb[Qe];ve.Qa.Fb||(lt+=ut.Tb)}else lt=ut.Tb;for($e=0;1>=$e;++$e){var ft=ve.gd[Qe][$e],jt=lt;if(ut.Pc&&(jt+=ut.vd[0],$e&&(jt+=ut.od[0])),0<(jt=0>jt?0:63<jt?63:jt)){var yt=jt;0<ut.wb&&(yt=4<ut.wb?yt>>2:yt>>1)>9-ut.wb&&(yt=9-ut.wb),1>yt&&(yt=1),ft.dd=yt,ft.tc=2*jt+yt,ft.ld=40<=jt?2:15<=jt?1:0}else ft.tc=0;ft.La=$e}}}Qe=0}else hn(ve,6,"Frame setup failed"),Qe=ve.a;if(Qe=Qe==0){if(Qe){ve.$c=0,0<ve.Aa||(ve.Ic=Hf);t:{Qe=ve.Ic,ut=4*(yt=ve.za);var ar=32*yt,$t=yt+1,Tr=0<ve.L?yt*(0<ve.Aa?2:1):0,Wt=(ve.Aa==2?2:1)*yt;if((ft=ut+832+($e=3*(16*Qe+oh[ve.L])/2*ar)+(lt=ve.Fa!=null&&0<ve.Fa.length?ve.Kc.c*ve.Kc.i:0))!=ft)Qe=0;else{if(ft>ve.Vb){if(ve.Vb=0,ve.Ec=s(ft),ve.Fc=0,ve.Ec==null){Qe=hn(ve,1,"no memory during frame initialization.");break t}ve.Vb=ft}ft=ve.Ec,jt=ve.Fc,ve.Ac=ft,ve.Bc=jt,jt+=ut,ve.Gd=i(ar,mo),ve.Hd=0,ve.rb=i($t+1,Tn),ve.sb=1,ve.wa=Tr?i(Tr,qr):null,ve.Y=0,ve.D.Nb=0,ve.D.wa=ve.wa,ve.D.Y=ve.Y,0<ve.Aa&&(ve.D.Y+=yt),e(!0),ve.oc=ft,ve.pc=jt,jt+=832,ve.ya=i(Wt,pl),ve.aa=0,ve.D.ya=ve.ya,ve.D.aa=ve.aa,ve.Aa==2&&(ve.D.aa+=yt),ve.R=16*yt,ve.B=8*yt,yt=(ar=oh[ve.L])*ve.R,ar=ar/2*ve.B,ve.sa=ft,ve.ta=jt+yt,ve.qa=ve.sa,ve.ra=ve.ta+16*Qe*ve.R+ar,ve.Ha=ve.qa,ve.Ia=ve.ra+8*Qe*ve.B+ar,ve.$c=0,jt+=$e,ve.mb=lt?ft:null,ve.nb=lt?jt:null,e(jt+lt<=ve.Fc+ve.Vb),bf(ve),a(ve.Ac,ve.Bc,0,ut),Qe=1}}if(Qe){if(Ie.ka=0,Ie.y=ve.sa,Ie.O=ve.ta,Ie.f=ve.qa,Ie.N=ve.ra,Ie.ea=ve.Ha,Ie.Vd=ve.Ia,Ie.fa=ve.R,Ie.Rc=ve.B,Ie.F=null,Ie.J=0,!gm){for(Qe=-255;255>=Qe;++Qe)Rd[255+Qe]=0>Qe?-Qe:Qe;for(Qe=-1020;1020>=Qe;++Qe)pm[1020+Qe]=-128>Qe?-128:127<Qe?127:Qe;for(Qe=-112;112>=Qe;++Qe)Pf[112+Qe]=-16>Qe?-16:15<Qe?15:Qe;for(Qe=-255;510>=Qe;++Qe)If[255+Qe]=0>Qe?0:255<Qe?255:Qe;gm=1}yo=yl,nu=wf,Ro=Ei,fn=Cf,sn=Nf,si=im,qn=hm,Ma=qc,dc=te,Sl=Ce,Ld=fm,Of=M,Rg=ke,Gv=Re,Wv=zc,Yv=Kc,Ug=Dd,Qg=_f,Ca[0]=dm,Ca[1]=om,Ca[2]=um,Ca[3]=Ef,Ca[4]=po,Ca[5]=jf,Ca[6]=Us,Ca[7]=kd,Ca[8]=Fd,Ca[9]=go,Ti[0]=vl,Ti[1]=Sf,Ti[2]=Bf,Ti[3]=cm,Ti[4]=Qc,Ti[5]=Td,Ti[6]=Ru,Bl[0]=VA,Bl[1]=lm,Bl[2]=rc,Bl[3]=Am,Bl[4]=Es,Bl[5]=qA,Bl[6]=nc,Qe=1}else Qe=0}Qe&&(Qe=(function(Wr,aa){for(Wr.M=0;Wr.M<Wr.Va;++Wr.M){var Pr,Vt=Wr.Jc[Wr.M&Wr.Xb],Lt=Wr.m,fa=Wr;for(Pr=0;Pr<fa.za;++Pr){var Sr=Lt,Ur=fa,Nn=Ur.Ac,As=Ur.Bc+4*Pr,qs=Ur.zc,Gn=Ur.ya[Ur.aa+Pr];if(Ur.Qa.Bb?Gn.$b=ye(Sr,Ur.Pa.jb[0])?2+ye(Sr,Ur.Pa.jb[2]):ye(Sr,Ur.Pa.jb[1]):Gn.$b=0,Ur.kc&&(Gn.Ad=ye(Sr,Ur.Bd)),Gn.Za=!ye(Sr,145)+0,Gn.Za){var Ja=Gn.Ob,li=0;for(Ur=0;4>Ur;++Ur){var Za,Kr=qs[0+Ur];for(Za=0;4>Za;++Za){Kr=Ks[Nn[As+Za]][Kr];for(var cn=Cm[ye(Sr,Kr[0])];0<cn;)cn=Cm[2*cn+ye(Sr,Kr[cn])];Kr=-cn,Nn[As+Za]=Kr}n(Ja,li,Nn,As,4),li+=4,qs[0+Ur]=Kr}}else Kr=ye(Sr,156)?ye(Sr,128)?1:3:ye(Sr,163)?2:0,Gn.Ob[0]=Kr,a(Nn,As,Kr,4),a(qs,0,Kr,4);Gn.Dd=ye(Sr,142)?ye(Sr,114)?ye(Sr,183)?1:3:2:0}if(fa.m.Ka)return hn(Wr,7,"Premature end-of-partition0 encountered.");for(;Wr.ja<Wr.za;++Wr.ja){if(fa=Vt,Sr=(Lt=Wr).rb[Lt.sb-1],Nn=Lt.rb[Lt.sb+Lt.ja],Pr=Lt.ya[Lt.aa+Lt.ja],As=Lt.kc?Pr.Ad:0)Sr.la=Nn.la=0,Pr.Za||(Sr.Na=Nn.Na=0),Pr.Hc=0,Pr.Gc=0,Pr.ia=0;else{var ma,mn;if(Sr=Nn,Nn=fa,As=Lt.Pa.Xc,qs=Lt.ya[Lt.aa+Lt.ja],Gn=Lt.pb[qs.$b],Ur=qs.ad,Ja=0,li=Lt.rb[Lt.sb-1],Kr=Za=0,a(Ur,Ja,0,384),qs.Za)var hs=0,pa=As[3];else{cn=s(16);var un=Sr.Na+li.Na;if(un=bo(Nn,As[1],un,Gn.Eb,0,cn,0),Sr.Na=li.Na=(0<un)+0,1<un)yo(cn,0,Ur,Ja);else{var Ua=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)Ur[Ja+cn]=Ua}hs=1,pa=As[0]}var Sn=15&Sr.la,es=15&li.la;for(cn=0;4>cn;++cn){var ts=1&es;for(Ua=mn=0;4>Ua;++Ua)Sn=Sn>>1|(ts=(un=bo(Nn,pa,un=ts+(1&Sn),Gn.Sc,hs,Ur,Ja))>hs)<<7,mn=mn<<2|(3<un?3:1<un?2:Ur[Ja+0]!=0),Ja+=16;Sn>>=4,es=es>>1|ts<<7,Za=(Za<<8|mn)>>>0}for(pa=Sn,hs=es>>4,ma=0;4>ma;ma+=2){for(mn=0,Sn=Sr.la>>4+ma,es=li.la>>4+ma,cn=0;2>cn;++cn){for(ts=1&es,Ua=0;2>Ua;++Ua)un=ts+(1&Sn),Sn=Sn>>1|(ts=0<(un=bo(Nn,As[2],un,Gn.Qc,0,Ur,Ja)))<<3,mn=mn<<2|(3<un?3:1<un?2:Ur[Ja+0]!=0),Ja+=16;Sn>>=2,es=es>>1|ts<<5}Kr|=mn<<4*ma,pa|=Sn<<4<<ma,hs|=(240&es)<<ma}Sr.la=pa,li.la=hs,qs.Hc=Za,qs.Gc=Kr,qs.ia=43690&Kr?0:Gn.ia,As=!(Za|Kr)}if(0<Lt.L&&(Lt.wa[Lt.Y+Lt.ja]=Lt.gd[Pr.$b][Pr.Za],Lt.wa[Lt.Y+Lt.ja].La|=!As),fa.Ka)return hn(Wr,7,"Premature end-of-file encountered.")}if(bf(Wr),Lt=aa,fa=1,Pr=(Vt=Wr).D,Sr=0<Vt.L&&Vt.M>=Vt.zb&&Vt.M<=Vt.Va,Vt.Aa==0)t:{if(Pr.M=Vt.M,Pr.uc=Sr,xo(Vt,Pr),fa=1,Pr=(mn=Vt.D).Nb,Sr=(Kr=oh[Vt.L])*Vt.R,Nn=Kr/2*Vt.B,cn=16*Pr*Vt.R,Ua=8*Pr*Vt.B,As=Vt.sa,qs=Vt.ta-Sr+cn,Gn=Vt.qa,Ur=Vt.ra-Nn+Ua,Ja=Vt.Ha,li=Vt.Ia-Nn+Ua,es=(Sn=mn.M)==0,Za=Sn>=Vt.Va-1,Vt.Aa==2&&xo(Vt,mn),mn.uc)for(ts=(un=Vt).D.M,e(un.D.uc),mn=un.yb;mn<un.Hb;++mn){hs=mn,pa=ts;var Dn=(on=(rs=un).D).Nb;ma=rs.R;var on=on.wa[on.Y+hs],ci=rs.sa,Na=rs.ta+16*Dn*ma+16*hs,gr=on.dd,yr=on.tc;if(yr!=0)if(e(3<=yr),rs.L==1)0<hs&&Yv(ci,Na,ma,yr+4),on.La&&Qg(ci,Na,ma,yr),0<pa&&Wv(ci,Na,ma,yr+4),on.La&&Ug(ci,Na,ma,yr);else{var dn=rs.B,Wi=rs.qa,Go=rs.ra+8*Dn*dn+8*hs,ki=rs.Ha,rs=rs.Ia+8*Dn*dn+8*hs;Dn=on.ld,0<hs&&(Ma(ci,Na,ma,yr+4,gr,Dn),Sl(Wi,Go,ki,rs,dn,yr+4,gr,Dn)),on.La&&(Of(ci,Na,ma,yr,gr,Dn),Gv(Wi,Go,ki,rs,dn,yr,gr,Dn)),0<pa&&(qn(ci,Na,ma,yr+4,gr,Dn),dc(Wi,Go,ki,rs,dn,yr+4,gr,Dn)),on.La&&(Ld(ci,Na,ma,yr,gr,Dn),Rg(Wi,Go,ki,rs,dn,yr,gr,Dn))}}if(Vt.ia&&alert("todo:DitherRow"),Lt.put!=null){if(mn=16*Sn,Sn=16*(Sn+1),es?(Lt.y=Vt.sa,Lt.O=Vt.ta+cn,Lt.f=Vt.qa,Lt.N=Vt.ra+Ua,Lt.ea=Vt.Ha,Lt.W=Vt.Ia+Ua):(mn-=Kr,Lt.y=As,Lt.O=qs,Lt.f=Gn,Lt.N=Ur,Lt.ea=Ja,Lt.W=li),Za||(Sn-=Kr),Sn>Lt.o&&(Sn=Lt.o),Lt.F=null,Lt.J=null,Vt.Fa!=null&&0<Vt.Fa.length&&mn<Sn&&(Lt.J=Vn(Vt,Lt,mn,Sn-mn),Lt.F=Vt.mb,Lt.F==null&&Lt.F.length==0)){fa=hn(Vt,3,"Could not decode alpha data.");break t}mn<Lt.j&&(Kr=Lt.j-mn,mn=Lt.j,e(!(1&Kr)),Lt.O+=Vt.R*Kr,Lt.N+=Vt.B*(Kr>>1),Lt.W+=Vt.B*(Kr>>1),Lt.F!=null&&(Lt.J+=Lt.width*Kr)),mn<Sn&&(Lt.O+=Lt.v,Lt.N+=Lt.v>>1,Lt.W+=Lt.v>>1,Lt.F!=null&&(Lt.J+=Lt.v),Lt.ka=mn-Lt.j,Lt.U=Lt.va-Lt.v,Lt.T=Sn-mn,fa=Lt.put(Lt))}Pr+1!=Vt.Ic||Za||(n(Vt.sa,Vt.ta-Sr,As,qs+16*Vt.R,Sr),n(Vt.qa,Vt.ra-Nn,Gn,Ur+8*Vt.B,Nn),n(Vt.Ha,Vt.Ia-Nn,Ja,li+8*Vt.B,Nn))}if(!fa)return hn(Wr,6,"Output aborted.")}return 1})(ve,Ie)),Ie.bc!=null&&Ie.bc(Ie),Qe&=1}return Qe?(ve.cb=0,Qe):0})(S,G)||(T=S.a)}}else T=S.a}T==0&&oe.Oa!=null&&oe.Oa.fd&&(T=Ff(oe.ba))}oe=T}ie=oe!=0?null:11>ie?ue.f.RGBA.eb:ue.f.kb.y}else ie=null;return ie};var Em=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(k,H){for(var L="",Q=0;Q<4;Q++)L+=String.fromCharCode(k[H++]);return L}function A(k,H){return k[H+0]|k[H+1]<<8}function h(k,H){return(k[H+0]|k[H+1]<<8|k[H+2]<<16)>>>0}function p(k,H){return(k[H+0]|k[H+1]<<8|k[H+2]<<16|k[H+3]<<24)>>>0}new c;var m=[0],y=[0],g=[],v=new c,b=r,N=(function(k,H){var L={},Q=0,R=!1,K=0,ee=0;if(L.frames=[],!(function(I,z){for(var V=0;V<4;V++)if(I[z+V]!="RIFF".charCodeAt(V))return!0;return!1})(k,H)){for(p(k,H+=4),H+=8;H<k.length;){var X=u(k,H),ae=p(k,H+=4);H+=4;var Y=ae+(1&ae);switch(X){case"VP8 ":case"VP8L":L.frames[Q]===void 0&&(L.frames[Q]={}),(Z=L.frames[Q]).src_off=R?ee:H-8,Z.src_size=K+ae+8,Q++,R&&(R=!1,K=0,ee=0);break;case"VP8X":(Z=L.header={}).feature_flags=k[H];var de=H+4;Z.canvas_width=1+h(k,de),de+=3,Z.canvas_height=1+h(k,de),de+=3;break;case"ALPH":R=!0,K=Y+8,ee=H-8;break;case"ANIM":(Z=L.header).bgcolor=p(k,H),de=H+4,Z.loop_count=A(k,de),de+=2;break;case"ANMF":var pe,Z;(Z=L.frames[Q]={}).offset_x=2*h(k,H),H+=3,Z.offset_y=2*h(k,H),H+=3,Z.width=1+h(k,H),H+=3,Z.height=1+h(k,H),H+=3,Z.duration=h(k,H),H+=3,pe=k[H++],Z.dispose=1&pe,Z.blend=pe>>1&1}X!="ANMF"&&(H+=Y)}return L}})(b,0);N.response=b,N.rgbaoutput=!0,N.dataurl=!1;var C=N.header?N.header:null,E=N.frames?N.frames:null;if(C){C.loop_counter=C.loop_count,m=[C.canvas_height],y=[C.canvas_width];for(var _=0;_<E.length&&E[_].blend!=0;_++);}var P=E[0],O=v.WebPDecodeRGBA(b,P.src_off,P.src_size,y,m);P.rgba=O,P.imgwidth=y[0],P.imgheight=m[0];for(var D=0;D<y[0]*m[0]*4;D++)g[D]=O[D];return this.width=y,this.height=m,this.data=g,this}(function(r){var e,t,n,a,s,i,l,c,u,A=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new c,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new i,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new i,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new A}]);var h=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=I;Object.defineProperty(this,"pdf",{get:function(){return z}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(J){V=!!J}});var q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return q},set:function(J){q=!!J}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(J){isNaN(J)||(ne=J)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(J){isNaN(J)||(ce=J)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(J){var Le;typeof J=="number"?Le=[J,J,J,J]:((Le=new Array(4))[0]=J[0],Le[1]=J.length>=2?J[1]:Le[0],Le[2]=J.length>=3?J[2]:Le[0],Le[3]=J.length>=4?J[3]:Le[1]),u.margin=Le}});var Be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Be},set:function(J){Be=J}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(J){Ae=J}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(J){ye=J}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(J){J instanceof A&&(u=J)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(J){u.path=J}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(J){Pe=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var Le;Le=p(J),this.ctx.fillStyle=Le.style,this.ctx.isFillTransparent=Le.a===0,this.ctx.fillOpacity=Le.a,this.pdf.setFillColor(Le.r,Le.g,Le.b,{a:Le.a}),this.pdf.setTextColor(Le.r,Le.g,Le.b,{a:Le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var Le=p(J);this.ctx.strokeStyle=Le.style,this.ctx.isStrokeTransparent=Le.a===0,this.ctx.strokeOpacity=Le.a,Le.a===0?this.pdf.setDrawColor(255,255,255):(Le.a,this.pdf.setDrawColor(Le.r,Le.g,Le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var je=null,Se=null,Te=null;Object.defineProperty(this,"fontFaces",{get:function(){return Te},set:function(J){je=null,Se=null,Te=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var Le;if(this.ctx.font=J,(Le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var He=Le[1];Le[2];var Je=Le[3],at=Le[4];Le[5];var ze=Le[6],mt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(at)[2];at=Math.floor(mt==="px"?parseFloat(at)*this.pdf.internal.scaleFactor:mt==="em"?parseFloat(at)*this.pdf.getFontSize():parseFloat(at)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(at);var Et=(function(ct){var Zt,It,Tt=[],cr=ct.trim();if(cr==="")return zE;if(cr in A8)return[A8[cr]];for(;cr!=="";){switch(It=null,Zt=(cr=f8(cr)).charAt(0)){case'"':case"'":It=fIe(cr.substring(1),Zt);break;default:It=mIe(cr)}if(It===null||(Tt.push(It[0]),(cr=f8(It[1]))!==""&&cr.charAt(0)!==","))return zE;cr=cr.replace(/^,/,"")}return Tt})(ze);if(this.fontFaces){var Me=(function(ct,Zt){var It=ct.getFontList(),Tt=JSON.stringify(It);if(je===null||Se!==Tt){var cr=(function(Br){var zt=[];return Object.keys(Br).forEach(function(Yr){Br[Yr].forEach(function(nr){var pr=null;switch(nr){case"bold":pr={family:Yr,weight:"bold"};break;case"italic":pr={family:Yr,style:"italic"};break;case"bolditalic":pr={family:Yr,weight:"bold",style:"italic"};break;case"":case"normal":pr={family:Yr}}pr!==null&&(pr.ref={name:Yr,style:nr},zt.push(pr))})}),zt})(It);je=(function(Br){for(var zt={},Yr=0;Yr<Br.length;++Yr){var nr=HE(Br[Yr]),pr=nr.family,pt=nr.stretch,Nt=nr.style,Qt=nr.weight;zt[pr]=zt[pr]||{},zt[pr][pt]=zt[pr][pt]||{},zt[pr][pt][Nt]=zt[pr][pt][Nt]||{},zt[pr][pt][Nt][Qt]=nr}return zt})(cr.concat(Zt)),Se=Tt}return je})(this.pdf,this.fontFaces),vt=Et.map(function(ct){return{family:ct,stretch:"normal",weight:Je,style:He}}),De=(function(ct,Zt,It){for(var Tt=(It=It||{}).defaultFontFamily||"times",cr=Object.assign({},hIe,It.genericFontFamilies||{}),Br=null,zt=null,Yr=0;Yr<Zt.length;++Yr)if(cr[(Br=HE(Zt[Yr])).family]&&(Br.family=cr[Br.family]),ct.hasOwnProperty(Br.family)){zt=ct[Br.family];break}if(!(zt=zt||ct[Tt]))throw new Error("Could not find a font-family for the rule '"+h8(Br)+"' and default family '"+Tt+"'.");if(zt=(function(nr,pr){if(pr[nr])return pr[nr];var pt=i_[nr],Nt=pt<=i_.normal?-1:1,Qt=d8(pr,oW,pt,Nt);if(!Qt)throw new Error("Could not find a matching font-stretch value for "+nr);return Qt})(Br.stretch,zt),zt=(function(nr,pr){if(pr[nr])return pr[nr];for(var pt=iW[nr],Nt=0;Nt<pt.length;++Nt)if(pr[pt[Nt]])return pr[pt[Nt]];throw new Error("Could not find a matching font-style for "+nr)})(Br.style,zt),!(zt=(function(nr,pr){if(pr[nr])return pr[nr];if(nr===400&&pr[500])return pr[500];if(nr===500&&pr[400])return pr[400];var pt=AIe[nr],Nt=d8(pr,lW,pt,nr<400?-1:1);if(!Nt)throw new Error("Could not find a matching font-weight for value "+nr);return Nt})(Br.weight,zt)))throw new Error("Failed to resolve a font for the rule '"+h8(Br)+"'.");return zt})(Me,vt);this.pdf.setFont(De.ref.name,De.ref.style)}else{var it="";(Je==="bold"||parseInt(Je,10)>=700||He==="bold")&&(it="bold"),He==="italic"&&(it+="italic"),it.length===0&&(it="normal");for(var wt="",Bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ee=0;Ee<Et.length;Ee++){if(this.pdf.internal.getFont(Et[Ee],it,{noFallback:!0,disableWarning:!0})!==void 0){wt=Et[Ee];break}if(it==="bolditalic"&&this.pdf.internal.getFont(Et[Ee],"bold",{noFallback:!0,disableWarning:!0})!==void 0)wt=Et[Ee],it="bold";else if(this.pdf.internal.getFont(Et[Ee],"normal",{noFallback:!0,disableWarning:!0})!==void 0){wt=Et[Ee],it="normal";break}}if(wt===""){for(var ot=0;ot<Et.length;ot++)if(Bt[Et[ot]]){wt=Bt[Et[ot]];break}}wt=wt===""?"Times":wt,this.pdf.setFont(wt,it)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};h.prototype.setLineDash=function(I){this.lineDash=I},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){E.call(this,"fill",!1)},h.prototype.stroke=function(){E.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(I,z){if(isNaN(I)||isNaN(z))throw ia.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new i(I,z));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new i(I,z)},h.prototype.closePath=function(){var I=new i(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Hn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){I=new i(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(I.x,I.y)},h.prototype.lineTo=function(I,z){if(isNaN(I)||isNaN(z))throw ia.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new i(I,z));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new i(V.x,V.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},h.prototype.quadraticCurveTo=function(I,z,V,q){if(isNaN(V)||isNaN(q)||isNaN(I)||isNaN(z))throw ia.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new i(V,q)),ce=this.ctx.transform.applyToPoint(new i(I,z));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new i(ne.x,ne.y)},h.prototype.bezierCurveTo=function(I,z,V,q,ne,ce){if(isNaN(ne)||isNaN(ce)||isNaN(I)||isNaN(z)||isNaN(V)||isNaN(q))throw ia.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Be=this.ctx.transform.applyToPoint(new i(ne,ce)),Ae=this.ctx.transform.applyToPoint(new i(I,z)),ye=this.ctx.transform.applyToPoint(new i(V,q));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:ye.x,y2:ye.y,x:Be.x,y:Be.y}),this.ctx.lastPoint=new i(Be.x,Be.y)},h.prototype.arc=function(I,z,V,q,ne,ce){if(isNaN(I)||isNaN(z)||isNaN(V)||isNaN(q)||isNaN(ne))throw ia.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var Be=this.ctx.transform.applyToPoint(new i(I,z));I=Be.x,z=Be.y;var Ae=this.ctx.transform.applyToPoint(new i(0,V)),ye=this.ctx.transform.applyToPoint(new i(0,0));V=Math.sqrt(Math.pow(Ae.x-ye.x,2)+Math.pow(Ae.y-ye.y,2))}Math.abs(ne-q)>=2*Math.PI&&(q=0,ne=2*Math.PI),this.path.push({type:"arc",x:I,y:z,radius:V,startAngle:q,endAngle:ne,counterclockwise:ce})},h.prototype.arcTo=function(I,z,V,q,ne){throw new Error("arcTo not implemented.")},h.prototype.rect=function(I,z,V,q){if(isNaN(I)||isNaN(z)||isNaN(V)||isNaN(q))throw ia.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,z),this.lineTo(I+V,z),this.lineTo(I+V,z+q),this.lineTo(I,z+q),this.lineTo(I,z),this.lineTo(I+V,z),this.lineTo(I,z)},h.prototype.fillRect=function(I,z,V,q){if(isNaN(I)||isNaN(z)||isNaN(V)||isNaN(q))throw ia.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,z,V,q),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},h.prototype.strokeRect=function(I,z,V,q){if(isNaN(I)||isNaN(z)||isNaN(V)||isNaN(q))throw ia.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(I,z,V,q),this.stroke())},h.prototype.clearRect=function(I,z,V,q){if(isNaN(I)||isNaN(z)||isNaN(V)||isNaN(q))throw ia.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,z,V,q))},h.prototype.save=function(I){I=typeof I!="boolean"||I;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var q=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=q}},h.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(z),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(I){var z,V,q,ne;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))z=0,V=0,q=0,ne=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(ce!==null)z=parseInt(ce[1]),V=parseInt(ce[2]),q=parseInt(ce[3]),ne=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)z=parseInt(ce[1]),V=parseInt(ce[2]),q=parseInt(ce[3]),ne=parseFloat(ce[4]);else{if(ne=1,typeof I=="string"&&I.charAt(0)!=="#"){var Be=new ZG(I);I=Be.ok?Be.toHex():"#000000"}I.length===4?(z=I.substring(1,2),z+=z,V=I.substring(2,3),V+=V,q=I.substring(3,4),q+=q):(z=I.substring(1,3),V=I.substring(3,5),q=I.substring(5,7)),z=parseInt(z,16),V=parseInt(V,16),q=parseInt(q,16)}}return{r:z,g:V,b:q,a:ne,style:I}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(I,z,V,q){if(isNaN(z)||isNaN(V)||typeof I!="string")throw ia.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(q=isNaN(q)?void 0:q,!m.call(this)){var ne=Y(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;Q.call(this,{text:I,x:z,y:V,scale:ce,angle:ne,align:this.textAlign,maxWidth:q})}},h.prototype.strokeText=function(I,z,V,q){if(isNaN(z)||isNaN(V)||typeof I!="string")throw ia.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){q=isNaN(q)?void 0:q;var ne=Y(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;Q.call(this,{text:I,x:z,y:V,scale:ce,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:q})}},h.prototype.measureText=function(I){if(typeof I!="string")throw ia.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,V=this.pdf.internal.scaleFactor,q=z.internal.getFontSize(),ne=z.getStringUnitWidth(I)*q/z.internal.scaleFactor;return new function(ce){var Be=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Be}}),this}({width:ne*=Math.round(96*V/72*1e4)/1e4})},h.prototype.scale=function(I,z){if(isNaN(I)||isNaN(z))throw ia.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new c(I,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.rotate=function(I){if(isNaN(I))throw ia.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new c(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},h.prototype.translate=function(I,z){if(isNaN(I)||isNaN(z))throw ia.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new c(1,0,0,1,I,z);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.transform=function(I,z,V,q,ne,ce){if(isNaN(I)||isNaN(z)||isNaN(V)||isNaN(q)||isNaN(ne)||isNaN(ce))throw ia.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Be=new c(I,z,V,q,ne,ce);this.ctx.transform=this.ctx.transform.multiply(Be)},h.prototype.setTransform=function(I,z,V,q,ne,ce){I=isNaN(I)?1:I,z=isNaN(z)?0:z,V=isNaN(V)?0:V,q=isNaN(q)?1:q,ne=isNaN(ne)?0:ne,ce=isNaN(ce)?0:ce,this.ctx.transform=new c(I,z,V,q,ne,ce)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(I,z,V,q,ne,ce,Be,Ae,ye){var Pe=this.pdf.getImageProperties(I),je=1,Se=1,Te=1,J=1;q!==void 0&&Ae!==void 0&&(Te=Ae/q,J=ye/ne,je=Pe.width/q*Ae/q,Se=Pe.height/ne*ye/ne),ce===void 0&&(ce=z,Be=V,z=0,V=0),q!==void 0&&Ae===void 0&&(Ae=q,ye=ne),q===void 0&&Ae===void 0&&(Ae=Pe.width,ye=Pe.height);var Le=this.ctx.transform.decompose(),He=Y(Le.rotate.shx),Je=new c,at=(Je=(Je=(Je=Je.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale)).applyToRectangle(new l(ce-z*Te,Be-V*J,q*je,ne*Se));if(this.autoPaging){for(var ze,mt=v.call(this,at),Et=[],Me=0;Me<mt.length;Me+=1)Et.indexOf(mt[Me])===-1&&Et.push(mt[Me]);C(Et);for(var vt=Et[0],De=Et[Et.length-1],it=vt;it<De+1;it++){this.pdf.setPage(it);var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=it===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=it===1?0:Ee+(it-2)*ot;if(this.ctx.clip_path.length!==0){var Zt=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(ze,this.posX+this.margin[3],-ct+Bt+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=Zt}var It=JSON.parse(JSON.stringify(at));It=N([It],this.posX+this.margin[3],-ct+Bt+this.ctx.prevPageLastElemOffset)[0];var Tt=(it>vt||it<De)&&g.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,ot,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",It.x,It.y,It.w,It.h,null,null,He),Tt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(I,"JPEG",at.x,at.y,at.w,at.h,null,null,He)};var v=function(I,z,V){var q=[];z=z||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":q.push(Math.floor((I.y+ne)/V)+1);break;case"arc":q.push(Math.floor((I.y+ne-I.radius)/V)+1),q.push(Math.floor((I.y+ne+I.radius)/V)+1);break;case"qct":var ce=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);q.push(Math.floor((ce.y+ne)/V)+1),q.push(Math.floor((ce.y+ce.h+ne)/V)+1);break;case"bct":var Be=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);q.push(Math.floor((Be.y+ne)/V)+1),q.push(Math.floor((Be.y+Be.h+ne)/V)+1);break;case"rect":q.push(Math.floor((I.y+ne)/V)+1),q.push(Math.floor((I.y+I.h+ne)/V)+1)}for(var Ae=0;Ae<q.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<q[Ae];)b.call(this);return q},b=function(){var I=this.fillStyle,z=this.strokeStyle,V=this.font,q=this.lineCap,ne=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=z,this.font=V,this.lineCap=q,this.lineWidth=ne,this.lineJoin=ce},N=function(I,z,V){for(var q=0;q<I.length;q++)switch(I[q].type){case"bct":I[q].x2+=z,I[q].y2+=V;case"qct":I[q].x1+=z,I[q].y1+=V;default:I[q].x+=z,I[q].y+=V}return I},C=function(I){return I.sort(function(z,V){return z-V})},E=function(I,z){var V=this.fillStyle,q=this.strokeStyle,ne=this.lineCap,ce=this.lineWidth,Be=Math.abs(ce*this.ctx.transform.scaleX),Ae=this.lineJoin;if(this.autoPaging){for(var ye,Pe,je=JSON.parse(JSON.stringify(this.path)),Se=JSON.parse(JSON.stringify(this.path)),Te=[],J=0;J<Se.length;J++)if(Se[J].x!==void 0)for(var Le=v.call(this,Se[J]),He=0;He<Le.length;He+=1)Te.indexOf(Le[He])===-1&&Te.push(Le[He]);for(var Je=0;Je<Te.length;Je++)for(;this.pdf.internal.getNumberOfPages()<Te[Je];)b.call(this);C(Te);for(var at=Te[0],ze=Te[Te.length-1],mt=at;mt<ze+1;mt++){this.pdf.setPage(mt),this.fillStyle=V,this.strokeStyle=q,this.lineCap=ne,this.lineWidth=Be,this.lineJoin=Ae;var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Me=mt===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=mt===1?0:vt+(mt-2)*De;if(this.ctx.clip_path.length!==0){var wt=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(ye,this.posX+this.margin[3],-it+Me+this.ctx.prevPageLastElemOffset),_.call(this,I,!0),this.path=wt}if(Pe=JSON.parse(JSON.stringify(je)),this.path=N(Pe,this.posX+this.margin[3],-it+Me+this.ctx.prevPageLastElemOffset),z===!1||mt===0){var Bt=(mt>at||mt<ze)&&g.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,De,null).clip().discardPath()),_.call(this,I,z),Bt&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}this.path=je}else this.lineWidth=Be,_.call(this,I,z),this.lineWidth=ce},_=function(I,z){if((I!=="stroke"||z||!y.call(this))&&(I==="stroke"||z||!m.call(this))){for(var V,q,ne=[],ce=this.path,Be=0;Be<ce.length;Be++){var Ae=ce[Be];switch(Ae.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:Ae,deltas:[],abs:[]});break;case"lt":var ye=ne.length;if(ce[Be-1]&&!isNaN(ce[Be-1].x)&&(V=[Ae.x-ce[Be-1].x,Ae.y-ce[Be-1].y],ye>0)){for(;ye>=0;ye--)if(ne[ye-1].close!==!0&&ne[ye-1].begin!==!0){ne[ye-1].deltas.push(V),ne[ye-1].abs.push(Ae);break}}break;case"bct":V=[Ae.x1-ce[Be-1].x,Ae.y1-ce[Be-1].y,Ae.x2-ce[Be-1].x,Ae.y2-ce[Be-1].y,Ae.x-ce[Be-1].x,Ae.y-ce[Be-1].y],ne[ne.length-1].deltas.push(V);break;case"qct":var Pe=ce[Be-1].x+2/3*(Ae.x1-ce[Be-1].x),je=ce[Be-1].y+2/3*(Ae.y1-ce[Be-1].y),Se=Ae.x+2/3*(Ae.x1-Ae.x),Te=Ae.y+2/3*(Ae.y1-Ae.y),J=Ae.x,Le=Ae.y;V=[Pe-ce[Be-1].x,je-ce[Be-1].y,Se-ce[Be-1].x,Te-ce[Be-1].y,J-ce[Be-1].x,Le-ce[Be-1].y],ne[ne.length-1].deltas.push(V);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(Ae)}}q=z?null:I==="stroke"?"stroke":"fill";for(var He=!1,Je=0;Je<ne.length;Je++)if(ne[Je].arc)for(var at=ne[Je].abs,ze=0;ze<at.length;ze++){var mt=at[ze];mt.type==="arc"?D.call(this,mt.x,mt.y,mt.radius,mt.startAngle,mt.endAngle,mt.counterclockwise,void 0,z,!He):R.call(this,mt.x,mt.y),He=!0}else if(ne[Je].close===!0)this.pdf.internal.out("h"),He=!1;else if(ne[Je].begin!==!0){var Et=ne[Je].start.x,Me=ne[Je].start.y;K.call(this,ne[Je].deltas,Et,Me),He=!0}q&&k.call(this,q),z&&H.call(this)}},P=function(I){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-V;case"top":return I+z-V;case"hanging":return I+z-2*V;case"middle":return I+z/2-V;default:return I}},O=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(z,V){this.colorStops.push([z,V])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(I,z,V,q,ne,ce,Be,Ae,ye){for(var Pe=X.call(this,V,q,ne,ce),je=0;je<Pe.length;je++){var Se=Pe[je];je===0&&(ye?L.call(this,Se.x1+I,Se.y1+z):R.call(this,Se.x1+I,Se.y1+z)),ee.call(this,I,z,Se.x2,Se.y2,Se.x3,Se.y3,Se.x4,Se.y4)}Ae?H.call(this):k.call(this,Be)},k=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(I,z){this.pdf.internal.out(t(I)+" "+n(z)+" m")},Q=function(I){var z;switch(I.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var V,q,ne,ce=this.pdf.getTextDimensions(I.text),Be=P.call(this,I.y),Ae=O.call(this,Be)-ce.h,ye=this.ctx.transform.applyToPoint(new i(I.x,Be));if(this.autoPaging){var Pe=this.ctx.transform.decompose(),je=new c;je=(je=(je=je.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale);for(var Se=this.ctx.transform.applyToRectangle(new l(I.x,Be,ce.w,ce.h)),Te=je.applyToRectangle(new l(I.x,Ae,ce.w,ce.h)),J=v.call(this,Te),Le=[],He=0;He<J.length;He+=1)Le.indexOf(J[He])===-1&&Le.push(J[He]);C(Le);for(var Je=Le[0],at=Le[Le.length-1],ze=Je;ze<at+1;ze++){this.pdf.setPage(ze);var mt=ze===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Me=this.pdf.internal.pageSize.height-this.margin[2],vt=Me-this.margin[0],De=this.pdf.internal.pageSize.width-this.margin[1],it=De-this.margin[3],wt=ze===1?0:Et+(ze-2)*vt;if(this.ctx.clip_path.length!==0){var Bt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(V,this.posX+this.margin[3],-1*wt+mt),_.call(this,"fill",!0),this.path=Bt}var Ee=N([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-wt+mt+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(q*I.scale),ne=this.lineWidth,this.lineWidth=ne*I.scale);var ot=this.autoPaging!=="text";if(ot||Ee.y+Ee.h<=Me){if(ot||Ee.y>=mt&&Ee.x<=De){var ct=ot?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||De-Ee.x)[0],Zt=N([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-wt+mt+this.ctx.prevPageLastElemOffset)[0],It=ot&&(ze>Je||ze<at)&&g.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,vt,null).clip().discardPath()),this.pdf.text(ct,Zt.x,Zt.y,{angle:I.angle,align:z,renderingMode:I.renderingMode}),It&&this.pdf.restoreGraphicsState()}}else Ee.y<Me&&(this.ctx.prevPageLastElemOffset+=Me-Ee.y);I.scale>=.01&&(this.pdf.setFontSize(q),this.lineWidth=ne)}}else I.scale>=.01&&(q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(q*I.scale),ne=this.lineWidth,this.lineWidth=ne*I.scale),this.pdf.text(I.text,ye.x+this.posX,ye.y+this.posY,{angle:I.angle,align:z,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(q),this.lineWidth=ne)},R=function(I,z,V,q){V=V||0,q=q||0,this.pdf.internal.out(t(I+V)+" "+n(z+q)+" l")},K=function(I,z,V){return this.pdf.lines(I,z,V,null,null)},ee=function(I,z,V,q,ne,ce,Be,Ae){this.pdf.internal.out([e(a(V+I)),e(s(q+z)),e(a(ne+I)),e(s(ce+z)),e(a(Be+I)),e(s(Ae+z)),"c"].join(" "))},X=function(I,z,V,q){for(var ne=2*Math.PI,ce=Math.PI/2;z>V;)z-=ne;var Be=Math.abs(V-z);Be<ne&&q&&(Be=ne-Be);for(var Ae=[],ye=q?-1:1,Pe=z;Be>1e-5;){var je=Pe+ye*Math.min(Be,ce);Ae.push(ae.call(this,I,Pe,je)),Be-=Math.abs(je-Pe),Pe=je}return Ae},ae=function(I,z,V){var q=(V-z)/2,ne=I*Math.cos(q),ce=I*Math.sin(q),Be=ne,Ae=-ce,ye=Be*Be+Ae*Ae,Pe=ye+Be*ne+Ae*ce,je=4/3*(Math.sqrt(2*ye*Pe)-Pe)/(Be*ce-Ae*ne),Se=Be-je*Ae,Te=Ae+je*Be,J=Se,Le=-Te,He=q+z,Je=Math.cos(He),at=Math.sin(He);return{x1:I*Math.cos(z),y1:I*Math.sin(z),x2:Se*Je-Te*at,y2:Se*at+Te*Je,x3:J*Je-Le*at,y3:J*at+Le*Je,x4:I*Math.cos(V),y4:I*Math.sin(V)}},Y=function(I){return 180*I/Math.PI},de=function(I,z,V,q,ne,ce){var Be=I+.5*(V-I),Ae=z+.5*(q-z),ye=ne+.5*(V-ne),Pe=ce+.5*(q-ce),je=Math.min(I,ne,Be,ye),Se=Math.max(I,ne,Be,ye),Te=Math.min(z,ce,Ae,Pe),J=Math.max(z,ce,Ae,Pe);return new l(je,Te,Se-je,J-Te)},pe=function(I,z,V,q,ne,ce,Be,Ae){var ye,Pe,je,Se,Te,J,Le,He,Je,at,ze,mt,Et,Me,vt=V-I,De=q-z,it=ne-V,wt=ce-q,Bt=Be-ne,Ee=Ae-ce;for(Pe=0;Pe<41;Pe++)Je=(Le=(je=I+(ye=Pe/40)*vt)+ye*((Te=V+ye*it)-je))+ye*(Te+ye*(ne+ye*Bt-Te)-Le),at=(He=(Se=z+ye*De)+ye*((J=q+ye*wt)-Se))+ye*(J+ye*(ce+ye*Ee-J)-He),Pe==0?(ze=Je,mt=at,Et=Je,Me=at):(ze=Math.min(ze,Je),mt=Math.min(mt,at),Et=Math.max(Et,Je),Me=Math.max(Me,at));return new l(Math.round(ze),Math.round(mt),Math.round(Et-ze),Math.round(Me-mt))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,z,V=(I=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:z}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(mr.API),(function(r){var e=function(i){var l,c,u,A,h,p,m,y,g,v;for(c=[],u=0,A=(i+=l="\0\0\0\0".slice(i.length%4||4)).length;A>u;u+=4)(h=(i.charCodeAt(u)<<24)+(i.charCodeAt(u+1)<<16)+(i.charCodeAt(u+2)<<8)+i.charCodeAt(u+3))!==0?(p=(h=((h=((h=((h=(h-(v=h%85))/85)-(g=h%85))/85)-(y=h%85))/85)-(m=h%85))/85)%85,c.push(p+33,m+33,y+33,g+33,v+33)):c.push(122);return(function(b,N){for(var C=N;C>0;C--)b.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},t=function(i){var l,c,u,A,h,p=String,m="length",y=255,g="charCodeAt",v="slice",b="replace";for(i[v](-2),i=i[v](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],A=0,h=(i+=l="uuuuu"[v](i[m]%5||5))[m];h>A;A+=5)c=52200625*(i[g](A)-33)+614125*(i[g](A+1)-33)+7225*(i[g](A+2)-33)+85*(i[g](A+3)-33)+(i[g](A+4)-33),u.push(y&c>>24,y&c>>16,y&c>>8,y&c);return(function(N,C){for(var E=C;E>0;E--)N.pop()})(u,l[m]),p.fromCharCode.apply(p,u)},n=function(i){return i.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(i){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),l.test(i)===!1)return"";for(var c="",u=0;u<i.length;u+=2)c+=String.fromCharCode("0x"+(i[u]+i[u+1]));return c},s=function(i){for(var l=new Uint8Array(i.length),c=i.length;c--;)l[c]=i.charCodeAt(c);return(l=Z4(l)).reduce(function(u,A){return u+String.fromCharCode(A)},"")};r.processDataByFilters=function(i,l){var c=0,u=i||"",A=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:A.reverse().join(" ")}}})(mr.API),(function(r){r.loadFile=function(e,t,n){return(function(a,s,i){s=s!==!1,i=typeof i=="function"?i:function(){};var l=void 0;try{l=(function(c,u,A){var h=new XMLHttpRequest,p=0,m=function(y){var g=y.length,v=[],b=String.fromCharCode;for(p=0;p<g;p+=1)v.push(b(255&y.charCodeAt(p)));return v.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?A(m(this.responseText)):A(void 0)}),h.send(null),u&&h.status===200)return m(h.responseText)})(a,s,i)}catch{}return l})(e,t,n)},r.allowFsRead=void 0,r.loadImageFile=r.loadFile})(mr.API),(function(r){function e(){return(kr.html2canvas?Promise.resolve(kr.html2canvas):yw(()=>Promise.resolve().then(()=>V6e),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(kr.DOMPurify?Promise.resolve(kr.DOMPurify):yw(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Hn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var A in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[A]=c.style[A];return u},s=function l(c,u){for(var A=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||A.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(A.width=c.width,A.height=c.height,A.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(A.value=c.value),A.addEventListener("load",function(){A.scrollTop=c.scrollTop,A.scrollLeft=c.scrollLeft},!0)),A},i=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),A=l.convert(Promise.resolve(),u);return(A=A.setProgress(1,l,1,[l])).set(c)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(l,c){return l.__proto__=c||i.prototype,l},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(t).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},i.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,A=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=A,A)for(var m=0;m<A.length;++m){var y=A[m],g=y.src.find(function(v){return v.format==="truetype"});g&&u.addFont(g.url,y.ref.name,y.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},i.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},i.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},i.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in i.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},i.prototype.get=function(l,c){return this.then(function(){var u=l in i.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},i.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},i.prototype.setPageSize=function(l){function c(u,A){return Math.floor(u*A/72*96)}return this.then(function(){(l=l||mr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},i.prototype.setProgress=function(l,c,u,A){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(l,c,u,A){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,A?this.progress.stack.concat(A):null)},i.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(A,h){return u.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,A),p}).then(A,h).then(function(p){return u.updateProgress(1),p})})},i.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var A=this;l&&(l=l.bind(A)),c&&(c=c.bind(A));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?A:i.convert(Object.assign({},A),Promise.prototype),p=u.call(h,l,c);return i.convert(p,A.__proto__)},i.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},i.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},i.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return i.convert(c,this)},i.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},i.prototype.error=function(l){return this.then(function(){throw new Error(l)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,mr.getPageSize=function(l,c,u){if(Hn(l)==="object"){var A=l;l=A.orientation,c=A.unit||c,u=A.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var h,p=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var y,g=0,v=0;if(m.hasOwnProperty(p))g=m[p][1]/h,v=m[p][0]/h;else try{g=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>g&&(y=v,v=g,g=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>v&&(y=v,v=g,g=y)}return{width:v,height:g,unit:c,k:h,orientation:l}},r.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(HE):null;var u=new i(c);return c.worker?u:u.from(l).doCallback()}})(mr.API),mr.API.addJS=function(r){return p8=r,this.internal.events.subscribe("postPutResources",function(){cw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(cw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),m8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+p8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){cw!==void 0&&m8!==void 0&&this.internal.out("/Names <</JavaScript "+cw+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),s=0;s<a.length;s++){var i=a[s],l=n.exec(i);if(l!=null){var c=l[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(i)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,A=[];for(s=0;s<u;s++){var h=t.internal.newObject();A.push(h);var p=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<A.length;s++)t.internal.write("(page_"+(s+1)+")"+A[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,a,s){var i={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(i),i},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var i=n.children[s];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var l=this.count=this.count_r({count:0},i);if(l>0&&this.line("/Count "+l),i.options&&i.options.pageNumber){var c=t.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])})(mr.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,a,s,i,l){var c,u=this.decode.DCT_DECODE,A=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=i||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(h){for(var p,m=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,g={width:0,height:0,numcomponents:1},v=4;v<y;v+=2){if(v+=m,e.indexOf(h.charCodeAt(v+1))!==-1){p=256*h.charCodeAt(v+5)+h.charCodeAt(v+6),g={width:256*h.charCodeAt(v+7)+h.charCodeAt(v+8),height:p,numcomponents:h.charCodeAt(v+9)};break}m=256*h.charCodeAt(v+2)+h.charCodeAt(v+3)}return g})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}A={data:t,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return A}})(mr.API),mr.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var a,s=JPe(r,{checkCrc:!0}),i=s.width,l=s.height,c=s.channels,u=s.palette,A=s.depth;a=u&&c===1?(function(D){for(var k=D.width,H=D.height,L=D.data,Q=D.palette,R=D.depth,K=!1,ee=[],X=[],ae=void 0,Y=!1,de=0,pe=0;pe<Q.length;pe++){var Z=vU(Q[pe],4),I=Z[0],z=Z[1],V=Z[2],q=Z[3];ee.push(I,z,V),q!=null&&(q===0?(de++,X.length<1&&X.push(pe)):q<255&&(Y=!0))}if(Y||de>1){K=!0,X=void 0;var ne=k*H;ae=new Uint8Array(ne);for(var ce=new DataView(L.buffer),Be=0;Be<ne;Be++){var Ae=KE(ce,Be,R),ye=vU(Q[Ae],4)[3];ae[Be]=ye}}else de===0&&(X=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:K?8:void 0,colorBytes:L,alphaBytes:ae,needSMask:K,palette:ee,mask:X}})(s):c===2||c===4?(function(D){for(var k=D.data,H=D.width,L=D.height,Q=D.channels,R=D.depth,K=Q===2?"DeviceGray":"DeviceRGB",ee=Q-1,X=H*L,ae=ee,Y=X*ae,de=1*X,pe=Math.ceil(Y*R/8),Z=Math.ceil(de*R/8),I=new Uint8Array(pe),z=new Uint8Array(Z),V=new DataView(k.buffer),q=new DataView(I.buffer),ne=new DataView(z.buffer),ce=!1,Be=0;Be<X;Be++){for(var Ae=Be*Q,ye=0;ye<ae;ye++)S8(q,KE(V,Ae+ye,R),Be*ae+ye,R);var Pe=KE(V,Ae+ae,R);Pe<(1<<R)-1&&(ce=!0),S8(ne,Pe,1*Be,R)}return{colorSpace:K,colorsPerPixel:ee,sMaskBitsPerComponent:ce?R:void 0,colorBytes:I,alphaBytes:z,needSMask:ce}})(s):(function(D){var k=D.data,H=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?(function(L){for(var Q=L.length,R=new Uint8Array(2*Q),K=new DataView(R.buffer,R.byteOffset,R.byteLength),ee=0;ee<Q;ee++)K.setUint16(2*ee,L[ee],!1);return R})(k):k,needSMask:!1}})(s);var h,p,m,y=a,g=y.colorSpace,v=y.colorsPerPixel,b=y.sMaskBitsPerComponent,N=y.colorBytes,C=y.alphaBytes,E=y.needSMask,_=y.palette,P=y.mask,O=null;return n!==mr.API.image_compression.NONE&&typeof Z4=="function"?(O=(function(D){var k;switch(D){case mr.API.image_compression.FAST:k=11;break;case mr.API.image_compression.MEDIUM:k=13;break;case mr.API.image_compression.SLOW:k=14;break;default:k=12}return k})(n),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(O," /Colors ").concat(v," /BitsPerComponent ").concat(A," /Columns ").concat(i),r=v8(N,Math.ceil(i*v*A/8),v,A,n),E&&(m=v8(C,Math.ceil(i*b/8),1,b,n))):(h=void 0,p=void 0,r=N,E&&(m=C)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:t,data:r,index:e,filter:h,decodeParameters:p,transparency:P,palette:_,sMask:m,predictor:O,width:i,height:l,bitsPerComponent:A,sMaskBitsPerComponent:b,colorSpace:g}}},(function(r){r.processGIF89A=function(e,t,n,a){var s=new yIe(e),i=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:i,height:l},A=new $E(100).encode(u,100);return r.processJPEG.call(this,A,t,n,a)},r.processGIF87A=r.processGIF89A})(mr.API),pu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},pu.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){ia.log("bit decode error:"+t)}},pu.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[i+4*l]=c.blue,this.data[i+4*l+1]=c.green,this.data[i+4*l+2]=c.red,this.data[i+4*l+3]=255}t!==0&&(this.pos+=4-t)}},pu.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<r;a++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[i]=u.blue,this.data[i+1]=u.green,this.data[i+2]=u.red,this.data[i+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[i+4]=u.blue,this.data[i+4+1]=u.green,this.data[i+4+2]=u.red,this.data[i+4+3]=255}e!==0&&(this.pos+=4-e)}},pu.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},pu.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,u=s>>15?255:0,A=n*this.width*4+4*a;this.data[A]=c,this.data[A+1]=l,this.data[A+2]=i,this.data[A+3]=u}this.pos+=r}},pu.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&e)/e*255|0,c=(i>>5&t)/t*255|0,u=(i>>11)/e*255|0,A=a*this.width*4+4*s;this.data[A]=u,this.data[A+1]=c,this.data[A+2]=l,this.data[A+3]=255}this.pos+=r}},pu.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+4*t;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},pu.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=i}},pu.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,a){var s=new pu(e,!1),i=s.width,l=s.height,c={data:s.getData(),width:i,height:l},u=new $E(100).encode(c,100);return r.processJPEG.call(this,u,t,n,a)}})(mr.API),E8.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,a){var s=new E8(e),i=s.width,l=s.height,c={data:s.getData(),width:i,height:l},u=new $E(100).encode(c,100);return r.processJPEG.call(this,u,t,n,a)}})(mr.API),mr.API.processRGBA=function(r,e,t){for(var n=r.data,a=n.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var A=n[u],h=n[u+1],p=n[u+2],m=n[u+3];s[l++]=A,s[l++]=h,s[l++]=p,i[c++]=m}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:y,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},mr.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},dp=mr.API,uw=dp.getCharWidthsArray=function(r,e){var t,n,a=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),i=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,A=u.fof?u.fof:1,h=e.doKerning!==!1,p=0,m=r.length,y=0,g=l[0]||c,v=[];for(t=0;t<m;t++)n=r.charCodeAt(t),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/s)||0)/1e3):(p=h&&Hn(u[n])==="object"&&!isNaN(parseInt(u[n][y],10))?u[n][y]/A:0,v.push((l[n]||g)/c+p)),y=n;return v},g8=dp.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return dp.processArabic&&(r=dp.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,a)/t:uw.apply(this,arguments).reduce(function(s,i){return s+i},0)},x8=function(r,e,t,n){for(var a=[],s=0,i=r.length,l=0;s!==i&&l+e[s]<t;)l+=e[s],s++;a.push(r.slice(0,s));var c=s;for(l=0;s!==i;)l+e[s]>n&&(a.push(r.slice(c,s)),l=0,c=s),l+=e[s],s++;return c!==s&&a.push(r.slice(c,s)),a},y8=function(r,e,t){t||(t={});var n,a,s,i,l,c,u,A=[],h=[A],p=t.textIndent||0,m=0,y=0,g=r.split(" "),v=uw.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var b=Array(c).join(" "),N=[];g.map(function(E){(E=E.split(/\s*\n/)).length>1?N=N.concat(E.map(function(_,P){return(P&&_.length?`
`:"")+_})):N.push(E[0])}),g=N,c=g8.apply(this,[b,t])}for(s=0,i=g.length;s<i;s++){var C=0;if(n=g[s],c&&n[0]==`
`&&(n=n.substr(1),C=1),p+m+(y=(a=uw.apply(this,[n,t])).reduce(function(E,_){return E+_},0))>e||C){if(y>e){for(l=x8.apply(this,[n,a,e-(p+m),e]),A.push(l.shift()),A=[l.pop()];l.length;)h.push([l.shift()]);y=a.slice(n.length-(A[0]?A[0].length:0)).reduce(function(E,_){return E+_},0)}else A=[n];h.push(A),p=y+c,m=v}else A.push(n),p+=m+y,m=v}return u=c?function(E,_){return(_?b:"")+E.join(" ")}:function(E){return E.join(" ")},h.map(u)},dp.splitTextToSize=function(r,e,t){var n,a=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var h=this.internal.getFont(A.fontName,A.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var i=1*this.internal.scaleFactor*e/a;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=t.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(y8.apply(this,[n[l],i,s]));return u},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},a={},s=0;s<16;s++)n[t[s]]=e[s],a[e[s]]=t[s];var i=function(p){return"0x"+parseInt(p,10).toString(16)},l=r.__fontmetrics__.compress=function(p){var m,y,g,v,b=["{"];for(var N in p){if(m=p[N],isNaN(parseInt(N,10))?y="'"+N+"'":(N=parseInt(N,10),y=(y=i(N).slice(2)).slice(0,-1)+a[y.slice(-1)]),typeof m=="number")m<0?(g=i(m).slice(3),v="-"):(g=i(m).slice(2),v=""),g=v+g.slice(0,-1)+a[g.slice(-1)];else{if(Hn(m)!=="object")throw new Error("Don't know what to do with value type "+Hn(m)+".");g=l(m)}b.push(y+g)}return b.push("}"),b.join("")},c=r.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,y,g,v,b={},N=1,C=b,E=[],_="",P="",O=p.length-1,D=1;D<O;D+=1)(v=p[D])=="'"?m?(g=m.join(""),m=void 0):m=[]:m?m.push(v):v=="{"?(E.push([C,g]),C={},g=void 0):v=="}"?((y=E.pop())[0][y[1]]=C,g=void 0,C=y[0]):v=="-"?N=-1:g===void 0?n.hasOwnProperty(v)?(_+=n[v],g=parseInt(_,16)*N,N=1,_=""):_+=v:n.hasOwnProperty(v)?(P+=n[v],C[g]=parseInt(P,16)*N,N=1,g=void 0,P=""):P+=v;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(p){var m=p.font,y=h.Unicode[m.postScriptName];y&&(m.metadata.Unicode={},m.metadata.Unicode.widths=y.widths,m.metadata.Unicode.kerning=y.kerning);var g=A.Unicode[m.postScriptName];g&&(m.metadata.Unicode.encoding=g,m.encoding=g.codePages[0])}])})(mr.API),(function(r){var e=function(t){for(var n=t.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=t.charCodeAt(s);return a};r.API.events.push(["addFont",function(t){var n=void 0,a=t.font,s=t.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(jw(l)),i.metadata=r.API.TTFFont.open(l),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])})(mr),mr.API.addSvgAsImage=function(r,e,t,n,a,s,i,l){if(isNaN(e)||isNaN(t))throw ia.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw ia.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(kr.canvg?Promise.resolve(kr.canvg):yw(()=>import("./index.es-D8y_7-Hq.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,r,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(A)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),e,t,n,a,i,l)})},mr.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,t);return this},mr.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,a,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(i),c=[],u=0,A=0,h=0;function p(y,g){var v,b=!1;for(v=0;v<y.length;v+=1)y[v]===g&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var m=l.length;for(h=0;h<m;h+=1)t[l[h]].value=t[l[h]].defaultValue,t[l[h]].explicitSet=!1}if(Hn(r)==="object"){for(a in r)if(s=r[a],p(l,a)&&s!==void 0){if(t[a].type==="boolean"&&typeof s=="boolean")t[a].value=s;else if(t[a].type==="name"&&p(t[a].valueSet,s))t[a].value=s;else if(t[a].type==="integer"&&Number.isInteger(s))t[a].value=s;else if(t[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(A=0;A<s[u].length;A+=1)typeof s[u][A]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}t[a].value="["+c.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,g=[];for(y in t)t[y].explicitSet===!0&&(t[y].type==="name"?g.push("/"+y+" /"+t[y].value):g.push("/"+y+" "+t[y].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+i.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+i+l+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(mr.API),(function(r){var e=r.API,t=e.pdfEscape16=function(s,i){for(var l,c=i.metadata.Unicode.widths,u=["","0","00","000","0000"],A=[""],h=0,p=s.length;h<p;++h){if(l=i.metadata.characterToGlyph(s.charCodeAt(h)),i.metadata.glyIdsUsed.push(l),i.metadata.toUnicode[l]=s.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(i.metadata.widthOfGlyph(l),10)])),l=="0")return A.join("");l=l.toString(16),A.push(u[4-l.length],l)}return A.join("")},n=function(s){var i,l,c,u,A,h,p;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,p=(l=Object.keys(s).sort(function(m,y){return m-y})).length;h<p;h++)i=l[h],c.length>=100&&(A+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[i]!==void 0&&s[i]!==null&&typeof s[i].toString=="function"&&(u=("0000"+s[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),c.push("<"+i+"><"+u+">"));return c.length&&(A+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),A+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(i){var l=i.font,c=i.out,u=i.newObject,A=i.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",y=0;y<p.length;y++)m+=String.fromCharCode(p[y]);var g=u();A({data:m,addLength1:!0,objectId:g}),c("endobj");var v=u();A({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+xp(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var N=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+xp(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+r.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+xp(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+N+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(i){var l=i.font,c=i.out,u=i.newObject,A=i.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,p="",m=0;m<h.length;m++)p+=String.fromCharCode(h[m]);var y=u();A({data:p,addLength1:!0,objectId:y}),c("endobj");var g=u();A({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+xp(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+xp(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var i,l=s.text||"",c=s.x,u=s.y,A=s.options||{},h=s.mutex||{},p=h.pdfEscape,m=h.activeFontKey,y=h.fonts,g=m,v="",b=0,N="",C=y[g].encoding;if(y[g].encoding!=="Identity-H")return{text:l,x:c,y:u,options:A,mutex:h};for(N=l,g=m,Array.isArray(l)&&(N=l[0]),b=0;b<N.length;b+=1)y[g].metadata.hasOwnProperty("cmap")&&(i=y[g].metadata.cmap.unicode.codeMap[N[b].charCodeAt(0)]),i||N[b].charCodeAt(0)<256&&y[g].metadata.hasOwnProperty("Unicode")?v+=N[b]:v+="";var E="";return parseInt(g.slice(1))<14||C==="WinAnsiEncoding"?E=p(v,g).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(E=t(v,y[g])),h.isHex=!0,{text:E,x:c,y:u,options:A,mutex:h}};e.events.push(["postProcessText",function(s){var i=s.text||"",l=[],c={text:i,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(i)){var u=0;for(u=0;u<i.length;u+=1)Array.isArray(i[u])&&i[u].length===3?l.push([a(Object.assign({},c,{text:i[u][0]})).text,i[u][1],i[u][2]]):l.push(a(Object.assign({},c,{text:i[u]})).text);s.text=l}else s.text=a(Object.assign({},c,{text:i})).text}])})(mr),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(mr.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var a,s,i,l,c,u,A,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,C=0;this.__bidiEngine__={};var E=function(L){var Q=L.charCodeAt(),R=Q>>8,K=g[R];return K!==void 0?h[256*K+(255&Q)]:R===252||R===253?"AL":b.test(R)?"L":R===8?"R":"N"},_=function(L){for(var Q,R=0;R<L.length;R++){if((Q=E(L.charAt(R)))==="L")return!1;if(Q==="R")return!0}return!1},P=function(L,Q,R,K){var ee,X,ae,Y,de=Q[K];switch(de){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(de="AN");break;case"AL":N=!0,de="R";break;case"WS":case"BN":de="N";break;case"CS":K<1||K+1>=Q.length||(ee=R[K-1])!=="EN"&&ee!=="AN"||(X=Q[K+1])!=="EN"&&X!=="AN"?de="N":N&&(X="AN"),de=X===ee?X:"N";break;case"ES":de=(ee=K>0?R[K-1]:"B")==="EN"&&K+1<Q.length&&Q[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&R[K-1]==="EN"){de="EN";break}if(N){de="N";break}for(ae=K+1,Y=Q.length;ae<Y&&Q[ae]==="ET";)ae++;de=ae<Y&&Q[ae]==="EN"?"EN":"N";break;case"NSM":if(i&&!l){for(Y=Q.length,ae=K+1;ae<Y&&Q[ae]==="NSM";)ae++;if(ae<Y){var pe=L[K],Z=pe>=1425&&pe<=2303||pe===64286;if(ee=Q[ae],Z&&(ee==="R"||ee==="AL")){de="R";break}}}de=K<1||(ee=Q[K-1])==="B"?"N":R[K-1];break;case"B":N=!1,a=!0,de=C;break;case"S":s=!0,de="N"}return de},O=function(L,Q,R){var K=L.split("");return R&&D(K,R,{hiLevel:C}),K.reverse(),Q&&Q.reverse(),K.join("")},D=function(L,Q,R){var K,ee,X,ae,Y,de=-1,pe=L.length,Z=0,I=[],z=C?m:p,V=[];for(N=!1,a=!1,s=!1,ee=0;ee<pe;ee++)V[ee]=E(L[ee]);for(X=0;X<pe;X++){if(Y=Z,I[X]=P(L,V,I,X),K=240&(Z=z[Y][y[I[X]]]),Z&=15,Q[X]=ae=z[Z][5],K>0)if(K===16){for(ee=de;ee<X;ee++)Q[ee]=1;de=-1}else de=-1;if(z[Z][6])de===-1&&(de=X);else if(de>-1){for(ee=de;ee<X;ee++)Q[ee]=ae;de=-1}V[X]==="B"&&(Q[X]=0),R.hiLevel|=ae}s&&(function(q,ne,ce){for(var Be=0;Be<ce;Be++)if(q[Be]==="S"){ne[Be]=C;for(var Ae=Be-1;Ae>=0&&q[Ae]==="WS";Ae--)ne[Ae]=C}})(V,Q,pe)},k=function(L,Q,R,K,ee){if(!(ee.hiLevel<L)){if(L===1&&C===1&&!a)return Q.reverse(),void(R&&R.reverse());for(var X,ae,Y,de,pe=Q.length,Z=0;Z<pe;){if(K[Z]>=L){for(Y=Z+1;Y<pe&&K[Y]>=L;)Y++;for(de=Z,ae=Y-1;de<ae;de++,ae--)X=Q[de],Q[de]=Q[ae],Q[ae]=X,R&&(X=R[de],R[de]=R[ae],R[ae]=X);Z=Y}Z++}}},H=function(L,Q,R){var K=L.split(""),ee={hiLevel:C};return R||(R=[]),D(K,R,ee),(function(X,ae,Y){if(Y.hiLevel!==0&&A)for(var de,pe=0;pe<X.length;pe++)ae[pe]===1&&(de=v.indexOf(X[pe]))>=0&&(X[pe]=v[de+1])})(K,R,ee),k(2,K,Q,R,ee),k(1,K,Q,R,ee),K.join("")};return this.__bidiEngine__.doBidiReorder=function(L,Q,R){if((function(ee,X){if(X)for(var ae=0;ae<ee.length;ae++)X[ae]=ae;l===void 0&&(l=_(ee)),u===void 0&&(u=_(ee))})(L,Q),i||!c||u)if(i&&c&&l^u)C=l?1:0,L=O(L,Q,R);else if(!i&&c&&u)C=l?1:0,L=H(L,Q,R),L=O(L,Q);else if(!i||l||c||u){if(i&&!c&&l^u)L=O(L,Q),l?(C=0,L=H(L,Q,R)):(C=1,L=H(L,Q,R),L=O(L,Q));else if(i&&l&&!c&&u)C=1,L=H(L,Q,R),L=O(L,Q);else if(!i&&!c&&l^u){var K=A;l?(C=1,L=H(L,Q,R),C=0,A=!1,L=H(L,Q,R),A=K):(C=0,L=H(L,Q,R),L=O(L,Q),C=1,A=!1,L=H(L,Q,R),A=K,L=O(L,Q))}}else C=0,L=H(L,Q,R);else C=l?1:0,L=H(L,Q,R);return L},this.__bidiEngine__.setOptions=function(L){L&&(i=L.isInputVisual,c=L.isOutputVisual,l=L.isInputRtl,u=L.isOutputRtl,A=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var i=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(i=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?i.push([t.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):i.push([t.doBidiReorder(a[l])]);n.text=i}else n.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(mr),mr.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new df(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new DIe(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new vIe(this.contents),this.head=new wIe(this),this.name=new EIe(this),this.cmap=new uW(this),this.toUnicode={},this.hhea=new CIe(this),this.maxp=new jIe(this),this.hmtx=new _Ie(this),this.post=new SIe(this),this.os2=new NIe(this),this.loca=new OIe(this),this.glyf=new TIe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,l,c,u;for(u=[],i=0,l=(c=this.bbox).length;i<l;i++)e=c[i],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var a,s,i,l;for(i=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=e.charCodeAt(s),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/t)||0;return i*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var Iu,df=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,a;for(a=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,a,s,i,l,c;return e=this.readByte(),t=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^i)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*a+16777216*s+65536*i+256*l+c},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,a,s;for(s=[],n=0,a=e.length;n<a;n++)t=e[n],s.push(this.writeByte(t));return s},r})(),vIe=(function(){var r;function e(t){var n,a,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,a,s,i,l,c,u,A,h,p,m,y,g;for(g in m=Object.keys(t).length,c=Math.log(2),h=16*Math.floor(Math.log(m)/c),i=Math.floor(h/c),A=16*m-h,(a=new df).writeInt(this.scalarType),a.writeShort(m),a.writeShort(h),a.writeShort(i),a.writeShort(A),s=16*m,u=a.pos+s,l=null,y=[],t)for(p=t[g],a.writeString(g),a.writeInt(r(p)),a.writeInt(u),a.writeInt(p.length),y=y.concat(p),g==="head"&&(l=u),u+=p.length;u%4;)y.push(0),u++;return a.write(y),n=2981146554-r(a.data),a.pos=l+8,a.writeUInt32(n),a.data},r=function(t){var n,a,s,i;for(t=dW.call(t);t.length%4;)t.push(0);for(s=new df(t),a=0,n=0,i=t.length;n<i;n=n+=4)a+=s.readUInt32();return 4294967295&a},e})(),bIe={}.hasOwnProperty,jd=function(r,e){for(var t in e)bIe.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};Iu=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var wIe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Iu),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new df).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),j8=(function(){function r(e,t){var n,a,s,i,l,c,u,A,h,p,m,y,g,v,b,N,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),p=m/2,e.pos+=6,s=(function(){var E,_;for(_=[],c=E=0;0<=p?E<p:E>p;c=0<=p?++E:--E)_.push(e.readUInt16());return _})(),e.pos+=2,g=(function(){var E,_;for(_=[],c=E=0;0<=p?E<p:E>p;c=0<=p?++E:--E)_.push(e.readUInt16());return _})(),u=(function(){var E,_;for(_=[],c=E=0;0<=p?E<p:E>p;c=0<=p?++E:--E)_.push(e.readUInt16());return _})(),A=(function(){var E,_;for(_=[],c=E=0;0<=p?E<p:E>p;c=0<=p?++E:--E)_.push(e.readUInt16());return _})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var E,_;for(_=[],c=E=0;0<=a?E<a:E>a;c=0<=a?++E:--E)_.push(e.readUInt16());return _})(),c=b=0,C=s.length;b<C;c=++b)for(v=s[c],n=N=y=g[c];y<=v?N<=v:N>=v;n=y<=v?++N:--N)A[c]===0?i=n+u[c]:(i=l[A[c]/2+(n-y)-(p-c)]||0)!==0&&(i+=u[c]),this.codeMap[n]=65535&i}e.pos=h}return r.encode=function(e,t){var n,a,s,i,l,c,u,A,h,p,m,y,g,v,b,N,C,E,_,P,O,D,k,H,L,Q,R,K,ee,X,ae,Y,de,pe,Z,I,z,V,q,ne,ce,Be,Ae,ye,Pe,je;switch(K=new df,i=Object.keys(e).sort(function(Se,Te){return Se-Te}),t){case"macroman":for(g=0,v=(function(){var Se=[];for(y=0;y<256;++y)Se.push(0);return Se})(),N={0:0},s={},ee=0,de=i.length;ee<de;ee++)N[Ae=e[a=i[ee]]]==null&&(N[Ae]=++g),s[a]={old:e[a],new:N[e[a]]},v[a]=N[e[a]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(v),{charMap:s,subtable:K.data,maxGlyphID:g+1};case"unicode":for(Q=[],h=[],C=0,N={},n={},b=u=null,X=0,pe=i.length;X<pe;X++)N[_=e[a=i[X]]]==null&&(N[_]=++C),n[a]={old:_,new:N[_]},l=N[_]-a,b!=null&&l===u||(b&&h.push(b),Q.push(a),u=l),b=a;for(b&&h.push(b),h.push(65535),Q.push(65535),H=2*(k=Q.length),D=2*Math.pow(Math.log(k)/Math.LN2,2),p=Math.log(D/2)/Math.LN2,O=2*k-D,c=[],P=[],m=[],y=ae=0,Z=Q.length;ae<Z;y=++ae){if(L=Q[y],A=h[y],L===65535){c.push(0),P.push(0);break}if(L-(R=n[L].new)>=32768)for(c.push(0),P.push(2*(m.length+k-y)),a=Y=L;L<=A?Y<=A:Y>=A;a=L<=A?++Y:--Y)m.push(n[a].new);else c.push(R-L),P.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*k+2*m.length),K.writeUInt16(0),K.writeUInt16(H),K.writeUInt16(D),K.writeUInt16(p),K.writeUInt16(O),ce=0,I=h.length;ce<I;ce++)a=h[ce],K.writeUInt16(a);for(K.writeUInt16(0),Be=0,z=Q.length;Be<z;Be++)a=Q[Be],K.writeUInt16(a);for(ye=0,V=c.length;ye<V;ye++)l=c[ye],K.writeUInt16(l);for(Pe=0,q=P.length;Pe<q;Pe++)E=P[Pe],K.writeUInt16(E);for(je=0,ne=m.length;je<ne;je++)g=m[je],K.writeUInt16(g);return{charMap:n,subtable:K.data,maxGlyphID:C+1}}},r})(),uW=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Iu),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)t=new j8(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,a;return t==null&&(t="macroman"),n=j8.encode(e,t),(a=new df).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},r})(),CIe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Iu),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),NIe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Iu),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),SIe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Iu),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var i,l,c;for(c=[],s=i=0,l=this.file.maxp.numGlyphs;0<=l?i<l:i>l;s=0<=l?++i:--i)c.push(e.readUInt32());return c}).call(this)}},r})(),BIe=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},EIe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Iu),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,a,s,i,l,c,u,A,h,p;for(e.pos=this.offset,e.readShort(),t=e.readShort(),l=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},s=A=0,h=n.length;A<h;s=++A)a=n[s],e.pos=a.offset,u=e.readString(a.length),i=new BIe(u,a),c[p=a.nameID]==null&&(c[p]=[]),c[a.nameID].push(i);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},r})(),jIe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Iu),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),_Ie=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Iu),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,a,s,i,l,c;for(e.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,A;for(A=[],t=u=0;0<=a?u<a:u>a;t=0<=a?++u:--u)A.push(e.readInt16());return A})(),this.widths=(function(){var u,A,h,p;for(p=[],u=0,A=(h=this.metrics).length;u<A;u++)s=h[u],p.push(s.advance);return p}).call(this),n=this.widths[this.widths.length-1],c=[],t=i=0;0<=a?i<a:i>a;t=0<=a?++i:--i)c.push(this.widths.push(n));return c},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),dW=[].slice,TIe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Iu),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,a,s,i,l,c,u,A,h;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),(a=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,i=(l=new df(t.read(a))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),A=l.readShort(),this.cache[e]=i===-1?new FIe(l,u,h,c,A):new kIe(l,i,u,h,c,A),this.cache[e]))},r.prototype.encode=function(e,t,n){var a,s,i,l,c;for(i=[],s=[],l=0,c=t.length;l<c;l++)a=e[t[l]],s.push(i.length),a&&(i=i.concat(a.encode(n)));return s.push(i.length),{table:i,offsets:s}},r})(),kIe=(function(){function r(e,t,n,a,s,i){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),FIe=(function(){function r(e,t,n,a,s){var i,l;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;l=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&l;)i.pos+=1&l?4:2,128&l?i.pos+=8:64&l?i.pos+=4:8&l&&(i.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new df(dW.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),OIe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jd(r,Iu),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=4)s.push(e.readUInt32());return s}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),a=0,s=0,i=0;i<n.length;++i)if(n[i]=a,s<t.length&&t[s]==i){++s,n[i]=a;var l=this.offsets[i],c=this.offsets[i+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),A=0;A<n.length;++A)u[4*A+3]=255&n[A],u[4*A+2]=(65280&n[A])>>8,u[4*A+1]=(16711680&n[A])>>16,u[4*A]=(4278190080&n[A])>>24;return u},r})(),DIe=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,a,s;for(t in a=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=a[n];return e},r.prototype.glyphsFor=function(e){var t,n,a,s,i,l,c;for(a={},i=0,l=e.length;i<l;i++)a[s=e[i]]=this.font.glyf.glyphFor(s);for(s in t=[],a)(n=a[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))n=c[s],a[s]=n;return a},r.prototype.encode=function(e,t){var n,a,s,i,l,c,u,A,h,p,m,y,g,v,b;for(a in n=uW.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),m={0:0},b=n.charMap)m[(c=b[a]).old]=c.new;for(y in p=n.maxGlyphID,i)y in m||(m[y]=p++);return A=(function(N){var C,E;for(C in E={},N)E[N[C]]=C;return E})(m),h=Object.keys(A).sort(function(N,C){return N-C}),g=(function(){var N,C,E;for(E=[],N=0,C=h.length;N<C;N++)l=h[N],E.push(A[l]);return E})(),s=this.font.glyf.encode(i,g,m),u=this.font.loca.encode(s.offsets,g),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},r})();mr.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,a,s,i;if(Array.isArray(t))return"["+(function(){var l,c,u;for(u=[],l=0,c=t.length;l<c;l++)n=t[l],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in s=["<<"],t)i=t[a],s.push("/"+a+" "+e.convert(i));return s.push(">>"),s.join(`
`)}return""+t},e})();const PIe=async(r,e="chart")=>{const t=document.getElementById(r);if(!t){console.error(`Element with id "${r}" not found`);return}try{const n=await Ck(t,{backgroundColor:"#ffffff",scale:2,logging:!1}),a=document.createElement("a");a.href=n.toDataURL("image/png"),a.download=`${e}-${Kn(new Date,"yyyy-MM-dd")}.png`,a.click()}catch(n){console.error("Error exporting chart as PNG:",n)}},IIe=async(r,e="Chart",t="chart")=>{const n=document.getElementById(r);if(!n){console.error(`Element with id "${r}" not found`);return}try{const a=await Ck(n,{backgroundColor:"#ffffff",scale:2,logging:!1}),s=a.toDataURL("image/png"),i=new mr({orientation:"landscape",unit:"mm",format:"a4"}),l=280,c=a.height*l/a.width;i.text(e,15,15),i.addImage(s,"PNG",15,25,l,c),i.save(`${t}-${Kn(new Date,"yyyy-MM-dd")}.pdf`)}catch(a){console.error("Error exporting chart as PDF:",a)}},LIe=(r,e="data")=>{if(!r||r.length===0){console.error("No data to export");return}const t=Object.keys(r[0]),n=[t.join(","),...r.map(s=>t.map(i=>JSON.stringify(s[i])).join(","))].join(`
`),a=document.createElement("a");a.href=`data:text/csv;charset=utf-8,${encodeURIComponent(n)}`,a.download=`${e}-${Kn(new Date,"yyyy-MM-dd")}.csv`,a.click()},MIe=({chartId:r,chartTitle:e,data:t,formats:n=["png","pdf"]})=>{const[a,s]=B.useState(!1),[i,l]=B.useState(!1),c=async()=>{l(!0);try{await PIe(r,e),xe.success("Chart exported as PNG")}catch{xe.error("Failed to export chart as PNG")}finally{l(!1),s(!1)}},u=async()=>{l(!0);try{await IIe(r,e,e),xe.success("Chart exported as PDF")}catch{xe.error("Failed to export chart as PDF")}finally{l(!1),s(!1)}},A=()=>{if(!t||t.length===0){xe.error("No data to export");return}try{LIe(t,e),xe.success("Data exported as CSV")}catch{xe.error("Failed to export data as CSV")}finally{s(!1)}};return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>s(!a),disabled:i,className:"flex items-center gap-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(LA,{className:"w-4 h-4"}),i?"Exporting...":"Export"]}),a&&o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:o.jsxs("div",{className:"p-2",children:[n.includes("png")&&o.jsxs("button",{onClick:c,disabled:i,className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 rounded transition-colors disabled:opacity-50",children:[o.jsx(Iw,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Export as PNG"})]}),n.includes("pdf")&&o.jsxs("button",{onClick:u,disabled:i,className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 rounded transition-colors disabled:opacity-50",children:[o.jsx($a,{className:"w-4 h-4 text-red-600"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Export as PDF"})]}),n.includes("csv")&&t&&t.length>0&&o.jsxs("button",{onClick:A,className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 rounded transition-colors",children:[o.jsx($Z,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Export as CSV"})]})]})}),a&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)})]})},RIe=()=>o.jsx("div",{className:"min-h-full bg-gray-50",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Team Workload"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Engineer assignments and project allocations"})]}),o.jsx(MIe,{chartId:"team-workload",chartTitle:"Engineer Assignments",formats:["png","pdf"]})]})}),o.jsx("div",{id:"team-workload",children:o.jsx(bTe,{})})]})});function UIe(){return o.jsxs(eJ,{children:[o.jsxs(_X,{children:[o.jsx(Ta,{path:"/login",element:o.jsx(Bae,{})}),o.jsx(Ta,{path:"/reset-password",element:o.jsx(_ae,{})}),o.jsx(Ta,{element:o.jsx(Gne,{}),children:o.jsxs(Ta,{path:"/",element:o.jsx(Wne,{children:o.jsx(qne,{})}),children:[o.jsx(Ta,{index:!0,element:o.jsx(Rve,{})}),o.jsx(Ta,{path:"my-dashboard",element:o.jsx(vTe,{})}),o.jsx(Ta,{path:"projects",element:o.jsx(Vve,{})}),o.jsx(Ta,{path:"clients",element:o.jsx(qE,{to:"/companies",replace:!0})}),o.jsx(Ta,{path:"companies",element:o.jsx(Xve,{})}),o.jsx(Ta,{path:"research",element:o.jsx(t1e,{})}),o.jsx(Ta,{path:"team",element:o.jsx(o1e,{})}),o.jsx(Ta,{path:"team-workload",element:o.jsx(RIe,{})}),o.jsx(Ta,{path:"timesheets",element:o.jsx(JSe,{})}),o.jsx(Ta,{path:"inventory",element:o.jsx(uBe,{})}),o.jsx(Ta,{path:"maintenance",element:o.jsx(xBe,{})}),o.jsx(Ta,{path:"equipment",element:o.jsx(TBe,{})}),o.jsx(Ta,{path:"pcs",element:o.jsx(LBe,{})}),o.jsx(Ta,{path:"finance",element:o.jsx(XBe,{})}),o.jsx(Ta,{path:"finance/documents",element:o.jsx(mTe,{})}),o.jsx(Ta,{path:"purchase-orders",element:o.jsx(ZBe,{})}),o.jsx(Ta,{path:"finance/exchange-rates",element:o.jsx(xTe,{})}),o.jsx(Ta,{path:"settings",element:o.jsx(NBe,{})})]})}),o.jsx(Ta,{path:"*",element:o.jsx(qE,{to:"/login",replace:!0})})]}),o.jsx(XJ,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#fff",color:"#333"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})}class QIe extends ws.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,showStack:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({errorInfo:t}),Rt.error("Error caught by ErrorBoundary:",e),Rt.error("Component stack:",t.componentStack),this.props.onError&&this.props.onError(e,t)}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,showStack:!1})};handleReload=()=>{window.location.reload()};toggleStack=()=>{this.setState(e=>({showStack:!e.showStack}))};render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const e=!1,{error:t,errorInfo:n,showStack:a}=this.state;return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:o.jsxs("div",{className:"max-w-lg w-full",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-red-200 dark:border-red-800/50 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 p-6 text-white",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:o.jsx(Jh,{className:"w-7 h-7"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold",children:"Something went wrong"}),o.jsx("p",{className:"text-red-100 text-sm mt-0.5",children:"An unexpected error has occurred"})]})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"We're sorry, but something unexpected happened. You can try refreshing the page or return to the dashboard. If the problem persists, please contact support."}),e,o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsx(Ut,{variant:"primary",size:"md",fullWidth:!0,onClick:this.handleReset,icon:o.jsx(dC,{className:"w-4 h-4"}),children:"Try Again"}),o.jsx(Ut,{variant:"outline",size:"md",fullWidth:!0,onClick:()=>{window.location.href="/"},icon:o.jsx(x_,{className:"w-4 h-4"}),children:"Go to Dashboard"})]}),o.jsx("button",{onClick:this.handleReload,className:"mt-4 w-full text-center text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:"Or reload the entire page"})]})]}),o.jsxs("p",{className:"mt-4 text-center text-xs text-gray-400 dark:text-gray-500",children:["Error ID: ",Date.now().toString(36).toUpperCase()]})]})})}return this.props.children}}const AW=new URL("pdfjs-dist/build/pdf.worker.min.js?url",import.meta.url).toString();console.log("PDF.js worker source:",AW);Gh.workerSrc=AW;typeof window<"u"&&window.addEventListener("error",r=>{r.filename&&r.filename.includes("pdf")&&console.error("PDF.js worker error:",r.error)});TY.createRoot(document.getElementById("root")).render(o.jsx(B.StrictMode,{children:o.jsx(QIe,{children:o.jsx(Mne,{children:o.jsx(Lne,{children:o.jsx(UIe,{})})})})}));export{Hn as _,zIe as c,Pc as g};
